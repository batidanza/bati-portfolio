var O2=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var V9=O2((_n,xn)=>{function A2(t,n){for(var o=0;o<n.length;o++){const i=n[o];if(typeof i!="string"&&!Array.isArray(i)){for(const p in i)if(p!=="default"&&!(p in t)){const m=Object.getOwnPropertyDescriptor(i,p);m&&Object.defineProperty(t,p,m.get?m:{enumerable:!0,get:()=>i[p]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))i(p);new MutationObserver(p=>{for(const m of p)if(m.type==="childList")for(const w of m.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&i(w)}).observe(document,{childList:!0,subtree:!0});function o(p){const m={};return p.integrity&&(m.integrity=p.integrity),p.referrerPolicy&&(m.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?m.credentials="include":p.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(p){if(p.ep)return;p.ep=!0;const m=o(p);fetch(p.href,m)}})();var qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Up(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h1={exports:{}},gf={},p1={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=Symbol.for("react.element"),M2=Symbol.for("react.portal"),R2=Symbol.for("react.fragment"),L2=Symbol.for("react.strict_mode"),I2=Symbol.for("react.profiler"),D2=Symbol.for("react.provider"),F2=Symbol.for("react.context"),N2=Symbol.for("react.forward_ref"),B2=Symbol.for("react.suspense"),U2=Symbol.for("react.memo"),G2=Symbol.for("react.lazy"),Wy=Symbol.iterator;function V2(t){return t===null||typeof t!="object"?null:(t=Wy&&t[Wy]||t["@@iterator"],typeof t=="function"?t:null)}var m1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y1=Object.assign,g1={};function ca(t,n,o){this.props=t,this.context=n,this.refs=g1,this.updater=o||m1}ca.prototype.isReactComponent={};ca.prototype.setState=function(t,n){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")};ca.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function v1(){}v1.prototype=ca.prototype;function Gp(t,n,o){this.props=t,this.context=n,this.refs=g1,this.updater=o||m1}var Vp=Gp.prototype=new v1;Vp.constructor=Gp;y1(Vp,ca.prototype);Vp.isPureReactComponent=!0;var Hy=Array.isArray,b1=Object.prototype.hasOwnProperty,zp={current:null},_1={key:!0,ref:!0,__self:!0,__source:!0};function x1(t,n,o){var i,p={},m=null,w=null;if(n!=null)for(i in n.ref!==void 0&&(w=n.ref),n.key!==void 0&&(m=""+n.key),n)b1.call(n,i)&&!_1.hasOwnProperty(i)&&(p[i]=n[i]);var r=arguments.length-2;if(r===1)p.children=o;else if(1<r){for(var E=Array(r),y=0;y<r;y++)E[y]=arguments[y+2];p.children=E}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)p[i]===void 0&&(p[i]=r[i]);return{$$typeof:Hl,type:t,key:m,ref:w,props:p,_owner:zp.current}}function z2(t,n){return{$$typeof:Hl,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function $p(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hl}function $2(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(o){return n[o]})}var qy=/\/+/g;function Cd(t,n){return typeof t=="object"&&t!==null&&t.key!=null?$2(""+t.key):n.toString(36)}function hc(t,n,o,i,p){var m=typeof t;(m==="undefined"||m==="boolean")&&(t=null);var w=!1;if(t===null)w=!0;else switch(m){case"string":case"number":w=!0;break;case"object":switch(t.$$typeof){case Hl:case M2:w=!0}}if(w)return w=t,p=p(w),t=i===""?"."+Cd(w,0):i,Hy(p)?(o="",t!=null&&(o=t.replace(qy,"$&/")+"/"),hc(p,n,o,"",function(y){return y})):p!=null&&($p(p)&&(p=z2(p,o+(!p.key||w&&w.key===p.key?"":(""+p.key).replace(qy,"$&/")+"/")+t)),n.push(p)),1;if(w=0,i=i===""?".":i+":",Hy(t))for(var r=0;r<t.length;r++){m=t[r];var E=i+Cd(m,r);w+=hc(m,n,o,E,p)}else if(E=V2(t),typeof E=="function")for(t=E.call(t),r=0;!(m=t.next()).done;)m=m.value,E=i+Cd(m,r++),w+=hc(m,n,o,E,p);else if(m==="object")throw n=String(t),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return w}function Vu(t,n,o){if(t==null)return t;var i=[],p=0;return hc(t,i,"","",function(m){return n.call(o,m,p++)}),i}function W2(t){if(t._status===-1){var n=t._result;n=n(),n.then(function(o){(t._status===0||t._status===-1)&&(t._status=1,t._result=o)},function(o){(t._status===0||t._status===-1)&&(t._status=2,t._result=o)}),t._status===-1&&(t._status=0,t._result=n)}if(t._status===1)return t._result.default;throw t._result}var Jr={current:null},pc={transition:null},H2={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:pc,ReactCurrentOwner:zp};function w1(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:Vu,forEach:function(t,n,o){Vu(t,function(){n.apply(this,arguments)},o)},count:function(t){var n=0;return Vu(t,function(){n++}),n},toArray:function(t){return Vu(t,function(n){return n})||[]},only:function(t){if(!$p(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=ca;Dt.Fragment=R2;Dt.Profiler=I2;Dt.PureComponent=Gp;Dt.StrictMode=L2;Dt.Suspense=B2;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H2;Dt.act=w1;Dt.cloneElement=function(t,n,o){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=y1({},t.props),p=t.key,m=t.ref,w=t._owner;if(n!=null){if(n.ref!==void 0&&(m=n.ref,w=zp.current),n.key!==void 0&&(p=""+n.key),t.type&&t.type.defaultProps)var r=t.type.defaultProps;for(E in n)b1.call(n,E)&&!_1.hasOwnProperty(E)&&(i[E]=n[E]===void 0&&r!==void 0?r[E]:n[E])}var E=arguments.length-2;if(E===1)i.children=o;else if(1<E){r=Array(E);for(var y=0;y<E;y++)r[y]=arguments[y+2];i.children=r}return{$$typeof:Hl,type:t.type,key:p,ref:m,props:i,_owner:w}};Dt.createContext=function(t){return t={$$typeof:F2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:D2,_context:t},t.Consumer=t};Dt.createElement=x1;Dt.createFactory=function(t){var n=x1.bind(null,t);return n.type=t,n};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:N2,render:t}};Dt.isValidElement=$p;Dt.lazy=function(t){return{$$typeof:G2,_payload:{_status:-1,_result:t},_init:W2}};Dt.memo=function(t,n){return{$$typeof:U2,type:t,compare:n===void 0?null:n}};Dt.startTransition=function(t){var n=pc.transition;pc.transition={};try{t()}finally{pc.transition=n}};Dt.unstable_act=w1;Dt.useCallback=function(t,n){return Jr.current.useCallback(t,n)};Dt.useContext=function(t){return Jr.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return Jr.current.useDeferredValue(t)};Dt.useEffect=function(t,n){return Jr.current.useEffect(t,n)};Dt.useId=function(){return Jr.current.useId()};Dt.useImperativeHandle=function(t,n,o){return Jr.current.useImperativeHandle(t,n,o)};Dt.useInsertionEffect=function(t,n){return Jr.current.useInsertionEffect(t,n)};Dt.useLayoutEffect=function(t,n){return Jr.current.useLayoutEffect(t,n)};Dt.useMemo=function(t,n){return Jr.current.useMemo(t,n)};Dt.useReducer=function(t,n,o){return Jr.current.useReducer(t,n,o)};Dt.useRef=function(t){return Jr.current.useRef(t)};Dt.useState=function(t){return Jr.current.useState(t)};Dt.useSyncExternalStore=function(t,n,o){return Jr.current.useSyncExternalStore(t,n,o)};Dt.useTransition=function(){return Jr.current.useTransition()};Dt.version="18.3.1";p1.exports=Dt;var Le=p1.exports;const xe=Up(Le),q2=A2({__proto__:null,default:xe},[Le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2=Le,Y2=Symbol.for("react.element"),K2=Symbol.for("react.fragment"),Z2=Object.prototype.hasOwnProperty,Q2=X2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J2={key:!0,ref:!0,__self:!0,__source:!0};function j1(t,n,o){var i,p={},m=null,w=null;o!==void 0&&(m=""+o),n.key!==void 0&&(m=""+n.key),n.ref!==void 0&&(w=n.ref);for(i in n)Z2.call(n,i)&&!J2.hasOwnProperty(i)&&(p[i]=n[i]);if(t&&t.defaultProps)for(i in n=t.defaultProps,n)p[i]===void 0&&(p[i]=n[i]);return{$$typeof:Y2,type:t,key:m,ref:w,props:p,_owner:Q2.current}}gf.Fragment=K2;gf.jsx=j1;gf.jsxs=j1;h1.exports=gf;var Oe=h1.exports,xh={},S1={exports:{}},Tn={},T1={exports:{}},E1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function n(G,I){var q=G.length;G.push(I);e:for(;0<q;){var Z=q-1>>>1,J=G[Z];if(0<p(J,I))G[Z]=I,G[q]=J,q=Z;else break e}}function o(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var I=G[0],q=G.pop();if(q!==I){G[0]=q;e:for(var Z=0,J=G.length,ee=J>>>1;Z<ee;){var le=2*(Z+1)-1,ae=G[le],fe=le+1,H=G[fe];if(0>p(ae,q))fe<J&&0>p(H,ae)?(G[Z]=H,G[fe]=q,Z=fe):(G[Z]=ae,G[le]=q,Z=le);else if(fe<J&&0>p(H,q))G[Z]=H,G[fe]=q,Z=fe;else break e}}return I}function p(G,I){var q=G.sortIndex-I.sortIndex;return q!==0?q:G.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;t.unstable_now=function(){return m.now()}}else{var w=Date,r=w.now();t.unstable_now=function(){return w.now()-r}}var E=[],y=[],h=1,a=null,c=3,x=!1,S=!1,l=!1,f=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,s=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(G){for(var I=o(y);I!==null;){if(I.callback===null)i(y);else if(I.startTime<=G)i(y),I.sortIndex=I.expirationTime,n(E,I);else break;I=o(y)}}function g(G){if(l=!1,d(G),!S)if(o(E)!==null)S=!0,V(_);else{var I=o(y);I!==null&&$(g,I.startTime-G)}}function _(G,I){S=!1,l&&(l=!1,u(T),T=-1),x=!0;var q=c;try{for(d(I),a=o(E);a!==null&&(!(a.expirationTime>I)||G&&!R());){var Z=a.callback;if(typeof Z=="function"){a.callback=null,c=a.priorityLevel;var J=Z(a.expirationTime<=I);I=t.unstable_now(),typeof J=="function"?a.callback=J:a===o(E)&&i(E),d(I)}else i(E);a=o(E)}if(a!==null)var ee=!0;else{var le=o(y);le!==null&&$(g,le.startTime-I),ee=!1}return ee}finally{a=null,c=q,x=!1}}var v=!1,j=null,T=-1,C=5,L=-1;function R(){return!(t.unstable_now()-L<C)}function P(){if(j!==null){var G=t.unstable_now();L=G;var I=!0;try{I=j(!0,G)}finally{I?B():(v=!1,j=null)}}else v=!1}var B;if(typeof s=="function")B=function(){s(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,U=M.port2;M.port1.onmessage=P,B=function(){U.postMessage(null)}}else B=function(){f(P,0)};function V(G){j=G,v||(v=!0,B())}function $(G,I){T=f(function(){G(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,V(_))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return o(E)},t.unstable_next=function(G){switch(c){case 1:case 2:case 3:var I=3;break;default:I=c}var q=c;c=I;try{return G()}finally{c=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,I){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var q=c;c=G;try{return I()}finally{c=q}},t.unstable_scheduleCallback=function(G,I,q){var Z=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,G={id:h++,callback:I,priorityLevel:G,startTime:q,expirationTime:J,sortIndex:-1},q>Z?(G.sortIndex=q,n(y,G),o(E)===null&&G===o(y)&&(l?(u(T),T=-1):l=!0,$(g,q-Z))):(G.sortIndex=J,n(E,G),S||x||(S=!0,V(_))),G},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(G){var I=c;return function(){var q=c;c=I;try{return G.apply(this,arguments)}finally{c=q}}}})(E1);T1.exports=E1;var ej=T1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tj=Le,jn=ej;function nt(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k1=new Set,yl={};function Zi(t,n){ra(t,n),ra(t+"Capture",n)}function ra(t,n){for(yl[t]=n,t=0;t<n.length;t++)k1.add(n[t])}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wh=Object.prototype.hasOwnProperty,rj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xy={},Yy={};function nj(t){return wh.call(Yy,t)?!0:wh.call(Xy,t)?!1:rj.test(t)?Yy[t]=!0:(Xy[t]=!0,!1)}function oj(t,n,o,i){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return i?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ij(t,n,o,i){if(n===null||typeof n>"u"||oj(t,n,o,i))return!0;if(i)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function en(t,n,o,i,p,m,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=p,this.mustUseProperty=o,this.propertyName=t,this.type=n,this.sanitizeURL=m,this.removeEmptyString=w}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zr[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];zr[n]=new en(n,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zr[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zr[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zr[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zr[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zr[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zr[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zr[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wp=/[\-:]([a-z])/g;function Hp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(Wp,Hp);zr[n]=new en(n,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(Wp,Hp);zr[n]=new en(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(Wp,Hp);zr[n]=new en(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zr[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});zr.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zr[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function qp(t,n,o,i){var p=zr.hasOwnProperty(n)?zr[n]:null;(p!==null?p.type!==0:i||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(ij(n,o,p,i)&&(o=null),i||p===null?nj(n)&&(o===null?t.removeAttribute(n):t.setAttribute(n,""+o)):p.mustUseProperty?t[p.propertyName]=o===null?p.type===3?!1:"":o:(n=p.attributeName,i=p.attributeNamespace,o===null?t.removeAttribute(n):(p=p.type,o=p===3||p===4&&o===!0?"":""+o,i?t.setAttributeNS(i,n,o):t.setAttribute(n,o))))}var Ao=tj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),Xp=Symbol.for("react.strict_mode"),jh=Symbol.for("react.profiler"),C1=Symbol.for("react.provider"),P1=Symbol.for("react.context"),Yp=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),Th=Symbol.for("react.suspense_list"),Kp=Symbol.for("react.memo"),zo=Symbol.for("react.lazy"),O1=Symbol.for("react.offscreen"),Ky=Symbol.iterator;function Ma(t){return t===null||typeof t!="object"?null:(t=Ky&&t[Ky]||t["@@iterator"],typeof t=="function"?t:null)}var br=Object.assign,Pd;function Xa(t){if(Pd===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Pd=n&&n[1]||""}return`
`+Pd+t}var Od=!1;function Ad(t,n){if(!t||Od)return"";Od=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(y){var i=y}Reflect.construct(t,[],n)}else{try{n.call()}catch(y){i=y}t.call(n.prototype)}else{try{throw Error()}catch(y){i=y}t()}}catch(y){if(y&&i&&typeof y.stack=="string"){for(var p=y.stack.split(`
`),m=i.stack.split(`
`),w=p.length-1,r=m.length-1;1<=w&&0<=r&&p[w]!==m[r];)r--;for(;1<=w&&0<=r;w--,r--)if(p[w]!==m[r]){if(w!==1||r!==1)do if(w--,r--,0>r||p[w]!==m[r]){var E=`
`+p[w].replace(" at new "," at ");return t.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",t.displayName)),E}while(1<=w&&0<=r);break}}}finally{Od=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Xa(t):""}function sj(t){switch(t.tag){case 5:return Xa(t.type);case 16:return Xa("Lazy");case 13:return Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 2:case 15:return t=Ad(t.type,!1),t;case 11:return t=Ad(t.type.render,!1),t;case 1:return t=Ad(t.type,!0),t;default:return""}}function Eh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fs:return"Fragment";case Ds:return"Portal";case jh:return"Profiler";case Xp:return"StrictMode";case Sh:return"Suspense";case Th:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P1:return(t.displayName||"Context")+".Consumer";case C1:return(t._context.displayName||"Context")+".Provider";case Yp:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kp:return n=t.displayName||null,n!==null?n:Eh(t.type)||"Memo";case zo:n=t._payload,t=t._init;try{return Eh(t(n))}catch{}}return null}function aj(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eh(n);case 8:return n===Xp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A1(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function lj(t){var n=A1(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),i=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return p.call(this)},set:function(w){i=""+w,m.call(this,w)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(w){i=""+w},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $u(t){t._valueTracker||(t._valueTracker=lj(t))}function M1(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),i="";return t&&(i=A1(t)?t.checked?"true":"false":t.value),t=i,t!==o?(n.setValue(t),!0):!1}function Cc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kh(t,n){var o=n.checked;return br({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Zy(t,n){var o=n.defaultValue==null?"":n.defaultValue,i=n.checked!=null?n.checked:n.defaultChecked;o=ci(n.value!=null?n.value:o),t._wrapperState={initialChecked:i,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function R1(t,n){n=n.checked,n!=null&&qp(t,"checked",n,!1)}function Ch(t,n){R1(t,n);var o=ci(n.value),i=n.type;if(o!=null)i==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Ph(t,n.type,o):n.hasOwnProperty("defaultValue")&&Ph(t,n.type,ci(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Qy(t,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!(i!=="submit"&&i!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,o||n===t.value||(t.value=n),t.defaultValue=n}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ph(t,n,o){(n!=="number"||Cc(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Ya=Array.isArray;function Xs(t,n,o,i){if(t=t.options,n){n={};for(var p=0;p<o.length;p++)n["$"+o[p]]=!0;for(o=0;o<t.length;o++)p=n.hasOwnProperty("$"+t[o].value),t[o].selected!==p&&(t[o].selected=p),p&&i&&(t[o].defaultSelected=!0)}else{for(o=""+ci(o),n=null,p=0;p<t.length;p++){if(t[p].value===o){t[p].selected=!0,i&&(t[p].defaultSelected=!0);return}n!==null||t[p].disabled||(n=t[p])}n!==null&&(n.selected=!0)}}function Oh(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(nt(91));return br({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jy(t,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(nt(92));if(Ya(o)){if(1<o.length)throw Error(nt(93));o=o[0]}n=o}n==null&&(n=""),o=n}t._wrapperState={initialValue:ci(o)}}function L1(t,n){var o=ci(n.value),i=ci(n.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),n.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),i!=null&&(t.defaultValue=""+i)}function eg(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function I1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ah(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?I1(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wu,D1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,i,p){MSApp.execUnsafeLocalFunction(function(){return t(n,o,i,p)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function gl(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uj=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(t){uj.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),rl[n]=rl[t]})});function F1(t,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||rl.hasOwnProperty(t)&&rl[t]?(""+n).trim():n+"px"}function N1(t,n){t=t.style;for(var o in n)if(n.hasOwnProperty(o)){var i=o.indexOf("--")===0,p=F1(o,n[o],i);o==="float"&&(o="cssFloat"),i?t.setProperty(o,p):t[o]=p}}var cj=br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mh(t,n){if(n){if(cj[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(nt(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(nt(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(nt(61))}if(n.style!=null&&typeof n.style!="object")throw Error(nt(62))}}function Rh(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=null;function Zp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ih=null,Ys=null,Ks=null;function tg(t){if(t=Yl(t)){if(typeof Ih!="function")throw Error(nt(280));var n=t.stateNode;n&&(n=wf(n),Ih(t.stateNode,t.type,n))}}function B1(t){Ys?Ks?Ks.push(t):Ks=[t]:Ys=t}function U1(){if(Ys){var t=Ys,n=Ks;if(Ks=Ys=null,tg(t),n)for(t=0;t<n.length;t++)tg(n[t])}}function G1(t,n){return t(n)}function V1(){}var Md=!1;function z1(t,n,o){if(Md)return t(n,o);Md=!0;try{return G1(t,n,o)}finally{Md=!1,(Ys!==null||Ks!==null)&&(V1(),U1())}}function vl(t,n){var o=t.stateNode;if(o===null)return null;var i=wf(o);if(i===null)return null;o=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(nt(231,n,typeof o));return o}var Dh=!1;if(ko)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Dh=!1}function fj(t,n,o,i,p,m,w,r,E){var y=Array.prototype.slice.call(arguments,3);try{n.apply(o,y)}catch(h){this.onError(h)}}var nl=!1,Pc=null,Oc=!1,Fh=null,dj={onError:function(t){nl=!0,Pc=t}};function hj(t,n,o,i,p,m,w,r,E){nl=!1,Pc=null,fj.apply(dj,arguments)}function pj(t,n,o,i,p,m,w,r,E){if(hj.apply(this,arguments),nl){if(nl){var y=Pc;nl=!1,Pc=null}else throw Error(nt(198));Oc||(Oc=!0,Fh=y)}}function Qi(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function $1(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function rg(t){if(Qi(t)!==t)throw Error(nt(188))}function mj(t){var n=t.alternate;if(!n){if(n=Qi(t),n===null)throw Error(nt(188));return n!==t?null:t}for(var o=t,i=n;;){var p=o.return;if(p===null)break;var m=p.alternate;if(m===null){if(i=p.return,i!==null){o=i;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===o)return rg(p),t;if(m===i)return rg(p),n;m=m.sibling}throw Error(nt(188))}if(o.return!==i.return)o=p,i=m;else{for(var w=!1,r=p.child;r;){if(r===o){w=!0,o=p,i=m;break}if(r===i){w=!0,i=p,o=m;break}r=r.sibling}if(!w){for(r=m.child;r;){if(r===o){w=!0,o=m,i=p;break}if(r===i){w=!0,i=m,o=p;break}r=r.sibling}if(!w)throw Error(nt(189))}}if(o.alternate!==i)throw Error(nt(190))}if(o.tag!==3)throw Error(nt(188));return o.stateNode.current===o?t:n}function W1(t){return t=mj(t),t!==null?H1(t):null}function H1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=H1(t);if(n!==null)return n;t=t.sibling}return null}var q1=jn.unstable_scheduleCallback,ng=jn.unstable_cancelCallback,yj=jn.unstable_shouldYield,gj=jn.unstable_requestPaint,Er=jn.unstable_now,vj=jn.unstable_getCurrentPriorityLevel,Qp=jn.unstable_ImmediatePriority,X1=jn.unstable_UserBlockingPriority,Ac=jn.unstable_NormalPriority,bj=jn.unstable_LowPriority,Y1=jn.unstable_IdlePriority,vf=null,uo=null;function _j(t){if(uo&&typeof uo.onCommitFiberRoot=="function")try{uo.onCommitFiberRoot(vf,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:jj,xj=Math.log,wj=Math.LN2;function jj(t){return t>>>=0,t===0?32:31-(xj(t)/wj|0)|0}var Hu=64,qu=4194304;function Ka(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mc(t,n){var o=t.pendingLanes;if(o===0)return 0;var i=0,p=t.suspendedLanes,m=t.pingedLanes,w=o&268435455;if(w!==0){var r=w&~p;r!==0?i=Ka(r):(m&=w,m!==0&&(i=Ka(m)))}else w=o&~p,w!==0?i=Ka(w):m!==0&&(i=Ka(m));if(i===0)return 0;if(n!==0&&n!==i&&!(n&p)&&(p=i&-i,m=n&-n,p>=m||p===16&&(m&4194240)!==0))return n;if(i&4&&(i|=o&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=i;0<n;)o=31-Xn(n),p=1<<o,i|=t[o],n&=~p;return i}function Sj(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tj(t,n){for(var o=t.suspendedLanes,i=t.pingedLanes,p=t.expirationTimes,m=t.pendingLanes;0<m;){var w=31-Xn(m),r=1<<w,E=p[w];E===-1?(!(r&o)||r&i)&&(p[w]=Sj(r,n)):E<=n&&(t.expiredLanes|=r),m&=~r}}function Nh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K1(){var t=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),t}function Rd(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function ql(t,n,o){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Xn(n),t[n]=o}function Ej(t,n){var o=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<o;){var p=31-Xn(o),m=1<<p;n[p]=0,i[p]=-1,t[p]=-1,o&=~m}}function Jp(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var i=31-Xn(o),p=1<<i;p&n|t[i]&n&&(t[i]|=n),o&=~p}}var Zt=0;function Z1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Q1,em,J1,eb,tb,Bh=!1,Xu=[],ei=null,ti=null,ri=null,bl=new Map,_l=new Map,Ho=[],kj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function og(t,n){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function La(t,n,o,i,p,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:o,eventSystemFlags:i,nativeEvent:m,targetContainers:[p]},n!==null&&(n=Yl(n),n!==null&&em(n)),t):(t.eventSystemFlags|=i,n=t.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),t)}function Cj(t,n,o,i,p){switch(n){case"focusin":return ei=La(ei,t,n,o,i,p),!0;case"dragenter":return ti=La(ti,t,n,o,i,p),!0;case"mouseover":return ri=La(ri,t,n,o,i,p),!0;case"pointerover":var m=p.pointerId;return bl.set(m,La(bl.get(m)||null,t,n,o,i,p)),!0;case"gotpointercapture":return m=p.pointerId,_l.set(m,La(_l.get(m)||null,t,n,o,i,p)),!0}return!1}function rb(t){var n=Bi(t.target);if(n!==null){var o=Qi(n);if(o!==null){if(n=o.tag,n===13){if(n=$1(o),n!==null){t.blockedOn=n,tb(t.priority,function(){J1(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=Uh(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var i=new o.constructor(o.type,o);Lh=i,o.target.dispatchEvent(i),Lh=null}else return n=Yl(o),n!==null&&em(n),t.blockedOn=o,!1;n.shift()}return!0}function ig(t,n,o){mc(t)&&o.delete(n)}function Pj(){Bh=!1,ei!==null&&mc(ei)&&(ei=null),ti!==null&&mc(ti)&&(ti=null),ri!==null&&mc(ri)&&(ri=null),bl.forEach(ig),_l.forEach(ig)}function Ia(t,n){t.blockedOn===n&&(t.blockedOn=null,Bh||(Bh=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,Pj)))}function xl(t){function n(p){return Ia(p,t)}if(0<Xu.length){Ia(Xu[0],t);for(var o=1;o<Xu.length;o++){var i=Xu[o];i.blockedOn===t&&(i.blockedOn=null)}}for(ei!==null&&Ia(ei,t),ti!==null&&Ia(ti,t),ri!==null&&Ia(ri,t),bl.forEach(n),_l.forEach(n),o=0;o<Ho.length;o++)i=Ho[o],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ho.length&&(o=Ho[0],o.blockedOn===null);)rb(o),o.blockedOn===null&&Ho.shift()}var Zs=Ao.ReactCurrentBatchConfig,Rc=!0;function Oj(t,n,o,i){var p=Zt,m=Zs.transition;Zs.transition=null;try{Zt=1,tm(t,n,o,i)}finally{Zt=p,Zs.transition=m}}function Aj(t,n,o,i){var p=Zt,m=Zs.transition;Zs.transition=null;try{Zt=4,tm(t,n,o,i)}finally{Zt=p,Zs.transition=m}}function tm(t,n,o,i){if(Rc){var p=Uh(t,n,o,i);if(p===null)zd(t,n,i,Lc,o),og(t,i);else if(Cj(p,t,n,o,i))i.stopPropagation();else if(og(t,i),n&4&&-1<kj.indexOf(t)){for(;p!==null;){var m=Yl(p);if(m!==null&&Q1(m),m=Uh(t,n,o,i),m===null&&zd(t,n,i,Lc,o),m===p)break;p=m}p!==null&&i.stopPropagation()}else zd(t,n,i,null,o)}}var Lc=null;function Uh(t,n,o,i){if(Lc=null,t=Zp(i),t=Bi(t),t!==null)if(n=Qi(t),n===null)t=null;else if(o=n.tag,o===13){if(t=$1(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Lc=t,null}function nb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vj()){case Qp:return 1;case X1:return 4;case Ac:case bj:return 16;case Y1:return 536870912;default:return 16}default:return 16}}var Yo=null,rm=null,yc=null;function ob(){if(yc)return yc;var t,n=rm,o=n.length,i,p="value"in Yo?Yo.value:Yo.textContent,m=p.length;for(t=0;t<o&&n[t]===p[t];t++);var w=o-t;for(i=1;i<=w&&n[o-i]===p[m-i];i++);return yc=p.slice(t,1<i?1-i:void 0)}function gc(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yu(){return!0}function sg(){return!1}function En(t){function n(o,i,p,m,w){this._reactName=o,this._targetInst=p,this.type=i,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var r in t)t.hasOwnProperty(r)&&(o=t[r],this[r]=o?o(m):m[r]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Yu:sg,this.isPropagationStopped=sg,this}return br(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),n}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nm=En(fa),Xl=br({},fa,{view:0,detail:0}),Mj=En(Xl),Ld,Id,Da,bf=br({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:om,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(Ld=t.screenX-Da.screenX,Id=t.screenY-Da.screenY):Id=Ld=0,Da=t),Ld)},movementY:function(t){return"movementY"in t?t.movementY:Id}}),ag=En(bf),Rj=br({},bf,{dataTransfer:0}),Lj=En(Rj),Ij=br({},Xl,{relatedTarget:0}),Dd=En(Ij),Dj=br({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),Fj=En(Dj),Nj=br({},fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bj=En(Nj),Uj=br({},fa,{data:0}),lg=En(Uj),Gj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $j(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zj[t])?!!n[t]:!1}function om(){return $j}var Wj=br({},Xl,{key:function(t){if(t.key){var n=Gj[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:om,charCode:function(t){return t.type==="keypress"?gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hj=En(Wj),qj=br({},bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ug=En(qj),Xj=br({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:om}),Yj=En(Xj),Kj=br({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zj=En(Kj),Qj=br({},bf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jj=En(Qj),eS=[9,13,27,32],im=ko&&"CompositionEvent"in window,ol=null;ko&&"documentMode"in document&&(ol=document.documentMode);var tS=ko&&"TextEvent"in window&&!ol,ib=ko&&(!im||ol&&8<ol&&11>=ol),cg=" ",fg=!1;function sb(t,n){switch(t){case"keyup":return eS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ab(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function rS(t,n){switch(t){case"compositionend":return ab(n);case"keypress":return n.which!==32?null:(fg=!0,cg);case"textInput":return t=n.data,t===cg&&fg?null:t;default:return null}}function nS(t,n){if(Ns)return t==="compositionend"||!im&&sb(t,n)?(t=ob(),yc=rm=Yo=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ib&&n.locale!=="ko"?null:n.data;default:return null}}var oS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!oS[t.type]:n==="textarea"}function lb(t,n,o,i){B1(i),n=Ic(n,"onChange"),0<n.length&&(o=new nm("onChange","change",null,o,i),t.push({event:o,listeners:n}))}var il=null,wl=null;function iS(t){bb(t,0)}function _f(t){var n=Gs(t);if(M1(n))return t}function sS(t,n){if(t==="change")return n}var ub=!1;if(ko){var Fd;if(ko){var Nd="oninput"in document;if(!Nd){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Nd=typeof hg.oninput=="function"}Fd=Nd}else Fd=!1;ub=Fd&&(!document.documentMode||9<document.documentMode)}function pg(){il&&(il.detachEvent("onpropertychange",cb),wl=il=null)}function cb(t){if(t.propertyName==="value"&&_f(wl)){var n=[];lb(n,wl,t,Zp(t)),z1(iS,n)}}function aS(t,n,o){t==="focusin"?(pg(),il=n,wl=o,il.attachEvent("onpropertychange",cb)):t==="focusout"&&pg()}function lS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _f(wl)}function uS(t,n){if(t==="click")return _f(n)}function cS(t,n){if(t==="input"||t==="change")return _f(n)}function fS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Kn=typeof Object.is=="function"?Object.is:fS;function jl(t,n){if(Kn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(i=0;i<o.length;i++){var p=o[i];if(!wh.call(n,p)||!Kn(t[p],n[p]))return!1}return!0}function mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,n){var o=mg(t);t=0;for(var i;o;){if(o.nodeType===3){if(i=t+o.textContent.length,t<=n&&i>=n)return{node:o,offset:n-t};t=i}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=mg(o)}}function fb(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?fb(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function db(){for(var t=window,n=Cc();n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=Cc(t.document)}return n}function sm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function dS(t){var n=db(),o=t.focusedElem,i=t.selectionRange;if(n!==o&&o&&o.ownerDocument&&fb(o.ownerDocument.documentElement,o)){if(i!==null&&sm(o)){if(n=i.start,t=i.end,t===void 0&&(t=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(t,o.value.length);else if(t=(n=o.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var p=o.textContent.length,m=Math.min(i.start,p);i=i.end===void 0?m:Math.min(i.end,p),!t.extend&&m>i&&(p=i,i=m,m=p),p=yg(o,m);var w=yg(o,i);p&&w&&(t.rangeCount!==1||t.anchorNode!==p.node||t.anchorOffset!==p.offset||t.focusNode!==w.node||t.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(p.node,p.offset),t.removeAllRanges(),m>i?(t.addRange(n),t.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),t.addRange(n)))}}for(n=[],t=o;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)t=n[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hS=ko&&"documentMode"in document&&11>=document.documentMode,Bs=null,Gh=null,sl=null,Vh=!1;function gg(t,n,o){var i=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vh||Bs==null||Bs!==Cc(i)||(i=Bs,"selectionStart"in i&&sm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),sl&&jl(sl,i)||(sl=i,i=Ic(Gh,"onSelect"),0<i.length&&(n=new nm("onSelect","select",null,n,o),t.push({event:n,listeners:i}),n.target=Bs)))}function Ku(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var Us={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},Bd={},hb={};ko&&(hb=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function xf(t){if(Bd[t])return Bd[t];if(!Us[t])return t;var n=Us[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in hb)return Bd[t]=n[o];return t}var pb=xf("animationend"),mb=xf("animationiteration"),yb=xf("animationstart"),gb=xf("transitionend"),vb=new Map,vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(t,n){vb.set(t,n),Zi(n,[t])}for(var Ud=0;Ud<vg.length;Ud++){var Gd=vg[Ud],pS=Gd.toLowerCase(),mS=Gd[0].toUpperCase()+Gd.slice(1);pi(pS,"on"+mS)}pi(pb,"onAnimationEnd");pi(mb,"onAnimationIteration");pi(yb,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi(gb,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function bg(t,n,o){var i=t.type||"unknown-event";t.currentTarget=o,pj(i,n,void 0,t),t.currentTarget=null}function bb(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var i=t[o],p=i.event;i=i.listeners;e:{var m=void 0;if(n)for(var w=i.length-1;0<=w;w--){var r=i[w],E=r.instance,y=r.currentTarget;if(r=r.listener,E!==m&&p.isPropagationStopped())break e;bg(p,r,y),m=E}else for(w=0;w<i.length;w++){if(r=i[w],E=r.instance,y=r.currentTarget,r=r.listener,E!==m&&p.isPropagationStopped())break e;bg(p,r,y),m=E}}}if(Oc)throw t=Fh,Oc=!1,Fh=null,t}function ir(t,n){var o=n[qh];o===void 0&&(o=n[qh]=new Set);var i=t+"__bubble";o.has(i)||(_b(n,t,2,!1),o.add(i))}function Vd(t,n,o){var i=0;n&&(i|=4),_b(o,t,i,n)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Sl(t){if(!t[Zu]){t[Zu]=!0,k1.forEach(function(o){o!=="selectionchange"&&(yS.has(o)||Vd(o,!1,t),Vd(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Zu]||(n[Zu]=!0,Vd("selectionchange",!1,n))}}function _b(t,n,o,i){switch(nb(n)){case 1:var p=Oj;break;case 4:p=Aj;break;default:p=tm}o=p.bind(null,n,o,t),p=void 0,!Dh||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),i?p!==void 0?t.addEventListener(n,o,{capture:!0,passive:p}):t.addEventListener(n,o,!0):p!==void 0?t.addEventListener(n,o,{passive:p}):t.addEventListener(n,o,!1)}function zd(t,n,o,i,p){var m=i;if(!(n&1)&&!(n&2)&&i!==null)e:for(;;){if(i===null)return;var w=i.tag;if(w===3||w===4){var r=i.stateNode.containerInfo;if(r===p||r.nodeType===8&&r.parentNode===p)break;if(w===4)for(w=i.return;w!==null;){var E=w.tag;if((E===3||E===4)&&(E=w.stateNode.containerInfo,E===p||E.nodeType===8&&E.parentNode===p))return;w=w.return}for(;r!==null;){if(w=Bi(r),w===null)return;if(E=w.tag,E===5||E===6){i=m=w;continue e}r=r.parentNode}}i=i.return}z1(function(){var y=m,h=Zp(o),a=[];e:{var c=vb.get(t);if(c!==void 0){var x=nm,S=t;switch(t){case"keypress":if(gc(o)===0)break e;case"keydown":case"keyup":x=Hj;break;case"focusin":S="focus",x=Dd;break;case"focusout":S="blur",x=Dd;break;case"beforeblur":case"afterblur":x=Dd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Lj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Yj;break;case pb:case mb:case yb:x=Fj;break;case gb:x=Zj;break;case"scroll":x=Mj;break;case"wheel":x=Jj;break;case"copy":case"cut":case"paste":x=Bj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ug}var l=(n&4)!==0,f=!l&&t==="scroll",u=l?c!==null?c+"Capture":null:c;l=[];for(var s=y,d;s!==null;){d=s;var g=d.stateNode;if(d.tag===5&&g!==null&&(d=g,u!==null&&(g=vl(s,u),g!=null&&l.push(Tl(s,g,d)))),f)break;s=s.return}0<l.length&&(c=new x(c,S,null,o,h),a.push({event:c,listeners:l}))}}if(!(n&7)){e:{if(c=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",c&&o!==Lh&&(S=o.relatedTarget||o.fromElement)&&(Bi(S)||S[Co]))break e;if((x||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,x?(S=o.relatedTarget||o.toElement,x=y,S=S?Bi(S):null,S!==null&&(f=Qi(S),S!==f||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=y),x!==S)){if(l=ag,g="onMouseLeave",u="onMouseEnter",s="mouse",(t==="pointerout"||t==="pointerover")&&(l=ug,g="onPointerLeave",u="onPointerEnter",s="pointer"),f=x==null?c:Gs(x),d=S==null?c:Gs(S),c=new l(g,s+"leave",x,o,h),c.target=f,c.relatedTarget=d,g=null,Bi(h)===y&&(l=new l(u,s+"enter",S,o,h),l.target=d,l.relatedTarget=f,g=l),f=g,x&&S)t:{for(l=x,u=S,s=0,d=l;d;d=ys(d))s++;for(d=0,g=u;g;g=ys(g))d++;for(;0<s-d;)l=ys(l),s--;for(;0<d-s;)u=ys(u),d--;for(;s--;){if(l===u||u!==null&&l===u.alternate)break t;l=ys(l),u=ys(u)}l=null}else l=null;x!==null&&_g(a,c,x,l,!1),S!==null&&f!==null&&_g(a,f,S,l,!0)}}e:{if(c=y?Gs(y):window,x=c.nodeName&&c.nodeName.toLowerCase(),x==="select"||x==="input"&&c.type==="file")var _=sS;else if(dg(c))if(ub)_=cS;else{_=lS;var v=aS}else(x=c.nodeName)&&x.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(_=uS);if(_&&(_=_(t,y))){lb(a,_,o,h);break e}v&&v(t,c,y),t==="focusout"&&(v=c._wrapperState)&&v.controlled&&c.type==="number"&&Ph(c,"number",c.value)}switch(v=y?Gs(y):window,t){case"focusin":(dg(v)||v.contentEditable==="true")&&(Bs=v,Gh=y,sl=null);break;case"focusout":sl=Gh=Bs=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,gg(a,o,h);break;case"selectionchange":if(hS)break;case"keydown":case"keyup":gg(a,o,h)}var j;if(im)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ns?sb(t,o)&&(T="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(T="onCompositionStart");T&&(ib&&o.locale!=="ko"&&(Ns||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ns&&(j=ob()):(Yo=h,rm="value"in Yo?Yo.value:Yo.textContent,Ns=!0)),v=Ic(y,T),0<v.length&&(T=new lg(T,t,null,o,h),a.push({event:T,listeners:v}),j?T.data=j:(j=ab(o),j!==null&&(T.data=j)))),(j=tS?rS(t,o):nS(t,o))&&(y=Ic(y,"onBeforeInput"),0<y.length&&(h=new lg("onBeforeInput","beforeinput",null,o,h),a.push({event:h,listeners:y}),h.data=j))}bb(a,n)})}function Tl(t,n,o){return{instance:t,listener:n,currentTarget:o}}function Ic(t,n){for(var o=n+"Capture",i=[];t!==null;){var p=t,m=p.stateNode;p.tag===5&&m!==null&&(p=m,m=vl(t,o),m!=null&&i.unshift(Tl(t,m,p)),m=vl(t,n),m!=null&&i.push(Tl(t,m,p))),t=t.return}return i}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _g(t,n,o,i,p){for(var m=n._reactName,w=[];o!==null&&o!==i;){var r=o,E=r.alternate,y=r.stateNode;if(E!==null&&E===i)break;r.tag===5&&y!==null&&(r=y,p?(E=vl(o,m),E!=null&&w.unshift(Tl(o,E,r))):p||(E=vl(o,m),E!=null&&w.push(Tl(o,E,r)))),o=o.return}w.length!==0&&t.push({event:n,listeners:w})}var gS=/\r\n?/g,vS=/\u0000|\uFFFD/g;function xg(t){return(typeof t=="string"?t:""+t).replace(gS,`
`).replace(vS,"")}function Qu(t,n,o){if(n=xg(n),xg(t)!==n&&o)throw Error(nt(425))}function Dc(){}var zh=null,$h=null;function Wh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hh=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,wg=typeof Promise=="function"?Promise:void 0,_S=typeof queueMicrotask=="function"?queueMicrotask:typeof wg<"u"?function(t){return wg.resolve(null).then(t).catch(xS)}:Hh;function xS(t){setTimeout(function(){throw t})}function $d(t,n){var o=n,i=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(i===0){t.removeChild(p),xl(n);return}i--}else o!=="$"&&o!=="$?"&&o!=="$!"||i++;o=p}while(o);xl(n)}function ni(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function jg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return t;n--}else o==="/$"&&n++}t=t.previousSibling}return null}var da=Math.random().toString(36).slice(2),lo="__reactFiber$"+da,El="__reactProps$"+da,Co="__reactContainer$"+da,qh="__reactEvents$"+da,wS="__reactListeners$"+da,jS="__reactHandles$"+da;function Bi(t){var n=t[lo];if(n)return n;for(var o=t.parentNode;o;){if(n=o[Co]||o[lo]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=jg(t);t!==null;){if(o=t[lo])return o;t=jg(t)}return n}t=o,o=t.parentNode}return null}function Yl(t){return t=t[lo]||t[Co],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(nt(33))}function wf(t){return t[El]||null}var Xh=[],Vs=-1;function mi(t){return{current:t}}function lr(t){0>Vs||(t.current=Xh[Vs],Xh[Vs]=null,Vs--)}function nr(t,n){Vs++,Xh[Vs]=t.current,t.current=n}var fi={},qr=mi(fi),ln=mi(!1),$i=fi;function na(t,n){var o=t.type.contextTypes;if(!o)return fi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var p={},m;for(m in o)p[m]=n[m];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=p),p}function un(t){return t=t.childContextTypes,t!=null}function Fc(){lr(ln),lr(qr)}function Sg(t,n,o){if(qr.current!==fi)throw Error(nt(168));nr(qr,n),nr(ln,o)}function xb(t,n,o){var i=t.stateNode;if(n=n.childContextTypes,typeof i.getChildContext!="function")return o;i=i.getChildContext();for(var p in i)if(!(p in n))throw Error(nt(108,aj(t)||"Unknown",p));return br({},o,i)}function Nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,$i=qr.current,nr(qr,t),nr(ln,ln.current),!0}function Tg(t,n,o){var i=t.stateNode;if(!i)throw Error(nt(169));o?(t=xb(t,n,$i),i.__reactInternalMemoizedMergedChildContext=t,lr(ln),lr(qr),nr(qr,t)):lr(ln),nr(ln,o)}var jo=null,jf=!1,Wd=!1;function wb(t){jo===null?jo=[t]:jo.push(t)}function SS(t){jf=!0,wb(t)}function yi(){if(!Wd&&jo!==null){Wd=!0;var t=0,n=Zt;try{var o=jo;for(Zt=1;t<o.length;t++){var i=o[t];do i=i(!0);while(i!==null)}jo=null,jf=!1}catch(p){throw jo!==null&&(jo=jo.slice(t+1)),q1(Qp,yi),p}finally{Zt=n,Wd=!1}}return null}var zs=[],$s=0,Bc=null,Uc=0,Cn=[],Pn=0,Wi=null,So=1,To="";function Ii(t,n){zs[$s++]=Uc,zs[$s++]=Bc,Bc=t,Uc=n}function jb(t,n,o){Cn[Pn++]=So,Cn[Pn++]=To,Cn[Pn++]=Wi,Wi=t;var i=So;t=To;var p=32-Xn(i)-1;i&=~(1<<p),o+=1;var m=32-Xn(n)+p;if(30<m){var w=p-p%5;m=(i&(1<<w)-1).toString(32),i>>=w,p-=w,So=1<<32-Xn(n)+p|o<<p|i,To=m+t}else So=1<<m|o<<p|i,To=t}function am(t){t.return!==null&&(Ii(t,1),jb(t,1,0))}function lm(t){for(;t===Bc;)Bc=zs[--$s],zs[$s]=null,Uc=zs[--$s],zs[$s]=null;for(;t===Wi;)Wi=Cn[--Pn],Cn[Pn]=null,To=Cn[--Pn],Cn[Pn]=null,So=Cn[--Pn],Cn[Pn]=null}var wn=null,vn=null,pr=!1,$n=null;function Sb(t,n){var o=Rn(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=t,n=t.deletions,n===null?(t.deletions=[o],t.flags|=16):n.push(o)}function Eg(t,n){switch(t.tag){case 5:var o=t.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,wn=t,vn=ni(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,wn=t,vn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=Wi!==null?{id:So,overflow:To}:null,t.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Rn(18,null,null,0),o.stateNode=n,o.return=t,t.child=o,wn=t,vn=null,!0):!1;default:return!1}}function Yh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kh(t){if(pr){var n=vn;if(n){var o=n;if(!Eg(t,n)){if(Yh(t))throw Error(nt(418));n=ni(o.nextSibling);var i=wn;n&&Eg(t,n)?Sb(i,o):(t.flags=t.flags&-4097|2,pr=!1,wn=t)}}else{if(Yh(t))throw Error(nt(418));t.flags=t.flags&-4097|2,pr=!1,wn=t}}}function kg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Ju(t){if(t!==wn)return!1;if(!pr)return kg(t),pr=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Wh(t.type,t.memoizedProps)),n&&(n=vn)){if(Yh(t))throw Tb(),Error(nt(418));for(;n;)Sb(t,n),n=ni(n.nextSibling)}if(kg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(nt(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(n===0){vn=ni(t.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}t=t.nextSibling}vn=null}}else vn=wn?ni(t.stateNode.nextSibling):null;return!0}function Tb(){for(var t=vn;t;)t=ni(t.nextSibling)}function oa(){vn=wn=null,pr=!1}function um(t){$n===null?$n=[t]:$n.push(t)}var TS=Ao.ReactCurrentBatchConfig;function Fa(t,n,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(nt(309));var i=o.stateNode}if(!i)throw Error(nt(147,t));var p=i,m=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===m?n.ref:(n=function(w){var r=p.refs;w===null?delete r[m]:r[m]=w},n._stringRef=m,n)}if(typeof t!="string")throw Error(nt(284));if(!o._owner)throw Error(nt(290,t))}return t}function ec(t,n){throw t=Object.prototype.toString.call(n),Error(nt(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Cg(t){var n=t._init;return n(t._payload)}function Eb(t){function n(u,s){if(t){var d=u.deletions;d===null?(u.deletions=[s],u.flags|=16):d.push(s)}}function o(u,s){if(!t)return null;for(;s!==null;)n(u,s),s=s.sibling;return null}function i(u,s){for(u=new Map;s!==null;)s.key!==null?u.set(s.key,s):u.set(s.index,s),s=s.sibling;return u}function p(u,s){return u=ai(u,s),u.index=0,u.sibling=null,u}function m(u,s,d){return u.index=d,t?(d=u.alternate,d!==null?(d=d.index,d<s?(u.flags|=2,s):d):(u.flags|=2,s)):(u.flags|=1048576,s)}function w(u){return t&&u.alternate===null&&(u.flags|=2),u}function r(u,s,d,g){return s===null||s.tag!==6?(s=Qd(d,u.mode,g),s.return=u,s):(s=p(s,d),s.return=u,s)}function E(u,s,d,g){var _=d.type;return _===Fs?h(u,s,d.props.children,g,d.key):s!==null&&(s.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zo&&Cg(_)===s.type)?(g=p(s,d.props),g.ref=Fa(u,s,d),g.return=u,g):(g=Sc(d.type,d.key,d.props,null,u.mode,g),g.ref=Fa(u,s,d),g.return=u,g)}function y(u,s,d,g){return s===null||s.tag!==4||s.stateNode.containerInfo!==d.containerInfo||s.stateNode.implementation!==d.implementation?(s=Jd(d,u.mode,g),s.return=u,s):(s=p(s,d.children||[]),s.return=u,s)}function h(u,s,d,g,_){return s===null||s.tag!==7?(s=zi(d,u.mode,g,_),s.return=u,s):(s=p(s,d),s.return=u,s)}function a(u,s,d){if(typeof s=="string"&&s!==""||typeof s=="number")return s=Qd(""+s,u.mode,d),s.return=u,s;if(typeof s=="object"&&s!==null){switch(s.$$typeof){case zu:return d=Sc(s.type,s.key,s.props,null,u.mode,d),d.ref=Fa(u,null,s),d.return=u,d;case Ds:return s=Jd(s,u.mode,d),s.return=u,s;case zo:var g=s._init;return a(u,g(s._payload),d)}if(Ya(s)||Ma(s))return s=zi(s,u.mode,d,null),s.return=u,s;ec(u,s)}return null}function c(u,s,d,g){var _=s!==null?s.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return _!==null?null:r(u,s,""+d,g);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case zu:return d.key===_?E(u,s,d,g):null;case Ds:return d.key===_?y(u,s,d,g):null;case zo:return _=d._init,c(u,s,_(d._payload),g)}if(Ya(d)||Ma(d))return _!==null?null:h(u,s,d,g,null);ec(u,d)}return null}function x(u,s,d,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return u=u.get(d)||null,r(s,u,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case zu:return u=u.get(g.key===null?d:g.key)||null,E(s,u,g,_);case Ds:return u=u.get(g.key===null?d:g.key)||null,y(s,u,g,_);case zo:var v=g._init;return x(u,s,d,v(g._payload),_)}if(Ya(g)||Ma(g))return u=u.get(d)||null,h(s,u,g,_,null);ec(s,g)}return null}function S(u,s,d,g){for(var _=null,v=null,j=s,T=s=0,C=null;j!==null&&T<d.length;T++){j.index>T?(C=j,j=null):C=j.sibling;var L=c(u,j,d[T],g);if(L===null){j===null&&(j=C);break}t&&j&&L.alternate===null&&n(u,j),s=m(L,s,T),v===null?_=L:v.sibling=L,v=L,j=C}if(T===d.length)return o(u,j),pr&&Ii(u,T),_;if(j===null){for(;T<d.length;T++)j=a(u,d[T],g),j!==null&&(s=m(j,s,T),v===null?_=j:v.sibling=j,v=j);return pr&&Ii(u,T),_}for(j=i(u,j);T<d.length;T++)C=x(j,u,T,d[T],g),C!==null&&(t&&C.alternate!==null&&j.delete(C.key===null?T:C.key),s=m(C,s,T),v===null?_=C:v.sibling=C,v=C);return t&&j.forEach(function(R){return n(u,R)}),pr&&Ii(u,T),_}function l(u,s,d,g){var _=Ma(d);if(typeof _!="function")throw Error(nt(150));if(d=_.call(d),d==null)throw Error(nt(151));for(var v=_=null,j=s,T=s=0,C=null,L=d.next();j!==null&&!L.done;T++,L=d.next()){j.index>T?(C=j,j=null):C=j.sibling;var R=c(u,j,L.value,g);if(R===null){j===null&&(j=C);break}t&&j&&R.alternate===null&&n(u,j),s=m(R,s,T),v===null?_=R:v.sibling=R,v=R,j=C}if(L.done)return o(u,j),pr&&Ii(u,T),_;if(j===null){for(;!L.done;T++,L=d.next())L=a(u,L.value,g),L!==null&&(s=m(L,s,T),v===null?_=L:v.sibling=L,v=L);return pr&&Ii(u,T),_}for(j=i(u,j);!L.done;T++,L=d.next())L=x(j,u,T,L.value,g),L!==null&&(t&&L.alternate!==null&&j.delete(L.key===null?T:L.key),s=m(L,s,T),v===null?_=L:v.sibling=L,v=L);return t&&j.forEach(function(P){return n(u,P)}),pr&&Ii(u,T),_}function f(u,s,d,g){if(typeof d=="object"&&d!==null&&d.type===Fs&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case zu:e:{for(var _=d.key,v=s;v!==null;){if(v.key===_){if(_=d.type,_===Fs){if(v.tag===7){o(u,v.sibling),s=p(v,d.props.children),s.return=u,u=s;break e}}else if(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zo&&Cg(_)===v.type){o(u,v.sibling),s=p(v,d.props),s.ref=Fa(u,v,d),s.return=u,u=s;break e}o(u,v);break}else n(u,v);v=v.sibling}d.type===Fs?(s=zi(d.props.children,u.mode,g,d.key),s.return=u,u=s):(g=Sc(d.type,d.key,d.props,null,u.mode,g),g.ref=Fa(u,s,d),g.return=u,u=g)}return w(u);case Ds:e:{for(v=d.key;s!==null;){if(s.key===v)if(s.tag===4&&s.stateNode.containerInfo===d.containerInfo&&s.stateNode.implementation===d.implementation){o(u,s.sibling),s=p(s,d.children||[]),s.return=u,u=s;break e}else{o(u,s);break}else n(u,s);s=s.sibling}s=Jd(d,u.mode,g),s.return=u,u=s}return w(u);case zo:return v=d._init,f(u,s,v(d._payload),g)}if(Ya(d))return S(u,s,d,g);if(Ma(d))return l(u,s,d,g);ec(u,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,s!==null&&s.tag===6?(o(u,s.sibling),s=p(s,d),s.return=u,u=s):(o(u,s),s=Qd(d,u.mode,g),s.return=u,u=s),w(u)):o(u,s)}return f}var ia=Eb(!0),kb=Eb(!1),Gc=mi(null),Vc=null,Ws=null,cm=null;function fm(){cm=Ws=Vc=null}function dm(t){var n=Gc.current;lr(Gc),t._currentValue=n}function Zh(t,n,o){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),t===o)break;t=t.return}}function Qs(t,n){Vc=t,cm=Ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(an=!0),t.firstContext=null)}function In(t){var n=t._currentValue;if(cm!==t)if(t={context:t,memoizedValue:n,next:null},Ws===null){if(Vc===null)throw Error(nt(308));Ws=t,Vc.dependencies={lanes:0,firstContext:t}}else Ws=Ws.next=t;return n}var Ui=null;function hm(t){Ui===null?Ui=[t]:Ui.push(t)}function Cb(t,n,o,i){var p=n.interleaved;return p===null?(o.next=o,hm(n)):(o.next=p.next,p.next=o),n.interleaved=o,Po(t,i)}function Po(t,n){t.lanes|=n;var o=t.alternate;for(o!==null&&(o.lanes|=n),o=t,t=t.return;t!==null;)t.childLanes|=n,o=t.alternate,o!==null&&(o.childLanes|=n),o=t,t=t.return;return o.tag===3?o.stateNode:null}var $o=!1;function pm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pb(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Eo(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function oi(t,n,o){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Gt&2){var p=i.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),i.pending=n,Po(t,o)}return p=i.interleaved,p===null?(n.next=n,hm(i)):(n.next=p.next,p.next=n),i.interleaved=n,Po(t,o)}function vc(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var i=n.lanes;i&=t.pendingLanes,o|=i,n.lanes=o,Jp(t,o)}}function Pg(t,n){var o=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,o===i)){var p=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var w={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?p=m=w:m=m.next=w,o=o.next}while(o!==null);m===null?p=m=n:m=m.next=n}else p=m=n;o={baseState:i.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:i.shared,effects:i.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}function zc(t,n,o,i){var p=t.updateQueue;$o=!1;var m=p.firstBaseUpdate,w=p.lastBaseUpdate,r=p.shared.pending;if(r!==null){p.shared.pending=null;var E=r,y=E.next;E.next=null,w===null?m=y:w.next=y,w=E;var h=t.alternate;h!==null&&(h=h.updateQueue,r=h.lastBaseUpdate,r!==w&&(r===null?h.firstBaseUpdate=y:r.next=y,h.lastBaseUpdate=E))}if(m!==null){var a=p.baseState;w=0,h=y=E=null,r=m;do{var c=r.lane,x=r.eventTime;if((i&c)===c){h!==null&&(h=h.next={eventTime:x,lane:0,tag:r.tag,payload:r.payload,callback:r.callback,next:null});e:{var S=t,l=r;switch(c=n,x=o,l.tag){case 1:if(S=l.payload,typeof S=="function"){a=S.call(x,a,c);break e}a=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=l.payload,c=typeof S=="function"?S.call(x,a,c):S,c==null)break e;a=br({},a,c);break e;case 2:$o=!0}}r.callback!==null&&r.lane!==0&&(t.flags|=64,c=p.effects,c===null?p.effects=[r]:c.push(r))}else x={eventTime:x,lane:c,tag:r.tag,payload:r.payload,callback:r.callback,next:null},h===null?(y=h=x,E=a):h=h.next=x,w|=c;if(r=r.next,r===null){if(r=p.shared.pending,r===null)break;c=r,r=c.next,c.next=null,p.lastBaseUpdate=c,p.shared.pending=null}}while(!0);if(h===null&&(E=a),p.baseState=E,p.firstBaseUpdate=y,p.lastBaseUpdate=h,n=p.shared.interleaved,n!==null){p=n;do w|=p.lane,p=p.next;while(p!==n)}else m===null&&(p.shared.lanes=0);qi|=w,t.lanes=w,t.memoizedState=a}}function Og(t,n,o){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var i=t[n],p=i.callback;if(p!==null){if(i.callback=null,i=o,typeof p!="function")throw Error(nt(191,p));p.call(i)}}}var Kl={},co=mi(Kl),kl=mi(Kl),Cl=mi(Kl);function Gi(t){if(t===Kl)throw Error(nt(174));return t}function mm(t,n){switch(nr(Cl,n),nr(kl,t),nr(co,Kl),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ah(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Ah(n,t)}lr(co),nr(co,n)}function sa(){lr(co),lr(kl),lr(Cl)}function Ob(t){Gi(Cl.current);var n=Gi(co.current),o=Ah(n,t.type);n!==o&&(nr(kl,t),nr(co,o))}function ym(t){kl.current===t&&(lr(co),lr(kl))}var gr=mi(0);function $c(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hd=[];function gm(){for(var t=0;t<Hd.length;t++)Hd[t]._workInProgressVersionPrimary=null;Hd.length=0}var bc=Ao.ReactCurrentDispatcher,qd=Ao.ReactCurrentBatchConfig,Hi=0,vr=null,Mr=null,Fr=null,Wc=!1,al=!1,Pl=0,ES=0;function $r(){throw Error(nt(321))}function vm(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!Kn(t[o],n[o]))return!1;return!0}function bm(t,n,o,i,p,m){if(Hi=m,vr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,bc.current=t===null||t.memoizedState===null?OS:AS,t=o(i,p),al){m=0;do{if(al=!1,Pl=0,25<=m)throw Error(nt(301));m+=1,Fr=Mr=null,n.updateQueue=null,bc.current=MS,t=o(i,p)}while(al)}if(bc.current=Hc,n=Mr!==null&&Mr.next!==null,Hi=0,Fr=Mr=vr=null,Wc=!1,n)throw Error(nt(300));return t}function _m(){var t=Pl!==0;return Pl=0,t}function so(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?vr.memoizedState=Fr=t:Fr=Fr.next=t,Fr}function Dn(){if(Mr===null){var t=vr.alternate;t=t!==null?t.memoizedState:null}else t=Mr.next;var n=Fr===null?vr.memoizedState:Fr.next;if(n!==null)Fr=n,Mr=t;else{if(t===null)throw Error(nt(310));Mr=t,t={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},Fr===null?vr.memoizedState=Fr=t:Fr=Fr.next=t}return Fr}function Ol(t,n){return typeof n=="function"?n(t):n}function Xd(t){var n=Dn(),o=n.queue;if(o===null)throw Error(nt(311));o.lastRenderedReducer=t;var i=Mr,p=i.baseQueue,m=o.pending;if(m!==null){if(p!==null){var w=p.next;p.next=m.next,m.next=w}i.baseQueue=p=m,o.pending=null}if(p!==null){m=p.next,i=i.baseState;var r=w=null,E=null,y=m;do{var h=y.lane;if((Hi&h)===h)E!==null&&(E=E.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),i=y.hasEagerState?y.eagerState:t(i,y.action);else{var a={lane:h,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};E===null?(r=E=a,w=i):E=E.next=a,vr.lanes|=h,qi|=h}y=y.next}while(y!==null&&y!==m);E===null?w=i:E.next=r,Kn(i,n.memoizedState)||(an=!0),n.memoizedState=i,n.baseState=w,n.baseQueue=E,o.lastRenderedState=i}if(t=o.interleaved,t!==null){p=t;do m=p.lane,vr.lanes|=m,qi|=m,p=p.next;while(p!==t)}else p===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Yd(t){var n=Dn(),o=n.queue;if(o===null)throw Error(nt(311));o.lastRenderedReducer=t;var i=o.dispatch,p=o.pending,m=n.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do m=t(m,w.action),w=w.next;while(w!==p);Kn(m,n.memoizedState)||(an=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,i]}function Ab(){}function Mb(t,n){var o=vr,i=Dn(),p=n(),m=!Kn(i.memoizedState,p);if(m&&(i.memoizedState=p,an=!0),i=i.queue,xm(Ib.bind(null,o,i,t),[t]),i.getSnapshot!==n||m||Fr!==null&&Fr.memoizedState.tag&1){if(o.flags|=2048,Al(9,Lb.bind(null,o,i,p,n),void 0,null),Nr===null)throw Error(nt(349));Hi&30||Rb(o,n,p)}return p}function Rb(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=vr.updateQueue,n===null?(n={lastEffect:null,stores:null},vr.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function Lb(t,n,o,i){n.value=o,n.getSnapshot=i,Db(n)&&Fb(t)}function Ib(t,n,o){return o(function(){Db(n)&&Fb(t)})}function Db(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!Kn(t,o)}catch{return!0}}function Fb(t){var n=Po(t,1);n!==null&&Yn(n,t,1,-1)}function Ag(t){var n=so();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:t},n.queue=t,t=t.dispatch=PS.bind(null,vr,t),[n.memoizedState,t]}function Al(t,n,o,i){return t={tag:t,create:n,destroy:o,deps:i,next:null},n=vr.updateQueue,n===null?(n={lastEffect:null,stores:null},vr.updateQueue=n,n.lastEffect=t.next=t):(o=n.lastEffect,o===null?n.lastEffect=t.next=t:(i=o.next,o.next=t,t.next=i,n.lastEffect=t)),t}function Nb(){return Dn().memoizedState}function _c(t,n,o,i){var p=so();vr.flags|=t,p.memoizedState=Al(1|n,o,void 0,i===void 0?null:i)}function Sf(t,n,o,i){var p=Dn();i=i===void 0?null:i;var m=void 0;if(Mr!==null){var w=Mr.memoizedState;if(m=w.destroy,i!==null&&vm(i,w.deps)){p.memoizedState=Al(n,o,m,i);return}}vr.flags|=t,p.memoizedState=Al(1|n,o,m,i)}function Mg(t,n){return _c(8390656,8,t,n)}function xm(t,n){return Sf(2048,8,t,n)}function Bb(t,n){return Sf(4,2,t,n)}function Ub(t,n){return Sf(4,4,t,n)}function Gb(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vb(t,n,o){return o=o!=null?o.concat([t]):null,Sf(4,4,Gb.bind(null,n,t),o)}function wm(){}function zb(t,n){var o=Dn();n=n===void 0?null:n;var i=o.memoizedState;return i!==null&&n!==null&&vm(n,i[1])?i[0]:(o.memoizedState=[t,n],t)}function $b(t,n){var o=Dn();n=n===void 0?null:n;var i=o.memoizedState;return i!==null&&n!==null&&vm(n,i[1])?i[0]:(t=t(),o.memoizedState=[t,n],t)}function Wb(t,n,o){return Hi&21?(Kn(o,n)||(o=K1(),vr.lanes|=o,qi|=o,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=o)}function kS(t,n){var o=Zt;Zt=o!==0&&4>o?o:4,t(!0);var i=qd.transition;qd.transition={};try{t(!1),n()}finally{Zt=o,qd.transition=i}}function Hb(){return Dn().memoizedState}function CS(t,n,o){var i=si(t);if(o={lane:i,action:o,hasEagerState:!1,eagerState:null,next:null},qb(t))Xb(n,o);else if(o=Cb(t,n,o,i),o!==null){var p=Qr();Yn(o,t,i,p),Yb(o,n,i)}}function PS(t,n,o){var i=si(t),p={lane:i,action:o,hasEagerState:!1,eagerState:null,next:null};if(qb(t))Xb(n,p);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var w=n.lastRenderedState,r=m(w,o);if(p.hasEagerState=!0,p.eagerState=r,Kn(r,w)){var E=n.interleaved;E===null?(p.next=p,hm(n)):(p.next=E.next,E.next=p),n.interleaved=p;return}}catch{}finally{}o=Cb(t,n,p,i),o!==null&&(p=Qr(),Yn(o,t,i,p),Yb(o,n,i))}}function qb(t){var n=t.alternate;return t===vr||n!==null&&n===vr}function Xb(t,n){al=Wc=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function Yb(t,n,o){if(o&4194240){var i=n.lanes;i&=t.pendingLanes,o|=i,n.lanes=o,Jp(t,o)}}var Hc={readContext:In,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},OS={readContext:In,useCallback:function(t,n){return so().memoizedState=[t,n===void 0?null:n],t},useContext:In,useEffect:Mg,useImperativeHandle:function(t,n,o){return o=o!=null?o.concat([t]):null,_c(4194308,4,Gb.bind(null,n,t),o)},useLayoutEffect:function(t,n){return _c(4194308,4,t,n)},useInsertionEffect:function(t,n){return _c(4,2,t,n)},useMemo:function(t,n){var o=so();return n=n===void 0?null:n,t=t(),o.memoizedState=[t,n],t},useReducer:function(t,n,o){var i=so();return n=o!==void 0?o(n):n,i.memoizedState=i.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},i.queue=t,t=t.dispatch=CS.bind(null,vr,t),[i.memoizedState,t]},useRef:function(t){var n=so();return t={current:t},n.memoizedState=t},useState:Ag,useDebugValue:wm,useDeferredValue:function(t){return so().memoizedState=t},useTransition:function(){var t=Ag(!1),n=t[0];return t=kS.bind(null,t[1]),so().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,o){var i=vr,p=so();if(pr){if(o===void 0)throw Error(nt(407));o=o()}else{if(o=n(),Nr===null)throw Error(nt(349));Hi&30||Rb(i,n,o)}p.memoizedState=o;var m={value:o,getSnapshot:n};return p.queue=m,Mg(Ib.bind(null,i,m,t),[t]),i.flags|=2048,Al(9,Lb.bind(null,i,m,o,n),void 0,null),o},useId:function(){var t=so(),n=Nr.identifierPrefix;if(pr){var o=To,i=So;o=(i&~(1<<32-Xn(i)-1)).toString(32)+o,n=":"+n+"R"+o,o=Pl++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=ES++,n=":"+n+"r"+o.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},AS={readContext:In,useCallback:zb,useContext:In,useEffect:xm,useImperativeHandle:Vb,useInsertionEffect:Bb,useLayoutEffect:Ub,useMemo:$b,useReducer:Xd,useRef:Nb,useState:function(){return Xd(Ol)},useDebugValue:wm,useDeferredValue:function(t){var n=Dn();return Wb(n,Mr.memoizedState,t)},useTransition:function(){var t=Xd(Ol)[0],n=Dn().memoizedState;return[t,n]},useMutableSource:Ab,useSyncExternalStore:Mb,useId:Hb,unstable_isNewReconciler:!1},MS={readContext:In,useCallback:zb,useContext:In,useEffect:xm,useImperativeHandle:Vb,useInsertionEffect:Bb,useLayoutEffect:Ub,useMemo:$b,useReducer:Yd,useRef:Nb,useState:function(){return Yd(Ol)},useDebugValue:wm,useDeferredValue:function(t){var n=Dn();return Mr===null?n.memoizedState=t:Wb(n,Mr.memoizedState,t)},useTransition:function(){var t=Yd(Ol)[0],n=Dn().memoizedState;return[t,n]},useMutableSource:Ab,useSyncExternalStore:Mb,useId:Hb,unstable_isNewReconciler:!1};function Vn(t,n){if(t&&t.defaultProps){n=br({},n),t=t.defaultProps;for(var o in t)n[o]===void 0&&(n[o]=t[o]);return n}return n}function Qh(t,n,o,i){n=t.memoizedState,o=o(i,n),o=o==null?n:br({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Tf={isMounted:function(t){return(t=t._reactInternals)?Qi(t)===t:!1},enqueueSetState:function(t,n,o){t=t._reactInternals;var i=Qr(),p=si(t),m=Eo(i,p);m.payload=n,o!=null&&(m.callback=o),n=oi(t,m,p),n!==null&&(Yn(n,t,p,i),vc(n,t,p))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var i=Qr(),p=si(t),m=Eo(i,p);m.tag=1,m.payload=n,o!=null&&(m.callback=o),n=oi(t,m,p),n!==null&&(Yn(n,t,p,i),vc(n,t,p))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=Qr(),i=si(t),p=Eo(o,i);p.tag=2,n!=null&&(p.callback=n),n=oi(t,p,i),n!==null&&(Yn(n,t,i,o),vc(n,t,i))}};function Rg(t,n,o,i,p,m,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,m,w):n.prototype&&n.prototype.isPureReactComponent?!jl(o,i)||!jl(p,m):!0}function Kb(t,n,o){var i=!1,p=fi,m=n.contextType;return typeof m=="object"&&m!==null?m=In(m):(p=un(n)?$i:qr.current,i=n.contextTypes,m=(i=i!=null)?na(t,p):fi),n=new n(o,m),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Tf,t.stateNode=n,n._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=p,t.__reactInternalMemoizedMaskedChildContext=m),n}function Lg(t,n,o,i){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,i),n.state!==t&&Tf.enqueueReplaceState(n,n.state,null)}function Jh(t,n,o,i){var p=t.stateNode;p.props=o,p.state=t.memoizedState,p.refs={},pm(t);var m=n.contextType;typeof m=="object"&&m!==null?p.context=In(m):(m=un(n)?$i:qr.current,p.context=na(t,m)),p.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(Qh(t,n,m,o),p.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(n=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),n!==p.state&&Tf.enqueueReplaceState(p,p.state,null),zc(t,o,p,i),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308)}function aa(t,n){try{var o="",i=n;do o+=sj(i),i=i.return;while(i);var p=o}catch(m){p=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:n,stack:p,digest:null}}function Kd(t,n,o){return{value:t,source:null,stack:o??null,digest:n??null}}function ep(t,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var RS=typeof WeakMap=="function"?WeakMap:Map;function Zb(t,n,o){o=Eo(-1,o),o.tag=3,o.payload={element:null};var i=n.value;return o.callback=function(){Xc||(Xc=!0,cp=i),ep(t,n)},o}function Qb(t,n,o){o=Eo(-1,o),o.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var p=n.value;o.payload=function(){return i(p)},o.callback=function(){ep(t,n)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){ep(t,n),typeof i!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),o}function Ig(t,n,o){var i=t.pingCache;if(i===null){i=t.pingCache=new RS;var p=new Set;i.set(n,p)}else p=i.get(n),p===void 0&&(p=new Set,i.set(n,p));p.has(o)||(p.add(o),t=qS.bind(null,t,n,o),n.then(t,t))}function Dg(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Fg(t,n,o,i,p){return t.mode&1?(t.flags|=65536,t.lanes=p,t):(t===n?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Eo(-1,1),n.tag=2,oi(o,n,1))),o.lanes|=1),t)}var LS=Ao.ReactCurrentOwner,an=!1;function Zr(t,n,o,i){n.child=t===null?kb(n,null,o,i):ia(n,t.child,o,i)}function Ng(t,n,o,i,p){o=o.render;var m=n.ref;return Qs(n,p),i=bm(t,n,o,i,m,p),o=_m(),t!==null&&!an?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~p,Oo(t,n,p)):(pr&&o&&am(n),n.flags|=1,Zr(t,n,i,p),n.child)}function Bg(t,n,o,i,p){if(t===null){var m=o.type;return typeof m=="function"&&!Om(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=m,Jb(t,n,m,i,p)):(t=Sc(o.type,null,i,n,n.mode,p),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!(t.lanes&p)){var w=m.memoizedProps;if(o=o.compare,o=o!==null?o:jl,o(w,i)&&t.ref===n.ref)return Oo(t,n,p)}return n.flags|=1,t=ai(m,i),t.ref=n.ref,t.return=n,n.child=t}function Jb(t,n,o,i,p){if(t!==null){var m=t.memoizedProps;if(jl(m,i)&&t.ref===n.ref)if(an=!1,n.pendingProps=i=m,(t.lanes&p)!==0)t.flags&131072&&(an=!0);else return n.lanes=t.lanes,Oo(t,n,p)}return tp(t,n,o,i,p)}function e_(t,n,o){var i=n.pendingProps,p=i.children,m=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(qs,gn),gn|=o;else{if(!(o&1073741824))return t=m!==null?m.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,nr(qs,gn),gn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=m!==null?m.baseLanes:o,nr(qs,gn),gn|=i}else m!==null?(i=m.baseLanes|o,n.memoizedState=null):i=o,nr(qs,gn),gn|=i;return Zr(t,n,p,o),n.child}function t_(t,n){var o=n.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function tp(t,n,o,i,p){var m=un(o)?$i:qr.current;return m=na(n,m),Qs(n,p),o=bm(t,n,o,i,m,p),i=_m(),t!==null&&!an?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~p,Oo(t,n,p)):(pr&&i&&am(n),n.flags|=1,Zr(t,n,o,p),n.child)}function Ug(t,n,o,i,p){if(un(o)){var m=!0;Nc(n)}else m=!1;if(Qs(n,p),n.stateNode===null)xc(t,n),Kb(n,o,i),Jh(n,o,i,p),i=!0;else if(t===null){var w=n.stateNode,r=n.memoizedProps;w.props=r;var E=w.context,y=o.contextType;typeof y=="object"&&y!==null?y=In(y):(y=un(o)?$i:qr.current,y=na(n,y));var h=o.getDerivedStateFromProps,a=typeof h=="function"||typeof w.getSnapshotBeforeUpdate=="function";a||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(r!==i||E!==y)&&Lg(n,w,i,y),$o=!1;var c=n.memoizedState;w.state=c,zc(n,i,w,p),E=n.memoizedState,r!==i||c!==E||ln.current||$o?(typeof h=="function"&&(Qh(n,o,h,i),E=n.memoizedState),(r=$o||Rg(n,o,r,i,c,E,y))?(a||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=E),w.props=i,w.state=E,w.context=y,i=r):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{w=n.stateNode,Pb(t,n),r=n.memoizedProps,y=n.type===n.elementType?r:Vn(n.type,r),w.props=y,a=n.pendingProps,c=w.context,E=o.contextType,typeof E=="object"&&E!==null?E=In(E):(E=un(o)?$i:qr.current,E=na(n,E));var x=o.getDerivedStateFromProps;(h=typeof x=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(r!==a||c!==E)&&Lg(n,w,i,E),$o=!1,c=n.memoizedState,w.state=c,zc(n,i,w,p);var S=n.memoizedState;r!==a||c!==S||ln.current||$o?(typeof x=="function"&&(Qh(n,o,x,i),S=n.memoizedState),(y=$o||Rg(n,o,y,i,c,S,E)||!1)?(h||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(i,S,E),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(i,S,E)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=S),w.props=i,w.state=S,w.context=E,i=y):(typeof w.componentDidUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(n.flags|=1024),i=!1)}return rp(t,n,o,i,m,p)}function rp(t,n,o,i,p,m){t_(t,n);var w=(n.flags&128)!==0;if(!i&&!w)return p&&Tg(n,o,!1),Oo(t,n,m);i=n.stateNode,LS.current=n;var r=w&&typeof o.getDerivedStateFromError!="function"?null:i.render();return n.flags|=1,t!==null&&w?(n.child=ia(n,t.child,null,m),n.child=ia(n,null,r,m)):Zr(t,n,r,m),n.memoizedState=i.state,p&&Tg(n,o,!0),n.child}function r_(t){var n=t.stateNode;n.pendingContext?Sg(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Sg(t,n.context,!1),mm(t,n.containerInfo)}function Gg(t,n,o,i,p){return oa(),um(p),n.flags|=256,Zr(t,n,o,i),n.child}var np={dehydrated:null,treeContext:null,retryLane:0};function op(t){return{baseLanes:t,cachePool:null,transitions:null}}function n_(t,n,o){var i=n.pendingProps,p=gr.current,m=!1,w=(n.flags&128)!==0,r;if((r=w)||(r=t!==null&&t.memoizedState===null?!1:(p&2)!==0),r?(m=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(p|=1),nr(gr,p&1),t===null)return Kh(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?t.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(w=i.children,t=i.fallback,m?(i=n.mode,m=n.child,w={mode:"hidden",children:w},!(i&1)&&m!==null?(m.childLanes=0,m.pendingProps=w):m=Cf(w,i,0,null),t=zi(t,i,o,null),m.return=n,t.return=n,m.sibling=t,n.child=m,n.child.memoizedState=op(o),n.memoizedState=np,t):jm(n,w));if(p=t.memoizedState,p!==null&&(r=p.dehydrated,r!==null))return IS(t,n,w,i,r,p,o);if(m){m=i.fallback,w=n.mode,p=t.child,r=p.sibling;var E={mode:"hidden",children:i.children};return!(w&1)&&n.child!==p?(i=n.child,i.childLanes=0,i.pendingProps=E,n.deletions=null):(i=ai(p,E),i.subtreeFlags=p.subtreeFlags&14680064),r!==null?m=ai(r,m):(m=zi(m,w,o,null),m.flags|=2),m.return=n,i.return=n,i.sibling=m,n.child=i,i=m,m=n.child,w=t.child.memoizedState,w=w===null?op(o):{baseLanes:w.baseLanes|o,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=t.childLanes&~o,n.memoizedState=np,i}return m=t.child,t=m.sibling,i=ai(m,{mode:"visible",children:i.children}),!(n.mode&1)&&(i.lanes=o),i.return=n,i.sibling=null,t!==null&&(o=n.deletions,o===null?(n.deletions=[t],n.flags|=16):o.push(t)),n.child=i,n.memoizedState=null,i}function jm(t,n){return n=Cf({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function tc(t,n,o,i){return i!==null&&um(i),ia(n,t.child,null,o),t=jm(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function IS(t,n,o,i,p,m,w){if(o)return n.flags&256?(n.flags&=-257,i=Kd(Error(nt(422))),tc(t,n,w,i)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(m=i.fallback,p=n.mode,i=Cf({mode:"visible",children:i.children},p,0,null),m=zi(m,p,w,null),m.flags|=2,i.return=n,m.return=n,i.sibling=m,n.child=i,n.mode&1&&ia(n,t.child,null,w),n.child.memoizedState=op(w),n.memoizedState=np,m);if(!(n.mode&1))return tc(t,n,w,null);if(p.data==="$!"){if(i=p.nextSibling&&p.nextSibling.dataset,i)var r=i.dgst;return i=r,m=Error(nt(419)),i=Kd(m,i,void 0),tc(t,n,w,i)}if(r=(w&t.childLanes)!==0,an||r){if(i=Nr,i!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(i.suspendedLanes|w)?0:p,p!==0&&p!==m.retryLane&&(m.retryLane=p,Po(t,p),Yn(i,t,p,-1))}return Pm(),i=Kd(Error(nt(421))),tc(t,n,w,i)}return p.data==="$?"?(n.flags|=128,n.child=t.child,n=XS.bind(null,t),p._reactRetry=n,null):(t=m.treeContext,vn=ni(p.nextSibling),wn=n,pr=!0,$n=null,t!==null&&(Cn[Pn++]=So,Cn[Pn++]=To,Cn[Pn++]=Wi,So=t.id,To=t.overflow,Wi=n),n=jm(n,i.children),n.flags|=4096,n)}function Vg(t,n,o){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),Zh(t.return,n,o)}function Zd(t,n,o,i,p){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:o,tailMode:p}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=o,m.tailMode=p)}function o_(t,n,o){var i=n.pendingProps,p=i.revealOrder,m=i.tail;if(Zr(t,n,i.children,o),i=gr.current,i&2)i=i&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vg(t,o,n);else if(t.tag===19)Vg(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(nr(gr,i),!(n.mode&1))n.memoizedState=null;else switch(p){case"forwards":for(o=n.child,p=null;o!==null;)t=o.alternate,t!==null&&$c(t)===null&&(p=o),o=o.sibling;o=p,o===null?(p=n.child,n.child=null):(p=o.sibling,o.sibling=null),Zd(n,!1,p,o,m);break;case"backwards":for(o=null,p=n.child,n.child=null;p!==null;){if(t=p.alternate,t!==null&&$c(t)===null){n.child=p;break}t=p.sibling,p.sibling=o,o=p,p=t}Zd(n,!0,o,null,m);break;case"together":Zd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xc(t,n){!(n.mode&1)&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Oo(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),qi|=n.lanes,!(o&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(nt(153));if(n.child!==null){for(t=n.child,o=ai(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=ai(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function DS(t,n,o){switch(n.tag){case 3:r_(n),oa();break;case 5:Ob(n);break;case 1:un(n.type)&&Nc(n);break;case 4:mm(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,p=n.memoizedProps.value;nr(Gc,i._currentValue),i._currentValue=p;break;case 13:if(i=n.memoizedState,i!==null)return i.dehydrated!==null?(nr(gr,gr.current&1),n.flags|=128,null):o&n.child.childLanes?n_(t,n,o):(nr(gr,gr.current&1),t=Oo(t,n,o),t!==null?t.sibling:null);nr(gr,gr.current&1);break;case 19:if(i=(o&n.childLanes)!==0,t.flags&128){if(i)return o_(t,n,o);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),nr(gr,gr.current),i)break;return null;case 22:case 23:return n.lanes=0,e_(t,n,o)}return Oo(t,n,o)}var i_,ip,s_,a_;i_=function(t,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};ip=function(){};s_=function(t,n,o,i){var p=t.memoizedProps;if(p!==i){t=n.stateNode,Gi(co.current);var m=null;switch(o){case"input":p=kh(t,p),i=kh(t,i),m=[];break;case"select":p=br({},p,{value:void 0}),i=br({},i,{value:void 0}),m=[];break;case"textarea":p=Oh(t,p),i=Oh(t,i),m=[];break;default:typeof p.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Dc)}Mh(o,i);var w;o=null;for(y in p)if(!i.hasOwnProperty(y)&&p.hasOwnProperty(y)&&p[y]!=null)if(y==="style"){var r=p[y];for(w in r)r.hasOwnProperty(w)&&(o||(o={}),o[w]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(yl.hasOwnProperty(y)?m||(m=[]):(m=m||[]).push(y,null));for(y in i){var E=i[y];if(r=p!=null?p[y]:void 0,i.hasOwnProperty(y)&&E!==r&&(E!=null||r!=null))if(y==="style")if(r){for(w in r)!r.hasOwnProperty(w)||E&&E.hasOwnProperty(w)||(o||(o={}),o[w]="");for(w in E)E.hasOwnProperty(w)&&r[w]!==E[w]&&(o||(o={}),o[w]=E[w])}else o||(m||(m=[]),m.push(y,o)),o=E;else y==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,r=r?r.__html:void 0,E!=null&&r!==E&&(m=m||[]).push(y,E)):y==="children"?typeof E!="string"&&typeof E!="number"||(m=m||[]).push(y,""+E):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(yl.hasOwnProperty(y)?(E!=null&&y==="onScroll"&&ir("scroll",t),m||r===E||(m=[])):(m=m||[]).push(y,E))}o&&(m=m||[]).push("style",o);var y=m;(n.updateQueue=y)&&(n.flags|=4)}};a_=function(t,n,o,i){o!==i&&(n.flags|=4)};function Na(t,n){if(!pr)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var i=null;o!==null;)o.alternate!==null&&(i=o),o=o.sibling;i===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Wr(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,i=0;if(n)for(var p=t.child;p!==null;)o|=p.lanes|p.childLanes,i|=p.subtreeFlags&14680064,i|=p.flags&14680064,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)o|=p.lanes|p.childLanes,i|=p.subtreeFlags,i|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=i,t.childLanes=o,n}function FS(t,n,o){var i=n.pendingProps;switch(lm(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(n),null;case 1:return un(n.type)&&Fc(),Wr(n),null;case 3:return i=n.stateNode,sa(),lr(ln),lr(qr),gm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ju(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,$n!==null&&(hp($n),$n=null))),ip(t,n),Wr(n),null;case 5:ym(n);var p=Gi(Cl.current);if(o=n.type,t!==null&&n.stateNode!=null)s_(t,n,o,i,p),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(n.stateNode===null)throw Error(nt(166));return Wr(n),null}if(t=Gi(co.current),Ju(n)){i=n.stateNode,o=n.type;var m=n.memoizedProps;switch(i[lo]=n,i[El]=m,t=(n.mode&1)!==0,o){case"dialog":ir("cancel",i),ir("close",i);break;case"iframe":case"object":case"embed":ir("load",i);break;case"video":case"audio":for(p=0;p<Za.length;p++)ir(Za[p],i);break;case"source":ir("error",i);break;case"img":case"image":case"link":ir("error",i),ir("load",i);break;case"details":ir("toggle",i);break;case"input":Zy(i,m),ir("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!m.multiple},ir("invalid",i);break;case"textarea":Jy(i,m),ir("invalid",i)}Mh(o,m),p=null;for(var w in m)if(m.hasOwnProperty(w)){var r=m[w];w==="children"?typeof r=="string"?i.textContent!==r&&(m.suppressHydrationWarning!==!0&&Qu(i.textContent,r,t),p=["children",r]):typeof r=="number"&&i.textContent!==""+r&&(m.suppressHydrationWarning!==!0&&Qu(i.textContent,r,t),p=["children",""+r]):yl.hasOwnProperty(w)&&r!=null&&w==="onScroll"&&ir("scroll",i)}switch(o){case"input":$u(i),Qy(i,m,!0);break;case"textarea":$u(i),eg(i);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(i.onclick=Dc)}i=p,n.updateQueue=i,i!==null&&(n.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=I1(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=w.createElement(o,{is:i.is}):(t=w.createElement(o),o==="select"&&(w=t,i.multiple?w.multiple=!0:i.size&&(w.size=i.size))):t=w.createElementNS(t,o),t[lo]=n,t[El]=i,i_(t,n,!1,!1),n.stateNode=t;e:{switch(w=Rh(o,i),o){case"dialog":ir("cancel",t),ir("close",t),p=i;break;case"iframe":case"object":case"embed":ir("load",t),p=i;break;case"video":case"audio":for(p=0;p<Za.length;p++)ir(Za[p],t);p=i;break;case"source":ir("error",t),p=i;break;case"img":case"image":case"link":ir("error",t),ir("load",t),p=i;break;case"details":ir("toggle",t),p=i;break;case"input":Zy(t,i),p=kh(t,i),ir("invalid",t);break;case"option":p=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},p=br({},i,{value:void 0}),ir("invalid",t);break;case"textarea":Jy(t,i),p=Oh(t,i),ir("invalid",t);break;default:p=i}Mh(o,p),r=p;for(m in r)if(r.hasOwnProperty(m)){var E=r[m];m==="style"?N1(t,E):m==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&D1(t,E)):m==="children"?typeof E=="string"?(o!=="textarea"||E!=="")&&gl(t,E):typeof E=="number"&&gl(t,""+E):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(yl.hasOwnProperty(m)?E!=null&&m==="onScroll"&&ir("scroll",t):E!=null&&qp(t,m,E,w))}switch(o){case"input":$u(t),Qy(t,i,!1);break;case"textarea":$u(t),eg(t);break;case"option":i.value!=null&&t.setAttribute("value",""+ci(i.value));break;case"select":t.multiple=!!i.multiple,m=i.value,m!=null?Xs(t,!!i.multiple,m,!1):i.defaultValue!=null&&Xs(t,!!i.multiple,i.defaultValue,!0);break;default:typeof p.onClick=="function"&&(t.onclick=Dc)}switch(o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Wr(n),null;case 6:if(t&&n.stateNode!=null)a_(t,n,t.memoizedProps,i);else{if(typeof i!="string"&&n.stateNode===null)throw Error(nt(166));if(o=Gi(Cl.current),Gi(co.current),Ju(n)){if(i=n.stateNode,o=n.memoizedProps,i[lo]=n,(m=i.nodeValue!==o)&&(t=wn,t!==null))switch(t.tag){case 3:Qu(i.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qu(i.nodeValue,o,(t.mode&1)!==0)}m&&(n.flags|=4)}else i=(o.nodeType===9?o:o.ownerDocument).createTextNode(i),i[lo]=n,n.stateNode=i}return Wr(n),null;case 13:if(lr(gr),i=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pr&&vn!==null&&n.mode&1&&!(n.flags&128))Tb(),oa(),n.flags|=98560,m=!1;else if(m=Ju(n),i!==null&&i.dehydrated!==null){if(t===null){if(!m)throw Error(nt(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(nt(317));m[lo]=n}else oa(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Wr(n),m=!1}else $n!==null&&(hp($n),$n=null),m=!0;if(!m)return n.flags&65536?n:null}return n.flags&128?(n.lanes=o,n):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(n.child.flags|=8192,n.mode&1&&(t===null||gr.current&1?Rr===0&&(Rr=3):Pm())),n.updateQueue!==null&&(n.flags|=4),Wr(n),null);case 4:return sa(),ip(t,n),t===null&&Sl(n.stateNode.containerInfo),Wr(n),null;case 10:return dm(n.type._context),Wr(n),null;case 17:return un(n.type)&&Fc(),Wr(n),null;case 19:if(lr(gr),m=n.memoizedState,m===null)return Wr(n),null;if(i=(n.flags&128)!==0,w=m.rendering,w===null)if(i)Na(m,!1);else{if(Rr!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(w=$c(t),w!==null){for(n.flags|=128,Na(m,!1),i=w.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=o,o=n.child;o!==null;)m=o,t=i,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,t=w.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return nr(gr,gr.current&1|2),n.child}t=t.sibling}m.tail!==null&&Er()>la&&(n.flags|=128,i=!0,Na(m,!1),n.lanes=4194304)}else{if(!i)if(t=$c(w),t!==null){if(n.flags|=128,i=!0,o=t.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Na(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!pr)return Wr(n),null}else 2*Er()-m.renderingStartTime>la&&o!==1073741824&&(n.flags|=128,i=!0,Na(m,!1),n.lanes=4194304);m.isBackwards?(w.sibling=n.child,n.child=w):(o=m.last,o!==null?o.sibling=w:n.child=w,m.last=w)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=Er(),n.sibling=null,o=gr.current,nr(gr,i?o&1|2:o&1),n):(Wr(n),null);case 22:case 23:return Cm(),i=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(n.flags|=8192),i&&n.mode&1?gn&1073741824&&(Wr(n),n.subtreeFlags&6&&(n.flags|=8192)):Wr(n),null;case 24:return null;case 25:return null}throw Error(nt(156,n.tag))}function NS(t,n){switch(lm(n),n.tag){case 1:return un(n.type)&&Fc(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return sa(),lr(ln),lr(qr),gm(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return ym(n),null;case 13:if(lr(gr),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(nt(340));oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lr(gr),null;case 4:return sa(),null;case 10:return dm(n.type._context),null;case 22:case 23:return Cm(),null;case 24:return null;default:return null}}var rc=!1,Hr=!1,BS=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Hs(t,n){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(i){jr(t,n,i)}else o.current=null}function sp(t,n,o){try{o()}catch(i){jr(t,n,i)}}var zg=!1;function US(t,n){if(zh=Rc,t=db(),sm(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var i=o.getSelection&&o.getSelection();if(i&&i.rangeCount!==0){o=i.anchorNode;var p=i.anchorOffset,m=i.focusNode;i=i.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var w=0,r=-1,E=-1,y=0,h=0,a=t,c=null;t:for(;;){for(var x;a!==o||p!==0&&a.nodeType!==3||(r=w+p),a!==m||i!==0&&a.nodeType!==3||(E=w+i),a.nodeType===3&&(w+=a.nodeValue.length),(x=a.firstChild)!==null;)c=a,a=x;for(;;){if(a===t)break t;if(c===o&&++y===p&&(r=w),c===m&&++h===i&&(E=w),(x=a.nextSibling)!==null)break;a=c,c=a.parentNode}a=x}o=r===-1||E===-1?null:{start:r,end:E}}else o=null}o=o||{start:0,end:0}}else o=null;for($h={focusedElem:t,selectionRange:o},Rc=!1,bt=n;bt!==null;)if(n=bt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,bt=t;else for(;bt!==null;){n=bt;try{var S=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var l=S.memoizedProps,f=S.memoizedState,u=n.stateNode,s=u.getSnapshotBeforeUpdate(n.elementType===n.type?l:Vn(n.type,l),f);u.__reactInternalSnapshotBeforeUpdate=s}break;case 3:var d=n.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(g){jr(n,n.return,g)}if(t=n.sibling,t!==null){t.return=n.return,bt=t;break}bt=n.return}return S=zg,zg=!1,S}function ll(t,n,o){var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var p=i=i.next;do{if((p.tag&t)===t){var m=p.destroy;p.destroy=void 0,m!==void 0&&sp(n,o,m)}p=p.next}while(p!==i)}}function Ef(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var i=o.create;o.destroy=i()}o=o.next}while(o!==n)}}function ap(t){var n=t.ref;if(n!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof n=="function"?n(t):n.current=t}}function l_(t){var n=t.alternate;n!==null&&(t.alternate=null,l_(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[lo],delete n[El],delete n[qh],delete n[wS],delete n[jS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function u_(t){return t.tag===5||t.tag===3||t.tag===4}function $g(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lp(t,n,o){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(t,n):o.insertBefore(t,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(t,o)):(n=o,n.appendChild(t)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Dc));else if(i!==4&&(t=t.child,t!==null))for(lp(t,n,o),t=t.sibling;t!==null;)lp(t,n,o),t=t.sibling}function up(t,n,o){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(up(t,n,o),t=t.sibling;t!==null;)up(t,n,o),t=t.sibling}var Gr=null,zn=!1;function Uo(t,n,o){for(o=o.child;o!==null;)c_(t,n,o),o=o.sibling}function c_(t,n,o){if(uo&&typeof uo.onCommitFiberUnmount=="function")try{uo.onCommitFiberUnmount(vf,o)}catch{}switch(o.tag){case 5:Hr||Hs(o,n);case 6:var i=Gr,p=zn;Gr=null,Uo(t,n,o),Gr=i,zn=p,Gr!==null&&(zn?(t=Gr,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Gr.removeChild(o.stateNode));break;case 18:Gr!==null&&(zn?(t=Gr,o=o.stateNode,t.nodeType===8?$d(t.parentNode,o):t.nodeType===1&&$d(t,o),xl(t)):$d(Gr,o.stateNode));break;case 4:i=Gr,p=zn,Gr=o.stateNode.containerInfo,zn=!0,Uo(t,n,o),Gr=i,zn=p;break;case 0:case 11:case 14:case 15:if(!Hr&&(i=o.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){p=i=i.next;do{var m=p,w=m.destroy;m=m.tag,w!==void 0&&(m&2||m&4)&&sp(o,n,w),p=p.next}while(p!==i)}Uo(t,n,o);break;case 1:if(!Hr&&(Hs(o,n),i=o.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=o.memoizedProps,i.state=o.memoizedState,i.componentWillUnmount()}catch(r){jr(o,n,r)}Uo(t,n,o);break;case 21:Uo(t,n,o);break;case 22:o.mode&1?(Hr=(i=Hr)||o.memoizedState!==null,Uo(t,n,o),Hr=i):Uo(t,n,o);break;default:Uo(t,n,o)}}function Wg(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new BS),n.forEach(function(i){var p=YS.bind(null,t,i);o.has(i)||(o.add(i),i.then(p,p))})}}function Un(t,n){var o=n.deletions;if(o!==null)for(var i=0;i<o.length;i++){var p=o[i];try{var m=t,w=n,r=w;e:for(;r!==null;){switch(r.tag){case 5:Gr=r.stateNode,zn=!1;break e;case 3:Gr=r.stateNode.containerInfo,zn=!0;break e;case 4:Gr=r.stateNode.containerInfo,zn=!0;break e}r=r.return}if(Gr===null)throw Error(nt(160));c_(m,w,p),Gr=null,zn=!1;var E=p.alternate;E!==null&&(E.return=null),p.return=null}catch(y){jr(p,n,y)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)f_(n,t),n=n.sibling}function f_(t,n){var o=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(n,t),io(t),i&4){try{ll(3,t,t.return),Ef(3,t)}catch(l){jr(t,t.return,l)}try{ll(5,t,t.return)}catch(l){jr(t,t.return,l)}}break;case 1:Un(n,t),io(t),i&512&&o!==null&&Hs(o,o.return);break;case 5:if(Un(n,t),io(t),i&512&&o!==null&&Hs(o,o.return),t.flags&32){var p=t.stateNode;try{gl(p,"")}catch(l){jr(t,t.return,l)}}if(i&4&&(p=t.stateNode,p!=null)){var m=t.memoizedProps,w=o!==null?o.memoizedProps:m,r=t.type,E=t.updateQueue;if(t.updateQueue=null,E!==null)try{r==="input"&&m.type==="radio"&&m.name!=null&&R1(p,m),Rh(r,w);var y=Rh(r,m);for(w=0;w<E.length;w+=2){var h=E[w],a=E[w+1];h==="style"?N1(p,a):h==="dangerouslySetInnerHTML"?D1(p,a):h==="children"?gl(p,a):qp(p,h,a,y)}switch(r){case"input":Ch(p,m);break;case"textarea":L1(p,m);break;case"select":var c=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!m.multiple;var x=m.value;x!=null?Xs(p,!!m.multiple,x,!1):c!==!!m.multiple&&(m.defaultValue!=null?Xs(p,!!m.multiple,m.defaultValue,!0):Xs(p,!!m.multiple,m.multiple?[]:"",!1))}p[El]=m}catch(l){jr(t,t.return,l)}}break;case 6:if(Un(n,t),io(t),i&4){if(t.stateNode===null)throw Error(nt(162));p=t.stateNode,m=t.memoizedProps;try{p.nodeValue=m}catch(l){jr(t,t.return,l)}}break;case 3:if(Un(n,t),io(t),i&4&&o!==null&&o.memoizedState.isDehydrated)try{xl(n.containerInfo)}catch(l){jr(t,t.return,l)}break;case 4:Un(n,t),io(t);break;case 13:Un(n,t),io(t),p=t.child,p.flags&8192&&(m=p.memoizedState!==null,p.stateNode.isHidden=m,!m||p.alternate!==null&&p.alternate.memoizedState!==null||(Em=Er())),i&4&&Wg(t);break;case 22:if(h=o!==null&&o.memoizedState!==null,t.mode&1?(Hr=(y=Hr)||h,Un(n,t),Hr=y):Un(n,t),io(t),i&8192){if(y=t.memoizedState!==null,(t.stateNode.isHidden=y)&&!h&&t.mode&1)for(bt=t,h=t.child;h!==null;){for(a=bt=h;bt!==null;){switch(c=bt,x=c.child,c.tag){case 0:case 11:case 14:case 15:ll(4,c,c.return);break;case 1:Hs(c,c.return);var S=c.stateNode;if(typeof S.componentWillUnmount=="function"){i=c,o=c.return;try{n=i,S.props=n.memoizedProps,S.state=n.memoizedState,S.componentWillUnmount()}catch(l){jr(i,o,l)}}break;case 5:Hs(c,c.return);break;case 22:if(c.memoizedState!==null){qg(a);continue}}x!==null?(x.return=c,bt=x):qg(a)}h=h.sibling}e:for(h=null,a=t;;){if(a.tag===5){if(h===null){h=a;try{p=a.stateNode,y?(m=p.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(r=a.stateNode,E=a.memoizedProps.style,w=E!=null&&E.hasOwnProperty("display")?E.display:null,r.style.display=F1("display",w))}catch(l){jr(t,t.return,l)}}}else if(a.tag===6){if(h===null)try{a.stateNode.nodeValue=y?"":a.memoizedProps}catch(l){jr(t,t.return,l)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;h===a&&(h=null),a=a.return}h===a&&(h=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:Un(n,t),io(t),i&4&&Wg(t);break;case 21:break;default:Un(n,t),io(t)}}function io(t){var n=t.flags;if(n&2){try{e:{for(var o=t.return;o!==null;){if(u_(o)){var i=o;break e}o=o.return}throw Error(nt(160))}switch(i.tag){case 5:var p=i.stateNode;i.flags&32&&(gl(p,""),i.flags&=-33);var m=$g(t);up(t,m,p);break;case 3:case 4:var w=i.stateNode.containerInfo,r=$g(t);lp(t,r,w);break;default:throw Error(nt(161))}}catch(E){jr(t,t.return,E)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function GS(t,n,o){bt=t,d_(t)}function d_(t,n,o){for(var i=(t.mode&1)!==0;bt!==null;){var p=bt,m=p.child;if(p.tag===22&&i){var w=p.memoizedState!==null||rc;if(!w){var r=p.alternate,E=r!==null&&r.memoizedState!==null||Hr;r=rc;var y=Hr;if(rc=w,(Hr=E)&&!y)for(bt=p;bt!==null;)w=bt,E=w.child,w.tag===22&&w.memoizedState!==null?Xg(p):E!==null?(E.return=w,bt=E):Xg(p);for(;m!==null;)bt=m,d_(m),m=m.sibling;bt=p,rc=r,Hr=y}Hg(t)}else p.subtreeFlags&8772&&m!==null?(m.return=p,bt=m):Hg(t)}}function Hg(t){for(;bt!==null;){var n=bt;if(n.flags&8772){var o=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Hr||Ef(5,n);break;case 1:var i=n.stateNode;if(n.flags&4&&!Hr)if(o===null)i.componentDidMount();else{var p=n.elementType===n.type?o.memoizedProps:Vn(n.type,o.memoizedProps);i.componentDidUpdate(p,o.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;m!==null&&Og(n,m,i);break;case 3:var w=n.updateQueue;if(w!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Og(n,w,o)}break;case 5:var r=n.stateNode;if(o===null&&n.flags&4){o=r;var E=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&o.focus();break;case"img":E.src&&(o.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var y=n.alternate;if(y!==null){var h=y.memoizedState;if(h!==null){var a=h.dehydrated;a!==null&&xl(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}Hr||n.flags&512&&ap(n)}catch(c){jr(n,n.return,c)}}if(n===t){bt=null;break}if(o=n.sibling,o!==null){o.return=n.return,bt=o;break}bt=n.return}}function qg(t){for(;bt!==null;){var n=bt;if(n===t){bt=null;break}var o=n.sibling;if(o!==null){o.return=n.return,bt=o;break}bt=n.return}}function Xg(t){for(;bt!==null;){var n=bt;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Ef(4,n)}catch(E){jr(n,o,E)}break;case 1:var i=n.stateNode;if(typeof i.componentDidMount=="function"){var p=n.return;try{i.componentDidMount()}catch(E){jr(n,p,E)}}var m=n.return;try{ap(n)}catch(E){jr(n,m,E)}break;case 5:var w=n.return;try{ap(n)}catch(E){jr(n,w,E)}}}catch(E){jr(n,n.return,E)}if(n===t){bt=null;break}var r=n.sibling;if(r!==null){r.return=n.return,bt=r;break}bt=n.return}}var VS=Math.ceil,qc=Ao.ReactCurrentDispatcher,Sm=Ao.ReactCurrentOwner,Ln=Ao.ReactCurrentBatchConfig,Gt=0,Nr=null,Cr=null,Vr=0,gn=0,qs=mi(0),Rr=0,Ml=null,qi=0,kf=0,Tm=0,ul=null,sn=null,Em=0,la=1/0,xo=null,Xc=!1,cp=null,ii=null,nc=!1,Ko=null,Yc=0,cl=0,fp=null,wc=-1,jc=0;function Qr(){return Gt&6?Er():wc!==-1?wc:wc=Er()}function si(t){return t.mode&1?Gt&2&&Vr!==0?Vr&-Vr:TS.transition!==null?(jc===0&&(jc=K1()),jc):(t=Zt,t!==0||(t=window.event,t=t===void 0?16:nb(t.type)),t):1}function Yn(t,n,o,i){if(50<cl)throw cl=0,fp=null,Error(nt(185));ql(t,o,i),(!(Gt&2)||t!==Nr)&&(t===Nr&&(!(Gt&2)&&(kf|=o),Rr===4&&qo(t,Vr)),cn(t,i),o===1&&Gt===0&&!(n.mode&1)&&(la=Er()+500,jf&&yi()))}function cn(t,n){var o=t.callbackNode;Tj(t,n);var i=Mc(t,t===Nr?Vr:0);if(i===0)o!==null&&ng(o),t.callbackNode=null,t.callbackPriority=0;else if(n=i&-i,t.callbackPriority!==n){if(o!=null&&ng(o),n===1)t.tag===0?SS(Yg.bind(null,t)):wb(Yg.bind(null,t)),_S(function(){!(Gt&6)&&yi()}),o=null;else{switch(Z1(i)){case 1:o=Qp;break;case 4:o=X1;break;case 16:o=Ac;break;case 536870912:o=Y1;break;default:o=Ac}o=__(o,h_.bind(null,t))}t.callbackPriority=n,t.callbackNode=o}}function h_(t,n){if(wc=-1,jc=0,Gt&6)throw Error(nt(327));var o=t.callbackNode;if(Js()&&t.callbackNode!==o)return null;var i=Mc(t,t===Nr?Vr:0);if(i===0)return null;if(i&30||i&t.expiredLanes||n)n=Kc(t,i);else{n=i;var p=Gt;Gt|=2;var m=m_();(Nr!==t||Vr!==n)&&(xo=null,la=Er()+500,Vi(t,n));do try{WS();break}catch(r){p_(t,r)}while(!0);fm(),qc.current=m,Gt=p,Cr!==null?n=0:(Nr=null,Vr=0,n=Rr)}if(n!==0){if(n===2&&(p=Nh(t),p!==0&&(i=p,n=dp(t,p))),n===1)throw o=Ml,Vi(t,0),qo(t,i),cn(t,Er()),o;if(n===6)qo(t,i);else{if(p=t.current.alternate,!(i&30)&&!zS(p)&&(n=Kc(t,i),n===2&&(m=Nh(t),m!==0&&(i=m,n=dp(t,m))),n===1))throw o=Ml,Vi(t,0),qo(t,i),cn(t,Er()),o;switch(t.finishedWork=p,t.finishedLanes=i,n){case 0:case 1:throw Error(nt(345));case 2:Di(t,sn,xo);break;case 3:if(qo(t,i),(i&130023424)===i&&(n=Em+500-Er(),10<n)){if(Mc(t,0)!==0)break;if(p=t.suspendedLanes,(p&i)!==i){Qr(),t.pingedLanes|=t.suspendedLanes&p;break}t.timeoutHandle=Hh(Di.bind(null,t,sn,xo),n);break}Di(t,sn,xo);break;case 4:if(qo(t,i),(i&4194240)===i)break;for(n=t.eventTimes,p=-1;0<i;){var w=31-Xn(i);m=1<<w,w=n[w],w>p&&(p=w),i&=~m}if(i=p,i=Er()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*VS(i/1960))-i,10<i){t.timeoutHandle=Hh(Di.bind(null,t,sn,xo),i);break}Di(t,sn,xo);break;case 5:Di(t,sn,xo);break;default:throw Error(nt(329))}}}return cn(t,Er()),t.callbackNode===o?h_.bind(null,t):null}function dp(t,n){var o=ul;return t.current.memoizedState.isDehydrated&&(Vi(t,n).flags|=256),t=Kc(t,n),t!==2&&(n=sn,sn=o,n!==null&&hp(n)),t}function hp(t){sn===null?sn=t:sn.push.apply(sn,t)}function zS(t){for(var n=t;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var i=0;i<o.length;i++){var p=o[i],m=p.getSnapshot;p=p.value;try{if(!Kn(m(),p))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qo(t,n){for(n&=~Tm,n&=~kf,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var o=31-Xn(n),i=1<<o;t[o]=-1,n&=~i}}function Yg(t){if(Gt&6)throw Error(nt(327));Js();var n=Mc(t,0);if(!(n&1))return cn(t,Er()),null;var o=Kc(t,n);if(t.tag!==0&&o===2){var i=Nh(t);i!==0&&(n=i,o=dp(t,i))}if(o===1)throw o=Ml,Vi(t,0),qo(t,n),cn(t,Er()),o;if(o===6)throw Error(nt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Di(t,sn,xo),cn(t,Er()),null}function km(t,n){var o=Gt;Gt|=1;try{return t(n)}finally{Gt=o,Gt===0&&(la=Er()+500,jf&&yi())}}function Xi(t){Ko!==null&&Ko.tag===0&&!(Gt&6)&&Js();var n=Gt;Gt|=1;var o=Ln.transition,i=Zt;try{if(Ln.transition=null,Zt=1,t)return t()}finally{Zt=i,Ln.transition=o,Gt=n,!(Gt&6)&&yi()}}function Cm(){gn=qs.current,lr(qs)}function Vi(t,n){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,bS(o)),Cr!==null)for(o=Cr.return;o!==null;){var i=o;switch(lm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Fc();break;case 3:sa(),lr(ln),lr(qr),gm();break;case 5:ym(i);break;case 4:sa();break;case 13:lr(gr);break;case 19:lr(gr);break;case 10:dm(i.type._context);break;case 22:case 23:Cm()}o=o.return}if(Nr=t,Cr=t=ai(t.current,null),Vr=gn=n,Rr=0,Ml=null,Tm=kf=qi=0,sn=ul=null,Ui!==null){for(n=0;n<Ui.length;n++)if(o=Ui[n],i=o.interleaved,i!==null){o.interleaved=null;var p=i.next,m=o.pending;if(m!==null){var w=m.next;m.next=p,i.next=w}o.pending=i}Ui=null}return t}function p_(t,n){do{var o=Cr;try{if(fm(),bc.current=Hc,Wc){for(var i=vr.memoizedState;i!==null;){var p=i.queue;p!==null&&(p.pending=null),i=i.next}Wc=!1}if(Hi=0,Fr=Mr=vr=null,al=!1,Pl=0,Sm.current=null,o===null||o.return===null){Rr=1,Ml=n,Cr=null;break}e:{var m=t,w=o.return,r=o,E=n;if(n=Vr,r.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var y=E,h=r,a=h.tag;if(!(h.mode&1)&&(a===0||a===11||a===15)){var c=h.alternate;c?(h.updateQueue=c.updateQueue,h.memoizedState=c.memoizedState,h.lanes=c.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Dg(w);if(x!==null){x.flags&=-257,Fg(x,w,r,m,n),x.mode&1&&Ig(m,y,n),n=x,E=y;var S=n.updateQueue;if(S===null){var l=new Set;l.add(E),n.updateQueue=l}else S.add(E);break e}else{if(!(n&1)){Ig(m,y,n),Pm();break e}E=Error(nt(426))}}else if(pr&&r.mode&1){var f=Dg(w);if(f!==null){!(f.flags&65536)&&(f.flags|=256),Fg(f,w,r,m,n),um(aa(E,r));break e}}m=E=aa(E,r),Rr!==4&&(Rr=2),ul===null?ul=[m]:ul.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,n&=-n,m.lanes|=n;var u=Zb(m,E,n);Pg(m,u);break e;case 1:r=E;var s=m.type,d=m.stateNode;if(!(m.flags&128)&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ii===null||!ii.has(d)))){m.flags|=65536,n&=-n,m.lanes|=n;var g=Qb(m,r,n);Pg(m,g);break e}}m=m.return}while(m!==null)}g_(o)}catch(_){n=_,Cr===o&&o!==null&&(Cr=o=o.return);continue}break}while(!0)}function m_(){var t=qc.current;return qc.current=Hc,t===null?Hc:t}function Pm(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Nr===null||!(qi&268435455)&&!(kf&268435455)||qo(Nr,Vr)}function Kc(t,n){var o=Gt;Gt|=2;var i=m_();(Nr!==t||Vr!==n)&&(xo=null,Vi(t,n));do try{$S();break}catch(p){p_(t,p)}while(!0);if(fm(),Gt=o,qc.current=i,Cr!==null)throw Error(nt(261));return Nr=null,Vr=0,Rr}function $S(){for(;Cr!==null;)y_(Cr)}function WS(){for(;Cr!==null&&!yj();)y_(Cr)}function y_(t){var n=b_(t.alternate,t,gn);t.memoizedProps=t.pendingProps,n===null?g_(t):Cr=n,Sm.current=null}function g_(t){var n=t;do{var o=n.alternate;if(t=n.return,n.flags&32768){if(o=NS(o,n),o!==null){o.flags&=32767,Cr=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rr=6,Cr=null;return}}else if(o=FS(o,n,gn),o!==null){Cr=o;return}if(n=n.sibling,n!==null){Cr=n;return}Cr=n=t}while(n!==null);Rr===0&&(Rr=5)}function Di(t,n,o){var i=Zt,p=Ln.transition;try{Ln.transition=null,Zt=1,HS(t,n,o,i)}finally{Ln.transition=p,Zt=i}return null}function HS(t,n,o,i){do Js();while(Ko!==null);if(Gt&6)throw Error(nt(327));o=t.finishedWork;var p=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(nt(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(Ej(t,m),t===Nr&&(Cr=Nr=null,Vr=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||nc||(nc=!0,__(Ac,function(){return Js(),null})),m=(o.flags&15990)!==0,o.subtreeFlags&15990||m){m=Ln.transition,Ln.transition=null;var w=Zt;Zt=1;var r=Gt;Gt|=4,Sm.current=null,US(t,o),f_(o,t),dS($h),Rc=!!zh,$h=zh=null,t.current=o,GS(o),gj(),Gt=r,Zt=w,Ln.transition=m}else t.current=o;if(nc&&(nc=!1,Ko=t,Yc=p),m=t.pendingLanes,m===0&&(ii=null),_j(o.stateNode),cn(t,Er()),n!==null)for(i=t.onRecoverableError,o=0;o<n.length;o++)p=n[o],i(p.value,{componentStack:p.stack,digest:p.digest});if(Xc)throw Xc=!1,t=cp,cp=null,t;return Yc&1&&t.tag!==0&&Js(),m=t.pendingLanes,m&1?t===fp?cl++:(cl=0,fp=t):cl=0,yi(),null}function Js(){if(Ko!==null){var t=Z1(Yc),n=Ln.transition,o=Zt;try{if(Ln.transition=null,Zt=16>t?16:t,Ko===null)var i=!1;else{if(t=Ko,Ko=null,Yc=0,Gt&6)throw Error(nt(331));var p=Gt;for(Gt|=4,bt=t.current;bt!==null;){var m=bt,w=m.child;if(bt.flags&16){var r=m.deletions;if(r!==null){for(var E=0;E<r.length;E++){var y=r[E];for(bt=y;bt!==null;){var h=bt;switch(h.tag){case 0:case 11:case 15:ll(8,h,m)}var a=h.child;if(a!==null)a.return=h,bt=a;else for(;bt!==null;){h=bt;var c=h.sibling,x=h.return;if(l_(h),h===y){bt=null;break}if(c!==null){c.return=x,bt=c;break}bt=x}}}var S=m.alternate;if(S!==null){var l=S.child;if(l!==null){S.child=null;do{var f=l.sibling;l.sibling=null,l=f}while(l!==null)}}bt=m}}if(m.subtreeFlags&2064&&w!==null)w.return=m,bt=w;else e:for(;bt!==null;){if(m=bt,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ll(9,m,m.return)}var u=m.sibling;if(u!==null){u.return=m.return,bt=u;break e}bt=m.return}}var s=t.current;for(bt=s;bt!==null;){w=bt;var d=w.child;if(w.subtreeFlags&2064&&d!==null)d.return=w,bt=d;else e:for(w=s;bt!==null;){if(r=bt,r.flags&2048)try{switch(r.tag){case 0:case 11:case 15:Ef(9,r)}}catch(_){jr(r,r.return,_)}if(r===w){bt=null;break e}var g=r.sibling;if(g!==null){g.return=r.return,bt=g;break e}bt=r.return}}if(Gt=p,yi(),uo&&typeof uo.onPostCommitFiberRoot=="function")try{uo.onPostCommitFiberRoot(vf,t)}catch{}i=!0}return i}finally{Zt=o,Ln.transition=n}}return!1}function Kg(t,n,o){n=aa(o,n),n=Zb(t,n,1),t=oi(t,n,1),n=Qr(),t!==null&&(ql(t,1,n),cn(t,n))}function jr(t,n,o){if(t.tag===3)Kg(t,t,o);else for(;n!==null;){if(n.tag===3){Kg(n,t,o);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ii===null||!ii.has(i))){t=aa(o,t),t=Qb(n,t,1),n=oi(n,t,1),t=Qr(),n!==null&&(ql(n,1,t),cn(n,t));break}}n=n.return}}function qS(t,n,o){var i=t.pingCache;i!==null&&i.delete(n),n=Qr(),t.pingedLanes|=t.suspendedLanes&o,Nr===t&&(Vr&o)===o&&(Rr===4||Rr===3&&(Vr&130023424)===Vr&&500>Er()-Em?Vi(t,0):Tm|=o),cn(t,n)}function v_(t,n){n===0&&(t.mode&1?(n=qu,qu<<=1,!(qu&130023424)&&(qu=4194304)):n=1);var o=Qr();t=Po(t,n),t!==null&&(ql(t,n,o),cn(t,o))}function XS(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),v_(t,o)}function YS(t,n){var o=0;switch(t.tag){case 13:var i=t.stateNode,p=t.memoizedState;p!==null&&(o=p.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(nt(314))}i!==null&&i.delete(n),v_(t,o)}var b_;b_=function(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps||ln.current)an=!0;else{if(!(t.lanes&o)&&!(n.flags&128))return an=!1,DS(t,n,o);an=!!(t.flags&131072)}else an=!1,pr&&n.flags&1048576&&jb(n,Uc,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;xc(t,n),t=n.pendingProps;var p=na(n,qr.current);Qs(n,o),p=bm(null,n,i,t,p,o);var m=_m();return n.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,un(i)?(m=!0,Nc(n)):m=!1,n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,pm(n),p.updater=Tf,n.stateNode=p,p._reactInternals=n,Jh(n,i,t,o),n=rp(null,n,i,!0,m,o)):(n.tag=0,pr&&m&&am(n),Zr(null,n,p,o),n=n.child),n;case 16:i=n.elementType;e:{switch(xc(t,n),t=n.pendingProps,p=i._init,i=p(i._payload),n.type=i,p=n.tag=ZS(i),t=Vn(i,t),p){case 0:n=tp(null,n,i,t,o);break e;case 1:n=Ug(null,n,i,t,o);break e;case 11:n=Ng(null,n,i,t,o);break e;case 14:n=Bg(null,n,i,Vn(i.type,t),o);break e}throw Error(nt(306,i,""))}return n;case 0:return i=n.type,p=n.pendingProps,p=n.elementType===i?p:Vn(i,p),tp(t,n,i,p,o);case 1:return i=n.type,p=n.pendingProps,p=n.elementType===i?p:Vn(i,p),Ug(t,n,i,p,o);case 3:e:{if(r_(n),t===null)throw Error(nt(387));i=n.pendingProps,m=n.memoizedState,p=m.element,Pb(t,n),zc(n,i,null,o);var w=n.memoizedState;if(i=w.element,m.isDehydrated)if(m={element:i,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){p=aa(Error(nt(423)),n),n=Gg(t,n,i,o,p);break e}else if(i!==p){p=aa(Error(nt(424)),n),n=Gg(t,n,i,o,p);break e}else for(vn=ni(n.stateNode.containerInfo.firstChild),wn=n,pr=!0,$n=null,o=kb(n,null,i,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(oa(),i===p){n=Oo(t,n,o);break e}Zr(t,n,i,o)}n=n.child}return n;case 5:return Ob(n),t===null&&Kh(n),i=n.type,p=n.pendingProps,m=t!==null?t.memoizedProps:null,w=p.children,Wh(i,p)?w=null:m!==null&&Wh(i,m)&&(n.flags|=32),t_(t,n),Zr(t,n,w,o),n.child;case 6:return t===null&&Kh(n),null;case 13:return n_(t,n,o);case 4:return mm(n,n.stateNode.containerInfo),i=n.pendingProps,t===null?n.child=ia(n,null,i,o):Zr(t,n,i,o),n.child;case 11:return i=n.type,p=n.pendingProps,p=n.elementType===i?p:Vn(i,p),Ng(t,n,i,p,o);case 7:return Zr(t,n,n.pendingProps,o),n.child;case 8:return Zr(t,n,n.pendingProps.children,o),n.child;case 12:return Zr(t,n,n.pendingProps.children,o),n.child;case 10:e:{if(i=n.type._context,p=n.pendingProps,m=n.memoizedProps,w=p.value,nr(Gc,i._currentValue),i._currentValue=w,m!==null)if(Kn(m.value,w)){if(m.children===p.children&&!ln.current){n=Oo(t,n,o);break e}}else for(m=n.child,m!==null&&(m.return=n);m!==null;){var r=m.dependencies;if(r!==null){w=m.child;for(var E=r.firstContext;E!==null;){if(E.context===i){if(m.tag===1){E=Eo(-1,o&-o),E.tag=2;var y=m.updateQueue;if(y!==null){y=y.shared;var h=y.pending;h===null?E.next=E:(E.next=h.next,h.next=E),y.pending=E}}m.lanes|=o,E=m.alternate,E!==null&&(E.lanes|=o),Zh(m.return,o,n),r.lanes|=o;break}E=E.next}}else if(m.tag===10)w=m.type===n.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(nt(341));w.lanes|=o,r=w.alternate,r!==null&&(r.lanes|=o),Zh(w,o,n),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===n){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}Zr(t,n,p.children,o),n=n.child}return n;case 9:return p=n.type,i=n.pendingProps.children,Qs(n,o),p=In(p),i=i(p),n.flags|=1,Zr(t,n,i,o),n.child;case 14:return i=n.type,p=Vn(i,n.pendingProps),p=Vn(i.type,p),Bg(t,n,i,p,o);case 15:return Jb(t,n,n.type,n.pendingProps,o);case 17:return i=n.type,p=n.pendingProps,p=n.elementType===i?p:Vn(i,p),xc(t,n),n.tag=1,un(i)?(t=!0,Nc(n)):t=!1,Qs(n,o),Kb(n,i,p),Jh(n,i,p,o),rp(null,n,i,!0,t,o);case 19:return o_(t,n,o);case 22:return e_(t,n,o)}throw Error(nt(156,n.tag))};function __(t,n){return q1(t,n)}function KS(t,n,o,i){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,o,i){return new KS(t,n,o,i)}function Om(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZS(t){if(typeof t=="function")return Om(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yp)return 11;if(t===Kp)return 14}return 2}function ai(t,n){var o=t.alternate;return o===null?(o=Rn(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Sc(t,n,o,i,p,m){var w=2;if(i=t,typeof t=="function")Om(t)&&(w=1);else if(typeof t=="string")w=5;else e:switch(t){case Fs:return zi(o.children,p,m,n);case Xp:w=8,p|=8;break;case jh:return t=Rn(12,o,n,p|2),t.elementType=jh,t.lanes=m,t;case Sh:return t=Rn(13,o,n,p),t.elementType=Sh,t.lanes=m,t;case Th:return t=Rn(19,o,n,p),t.elementType=Th,t.lanes=m,t;case O1:return Cf(o,p,m,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C1:w=10;break e;case P1:w=9;break e;case Yp:w=11;break e;case Kp:w=14;break e;case zo:w=16,i=null;break e}throw Error(nt(130,t==null?t:typeof t,""))}return n=Rn(w,o,n,p),n.elementType=t,n.type=i,n.lanes=m,n}function zi(t,n,o,i){return t=Rn(7,t,i,n),t.lanes=o,t}function Cf(t,n,o,i){return t=Rn(22,t,i,n),t.elementType=O1,t.lanes=o,t.stateNode={isHidden:!1},t}function Qd(t,n,o){return t=Rn(6,t,null,n),t.lanes=o,t}function Jd(t,n,o){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function QS(t,n,o,i,p){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rd(0),this.expirationTimes=Rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.identifierPrefix=i,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Am(t,n,o,i,p,m,w,r,E){return t=new QS(t,n,o,r,E),n===1?(n=1,m===!0&&(n|=8)):n=0,m=Rn(3,null,null,n),t.current=m,m.stateNode=t,m.memoizedState={element:i,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},pm(m),t}function JS(t,n,o){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:i==null?null:""+i,children:t,containerInfo:n,implementation:o}}function x_(t){if(!t)return fi;t=t._reactInternals;e:{if(Qi(t)!==t||t.tag!==1)throw Error(nt(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(un(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(nt(171))}if(t.tag===1){var o=t.type;if(un(o))return xb(t,o,n)}return n}function w_(t,n,o,i,p,m,w,r,E){return t=Am(o,i,!0,t,p,m,w,r,E),t.context=x_(null),o=t.current,i=Qr(),p=si(o),m=Eo(i,p),m.callback=n??null,oi(o,m,p),t.current.lanes=p,ql(t,p,i),cn(t,i),t}function Pf(t,n,o,i){var p=n.current,m=Qr(),w=si(p);return o=x_(o),n.context===null?n.context=o:n.pendingContext=o,n=Eo(m,w),n.payload={element:t},i=i===void 0?null:i,i!==null&&(n.callback=i),t=oi(p,n,w),t!==null&&(Yn(t,p,w,m),vc(t,p,w)),w}function Zc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function Mm(t,n){Zg(t,n),(t=t.alternate)&&Zg(t,n)}function eT(){return null}var j_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rm(t){this._internalRoot=t}Of.prototype.render=Rm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(nt(409));Pf(t,n,null,null)};Of.prototype.unmount=Rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Xi(function(){Pf(null,t,null,null)}),n[Co]=null}};function Of(t){this._internalRoot=t}Of.prototype.unstable_scheduleHydration=function(t){if(t){var n=eb();t={blockedOn:null,target:t,priority:n};for(var o=0;o<Ho.length&&n!==0&&n<Ho[o].priority;o++);Ho.splice(o,0,t),o===0&&rb(t)}};function Lm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Af(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qg(){}function tT(t,n,o,i,p){if(p){if(typeof i=="function"){var m=i;i=function(){var y=Zc(w);m.call(y)}}var w=w_(n,i,t,0,null,!1,!1,"",Qg);return t._reactRootContainer=w,t[Co]=w.current,Sl(t.nodeType===8?t.parentNode:t),Xi(),w}for(;p=t.lastChild;)t.removeChild(p);if(typeof i=="function"){var r=i;i=function(){var y=Zc(E);r.call(y)}}var E=Am(t,0,!1,null,null,!1,!1,"",Qg);return t._reactRootContainer=E,t[Co]=E.current,Sl(t.nodeType===8?t.parentNode:t),Xi(function(){Pf(n,E,o,i)}),E}function Mf(t,n,o,i,p){var m=o._reactRootContainer;if(m){var w=m;if(typeof p=="function"){var r=p;p=function(){var E=Zc(w);r.call(E)}}Pf(n,w,t,p)}else w=tT(o,n,t,p,i);return Zc(w)}Q1=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var o=Ka(n.pendingLanes);o!==0&&(Jp(n,o|1),cn(n,Er()),!(Gt&6)&&(la=Er()+500,yi()))}break;case 13:Xi(function(){var i=Po(t,1);if(i!==null){var p=Qr();Yn(i,t,1,p)}}),Mm(t,1)}};em=function(t){if(t.tag===13){var n=Po(t,134217728);if(n!==null){var o=Qr();Yn(n,t,134217728,o)}Mm(t,134217728)}};J1=function(t){if(t.tag===13){var n=si(t),o=Po(t,n);if(o!==null){var i=Qr();Yn(o,t,n,i)}Mm(t,n)}};eb=function(){return Zt};tb=function(t,n){var o=Zt;try{return Zt=t,n()}finally{Zt=o}};Ih=function(t,n,o){switch(n){case"input":if(Ch(t,o),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var i=o[n];if(i!==t&&i.form===t.form){var p=wf(i);if(!p)throw Error(nt(90));M1(i),Ch(i,p)}}}break;case"textarea":L1(t,o);break;case"select":n=o.value,n!=null&&Xs(t,!!o.multiple,n,!1)}};G1=km;V1=Xi;var rT={usingClientEntryPoint:!1,Events:[Yl,Gs,wf,B1,U1,km]},Ba={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nT={bundleType:Ba.bundleType,version:Ba.version,rendererPackageName:Ba.rendererPackageName,rendererConfig:Ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ba.findFiberByHostInstance||eT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{vf=oc.inject(nT),uo=oc}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rT;Tn.createPortal=function(t,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lm(n))throw Error(nt(200));return JS(t,n,null,o)};Tn.createRoot=function(t,n){if(!Lm(t))throw Error(nt(299));var o=!1,i="",p=j_;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Am(t,1,!1,null,null,o,!1,i,p),t[Co]=n.current,Sl(t.nodeType===8?t.parentNode:t),new Rm(n)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(nt(188)):(t=Object.keys(t).join(","),Error(nt(268,t)));return t=W1(n),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return Xi(t)};Tn.hydrate=function(t,n,o){if(!Af(n))throw Error(nt(200));return Mf(null,t,n,!0,o)};Tn.hydrateRoot=function(t,n,o){if(!Lm(t))throw Error(nt(405));var i=o!=null&&o.hydratedSources||null,p=!1,m="",w=j_;if(o!=null&&(o.unstable_strictMode===!0&&(p=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),n=w_(n,null,t,1,o??null,p,!1,m,w),t[Co]=n.current,Sl(t),i)for(t=0;t<i.length;t++)o=i[t],p=o._getVersion,p=p(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,p]:n.mutableSourceEagerHydrationData.push(o,p);return new Of(n)};Tn.render=function(t,n,o){if(!Af(n))throw Error(nt(200));return Mf(null,t,n,!1,o)};Tn.unmountComponentAtNode=function(t){if(!Af(t))throw Error(nt(40));return t._reactRootContainer?(Xi(function(){Mf(null,null,t,!1,function(){t._reactRootContainer=null,t[Co]=null})}),!0):!1};Tn.unstable_batchedUpdates=km;Tn.unstable_renderSubtreeIntoContainer=function(t,n,o,i){if(!Af(o))throw Error(nt(200));if(t==null||t._reactInternals===void 0)throw Error(nt(38));return Mf(t,n,o,!1,i)};Tn.version="18.3.1-next-f1338f8080-20240426";function S_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S_)}catch(t){console.error(t)}}S_(),S1.exports=Tn;var T_=S1.exports,Jg=T_;xh.createRoot=Jg.createRoot,xh.hydrateRoot=Jg.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},Rl.apply(this,arguments)}var Zo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zo||(Zo={}));const ev="popstate";function oT(t){t===void 0&&(t={});function n(i,p){let{pathname:m,search:w,hash:r}=i.location;return pp("",{pathname:m,search:w,hash:r},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function o(i,p){return typeof p=="string"?p:Qc(p)}return sT(n,o,null,t)}function Pr(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function E_(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function iT(){return Math.random().toString(36).substr(2,8)}function tv(t,n){return{usr:t.state,key:t.key,idx:n}}function pp(t,n,o,i){return o===void 0&&(o=null),Rl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?ha(n):n,{state:o,key:n&&n.key||i||iT()})}function Qc(t){let{pathname:n="/",search:o="",hash:i=""}=t;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function ha(t){let n={};if(t){let o=t.indexOf("#");o>=0&&(n.hash=t.substr(o),t=t.substr(0,o));let i=t.indexOf("?");i>=0&&(n.search=t.substr(i),t=t.substr(0,i)),t&&(n.pathname=t)}return n}function sT(t,n,o,i){i===void 0&&(i={});let{window:p=document.defaultView,v5Compat:m=!1}=i,w=p.history,r=Zo.Pop,E=null,y=h();y==null&&(y=0,w.replaceState(Rl({},w.state,{idx:y}),""));function h(){return(w.state||{idx:null}).idx}function a(){r=Zo.Pop;let f=h(),u=f==null?null:f-y;y=f,E&&E({action:r,location:l.location,delta:u})}function c(f,u){r=Zo.Push;let s=pp(l.location,f,u);y=h()+1;let d=tv(s,y),g=l.createHref(s);try{w.pushState(d,"",g)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;p.location.assign(g)}m&&E&&E({action:r,location:l.location,delta:1})}function x(f,u){r=Zo.Replace;let s=pp(l.location,f,u);y=h();let d=tv(s,y),g=l.createHref(s);w.replaceState(d,"",g),m&&E&&E({action:r,location:l.location,delta:0})}function S(f){let u=p.location.origin!=="null"?p.location.origin:p.location.href,s=typeof f=="string"?f:Qc(f);return s=s.replace(/ $/,"%20"),Pr(u,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,u)}let l={get action(){return r},get location(){return t(p,w)},listen(f){if(E)throw new Error("A history only accepts one active listener");return p.addEventListener(ev,a),E=f,()=>{p.removeEventListener(ev,a),E=null}},createHref(f){return n(p,f)},createURL:S,encodeLocation(f){let u=S(f);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:c,replace:x,go(f){return w.go(f)}};return l}var rv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rv||(rv={}));function aT(t,n,o){o===void 0&&(o="/");let i=typeof n=="string"?ha(n):n,p=Im(i.pathname||"/",o);if(p==null)return null;let m=k_(t);lT(m);let w=null;for(let r=0;w==null&&r<m.length;++r){let E=_T(p);w=gT(m[r],E)}return w}function k_(t,n,o,i){n===void 0&&(n=[]),o===void 0&&(o=[]),i===void 0&&(i="");let p=(m,w,r)=>{let E={relativePath:r===void 0?m.path||"":r,caseSensitive:m.caseSensitive===!0,childrenIndex:w,route:m};E.relativePath.startsWith("/")&&(Pr(E.relativePath.startsWith(i),'Absolute route path "'+E.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),E.relativePath=E.relativePath.slice(i.length));let y=li([i,E.relativePath]),h=o.concat(E);m.children&&m.children.length>0&&(Pr(m.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),k_(m.children,n,h,y)),!(m.path==null&&!m.index)&&n.push({path:y,score:mT(y,m.index),routesMeta:h})};return t.forEach((m,w)=>{var r;if(m.path===""||!((r=m.path)!=null&&r.includes("?")))p(m,w);else for(let E of C_(m.path))p(m,w,E)}),n}function C_(t){let n=t.split("/");if(n.length===0)return[];let[o,...i]=n,p=o.endsWith("?"),m=o.replace(/\?$/,"");if(i.length===0)return p?[m,""]:[m];let w=C_(i.join("/")),r=[];return r.push(...w.map(E=>E===""?m:[m,E].join("/"))),p&&r.push(...w),r.map(E=>t.startsWith("/")&&E===""?"/":E)}function lT(t){t.sort((n,o)=>n.score!==o.score?o.score-n.score:yT(n.routesMeta.map(i=>i.childrenIndex),o.routesMeta.map(i=>i.childrenIndex)))}const uT=/^:[\w-]+$/,cT=3,fT=2,dT=1,hT=10,pT=-2,nv=t=>t==="*";function mT(t,n){let o=t.split("/"),i=o.length;return o.some(nv)&&(i+=pT),n&&(i+=fT),o.filter(p=>!nv(p)).reduce((p,m)=>p+(uT.test(m)?cT:m===""?dT:hT),i)}function yT(t,n){return t.length===n.length&&t.slice(0,-1).every((i,p)=>i===n[p])?t[t.length-1]-n[n.length-1]:0}function gT(t,n){let{routesMeta:o}=t,i={},p="/",m=[];for(let w=0;w<o.length;++w){let r=o[w],E=w===o.length-1,y=p==="/"?n:n.slice(p.length)||"/",h=vT({path:r.relativePath,caseSensitive:r.caseSensitive,end:E},y);if(!h)return null;Object.assign(i,h.params);let a=r.route;m.push({params:i,pathname:li([p,h.pathname]),pathnameBase:ST(li([p,h.pathnameBase])),route:a}),h.pathnameBase!=="/"&&(p=li([p,h.pathnameBase]))}return m}function vT(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[o,i]=bT(t.path,t.caseSensitive,t.end),p=n.match(o);if(!p)return null;let m=p[0],w=m.replace(/(.)\/+$/,"$1"),r=p.slice(1);return{params:i.reduce((y,h,a)=>{let{paramName:c,isOptional:x}=h;if(c==="*"){let l=r[a]||"";w=m.slice(0,m.length-l.length).replace(/(.)\/+$/,"$1")}const S=r[a];return x&&!S?y[c]=void 0:y[c]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:m,pathnameBase:w,pattern:t}}function bT(t,n,o){n===void 0&&(n=!1),o===void 0&&(o=!0),E_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],p="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(w,r,E)=>(i.push({paramName:r,isOptional:E!=null}),E?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),p+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?p+="\\/*$":t!==""&&t!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,n?void 0:"i"),i]}function _T(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return E_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function Im(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,i=t.charAt(o);return i&&i!=="/"?null:t.slice(o)||"/"}function xT(t,n){n===void 0&&(n="/");let{pathname:o,search:i="",hash:p=""}=typeof t=="string"?ha(t):t;return{pathname:o?o.startsWith("/")?o:wT(o,n):n,search:TT(i),hash:ET(p)}}function wT(t,n){let o=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(p=>{p===".."?o.length>1&&o.pop():p!=="."&&o.push(p)}),o.length>1?o.join("/"):"/"}function eh(t,n,o,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jT(t){return t.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function P_(t,n){let o=jT(t);return n?o.map((i,p)=>p===t.length-1?i.pathname:i.pathnameBase):o.map(i=>i.pathnameBase)}function O_(t,n,o,i){i===void 0&&(i=!1);let p;typeof t=="string"?p=ha(t):(p=Rl({},t),Pr(!p.pathname||!p.pathname.includes("?"),eh("?","pathname","search",p)),Pr(!p.pathname||!p.pathname.includes("#"),eh("#","pathname","hash",p)),Pr(!p.search||!p.search.includes("#"),eh("#","search","hash",p)));let m=t===""||p.pathname==="",w=m?"/":p.pathname,r;if(w==null)r=o;else{let a=n.length-1;if(!i&&w.startsWith("..")){let c=w.split("/");for(;c[0]==="..";)c.shift(),a-=1;p.pathname=c.join("/")}r=a>=0?n[a]:"/"}let E=xT(p,r),y=w&&w!=="/"&&w.endsWith("/"),h=(m||w===".")&&o.endsWith("/");return!E.pathname.endsWith("/")&&(y||h)&&(E.pathname+="/"),E}const li=t=>t.join("/").replace(/\/\/+/g,"/"),ST=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ET=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const A_=["post","put","patch","delete"];new Set(A_);const CT=["get",...A_];new Set(CT);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},Ll.apply(this,arguments)}const Dm=Le.createContext(null),PT=Le.createContext(null),Ji=Le.createContext(null),Rf=Le.createContext(null),es=Le.createContext({outlet:null,matches:[],isDataRoute:!1}),M_=Le.createContext(null);function OT(t,n){let{relative:o}=n===void 0?{}:n;Zl()||Pr(!1);let{basename:i,navigator:p}=Le.useContext(Ji),{hash:m,pathname:w,search:r}=I_(t,{relative:o}),E=w;return i!=="/"&&(E=w==="/"?i:li([i,w])),p.createHref({pathname:E,search:r,hash:m})}function Zl(){return Le.useContext(Rf)!=null}function Lf(){return Zl()||Pr(!1),Le.useContext(Rf).location}function R_(t){Le.useContext(Ji).static||Le.useLayoutEffect(t)}function L_(){let{isDataRoute:t}=Le.useContext(es);return t?zT():AT()}function AT(){Zl()||Pr(!1);let t=Le.useContext(Dm),{basename:n,future:o,navigator:i}=Le.useContext(Ji),{matches:p}=Le.useContext(es),{pathname:m}=Lf(),w=JSON.stringify(P_(p,o.v7_relativeSplatPath)),r=Le.useRef(!1);return R_(()=>{r.current=!0}),Le.useCallback(function(y,h){if(h===void 0&&(h={}),!r.current)return;if(typeof y=="number"){i.go(y);return}let a=O_(y,JSON.parse(w),m,h.relative==="path");t==null&&n!=="/"&&(a.pathname=a.pathname==="/"?n:li([n,a.pathname])),(h.replace?i.replace:i.push)(a,h.state,h)},[n,i,w,m,t])}function I_(t,n){let{relative:o}=n===void 0?{}:n,{future:i}=Le.useContext(Ji),{matches:p}=Le.useContext(es),{pathname:m}=Lf(),w=JSON.stringify(P_(p,i.v7_relativeSplatPath));return Le.useMemo(()=>O_(t,JSON.parse(w),m,o==="path"),[t,w,m,o])}function MT(t,n){return RT(t,n)}function RT(t,n,o,i){Zl()||Pr(!1);let{navigator:p}=Le.useContext(Ji),{matches:m}=Le.useContext(es),w=m[m.length-1],r=w?w.params:{};w&&w.pathname;let E=w?w.pathnameBase:"/";w&&w.route;let y=Lf(),h;if(n){var a;let f=typeof n=="string"?ha(n):n;E==="/"||(a=f.pathname)!=null&&a.startsWith(E)||Pr(!1),h=f}else h=y;let c=h.pathname||"/",x=c;if(E!=="/"){let f=E.replace(/^\//,"").split("/");x="/"+c.replace(/^\//,"").split("/").slice(f.length).join("/")}let S=aT(t,{pathname:x}),l=NT(S&&S.map(f=>Object.assign({},f,{params:Object.assign({},r,f.params),pathname:li([E,p.encodeLocation?p.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?E:li([E,p.encodeLocation?p.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),m,o,i);return n&&l?Le.createElement(Rf.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Zo.Pop}},l):l}function LT(){let t=VT(),n=kT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),o=t instanceof Error?t.stack:null,p={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Le.createElement(Le.Fragment,null,Le.createElement("h2",null,"Unexpected Application Error!"),Le.createElement("h3",{style:{fontStyle:"italic"}},n),o?Le.createElement("pre",{style:p},o):null,null)}const IT=Le.createElement(LT,null);class DT extends Le.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,o){return o.location!==n.location||o.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:o.error,location:o.location,revalidation:n.revalidation||o.revalidation}}componentDidCatch(n,o){console.error("React Router caught the following error during render",n,o)}render(){return this.state.error!==void 0?Le.createElement(es.Provider,{value:this.props.routeContext},Le.createElement(M_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FT(t){let{routeContext:n,match:o,children:i}=t,p=Le.useContext(Dm);return p&&p.static&&p.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(p.staticContext._deepestRenderedBoundaryId=o.route.id),Le.createElement(es.Provider,{value:n},i)}function NT(t,n,o,i){var p;if(n===void 0&&(n=[]),o===void 0&&(o=null),i===void 0&&(i=null),t==null){var m;if((m=o)!=null&&m.errors)t=o.matches;else return null}let w=t,r=(p=o)==null?void 0:p.errors;if(r!=null){let h=w.findIndex(a=>a.route.id&&(r==null?void 0:r[a.route.id])!==void 0);h>=0||Pr(!1),w=w.slice(0,Math.min(w.length,h+1))}let E=!1,y=-1;if(o&&i&&i.v7_partialHydration)for(let h=0;h<w.length;h++){let a=w[h];if((a.route.HydrateFallback||a.route.hydrateFallbackElement)&&(y=h),a.route.id){let{loaderData:c,errors:x}=o,S=a.route.loader&&c[a.route.id]===void 0&&(!x||x[a.route.id]===void 0);if(a.route.lazy||S){E=!0,y>=0?w=w.slice(0,y+1):w=[w[0]];break}}}return w.reduceRight((h,a,c)=>{let x,S=!1,l=null,f=null;o&&(x=r&&a.route.id?r[a.route.id]:void 0,l=a.route.errorElement||IT,E&&(y<0&&c===0?(S=!0,f=null):y===c&&(S=!0,f=a.route.hydrateFallbackElement||null)));let u=n.concat(w.slice(0,c+1)),s=()=>{let d;return x?d=l:S?d=f:a.route.Component?d=Le.createElement(a.route.Component,null):a.route.element?d=a.route.element:d=h,Le.createElement(FT,{match:a,routeContext:{outlet:h,matches:u,isDataRoute:o!=null},children:d})};return o&&(a.route.ErrorBoundary||a.route.errorElement||c===0)?Le.createElement(DT,{location:o.location,revalidation:o.revalidation,component:l,error:x,children:s(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):s()},null)}var D_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(D_||{}),Jc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jc||{});function BT(t){let n=Le.useContext(Dm);return n||Pr(!1),n}function UT(t){let n=Le.useContext(PT);return n||Pr(!1),n}function GT(t){let n=Le.useContext(es);return n||Pr(!1),n}function F_(t){let n=GT(),o=n.matches[n.matches.length-1];return o.route.id||Pr(!1),o.route.id}function VT(){var t;let n=Le.useContext(M_),o=UT(Jc.UseRouteError),i=F_(Jc.UseRouteError);return n!==void 0?n:(t=o.errors)==null?void 0:t[i]}function zT(){let{router:t}=BT(D_.UseNavigateStable),n=F_(Jc.UseNavigateStable),o=Le.useRef(!1);return R_(()=>{o.current=!0}),Le.useCallback(function(p,m){m===void 0&&(m={}),o.current&&(typeof p=="number"?t.navigate(p):t.navigate(p,Ll({fromRouteId:n},m)))},[t,n])}function nn(t){Pr(!1)}function $T(t){let{basename:n="/",children:o=null,location:i,navigationType:p=Zo.Pop,navigator:m,static:w=!1,future:r}=t;Zl()&&Pr(!1);let E=n.replace(/^\/*/,"/"),y=Le.useMemo(()=>({basename:E,navigator:m,static:w,future:Ll({v7_relativeSplatPath:!1},r)}),[E,r,m,w]);typeof i=="string"&&(i=ha(i));let{pathname:h="/",search:a="",hash:c="",state:x=null,key:S="default"}=i,l=Le.useMemo(()=>{let f=Im(h,E);return f==null?null:{location:{pathname:f,search:a,hash:c,state:x,key:S},navigationType:p}},[E,h,a,c,x,S,p]);return l==null?null:Le.createElement(Ji.Provider,{value:y},Le.createElement(Rf.Provider,{children:o,value:l}))}function WT(t){let{children:n,location:o}=t;return MT(mp(n),o)}new Promise(()=>{});function mp(t,n){n===void 0&&(n=[]);let o=[];return Le.Children.forEach(t,(i,p)=>{if(!Le.isValidElement(i))return;let m=[...n,p];if(i.type===Le.Fragment){o.push.apply(o,mp(i.props.children,m));return}i.type!==nn&&Pr(!1),!i.props.index||!i.props.children||Pr(!1);let w={id:i.props.id||m.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(w.children=mp(i.props.children,m)),o.push(w)}),o}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},yp.apply(this,arguments)}function HT(t,n){if(t==null)return{};var o={},i=Object.keys(t),p,m;for(m=0;m<i.length;m++)p=i[m],!(n.indexOf(p)>=0)&&(o[p]=t[p]);return o}function qT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XT(t,n){return t.button===0&&(!n||n==="_self")&&!qT(t)}const YT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],KT="6";try{window.__reactRouterVersion=KT}catch{}const ZT="startTransition",ov=q2[ZT];function QT(t){let{basename:n,children:o,future:i,window:p}=t,m=Le.useRef();m.current==null&&(m.current=oT({window:p,v5Compat:!0}));let w=m.current,[r,E]=Le.useState({action:w.action,location:w.location}),{v7_startTransition:y}=i||{},h=Le.useCallback(a=>{y&&ov?ov(()=>E(a)):E(a)},[E,y]);return Le.useLayoutEffect(()=>w.listen(h),[w,h]),Le.createElement($T,{basename:n,children:o,location:r.location,navigationType:r.action,navigator:w,future:i})}const JT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xo=Le.forwardRef(function(n,o){let{onClick:i,relative:p,reloadDocument:m,replace:w,state:r,target:E,to:y,preventScrollReset:h,unstable_viewTransition:a}=n,c=HT(n,YT),{basename:x}=Le.useContext(Ji),S,l=!1;if(typeof y=="string"&&eE.test(y)&&(S=y,JT))try{let d=new URL(window.location.href),g=y.startsWith("//")?new URL(d.protocol+y):new URL(y),_=Im(g.pathname,x);g.origin===d.origin&&_!=null?y=_+g.search+g.hash:l=!0}catch{}let f=OT(y,{relative:p}),u=tE(y,{replace:w,state:r,target:E,preventScrollReset:h,relative:p,unstable_viewTransition:a});function s(d){i&&i(d),d.defaultPrevented||u(d)}return Le.createElement("a",yp({},c,{href:S||f,onClick:l||m?i:s,ref:o,target:E}))});var iv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iv||(iv={}));var sv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sv||(sv={}));function tE(t,n){let{target:o,replace:i,state:p,preventScrollReset:m,relative:w,unstable_viewTransition:r}=n===void 0?{}:n,E=L_(),y=Lf(),h=I_(t,{relative:w});return Le.useCallback(a=>{if(XT(a,o)){a.preventDefault();let c=i!==void 0?i:Qc(y)===Qc(h);E(t,{replace:c,state:p,preventScrollReset:m,relative:w,unstable_viewTransition:r})}},[y,E,h,i,p,o,t,m,w,r])}const rE=async t=>{try{const n=await fetch("http://localhost:3977/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n.ok){const o=await n.json();return console.log("Inicio de sesin exitoso:",o),{success:!0,token:o.token,user:o.user}}else return console.error("Error en el inicio de sesin"),{success:!1,error:"Error en el inicio de sesin"}}catch(n){return console.error("Error en la solicitud:",n),{success:!1,error:"Error en la solicitud"}}},nE=async()=>{try{const t=localStorage.getItem("token"),n=await fetch("http://localhost:3977/users/profile",{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(n.ok){const o=await n.json();return console.log("Perfil del usuario:",o),o.user}else console.error("Error al obtener el perfil del usuario")}catch(t){console.error("Error en la solicitud:",t)}},If=Le.createContext(),oE=({children:t})=>{const[n,o]=Le.useState(null);Le.useEffect(()=>{localStorage.getItem("token")&&nE().then(r=>o(r))},[]);const i=()=>n!==null,p=w=>{o(w)},m=()=>{o(null),localStorage.removeItem("token")};return Oe.jsx(If.Provider,{value:{user:n,isLoggedIn:i,login:p,logout:m},children:t})},iE=()=>{const{isLoggedIn:t,logout:n}=Le.useContext(If),[o,i]=Le.useState(!1),p=()=>{i(!o),console.log("Toggle button clicked. isOpen:",o)},m=()=>{i(!1)},w=()=>{n()};return Oe.jsxs("nav",{className:"navbar",children:[Oe.jsx(Xo,{to:"/",className:"navbar-title",children:"HOLOGRAMA"}),Oe.jsx("button",{className:"navbar-toggle",onClick:p,children:""}),Oe.jsx("div",{className:`navbar-center ${o?"open":""}`,children:Oe.jsxs("ul",{className:`navbar-menu ${o?"open":""}`,children:[Oe.jsx("li",{className:"navbar-item",onClick:m,children:Oe.jsx(Xo,{className:"nav-link",to:"/magazine",children:"MAGAZINE"})}),Oe.jsx("li",{className:"navbar-item",onClick:m,children:Oe.jsx(Xo,{className:"nav-link",to:"/interactives-list",children:"INTERACTIVES"})}),t()?Oe.jsxs(Oe.Fragment,{children:[Oe.jsx("li",{className:"navbar-item",onClick:m,children:Oe.jsx(Xo,{className:"nav-link",to:"/profile",children:"PROFILE"})}),Oe.jsx("li",{className:"navbar-item",onClick:m,children:Oe.jsx("button",{className:"logout-button",onClick:w,children:"LOGOUT"})})]}):Oe.jsx("li",{className:"navbar-item",onClick:m,children:Oe.jsx(Xo,{className:"nav-link",to:"/login",children:"LOGIN"})})]})})]})},sE=(t,n,o,i,p,m,w)=>{const r=n.target.files[0];if(r){const E=new FileReader;E.onloadend=()=>{const y=t.loadImage(E.result,()=>{o(y),i(!1),p(!0),m(!0),Df()});w.current=y},E.readAsDataURL(r)}},Df=()=>{const t=document.querySelector(".p5Canvas");try{t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}catch(n){console.error("Error requesting fullscreen:",n)}},aE=(t,n,o,i,p,m,w)=>{const r=t.width/2,E=t.height/2;if(t.mouseX>r-t.width/2&&t.mouseX<r+t.width/2&&t.mouseY>E-t.height/2&&t.mouseY<E+t.height/2&&o){const y={img:o,x:t.mouseX,y:t.mouseY,width:o.width*(w/o.width),height:o.height*(w/o.width)};n.current.push(y),i(!1),p(!0),m(!1)}},lE=(t,n,o,i,p,m,w)=>{const r=t.width/2,E=t.height/2;if(t.mouseX>r-t.width/2&&t.mouseX<r+t.width/2&&t.mouseY>E-t.height/2&&t.mouseY<E+t.height/2&&o){const y={img:o,x:t.mouseX,y:t.mouseY,width:o.width*(w/o.width),height:o.height*(w/o.width)};n.current.push(y),i(!1),p(!0),m(!1)}},uE=()=>{document.getElementById("imageInput").click()},cE=(t,n,o,i,p,m,w,r)=>{const E=t.mouseX-t.width/2,y=t.mouseY-t.height/2,h=o/2,a=t.loadImage(n,()=>{if(a.width!==0&&a.height!==0){i(a);const c={img:a,x:E-h,y:y-h,width:a.width*(o/a.width),height:a.height*(o/a.width)};p.current.push(c),m(!1),w(!0),r(!1)}else console.error("Error loading image.")})},fE=(t,n,o)=>{(t.key==="z"||t.key==="Z")&&t.keyIsDown(91)?n():t.key==="U"||t.key==="u"?document.getElementById("imageInput").click():o(t.key)},dE=(t,n)=>{t.metaKey&&t.key==="z"&&(n(),t.preventDefault())},th=(t,n,o)=>{for(let i=t.current.length-1;i>=0;i--)if(t.current[i].hasOwnProperty("img")){t.current.splice(i,1);break}n(!o),console.log(t.current)},hE=(t,n)=>{switch(t){case"1":n(50);break;case"2":n(150);break;case"3":n(250);break;case"4":n(500);break;case"5":n(1050);break}},N_=(t,n)=>{let o=Math.min(window.innerWidth*.8,1024),i=o*(1.9/3);window.innerWidth<780&&(o=window.innerWidth*.65,i=window.innerHeight*.9);const p=t.createCanvas(o,i);p.parent(n),p.style("display","block"),p.style("margin","auto"),p.style("user-select","none"),p.style("touch-action","none"),p.style("border","2px solid black"),p.style("border-radius","10px"),t.textFont("Array"),p.elt.addEventListener("touchstart",m=>{m.preventDefault()},{passive:!1}),t.background(255,215,235),t.frameRate(60)},pE=(t,n,o,i,p,m,w,r,E,y,h)=>{if(t.background(255),h?t.cursor("crosshair"):t.cursor("default"),n){if(t.frameCount%30<15){t.fill(0),t.textAlign(t.CENTER);const a=t.width<600?20:35;t.textSize(a),t.textFont("Array"),t.text("PRESS U TO LOAD IMAGES",t.width/2,t.height/2+a/2)}}else{if(o&&!i&&p.current.length===0&&t.frameCount%30<15){t.fill(0),t.textAlign(t.CENTER);const a=t.width<600?20:35;t.textSize(a),t.textFont("Array"),t.text("CLICK INSIDE THE CANVAS",t.width/2,t.height/2+a/2)}for(let a=0;a<p.current.length;a++){const{img:c,x,y:S,width:l,height:f}=p.current[a];t.image(c,x-l/2,S-f/2,l,f)}if(m&&w&&t.mouseIsPressed){const a={img:w,x:t.mouseX,y:t.mouseY,width:w.width*(y/w.width),height:w.height*(y/w.width)};p.current.push(a),i||(r(!1),E(!0))}}};var B_={exports:{}};(function(t,n){(function(o,i){t.exports=i(Le)})(qa,function(o){return function(i){var p={};function m(w){if(p[w])return p[w].exports;var r=p[w]={i:w,l:!1,exports:{}};return i[w].call(r.exports,r,r.exports,m),r.l=!0,r.exports}return m.m=i,m.c=p,m.d=function(w,r,E){m.o(w,r)||Object.defineProperty(w,r,{enumerable:!0,get:E})},m.r=function(w){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},m.t=function(w,r){if(1&r&&(w=m(w)),8&r||4&r&&typeof w=="object"&&w&&w.__esModule)return w;var E=Object.create(null);if(m.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:w}),2&r&&typeof w!="string")for(var y in w)m.d(E,y,(function(h){return w[h]}).bind(null,y));return E},m.n=function(w){var r=w&&w.__esModule?function(){return w.default}:function(){return w};return m.d(r,"a",r),r},m.o=function(w,r){return Object.prototype.hasOwnProperty.call(w,r)},m.p="",m(m.s=2)}([function(i,p){i.exports=o},function(i,p,m){(function(w){(function(r){i.exports=r()})(function(){return function r(E,y,h){function a(S,l){if(!y[S]){if(!E[S]){var f=!1;if(!l&&f)return(void 0)(S,!0);if(c)return c(S,!0);throw(l=new Error("Cannot find module '"+S+"'")).code="MODULE_NOT_FOUND",l}f=y[S]={exports:{}},E[S][0].call(f.exports,function(u){return a(E[S][1][u]||u)},f,f.exports,r,E,y,h)}return y[S].exports}for(var c=!1,x=0;x<h.length;x++)a(h[x]);return a}({1:[function(r,E,y){y.byteLength=function(u){return 3*((u=f(u))[0]+(u=u[1]))/4-u},y.toByteArray=function(u){var s,d,g=(_=f(u))[0],_=_[1],v=new c(function(C,L){return 3*(C+L)/4-L}(g,_)),j=0,T=0<_?g-4:g;for(d=0;d<T;d+=4)s=a[u.charCodeAt(d)]<<18|a[u.charCodeAt(d+1)]<<12|a[u.charCodeAt(d+2)]<<6|a[u.charCodeAt(d+3)],v[j++]=s>>16&255,v[j++]=s>>8&255,v[j++]=255&s;return _===2&&(s=a[u.charCodeAt(d)]<<2|a[u.charCodeAt(d+1)]>>4,v[j++]=255&s),_===1&&(s=a[u.charCodeAt(d)]<<10|a[u.charCodeAt(d+1)]<<4|a[u.charCodeAt(d+2)]>>2,v[j++]=s>>8&255,v[j++]=255&s),v},y.fromByteArray=function(u){for(var s,d=u.length,g=d%3,_=[],v=0,j=d-g;v<j;v+=16383)_.push(function(T,C,L){for(var R,P=[],B=C;B<L;B+=3)R=(T[B]<<16&16711680)+(T[B+1]<<8&65280)+(255&T[B+2]),P.push(function(M){return h[M>>18&63]+h[M>>12&63]+h[M>>6&63]+h[63&M]}(R));return P.join("")}(u,v,j<v+16383?j:v+16383));return g==1?(s=u[d-1],_.push(h[s>>2]+h[s<<4&63]+"==")):g==2&&(s=(u[d-2]<<8)+u[d-1],_.push(h[s>>10]+h[s>>4&63]+h[s<<2&63]+"=")),_.join("")};for(var h=[],a=[],c=typeof Uint8Array<"u"?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,l=x.length;S<l;++S)h[S]=x[S],a[x.charCodeAt(S)]=S;function f(u){var s=u.length;if(0<s%4)throw new Error("Invalid string. Length must be a multiple of 4");return s=(u=(u=u.indexOf("="))===-1?s:u)===s?0:4-u%4,[u,s]}a[45]=62,a[95]=63},{}],2:[function(r,E,y){},{}],3:[function(r,E,y){arguments[4][2][0].apply(y,arguments)},{dup:2}],4:[function(r,E,y){(function(f){var a=r("base64-js"),c=r("ieee754"),x=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,S=(y.Buffer=f,y.SlowBuffer=function(H){return+H!=H&&(H=0),f.alloc(+H)},y.INSPECT_MAX_BYTES=50,2147483647);function l(H){if(S<H)throw new RangeError('The value "'+H+'" is invalid for option "size"');return H=new Uint8Array(H),Object.setPrototypeOf(H,f.prototype),H}function f(H,X,te){if(typeof H!="number")return u(H,X,te);if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(H)}function u(H,X,te){if(typeof H=="string"){var ue=H,ce=X;if(f.isEncoding(ce=typeof ce=="string"&&ce!==""?ce:"utf8"))return(ue=(ne=l(he=0|v(ue,ce))).write(ue,ce))!==he?ne.slice(0,ue):ne;throw new TypeError("Unknown encoding: "+ce)}if(ArrayBuffer.isView(H))return g(H);if(H!=null){if(le(H,ArrayBuffer)||H&&le(H.buffer,ArrayBuffer)){var he=H,ne=te;if((ue=X)<0||he.byteLength<ue)throw new RangeError('"offset" is outside of buffer bounds');if(he.byteLength<ue+(ne||0))throw new RangeError('"length" is outside of buffer bounds');return he=ue===void 0&&ne===void 0?new Uint8Array(he):ne===void 0?new Uint8Array(he,ue):new Uint8Array(he,ue,ne),Object.setPrototypeOf(he,f.prototype),he}if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if((ce=H.valueOf&&H.valueOf())!=null&&ce!==H)return f.from(ce,X,te);var me=function(_e){var Te,ve;return f.isBuffer(_e)?((ve=l(Te=0|_(_e.length))).length!==0&&_e.copy(ve,0,0,Te),ve):_e.length!==void 0?typeof _e.length!="number"||ae(_e.length)?l(0):g(_e):_e.type==="Buffer"&&Array.isArray(_e.data)?g(_e.data):void 0}(H);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return f.from(H[Symbol.toPrimitive]("string"),X,te)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}function s(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function d(H){return s(H),l(H<0?0:0|_(H))}function g(H){for(var X=H.length<0?0:0|_(H.length),te=l(X),ue=0;ue<X;ue+=1)te[ue]=255&H[ue];return te}function _(H){if(S<=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return 0|H}function v(H,X){if(f.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||le(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var te=H.length,ue=2<arguments.length&&arguments[2]===!0;if(!ue&&te===0)return 0;for(var ce=!1;;)switch(X){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return Z(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*te;case"hex":return te>>>1;case"base64":return J(H).length;default:if(ce)return ue?-1:Z(H).length;X=(""+X).toLowerCase(),ce=!0}}function j(H,X,te){var ue,ce=!1;if((X=X===void 0||X<0?0:X)>this.length||(te=te===void 0||te>this.length?this.length:te)<=0||(te>>>=0)<=(X>>>=0))return"";for(H=H||"utf8";;)switch(H){case"hex":var he=X,ne=te,me=this.length;(!ne||ne<0||me<ne)&&(ne=me);for(var _e="",Te=he=!he||he<0?0:he;Te<ne;++Te)_e+=fe[this[Te]];return _e;case"utf8":case"utf-8":return B(this,X,te);case"ascii":me=X;var ve=te,je="";ve=Math.min(this.length,ve);for(var Ae=me;Ae<ve;++Ae)je+=String.fromCharCode(127&this[Ae]);return je;case"latin1":case"binary":he=X;var Ve=te,De="";Ve=Math.min(this.length,Ve);for(var He=he;He<Ve;++He)De+=String.fromCharCode(this[He]);return De;case"base64":return tt=this,ue=te,(rt=X)===0&&ue===tt.length?a.fromByteArray(tt):a.fromByteArray(tt.slice(rt,ue));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var tt=X,rt=te,wt=this.slice(tt,rt),st="",ge=0;ge<wt.length;ge+=2)st+=String.fromCharCode(wt[ge]+256*wt[ge+1]);return st;default:if(ce)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),ce=!0}}function T(H,X,te){var ue=H[X];H[X]=H[te],H[te]=ue}function C(H,X,te,ue,ce){if(H.length===0)return-1;if(typeof te=="string"?(ue=te,te=0):2147483647<te?te=2147483647:te<-2147483648&&(te=-2147483648),(te=(te=ae(te=+te)?ce?0:H.length-1:te)<0?H.length+te:te)>=H.length){if(ce)return-1;te=H.length-1}else if(te<0){if(!ce)return-1;te=0}if(typeof X=="string"&&(X=f.from(X,ue)),f.isBuffer(X))return X.length===0?-1:L(H,X,te,ue,ce);if(typeof X=="number")return X&=255,typeof Uint8Array.prototype.indexOf=="function"?(ce?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(H,X,te):L(H,[X],te,ue,ce);throw new TypeError("val must be string, number or Buffer")}function L(H,X,te,ue,ce){var he=1,ne=H.length,me=X.length;if(ue!==void 0&&((ue=String(ue).toLowerCase())==="ucs2"||ue==="ucs-2"||ue==="utf16le"||ue==="utf-16le")){if(H.length<2||X.length<2)return-1;ne/=he=2,me/=2,te/=2}function _e(Ve,De){return he===1?Ve[De]:Ve.readUInt16BE(De*he)}if(ce)for(var Te=-1,ve=te;ve<ne;ve++)if(_e(H,ve)===_e(X,Te===-1?0:ve-Te)){if(ve-(Te=Te===-1?ve:Te)+1===me)return Te*he}else Te!==-1&&(ve-=ve-Te),Te=-1;else for(ve=te=ne<te+me?ne-me:te;0<=ve;ve--){for(var je=!0,Ae=0;Ae<me;Ae++)if(_e(H,ve+Ae)!==_e(X,Ae)){je=!1;break}if(je)return ve}return-1}function R(H,X,te,ue){return ee(function(ce){for(var he=[],ne=0;ne<ce.length;++ne)he.push(255&ce.charCodeAt(ne));return he}(X),H,te,ue)}function P(H,X,te,ue){return ee(function(ce,he){for(var ne,me,_e=[],Te=0;Te<ce.length&&!((he-=2)<0);++Te)ne=(me=ce.charCodeAt(Te))>>8,me%=256,_e.push(me),_e.push(ne);return _e}(X,H.length-te),H,te,ue)}function B(H,X,te){te=Math.min(H.length,te);for(var ue=[],ce=X;ce<te;){var he,ne,me,_e,Te=H[ce],ve=null,je=239<Te?4:223<Te?3:191<Te?2:1;if(ce+je<=te)switch(je){case 1:Te<128&&(ve=Te);break;case 2:(192&(he=H[ce+1]))==128&&127<(_e=(31&Te)<<6|63&he)&&(ve=_e);break;case 3:he=H[ce+1],ne=H[ce+2],(192&he)==128&&(192&ne)==128&&2047<(_e=(15&Te)<<12|(63&he)<<6|63&ne)&&(_e<55296||57343<_e)&&(ve=_e);break;case 4:he=H[ce+1],ne=H[ce+2],me=H[ce+3],(192&he)==128&&(192&ne)==128&&(192&me)==128&&65535<(_e=(15&Te)<<18|(63&he)<<12|(63&ne)<<6|63&me)&&_e<1114112&&(ve=_e)}ve===null?(ve=65533,je=1):65535<ve&&(ve-=65536,ue.push(ve>>>10&1023|55296),ve=56320|1023&ve),ue.push(ve),ce+=je}var Ae=ue,Ve=Ae.length;if(Ve<=M)return String.fromCharCode.apply(String,Ae);for(var De="",He=0;He<Ve;)De+=String.fromCharCode.apply(String,Ae.slice(He,He+=M));return De}y.kMaxLength=S,(f.TYPED_ARRAY_SUPPORT=function(){try{var H=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(H,X),H.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=u,Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(H,X,te){return X=X,te=te,s(H=H),H<=0||X===void 0?l(H):typeof te=="string"?l(H).fill(X,te):l(H).fill(X)},f.allocUnsafe=d,f.allocUnsafeSlow=d,f.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==f.prototype},f.compare=function(H,X){if(le(H,Uint8Array)&&(H=f.from(H,H.offset,H.byteLength)),le(X,Uint8Array)&&(X=f.from(X,X.offset,X.byteLength)),!f.isBuffer(H)||!f.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===X)return 0;for(var te=H.length,ue=X.length,ce=0,he=Math.min(te,ue);ce<he;++ce)if(H[ce]!==X[ce]){te=H[ce],ue=X[ce];break}return te<ue?-1:ue<te?1:0},f.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(H,X){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return f.alloc(0);if(X===void 0)for(ce=X=0;ce<H.length;++ce)X+=H[ce].length;for(var te=f.allocUnsafe(X),ue=0,ce=0;ce<H.length;++ce){var he=H[ce];if(le(he,Uint8Array)&&(he=f.from(he)),!f.isBuffer(he))throw new TypeError('"list" argument must be an Array of Buffers');he.copy(te,ue),ue+=he.length}return te},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var X=0;X<H;X+=2)T(this,X,X+1);return this},f.prototype.swap32=function(){var H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var X=0;X<H;X+=4)T(this,X,X+3),T(this,X+1,X+2);return this},f.prototype.swap64=function(){var H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var X=0;X<H;X+=8)T(this,X,X+7),T(this,X+1,X+6),T(this,X+2,X+5),T(this,X+3,X+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var H=this.length;return H===0?"":arguments.length===0?B(this,0,H):j.apply(this,arguments)},f.prototype.equals=function(H){if(f.isBuffer(H))return this===H||f.compare(this,H)===0;throw new TypeError("Argument must be a Buffer")},f.prototype.inspect=function(){var H="",X=y.INSPECT_MAX_BYTES;return H=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X&&(H+=" ... "),"<Buffer "+H+">"},x&&(f.prototype[x]=f.prototype.inspect),f.prototype.compare=function(H,X,te,ue,ce){if(le(H,Uint8Array)&&(H=f.from(H,H.offset,H.byteLength)),!f.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(te===void 0&&(te=H?H.length:0),ue===void 0&&(ue=0),ce===void 0&&(ce=this.length),(X=X===void 0?0:X)<0||te>H.length||ue<0||ce>this.length)throw new RangeError("out of range index");if(ce<=ue&&te<=X)return 0;if(ce<=ue)return-1;if(te<=X)return 1;if(this===H)return 0;for(var he=(ce>>>=0)-(ue>>>=0),ne=(te>>>=0)-(X>>>=0),me=Math.min(he,ne),_e=this.slice(ue,ce),Te=H.slice(X,te),ve=0;ve<me;++ve)if(_e[ve]!==Te[ve]){he=_e[ve],ne=Te[ve];break}return he<ne?-1:ne<he?1:0},f.prototype.includes=function(H,X,te){return this.indexOf(H,X,te)!==-1},f.prototype.indexOf=function(H,X,te){return C(this,H,X,te,!0)},f.prototype.lastIndexOf=function(H,X,te){return C(this,H,X,te,!1)},f.prototype.write=function(H,X,te,ue){if(X===void 0)ue="utf8",te=this.length,X=0;else if(te===void 0&&typeof X=="string")ue=X,te=this.length,X=0;else{if(!isFinite(X))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");X>>>=0,isFinite(te)?(te>>>=0,ue===void 0&&(ue="utf8")):(ue=te,te=void 0)}var ce=this.length-X;if((te===void 0||ce<te)&&(te=ce),0<H.length&&(te<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue=ue||"utf8";for(var he,ne,me,_e=!1;;)switch(ue){case"hex":var Te=H,ve=X,je=te,Ae=(ve=Number(ve)||0,this.length-ve);(!je||Ae<(je=Number(je)))&&(je=Ae),(Ae=Te.length)/2<je&&(je=Ae/2);for(var Ve=0;Ve<je;++Ve){var De=parseInt(Te.substr(2*Ve,2),16);if(ae(De))return Ve;this[ve+Ve]=De}return Ve;case"utf8":case"utf-8":return Ae=X,me=te,ee(Z(H,(ne=this).length-Ae),ne,Ae,me);case"ascii":return R(this,H,X,te);case"latin1":case"binary":return R(this,H,X,te);case"base64":return ne=this,me=X,he=te,ee(J(H),ne,me,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,H,X,te);default:if(_e)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),_e=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function U(H,X,te){if(H%1!=0||H<0)throw new RangeError("offset is not uint");if(te<H+X)throw new RangeError("Trying to access beyond buffer length")}function V(H,X,te,ue,ce,he){if(!f.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(ce<X||X<he)throw new RangeError('"value" argument is out of bounds');if(te+ue>H.length)throw new RangeError("Index out of range")}function $(H,X,te,ue){if(te+ue>H.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function G(H,X,te,ue,ce){return X=+X,te>>>=0,ce||$(H,0,te,4),c.write(H,X,te,ue,23,4),te+4}function I(H,X,te,ue,ce){return X=+X,te>>>=0,ce||$(H,0,te,8),c.write(H,X,te,ue,52,8),te+8}f.prototype.slice=function(H,X){var te=this.length;return(H=~~H)<0?(H+=te)<0&&(H=0):te<H&&(H=te),(X=X===void 0?te:~~X)<0?(X+=te)<0&&(X=0):te<X&&(X=te),X<H&&(X=H),te=this.subarray(H,X),Object.setPrototypeOf(te,f.prototype),te},f.prototype.readUIntLE=function(H,X,te){H>>>=0,X>>>=0,te||U(H,X,this.length);for(var ue=this[H],ce=1,he=0;++he<X&&(ce*=256);)ue+=this[H+he]*ce;return ue},f.prototype.readUIntBE=function(H,X,te){H>>>=0,X>>>=0,te||U(H,X,this.length);for(var ue=this[H+--X],ce=1;0<X&&(ce*=256);)ue+=this[H+--X]*ce;return ue},f.prototype.readUInt8=function(H,X){return H>>>=0,X||U(H,1,this.length),this[H]},f.prototype.readUInt16LE=function(H,X){return H>>>=0,X||U(H,2,this.length),this[H]|this[H+1]<<8},f.prototype.readUInt16BE=function(H,X){return H>>>=0,X||U(H,2,this.length),this[H]<<8|this[H+1]},f.prototype.readUInt32LE=function(H,X){return H>>>=0,X||U(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},f.prototype.readUInt32BE=function(H,X){return H>>>=0,X||U(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},f.prototype.readIntLE=function(H,X,te){H>>>=0,X>>>=0,te||U(H,X,this.length);for(var ue=this[H],ce=1,he=0;++he<X&&(ce*=256);)ue+=this[H+he]*ce;return(ce*=128)<=ue&&(ue-=Math.pow(2,8*X)),ue},f.prototype.readIntBE=function(H,X,te){H>>>=0,X>>>=0,te||U(H,X,this.length);for(var ue=X,ce=1,he=this[H+--ue];0<ue&&(ce*=256);)he+=this[H+--ue]*ce;return(ce*=128)<=he&&(he-=Math.pow(2,8*X)),he},f.prototype.readInt8=function(H,X){return H>>>=0,X||U(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},f.prototype.readInt16LE=function(H,X){return H>>>=0,X||U(H,2,this.length),32768&(X=this[H]|this[H+1]<<8)?4294901760|X:X},f.prototype.readInt16BE=function(H,X){return H>>>=0,X||U(H,2,this.length),32768&(X=this[H+1]|this[H]<<8)?4294901760|X:X},f.prototype.readInt32LE=function(H,X){return H>>>=0,X||U(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},f.prototype.readInt32BE=function(H,X){return H>>>=0,X||U(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},f.prototype.readFloatLE=function(H,X){return H>>>=0,X||U(H,4,this.length),c.read(this,H,!0,23,4)},f.prototype.readFloatBE=function(H,X){return H>>>=0,X||U(H,4,this.length),c.read(this,H,!1,23,4)},f.prototype.readDoubleLE=function(H,X){return H>>>=0,X||U(H,8,this.length),c.read(this,H,!0,52,8)},f.prototype.readDoubleBE=function(H,X){return H>>>=0,X||U(H,8,this.length),c.read(this,H,!1,52,8)},f.prototype.writeUIntLE=function(H,X,te,ue){H=+H,X>>>=0,te>>>=0,ue||V(this,H,X,te,Math.pow(2,8*te)-1,0);var ce=1,he=0;for(this[X]=255&H;++he<te&&(ce*=256);)this[X+he]=H/ce&255;return X+te},f.prototype.writeUIntBE=function(H,X,te,ue){H=+H,X>>>=0,te>>>=0,ue||V(this,H,X,te,Math.pow(2,8*te)-1,0);var ce=te-1,he=1;for(this[X+ce]=255&H;0<=--ce&&(he*=256);)this[X+ce]=H/he&255;return X+te},f.prototype.writeUInt8=function(H,X,te){return H=+H,X>>>=0,te||V(this,H,X,1,255,0),this[X]=255&H,X+1},f.prototype.writeUInt16LE=function(H,X,te){return H=+H,X>>>=0,te||V(this,H,X,2,65535,0),this[X]=255&H,this[X+1]=H>>>8,X+2},f.prototype.writeUInt16BE=function(H,X,te){return H=+H,X>>>=0,te||V(this,H,X,2,65535,0),this[X]=H>>>8,this[X+1]=255&H,X+2},f.prototype.writeUInt32LE=function(H,X,te){return H=+H,X>>>=0,te||V(this,H,X,4,4294967295,0),this[X+3]=H>>>24,this[X+2]=H>>>16,this[X+1]=H>>>8,this[X]=255&H,X+4},f.prototype.writeUInt32BE=function(H,X,te){return H=+H,X>>>=0,te||V(this,H,X,4,4294967295,0),this[X]=H>>>24,this[X+1]=H>>>16,this[X+2]=H>>>8,this[X+3]=255&H,X+4},f.prototype.writeIntLE=function(H,X,te,ue){H=+H,X>>>=0,ue||V(this,H,X,te,(ue=Math.pow(2,8*te-1))-1,-ue);var ce=0,he=1,ne=0;for(this[X]=255&H;++ce<te&&(he*=256);)H<0&&ne===0&&this[X+ce-1]!==0&&(ne=1),this[X+ce]=(H/he>>0)-ne&255;return X+te},f.prototype.writeIntBE=function(H,X,te,ue){H=+H,X>>>=0,ue||V(this,H,X,te,(ue=Math.pow(2,8*te-1))-1,-ue);var ce=te-1,he=1,ne=0;for(this[X+ce]=255&H;0<=--ce&&(he*=256);)H<0&&ne===0&&this[X+ce+1]!==0&&(ne=1),this[X+ce]=(H/he>>0)-ne&255;return X+te},f.prototype.writeInt8=function(H,X,te){return H=+H,X>>>=0,te||V(this,H,X,1,127,-128),this[X]=255&(H=H<0?255+H+1:H),X+1},f.prototype.writeInt16LE=function(H,X,te){return H=+H,X>>>=0,te||V(this,H,X,2,32767,-32768),this[X]=255&H,this[X+1]=H>>>8,X+2},f.prototype.writeInt16BE=function(H,X,te){return H=+H,X>>>=0,te||V(this,H,X,2,32767,-32768),this[X]=H>>>8,this[X+1]=255&H,X+2},f.prototype.writeInt32LE=function(H,X,te){return H=+H,X>>>=0,te||V(this,H,X,4,2147483647,-2147483648),this[X]=255&H,this[X+1]=H>>>8,this[X+2]=H>>>16,this[X+3]=H>>>24,X+4},f.prototype.writeInt32BE=function(H,X,te){return H=+H,X>>>=0,te||V(this,H,X,4,2147483647,-2147483648),this[X]=(H=H<0?4294967295+H+1:H)>>>24,this[X+1]=H>>>16,this[X+2]=H>>>8,this[X+3]=255&H,X+4},f.prototype.writeFloatLE=function(H,X,te){return G(this,H,X,!0,te)},f.prototype.writeFloatBE=function(H,X,te){return G(this,H,X,!1,te)},f.prototype.writeDoubleLE=function(H,X,te){return I(this,H,X,!0,te)},f.prototype.writeDoubleBE=function(H,X,te){return I(this,H,X,!1,te)},f.prototype.copy=function(H,X,te,ue){if(!f.isBuffer(H))throw new TypeError("argument should be a Buffer");if(te=te||0,ue||ue===0||(ue=this.length),X>=H.length&&(X=H.length),(ue=0<ue&&ue<te?te:ue)===te||H.length===0||this.length===0)return 0;if((X=X||0)<0)throw new RangeError("targetStart out of bounds");if(te<0||te>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length);var ce=(ue=H.length-X<ue-te?H.length-X+te:ue)-te;if(this===H&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(X,te,ue);else if(this===H&&te<X&&X<ue)for(var he=ce-1;0<=he;--he)H[he+X]=this[he+te];else Uint8Array.prototype.set.call(H,this.subarray(te,ue),X);return ce},f.prototype.fill=function(H,X,te,ue){if(typeof H=="string"){if(typeof X=="string"?(ue=X,X=0,te=this.length):typeof te=="string"&&(ue=te,te=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!f.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);var ce;H.length===1&&(ce=H.charCodeAt(0),(ue==="utf8"&&ce<128||ue==="latin1")&&(H=ce))}else typeof H=="number"?H&=255:typeof H=="boolean"&&(H=Number(H));if(X<0||this.length<X||this.length<te)throw new RangeError("Out of range index");var he;if(!(te<=X))if(X>>>=0,te=te===void 0?this.length:te>>>0,typeof(H=H||0)=="number")for(he=X;he<te;++he)this[he]=H;else{var ne=f.isBuffer(H)?H:f.from(H,ue),me=ne.length;if(me===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(he=0;he<te-X;++he)this[he+X]=ne[he%me]}return this};var q=/[^+/0-9A-Za-z-_]/g;function Z(H,X){X=X||1/0;for(var te,ue=H.length,ce=null,he=[],ne=0;ne<ue;++ne){if(55295<(te=H.charCodeAt(ne))&&te<57344){if(!ce){if(56319<te){-1<(X-=3)&&he.push(239,191,189);continue}if(ne+1===ue){-1<(X-=3)&&he.push(239,191,189);continue}ce=te;continue}if(te<56320){-1<(X-=3)&&he.push(239,191,189),ce=te;continue}te=65536+(ce-55296<<10|te-56320)}else ce&&-1<(X-=3)&&he.push(239,191,189);if(ce=null,te<128){if(--X<0)break;he.push(te)}else if(te<2048){if((X-=2)<0)break;he.push(te>>6|192,63&te|128)}else if(te<65536){if((X-=3)<0)break;he.push(te>>12|224,te>>6&63|128,63&te|128)}else{if(!(te<1114112))throw new Error("Invalid code point");if((X-=4)<0)break;he.push(te>>18|240,te>>12&63|128,te>>6&63|128,63&te|128)}}return he}function J(H){return a.toByteArray(function(X){if((X=(X=X.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;X.length%4!=0;)X+="=";return X}(H))}function ee(H,X,te,ue){for(var ce=0;ce<ue&&!(ce+te>=X.length||ce>=H.length);++ce)X[ce+te]=H[ce];return ce}function le(H,X){return H instanceof X||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===X.name}function ae(H){return H!=H}var fe=function(){for(var H="0123456789abcdef",X=new Array(256),te=0;te<16;++te)for(var ue=16*te,ce=0;ce<16;++ce)X[ue+ce]=H[te]+H[ce];return X}()}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:244}],5:[function(r,E,y){E.exports=function(h){if(typeof h!="function")throw TypeError(String(h)+" is not a function");return h}},{}],6:[function(r,E,y){var h=r("../internals/is-object");E.exports=function(a){if(h(a)||a===null)return a;throw TypeError("Can't set "+String(a)+" as a prototype")}},{"../internals/is-object":74}],7:[function(r,E,y){var h=r("../internals/well-known-symbol"),a=r("../internals/object-create"),c=(r=r("../internals/object-define-property"),h("unscopables")),x=Array.prototype;x[c]==null&&r.f(x,c,{configurable:!0,value:a(null)}),E.exports=function(S){x[c][S]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(r,E,y){var h=r("../internals/string-multibyte").charAt;E.exports=function(a,c,x){return c+(x?h(a,c).length:1)}},{"../internals/string-multibyte":123}],9:[function(r,E,y){E.exports=function(h,a,c){if(h instanceof a)return h;throw TypeError("Incorrect "+(c?c+" ":"")+"invocation")}},{}],10:[function(r,E,y){var h=r("../internals/is-object");E.exports=function(a){if(h(a))return a;throw TypeError(String(a)+" is not an object")}},{"../internals/is-object":74}],11:[function(r,E,y){E.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(r,E,y){function h(G){return l(G)&&f($,u(G))}var a,c=r("../internals/array-buffer-native"),x=r("../internals/descriptors"),S=r("../internals/global"),l=r("../internals/is-object"),f=r("../internals/has"),u=r("../internals/classof"),s=r("../internals/create-non-enumerable-property"),d=r("../internals/redefine"),g=r("../internals/object-define-property").f,_=r("../internals/object-get-prototype-of"),v=r("../internals/object-set-prototype-of"),j=r("../internals/well-known-symbol"),T=(r=r("../internals/uid"),S.Int8Array),C=T&&T.prototype,L=(L=S.Uint8ClampedArray)&&L.prototype,R=T&&_(T),P=C&&_(C),B=Object.prototype,M=B.isPrototypeOf,U=(j=j("toStringTag"),r("TYPED_ARRAY_TAG")),V=c&&!!v&&u(S.opera)!=="Opera",$=(r=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(a in $)S[a]||(V=!1);if((!V||typeof R!="function"||R===Function.prototype)&&(R=function(){throw TypeError("Incorrect invocation")},V))for(a in $)S[a]&&v(S[a],R);if((!V||!P||P===B)&&(P=R.prototype,V))for(a in $)S[a]&&v(S[a].prototype,P);if(V&&_(L)!==P&&v(L,P),x&&!f(P,j))for(a in r=!0,g(P,j,{get:function(){return l(this)?this[U]:void 0}}),$)S[a]&&s(S[a],U,a);E.exports={NATIVE_ARRAY_BUFFER_VIEWS:V,TYPED_ARRAY_TAG:r&&U,aTypedArray:function(G){if(h(G))return G;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(G){if(v){if(M.call(R,G))return G}else for(var I in $)if(f($,a)&&(I=S[I])&&(G===I||M.call(I,G)))return G;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(G,I,q){if(x){if(q)for(var Z in $)(Z=S[Z])&&f(Z.prototype,G)&&delete Z.prototype[G];P[G]&&!q||d(P,G,!q&&V&&C[G]||I)}},exportTypedArrayStaticMethod:function(G,I,q){var Z,J;if(x){if(v){if(q)for(Z in $)(J=S[Z])&&f(J,G)&&delete J[G];if(R[G]&&!q)return;try{return d(R,G,!q&&V&&T[G]||I)}catch{}}for(Z in $)!(J=S[Z])||J[G]&&!q||d(J,G,I)}},isView:function(G){return(G=u(G))==="DataView"||f($,G)},isTypedArray:h,TypedArray:R,TypedArrayPrototype:P}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(r,E,y){function h(ve){return[255&ve]}function a(ve){return[255&ve,ve>>8&255]}function c(ve){return[255&ve,ve>>8&255,ve>>16&255,ve>>24&255]}function x(ve){return ve[3]<<24|ve[2]<<16|ve[1]<<8|ve[0]}function S(ve){return ce(ve,23,4)}function l(ve){return ce(ve,52,8)}function f(ve,je){$(ve[le],je,{get:function(){return q(this)[je]}})}function u(ve,je,Ae,Ve){if((Ae=P(Ae))+je>(ve=q(ve)).byteLength)throw ue(ae);var De=q(ve.buffer).bytes;return Ae+=ve.byteOffset,ve=De.slice(Ae,Ae+je),Ve?ve:ve.reverse()}function s(ve,je,Ae,Ve,De,He){if((Ae=P(Ae))+je>(ve=q(ve)).byteLength)throw ue(ae);for(var tt=q(ve.buffer).bytes,rt=Ae+ve.byteOffset,wt=Ve(+De),st=0;st<je;st++)tt[rt+st]=wt[He?st:je-st-1]}var d=r("../internals/global"),g=r("../internals/descriptors"),_=r("../internals/array-buffer-native"),v=r("../internals/create-non-enumerable-property"),j=r("../internals/redefine-all"),T=r("../internals/fails"),C=r("../internals/an-instance"),L=r("../internals/to-integer"),R=r("../internals/to-length"),P=r("../internals/to-index"),B=r("../internals/ieee754"),M=r("../internals/object-get-prototype-of"),U=r("../internals/object-set-prototype-of"),V=r("../internals/object-get-own-property-names").f,$=r("../internals/object-define-property").f,G=r("../internals/array-fill"),I=r("../internals/set-to-string-tag"),q=(r=r("../internals/internal-state")).get,Z=r.set,J="ArrayBuffer",ee="DataView",le="prototype",ae="Wrong index",fe=d[J],H=fe,X=d[ee],te=(r=X&&X[le],Object.prototype),ue=d.RangeError,ce=B.pack,he=B.unpack;if(_){if(!T(function(){fe(1)})||!T(function(){new fe(-1)})||T(function(){return new fe,new fe(1.5),new fe(NaN),fe.name!=J})){d=(H=function(ve){return C(this,H),new fe(P(ve))})[le]=fe[le];for(var ne,me=V(fe),_e=0;me.length>_e;)(ne=me[_e++])in H||v(H,ne,fe[ne]);d.constructor=H}U&&M(r)!==te&&U(r,te),B=new X(new H(2));var Te=r.setInt8;B.setInt8(0,2147483648),B.setInt8(1,2147483649),!B.getInt8(0)&&B.getInt8(1)||j(r,{setInt8:function(ve,je){Te.call(this,ve,je<<24>>24)},setUint8:function(ve,je){Te.call(this,ve,je<<24>>24)}},{unsafe:!0})}else H=function(ve){C(this,H,J),ve=P(ve),Z(this,{bytes:G.call(new Array(ve),0),byteLength:ve}),g||(this.byteLength=ve)},X=function(ve,je,Ae){C(this,X,ee),C(ve,H,ee);var Ve=q(ve).byteLength;if((je=L(je))<0||Ve<je)throw ue("Wrong offset");if(Ve<je+(Ae=Ae===void 0?Ve-je:R(Ae)))throw ue("Wrong length");Z(this,{buffer:ve,byteLength:Ae,byteOffset:je}),g||(this.buffer=ve,this.byteLength=Ae,this.byteOffset=je)},g&&(f(H,"byteLength"),f(X,"buffer"),f(X,"byteLength"),f(X,"byteOffset")),j(X[le],{getInt8:function(ve){return u(this,1,ve)[0]<<24>>24},getUint8:function(ve){return u(this,1,ve)[0]},getInt16:function(ve){return((ve=u(this,2,ve,1<arguments.length?arguments[1]:void 0))[1]<<8|ve[0])<<16>>16},getUint16:function(ve){return(ve=u(this,2,ve,1<arguments.length?arguments[1]:void 0))[1]<<8|ve[0]},getInt32:function(ve){return x(u(this,4,ve,1<arguments.length?arguments[1]:void 0))},getUint32:function(ve){return x(u(this,4,ve,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(ve){return he(u(this,4,ve,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(ve){return he(u(this,8,ve,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(ve,je){s(this,1,ve,h,je)},setUint8:function(ve,je){s(this,1,ve,h,je)},setInt16:function(ve,je){s(this,2,ve,a,je,2<arguments.length?arguments[2]:void 0)},setUint16:function(ve,je){s(this,2,ve,a,je,2<arguments.length?arguments[2]:void 0)},setInt32:function(ve,je){s(this,4,ve,c,je,2<arguments.length?arguments[2]:void 0)},setUint32:function(ve,je){s(this,4,ve,c,je,2<arguments.length?arguments[2]:void 0)},setFloat32:function(ve,je){s(this,4,ve,S,je,2<arguments.length?arguments[2]:void 0)},setFloat64:function(ve,je){s(this,8,ve,l,je,2<arguments.length?arguments[2]:void 0)}});I(H,J),I(X,ee),E.exports={ArrayBuffer:H,DataView:X}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(r,E,y){var h=r("../internals/to-object"),a=r("../internals/to-absolute-index"),c=r("../internals/to-length"),x=Math.min;E.exports=[].copyWithin||function(S,l){var f=h(this),u=c(f.length),s=a(S,u),d=a(l,u),g=x(((S=2<arguments.length?arguments[2]:void 0)===void 0?u:a(S,u))-d,u-s),_=1;for(d<s&&s<d+g&&(_=-1,d+=g-1,s+=g-1);0<g--;)d in f?f[s]=f[d]:delete f[s],s+=_,d+=_;return f}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(r,E,y){var h=r("../internals/to-object"),a=r("../internals/to-absolute-index"),c=r("../internals/to-length");E.exports=function(x){for(var S,l=h(this),f=c(l.length),u=a(1<(S=arguments.length)?arguments[1]:void 0,f),s=(S=2<S?arguments[2]:void 0)===void 0?f:a(S,f);u<s;)l[u++]=x;return l}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(r,E,y){var h=r("../internals/array-iteration").forEach,a=r("../internals/array-method-is-strict");r=r("../internals/array-method-uses-to-length"),a=a("forEach"),r=r("forEach"),E.exports=a&&r?[].forEach:function(c){return h(this,c,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(r,E,y){var h=r("../internals/function-bind-context"),a=r("../internals/to-object"),c=r("../internals/call-with-safe-iteration-closing"),x=r("../internals/is-array-iterator-method"),S=r("../internals/to-length"),l=r("../internals/create-property"),f=r("../internals/get-iterator-method");E.exports=function(u){var s,d,g,_,v,j,T=a(u),C=(u=typeof this=="function"?this:Array,arguments.length),L=1<C?arguments[1]:void 0,R=L!==void 0,P=f(T),B=0;if(R&&(L=h(L,2<C?arguments[2]:void 0,2)),P==null||u==Array&&x(P))for(d=new u(s=S(T.length));B<s;B++)j=R?L(T[B],B):T[B],l(d,B,j);else for(v=(_=P.call(T)).next,d=new u;!(g=v.call(_)).done;B++)j=R?c(_,L,[g.value,B],!0):g.value,l(d,B,j);return d.length=B,d}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(r,E,y){function h(S){return function(l,f,u){var s,d=a(l),g=c(d.length),_=x(u,g);if(S&&f!=f){for(;_<g;)if((s=d[_++])!=s)return!0}else for(;_<g;_++)if((S||_ in d)&&d[_]===f)return S||_||0;return!S&&-1}}var a=r("../internals/to-indexed-object"),c=r("../internals/to-length"),x=r("../internals/to-absolute-index");E.exports={includes:h(!0),indexOf:h(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(r,E,y){function h(u){var s=u==1,d=u==2,g=u==3,_=u==4,v=u==6,j=u==5||v;return function(T,C,L,R){for(var P,B,M=x(T),U=c(M),V=a(C,L,3),$=S(U.length),G=0,I=(C=R||l,s?C(T,$):d?C(T,0):void 0);G<$;G++)if((j||G in U)&&(B=V(P=U[G],G,M),u)){if(s)I[G]=B;else if(B)switch(u){case 3:return!0;case 5:return P;case 6:return G;case 2:f.call(I,P)}else if(_)return!1}return v?-1:g||_?_:I}}var a=r("../internals/function-bind-context"),c=r("../internals/indexed-object"),x=r("../internals/to-object"),S=r("../internals/to-length"),l=r("../internals/array-species-create"),f=[].push;E.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(r,E,y){var h=r("../internals/to-indexed-object"),a=r("../internals/to-integer"),c=r("../internals/to-length"),x=r("../internals/array-method-is-strict"),S=(r=r("../internals/array-method-uses-to-length"),Math.min),l=[].lastIndexOf,f=!!l&&1/[1].lastIndexOf(1,-0)<0;x=x("lastIndexOf"),r=r("indexOf",{ACCESSORS:!0,1:0}),E.exports=!f&&x&&r?l:function(u){if(f)return l.apply(this,arguments)||0;var s=h(this),d=c(s.length),g=d-1;for((g=1<arguments.length?S(g,a(arguments[1])):g)<0&&(g=d+g);0<=g;g--)if(g in s&&s[g]===u)return g||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(r,E,y){var h=r("../internals/fails"),a=r("../internals/well-known-symbol"),c=r("../internals/engine-v8-version"),x=a("species");E.exports=function(S){return 51<=c||!h(function(){var l=[];return(l.constructor={})[x]=function(){return{foo:1}},l[S](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(r,E,y){var h=r("../internals/fails");E.exports=function(a,c){var x=[][a];return!!x&&h(function(){x.call(null,c||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(r,E,y){function h(f){throw f}var a=r("../internals/descriptors"),c=r("../internals/fails"),x=r("../internals/has"),S=Object.defineProperty,l={};E.exports=function(f,u){var s,d,g,_;return x(l,f)?l[f]:(s=[][f],d=!!x(u=u||{},"ACCESSORS")&&u.ACCESSORS,g=x(u,0)?u[0]:h,_=x(u,1)?u[1]:void 0,l[f]=!!s&&!c(function(){if(d&&!a)return!0;var v={length:-1};d?S(v,1,{enumerable:!0,get:h}):v[1]=1,s.call(v,g,_)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(r,E,y){function h(l){return function(f,u,s,d){a(u);var g=c(f),_=x(g),v=S(g.length),j=l?v-1:0,T=l?-1:1;if(s<2)for(;;){if(j in _){d=_[j],j+=T;break}if(j+=T,l?j<0:v<=j)throw TypeError("Reduce of empty array with no initial value")}for(;l?0<=j:j<v;j+=T)j in _&&(d=u(d,_[j],j,g));return d}}var a=r("../internals/a-function"),c=r("../internals/to-object"),x=r("../internals/indexed-object"),S=r("../internals/to-length");E.exports={left:h(!1),right:h(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(r,E,y){var h=r("../internals/is-object"),a=r("../internals/is-array"),c=r("../internals/well-known-symbol")("species");E.exports=function(x,S){var l;return new((l=a(x)&&(typeof(l=x.constructor)=="function"&&(l===Array||a(l.prototype))||h(l)&&(l=l[c])===null)?void 0:l)===void 0?Array:l)(S===0?0:S)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(r,E,y){var h=r("../internals/an-object");E.exports=function(a,c,x,S){try{return S?c(h(x)[0],x[1]):c(x)}catch(l){throw(S=a.return)!==void 0&&h(S.call(a)),l}}},{"../internals/an-object":10}],27:[function(r,E,y){var h=r("../internals/well-known-symbol")("iterator"),a=!1;try{var c=0,x={next:function(){return{done:!!c++}},return:function(){a=!0}};x[h]=function(){return this},Array.from(x,function(){throw 2})}catch{}E.exports=function(S,l){if(!l&&!a)return!1;var f=!1;try{var u={};u[h]=function(){return{next:function(){return{done:f=!0}}}},S(u)}catch{}return f}},{"../internals/well-known-symbol":148}],28:[function(r,E,y){var h={}.toString;E.exports=function(a){return h.call(a).slice(8,-1)}},{}],29:[function(r,E,y){var h=r("../internals/to-string-tag-support"),a=r("../internals/classof-raw"),c=r("../internals/well-known-symbol")("toStringTag"),x=a(function(){return arguments}())=="Arguments";E.exports=h?a:function(S){var l;return S===void 0?"Undefined":S===null?"Null":typeof(l=function(f,u){try{return f[u]}catch{}}(S=Object(S),c))=="string"?l:x?a(S):(l=a(S))=="Object"&&typeof S.callee=="function"?"Arguments":l}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(r,E,y){var h=r("../internals/object-define-property").f,a=r("../internals/object-create"),c=r("../internals/redefine-all"),x=r("../internals/function-bind-context"),S=r("../internals/an-instance"),l=r("../internals/iterate"),f=r("../internals/define-iterator"),u=r("../internals/set-species"),s=r("../internals/descriptors"),d=r("../internals/internal-metadata").fastKey,g=(r=r("../internals/internal-state")).set,_=r.getterFor;E.exports={getConstructor:function(v,j,T,C){function L(M,U,V){var $,G=B(M),I=R(M,U);return I?I.value=V:(G.last=I={index:$=d(U,!0),key:U,value:V,previous:U=G.last,next:void 0,removed:!1},G.first||(G.first=I),U&&(U.next=I),s?G.size++:M.size++,$!=="F"&&(G.index[$]=I)),M}function R(M,U){M=B(M);var V,$=d(U);if($!=="F")return M.index[$];for(V=M.first;V;V=V.next)if(V.key==U)return V}var P=v(function(M,U){S(M,P,j),g(M,{type:j,index:a(null),first:void 0,last:void 0,size:0}),s||(M.size=0),U!=null&&l(U,M[C],M,T)}),B=_(j);return c(P.prototype,{clear:function(){for(var M=B(this),U=M.index,V=M.first;V;)V.removed=!0,V.previous&&(V.previous=V.previous.next=void 0),delete U[V.index],V=V.next;M.first=M.last=void 0,s?M.size=0:this.size=0},delete:function(M){var U,V,$=B(this);return(M=R(this,M))&&(U=M.next,V=M.previous,delete $.index[M.index],M.removed=!0,V&&(V.next=U),U&&(U.previous=V),$.first==M&&($.first=U),$.last==M&&($.last=V),s?$.size--:this.size--),!!M},forEach:function(M){for(var U,V=B(this),$=x(M,1<arguments.length?arguments[1]:void 0,3);U=U?U.next:V.first;)for($(U.value,U.key,this);U&&U.removed;)U=U.previous},has:function(M){return!!R(this,M)}}),c(P.prototype,T?{get:function(M){return(M=R(this,M))&&M.value},set:function(M,U){return L(this,M===0?0:M,U)}}:{add:function(M){return L(this,M=M===0?0:M,M)}}),s&&h(P.prototype,"size",{get:function(){return B(this).size}}),P},setStrong:function(v,j,T){var C=j+" Iterator",L=_(j),R=_(C);f(v,j,function(P,B){g(this,{type:C,target:P,state:L(P),kind:B,last:void 0})},function(){for(var P=R(this),B=P.kind,M=P.last;M&&M.removed;)M=M.previous;return P.target&&(P.last=M=M?M.next:P.state.first)?B=="keys"?{value:M.key,done:!1}:B=="values"?{value:M.value,done:!1}:{value:[M.key,M.value],done:!1}:{value:P.target=void 0,done:!0}},T?"entries":"values",!T,!0),u(j)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(r,E,y){function h(L){return L.frozen||(L.frozen=new a)}function a(){this.entries=[]}function c(L,R){return j(L.entries,function(P){return P[0]===R})}var x=r("../internals/redefine-all"),S=r("../internals/internal-metadata").getWeakData,l=r("../internals/an-object"),f=r("../internals/is-object"),u=r("../internals/an-instance"),s=r("../internals/iterate"),d=r("../internals/array-iteration"),g=r("../internals/has"),_=(r=r("../internals/internal-state")).set,v=r.getterFor,j=d.find,T=d.findIndex,C=0;a.prototype={get:function(L){if(L=c(this,L))return L[1]},has:function(L){return!!c(this,L)},set:function(L,R){var P=c(this,L);P?P[1]=R:this.entries.push([L,R])},delete:function(L){var R=T(this.entries,function(P){return P[0]===L});return~R&&this.entries.splice(R,1),!!~R}},E.exports={getConstructor:function(L,R,P,B){function M($,G,I){var q=V($),Z=S(l(G),!0);return Z===!0?h(q).set(G,I):Z[q.id]=I,$}var U=L(function($,G){u($,U,R),_($,{type:R,id:C++,frozen:void 0}),G!=null&&s(G,$[B],$,P)}),V=v(R);return x(U.prototype,{delete:function($){var G,I=V(this);return!!f($)&&((G=S($))===!0?h(I).delete($):G&&g(G,I.id)&&delete G[I.id])},has:function($){var G,I=V(this);return!!f($)&&((G=S($))===!0?h(I).has($):G&&g(G,I.id))}}),x(U.prototype,P?{get:function($){var G,I=V(this);if(f($))return(G=S($))===!0?h(I).get($):G?G[I.id]:void 0},set:function($,G){return M(this,$,G)}}:{add:function($){return M(this,$,!0)}}),U}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/global"),c=r("../internals/is-forced"),x=r("../internals/redefine"),S=r("../internals/internal-metadata"),l=r("../internals/iterate"),f=r("../internals/an-instance"),u=r("../internals/is-object"),s=r("../internals/fails"),d=r("../internals/check-correctness-of-iteration"),g=r("../internals/set-to-string-tag"),_=r("../internals/inherit-if-required");E.exports=function(v,j,T){function C(J){var ee=I[J];x(I,J,J=="add"?function(le){return ee.call(this,le===0?0:le),this}:J=="delete"?function(le){return!(V&&!u(le))&&ee.call(this,le===0?0:le)}:J=="get"?function(le){return V&&!u(le)?void 0:ee.call(this,le===0?0:le)}:J=="has"?function(le){return!(V&&!u(le))&&ee.call(this,le===0?0:le)}:function(le,ae){return ee.call(this,le===0?0:le,ae),this})}var L,R,P,B,M,U=v.indexOf("Map")!==-1,V=v.indexOf("Weak")!==-1,$=U?"set":"add",G=a[v],I=G&&G.prototype,q=G,Z={};return c(v,typeof G!="function"||!(V||I.forEach&&!s(function(){new G().entries().next()})))?(q=T.getConstructor(j,v,U,$),S.REQUIRED=!0):c(v,!0)&&(R=(L=new q)[$](V?{}:-0,1)!=L,P=s(function(){L.has(1)}),B=d(function(J){new G(J)}),M=!V&&s(function(){for(var J=new G,ee=5;ee--;)J[$](ee,ee);return!J.has(-0)}),B||(((q=j(function(J,ee){return f(J,q,v),J=_(new G,J,q),ee!=null&&l(ee,J[$],J,U),J})).prototype=I).constructor=q),(P||M)&&(C("delete"),C("has"),U&&C("get")),(M||R)&&C($),V&&I.clear&&delete I.clear),Z[v]=q,h({global:!0,forced:q!=G},Z),g(q,v),V||T.setStrong(q,v,U),q}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(r,E,y){var h=r("../internals/has"),a=r("../internals/own-keys"),c=r("../internals/object-get-own-property-descriptor"),x=r("../internals/object-define-property");E.exports=function(S,l){for(var f=a(l),u=x.f,s=c.f,d=0;d<f.length;d++){var g=f[d];h(S,g)||u(S,g,s(l,g))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(r,E,y){var h=r("../internals/well-known-symbol")("match");E.exports=function(a){var c=/./;try{"/./"[a](c)}catch{try{return c[h]=!1,"/./"[a](c)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(r,E,y){r=r("../internals/fails"),E.exports=!r(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},{"../internals/fails":51}],36:[function(r,E,y){var h=r("../internals/require-object-coercible"),a=/"/g;E.exports=function(c,x,S,l){c=String(h(c));var f="<"+x;return S!==""&&(f+=" "+S+'="'+String(l).replace(a,"&quot;")+'"'),f+">"+c+"</"+x+">"}},{"../internals/require-object-coercible":113}],37:[function(r,E,y){function h(){return this}var a=r("../internals/iterators-core").IteratorPrototype,c=r("../internals/object-create"),x=r("../internals/create-property-descriptor"),S=r("../internals/set-to-string-tag"),l=r("../internals/iterators");E.exports=function(f,u,s){return u+=" Iterator",f.prototype=c(a,{next:x(1,s)}),S(f,u,!1,!0),l[u]=h,f}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(r,E,y){var h=r("../internals/descriptors"),a=r("../internals/object-define-property"),c=r("../internals/create-property-descriptor");E.exports=h?function(x,S,l){return a.f(x,S,c(1,l))}:function(x,S,l){return x[S]=l,x}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(r,E,y){E.exports=function(h,a){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:a}}},{}],40:[function(r,E,y){var h=r("../internals/to-primitive"),a=r("../internals/object-define-property"),c=r("../internals/create-property-descriptor");E.exports=function(x,S,l){(S=h(S))in x?a.f(x,S,c(0,l)):x[S]=l}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(r,E,y){function h(){return this}var a=r("../internals/export"),c=r("../internals/create-iterator-constructor"),x=r("../internals/object-get-prototype-of"),S=r("../internals/object-set-prototype-of"),l=r("../internals/set-to-string-tag"),f=r("../internals/create-non-enumerable-property"),u=r("../internals/redefine"),s=r("../internals/well-known-symbol"),d=r("../internals/is-pure"),g=r("../internals/iterators"),_=(r=r("../internals/iterators-core")).IteratorPrototype,v=r.BUGGY_SAFARI_ITERATORS,j=s("iterator"),T="values",C="entries";E.exports=function(L,R,P,B,M,U,V){function $(ae){if(ae===M&&ee)return ee;if(!v&&ae in Z)return Z[ae];switch(ae){case"keys":case T:case C:return function(){return new P(this,ae)}}return function(){return new P(this)}}c(P,R,B),B=R+" Iterator";var G,I,q=!1,Z=L.prototype,J=Z[j]||Z["@@iterator"]||M&&Z[M],ee=!v&&J||$(M),le=R=="Array"&&Z.entries||J;if(le&&(le=x(le.call(new L)),_!==Object.prototype&&le.next&&(d||x(le)===_||(S?S(le,_):typeof le[j]!="function"&&f(le,j,h)),l(le,B,!0,!0),d&&(g[B]=h))),M==T&&J&&J.name!==T&&(q=!0,ee=function(){return J.call(this)}),d&&!V||Z[j]===ee||f(Z,j,ee),g[R]=ee,M)if(G={values:$(T),keys:U?ee:$("keys"),entries:$(C)},V)for(I in G)!v&&!q&&I in Z||u(Z,I,G[I]);else a({target:R,proto:!0,forced:v||q},G);return G}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(r,E,y){var h=r("../internals/path"),a=r("../internals/has"),c=r("../internals/well-known-symbol-wrapped"),x=r("../internals/object-define-property").f;E.exports=function(S){var l=h.Symbol||(h.Symbol={});a(l,S)||x(l,S,{value:c.f(S)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(r,E,y){r=r("../internals/fails"),E.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(r,E,y){var h=r("../internals/global"),a=(r=r("../internals/is-object"),h.document),c=r(a)&&r(a.createElement);E.exports=function(x){return c?a.createElement(x):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(r,E,y){E.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(r,E,y){r=r("../internals/engine-user-agent"),E.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},{"../internals/engine-user-agent":47}],47:[function(r,E,y){r=r("../internals/get-built-in"),E.exports=r("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(r,E,y){var h,a,c=r("../internals/global");r=r("../internals/engine-user-agent"),(c=(c=(c=c.process)&&c.versions)&&c.v8)?a=(h=c.split("."))[0]+h[1]:r&&(!(h=r.match(/Edge\/(\d+)/))||74<=h[1])&&(h=r.match(/Chrome\/(\d+)/))&&(a=h[1]),E.exports=a&&+a},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(r,E,y){E.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(r,E,y){var h=r("../internals/global"),a=r("../internals/object-get-own-property-descriptor").f,c=r("../internals/create-non-enumerable-property"),x=r("../internals/redefine"),S=r("../internals/set-global"),l=r("../internals/copy-constructor-properties"),f=r("../internals/is-forced");E.exports=function(u,s){var d,g,_,v=u.target,j=u.global,T=u.stat,C=j?h:T?h[v]||S(v,{}):(h[v]||{}).prototype;if(C)for(d in s){if(g=s[d],_=u.noTargetGet?(_=a(C,d))&&_.value:C[d],!f(j?d:v+(T?".":"#")+d,u.forced)&&_!==void 0){if(typeof g==typeof _)continue;l(g,_)}(u.sham||_&&_.sham)&&c(g,"sham",!0),x(C,d,g,u)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(r,E,y){E.exports=function(h){try{return!!h()}catch{return!0}}},{}],52:[function(r,E,y){r("../modules/es.regexp.exec");var h=r("../internals/redefine"),a=r("../internals/fails"),c=r("../internals/well-known-symbol"),x=r("../internals/regexp-exec"),S=r("../internals/create-non-enumerable-property"),l=c("species"),f=!a(function(){var g=/./;return g.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(g,"$<a>")!=="7"}),u="a".replace(/./,"$0")==="$0",s=!!/./[r=c("replace")]&&/./[r]("a","$0")==="",d=!a(function(){var g,_=(g=/(?:)/).exec;return(g=(g.exec=function(){return _.apply(this,arguments)},"ab".split(g))).length!==2||g[0]!=="a"||g[1]!=="b"});E.exports=function(g,_,v,j){var T,C,L=c(g),R=!a(function(){var B={};return B[L]=function(){return 7},""[g](B)!=7}),P=R&&!a(function(){var B=!1,M=/a/;return g==="split"&&((M={constructor:{}}).constructor[l]=function(){return M},M.flags="",M[L]=/./[L]),M.exec=function(){return B=!0,null},M[L](""),!B});R&&P&&(g!=="replace"||f&&u&&!s)&&(g!=="split"||d)||(T=/./[L],v=(P=v(L,""[g],function(B,M,U,V,$){return M.exec===x?R&&!$?{done:!0,value:T.call(M,U,V)}:{done:!0,value:B.call(U,M,V)}:{done:!1}},{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:s}))[0],C=P[1],h(String.prototype,g,v),h(RegExp.prototype,L,_==2?function(B,M){return C.call(B,this,M)}:function(B){return C.call(B,this)})),j&&S(RegExp.prototype[L],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":185}],53:[function(r,E,y){r=r("../internals/fails"),E.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(r,E,y){var h=r("../internals/a-function");E.exports=function(a,c,x){if(h(a),c===void 0)return a;switch(x){case 0:return function(){return a.call(c)};case 1:return function(S){return a.call(c,S)};case 2:return function(S,l){return a.call(c,S,l)};case 3:return function(S,l,f){return a.call(c,S,l,f)}}return function(){return a.apply(c,arguments)}}},{"../internals/a-function":5}],55:[function(r,E,y){var h=r("../internals/a-function"),a=r("../internals/is-object"),c=[].slice,x={};E.exports=Function.bind||function(S){var l=h(this),f=c.call(arguments,1),u=function(){var s=f.concat(c.call(arguments));if(this instanceof u){var d=l,g=s.length,_=s;if(!(g in x)){for(var v=[],j=0;j<g;j++)v[j]="a["+j+"]";x[g]=Function("C,a","return new C("+v.join(",")+")")}return x[g](d,_)}return l.apply(S,s)};return a(l.prototype)&&(u.prototype=l.prototype),u}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(r,E,y){function h(x){return typeof x=="function"?x:void 0}var a=r("../internals/path"),c=r("../internals/global");E.exports=function(x,S){return arguments.length<2?h(a[x])||h(c[x]):a[x]&&a[x][S]||c[x]&&c[x][S]}},{"../internals/global":59,"../internals/path":104}],57:[function(r,E,y){var h=r("../internals/classof"),a=r("../internals/iterators"),c=r("../internals/well-known-symbol")("iterator");E.exports=function(x){if(x!=null)return x[c]||x["@@iterator"]||a[h(x)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(r,E,y){var h=r("../internals/an-object"),a=r("../internals/get-iterator-method");E.exports=function(c){var x=a(c);if(typeof x!="function")throw TypeError(String(c)+" is not iterable");return h(x.call(c))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(r,E,y){(function(h){function a(c){return c&&c.Math==Math&&c}E.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof h=="object"&&h)||Function("return this")()}).call(this,w!==void 0?w:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(r,E,y){var h={}.hasOwnProperty;E.exports=function(a,c){return h.call(a,c)}},{}],61:[function(r,E,y){E.exports={}},{}],62:[function(r,E,y){var h=r("../internals/global");E.exports=function(a,c){var x=h.console;x&&x.error&&(arguments.length===1?x.error(a):x.error(a,c))}},{"../internals/global":59}],63:[function(r,E,y){r=r("../internals/get-built-in"),E.exports=r("document","documentElement")},{"../internals/get-built-in":56}],64:[function(r,E,y){var h=r("../internals/descriptors"),a=r("../internals/fails"),c=r("../internals/document-create-element");E.exports=!h&&!a(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(r,E,y){var h=Math.abs,a=Math.pow,c=Math.floor,x=Math.log,S=Math.LN2;E.exports={pack:function(l,f,u){var s,d,g,_=new Array(u),v=8*u-f-1,j=(u=(1<<v)-1)>>1,T=f===23?a(2,-24)-a(2,-77):0,C=l<0||l===0&&1/l<0?1:0,L=0;for((l=h(l))!=l||l===1/0?(d=l!=l?1:0,s=u):(s=c(x(l)/S),l*(g=a(2,-s))<1&&(s--,g*=2),2<=(l+=1<=s+j?T/g:T*a(2,1-j))*g&&(s++,g/=2),u<=s+j?(d=0,s=u):1<=s+j?(d=(l*g-1)*a(2,f),s+=j):(d=l*a(2,j-1)*a(2,f),s=0));8<=f;_[L++]=255&d,d/=256,f-=8);for(s=s<<f|d,v+=f;0<v;_[L++]=255&s,s/=256,v-=8);return _[--L]|=128*C,_},unpack:function(l,f){var u,s,d=l.length,g=(1<<(s=8*d-f-1))-1,_=g>>1,v=s-7,j=d-1,T=127&(s=l[j--]);for(s>>=7;0<v;T=256*T+l[j],j--,v-=8);for(u=T&(1<<-v)-1,T>>=-v,v+=f;0<v;u=256*u+l[j],j--,v-=8);if(T===0)T=1-_;else{if(T===g)return u?NaN:s?-1/0:1/0;u+=a(2,f),T-=_}return(s?-1:1)*u*a(2,T-f)}}},{}],66:[function(r,E,y){var h=r("../internals/fails"),a=r("../internals/classof-raw"),c="".split;E.exports=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(x){return a(x)=="String"?c.call(x,""):Object(x)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(r,E,y){var h=r("../internals/is-object"),a=r("../internals/object-set-prototype-of");E.exports=function(c,x,S){return a&&typeof(x=x.constructor)=="function"&&x!==S&&h(x=x.prototype)&&x!==S.prototype&&a(c,x),c}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(r,E,y){r=r("../internals/shared-store");var h=Function.toString;typeof r.inspectSource!="function"&&(r.inspectSource=function(a){return h.call(a)}),E.exports=r.inspectSource},{"../internals/shared-store":119}],69:[function(r,E,y){function h(_){S(_,u,{value:{objectID:"O"+ ++s,weakData:{}}})}var a=r("../internals/hidden-keys"),c=r("../internals/is-object"),x=r("../internals/has"),S=r("../internals/object-define-property").f,l=r("../internals/uid"),f=r("../internals/freezing"),u=l("meta"),s=0,d=Object.isExtensible||function(){return!0},g=E.exports={REQUIRED:!1,fastKey:function(_,v){if(!c(_))return typeof _=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!x(_,u)){if(!d(_))return"F";if(!v)return"E";h(_)}return _[u].objectID},getWeakData:function(_,v){if(!x(_,u)){if(!d(_))return!0;if(!v)return!1;h(_)}return _[u].weakData},onFreeze:function(_){return f&&g.REQUIRED&&d(_)&&!x(_,u)&&h(_),_}};a[u]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(r,E,y){var h,a,c,x,S,l,f,u,s=r("../internals/native-weak-map"),d=r("../internals/global"),g=r("../internals/is-object"),_=r("../internals/create-non-enumerable-property"),v=r("../internals/has"),j=r("../internals/shared-key");r=r("../internals/hidden-keys"),d=d.WeakMap,f=s?(h=new d,a=h.get,c=h.has,x=h.set,S=function(T,C){return x.call(h,T,C),C},l=function(T){return a.call(h,T)||{}},function(T){return c.call(h,T)}):(r[u=j("state")]=!0,S=function(T,C){return _(T,u,C),C},l=function(T){return v(T,u)?T[u]:{}},function(T){return v(T,u)}),E.exports={set:S,get:l,has:f,enforce:function(T){return f(T)?l(T):S(T,{})},getterFor:function(T){return function(C){if(g(C)&&(C=l(C)).type===T)return C;throw TypeError("Incompatible receiver, "+T+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(r,E,y){var h=r("../internals/well-known-symbol"),a=r("../internals/iterators"),c=h("iterator"),x=Array.prototype;E.exports=function(S){return S!==void 0&&(a.Array===S||x[c]===S)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(r,E,y){var h=r("../internals/classof-raw");E.exports=Array.isArray||function(a){return h(a)=="Array"}},{"../internals/classof-raw":28}],73:[function(r,E,y){function h(u,s){return(u=S[x(u)])==f||u!=l&&(typeof s=="function"?a(s):!!s)}var a=r("../internals/fails"),c=/#|\.prototype\./,x=h.normalize=function(u){return String(u).replace(c,".").toLowerCase()},S=h.data={},l=h.NATIVE="N",f=h.POLYFILL="P";E.exports=h},{"../internals/fails":51}],74:[function(r,E,y){E.exports=function(h){return typeof h=="object"?h!==null:typeof h=="function"}},{}],75:[function(r,E,y){E.exports=!1},{}],76:[function(r,E,y){var h=r("../internals/is-object"),a=r("../internals/classof-raw"),c=r("../internals/well-known-symbol")("match");E.exports=function(x){var S;return h(x)&&((S=x[c])!==void 0?!!S:a(x)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(r,E,y){function h(u,s){this.stopped=u,this.result=s}var a=r("../internals/an-object"),c=r("../internals/is-array-iterator-method"),x=r("../internals/to-length"),S=r("../internals/function-bind-context"),l=r("../internals/get-iterator-method"),f=r("../internals/call-with-safe-iteration-closing");(E.exports=function(u,s,d,g,_){var v,j,T,C,L,R,P=S(s,d,g?2:1);if(_)v=u;else{if(typeof(s=l(u))!="function")throw TypeError("Target is not iterable");if(c(s)){for(j=0,T=x(u.length);j<T;j++)if((C=g?P(a(R=u[j])[0],R[1]):P(u[j]))&&C instanceof h)return C;return new h(!1)}v=s.call(u)}for(L=v.next;!(R=L.call(v)).done;)if(typeof(C=f(v,P,R.value,g))=="object"&&C&&C instanceof h)return C;return new h(!1)}).stop=function(u){return new h(!0,u)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(r,E,y){var h,a,c=r("../internals/object-get-prototype-of"),x=r("../internals/create-non-enumerable-property"),S=r("../internals/has"),l=r("../internals/well-known-symbol"),f=(r=r("../internals/is-pure"),l=l("iterator"),!1);[].keys&&("next"in(a=[].keys())?(c=c(c(a)))!==Object.prototype&&(h=c):f=!0),h==null&&(h={}),r||S(h,l)||x(h,l,function(){return this}),E.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:f}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(r,E,y){E.exports={}},{}],80:[function(r,E,y){E.exports=Math.sign||function(h){return(h=+h)==0||h!=h?h:h<0?-1:1}},{}],81:[function(r,E,y){var h,a,c,x,S,l,f,u,s=r("../internals/global"),d=r("../internals/object-get-own-property-descriptor").f,g=r("../internals/classof-raw"),_=r("../internals/task").set,v=(r=r("../internals/engine-is-ios"),s.MutationObserver||s.WebKitMutationObserver),j=s.process,T=s.Promise,C=g(j)=="process";g=d(s,"queueMicrotask"),(d=g&&g.value)||(h=function(){var L,R;for(C&&(L=j.domain)&&L.exit();a;){R=a.fn,a=a.next;try{R()}catch(P){throw a?x():c=void 0,P}}c=void 0,L&&L.enter()},x=C?function(){j.nextTick(h)}:v&&!r?(S=!0,l=document.createTextNode(""),new v(h).observe(l,{characterData:!0}),function(){l.data=S=!S}):T&&T.resolve?(f=T.resolve(void 0),u=f.then,function(){u.call(f,h)}):function(){_.call(s,h)}),E.exports=d||function(L){L={fn:L,next:void 0},c&&(c.next=L),a||(a=L,x()),c=L}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(r,E,y){r=r("../internals/global"),E.exports=r.Promise},{"../internals/global":59}],83:[function(r,E,y){r=r("../internals/fails"),E.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(r,E,y){var h=r("../internals/fails"),a=r("../internals/well-known-symbol"),c=r("../internals/is-pure"),x=a("iterator");E.exports=!h(function(){var S=new URL("b?a=1&b=2&c=3","http://a"),l=S.searchParams,f="";return S.pathname="c%20d",l.forEach(function(u,s){l.delete("b"),f+=s+u}),c&&!S.toJSON||!l.sort||S.href!=="http://a/c%20d?a=1&c=3"||l.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!l[x]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||f!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(r,E,y){var h=r("../internals/global");r=r("../internals/inspect-source"),h=h.WeakMap,E.exports=typeof h=="function"&&/native code/.test(r(h))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(r,E,y){function h(c){var x,S;this.promise=new c(function(l,f){if(x!==void 0||S!==void 0)throw TypeError("Bad Promise constructor");x=l,S=f}),this.resolve=a(x),this.reject=a(S)}var a=r("../internals/a-function");E.exports.f=function(c){return new h(c)}},{"../internals/a-function":5}],87:[function(r,E,y){var h=r("../internals/is-regexp");E.exports=function(a){if(h(a))throw TypeError("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":76}],88:[function(r,E,y){var h=r("../internals/global").isFinite;E.exports=Number.isFinite||function(a){return typeof a=="number"&&h(a)}},{"../internals/global":59}],89:[function(r,E,y){var h=r("../internals/descriptors"),a=r("../internals/fails"),c=r("../internals/object-keys"),x=r("../internals/object-get-own-property-symbols"),S=r("../internals/object-property-is-enumerable"),l=r("../internals/to-object"),f=r("../internals/indexed-object"),u=Object.assign,s=Object.defineProperty;E.exports=!u||a(function(){var d,g,_,v;return!(!h||u({b:1},u(s({},"a",{enumerable:!0,get:function(){s(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(g={},v="abcdefghijklmnopqrst",(d={})[_=Symbol()]=7,v.split("").forEach(function(j){g[j]=j}),u({},d)[_]!=7||c(u({},g)).join("")!=v)})?function(d,g){for(var _=l(d),v=arguments.length,j=1,T=x.f,C=S.f;j<v;)for(var L,R=f(arguments[j++]),P=T?c(R).concat(T(R)):c(R),B=P.length,M=0;M<B;)L=P[M++],h&&!C.call(R,L)||(_[L]=R[L]);return _}:u},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(r,E,y){function h(){}var a,c=r("../internals/an-object"),x=r("../internals/object-define-properties"),S=r("../internals/enum-bug-keys"),l=r("../internals/hidden-keys"),f=r("../internals/html"),u=r("../internals/document-create-element"),s=(r=r("../internals/shared-key"),"prototype"),d="script",g=r("IE_PROTO"),_=function(j){return"<script>"+j+"</"+d+">"},v=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch{}v=a?((j=a).write(_("")),j.close(),T=j.parentWindow.Object,j=null,T):(T="javascript:",(j=u("iframe")).style.display="none",f.appendChild(j),j.src=String(T),(T=j.contentWindow.document).open(),T.write(_("document.F=Object")),T.close(),T.F);for(var j,T,C=S.length;C--;)delete v[s][S[C]];return v()};l[g]=!0,E.exports=Object.create||function(j,T){var C;return j!==null?(h[s]=c(j),C=new h,h[s]=null,C[g]=j):C=v(),T===void 0?C:x(C,T)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(r,E,y){var h=r("../internals/descriptors"),a=r("../internals/object-define-property"),c=r("../internals/an-object"),x=r("../internals/object-keys");E.exports=h?Object.defineProperties:function(S,l){c(S);for(var f,u=x(l),s=u.length,d=0;d<s;)a.f(S,f=u[d++],l[f]);return S}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(r,E,y){var h=r("../internals/descriptors"),a=r("../internals/ie8-dom-define"),c=r("../internals/an-object"),x=r("../internals/to-primitive"),S=Object.defineProperty;y.f=h?S:function(l,f,u){if(c(l),f=x(f,!0),c(u),a)try{return S(l,f,u)}catch{}if("get"in u||"set"in u)throw TypeError("Accessors not supported");return"value"in u&&(l[f]=u.value),l}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(r,E,y){var h=r("../internals/descriptors"),a=r("../internals/object-property-is-enumerable"),c=r("../internals/create-property-descriptor"),x=r("../internals/to-indexed-object"),S=r("../internals/to-primitive"),l=r("../internals/has"),f=r("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;y.f=h?u:function(s,d){if(s=x(s),d=S(d,!0),f)try{return u(s,d)}catch{}if(l(s,d))return c(!a.f.call(s,d),s[d])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(r,E,y){var h=r("../internals/to-indexed-object"),a=r("../internals/object-get-own-property-names").f,c={}.toString,x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];E.exports.f=function(S){if(!x||c.call(S)!="[object Window]")return a(h(S));try{return a(S)}catch{return x.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(r,E,y){var h=r("../internals/object-keys-internal"),a=r("../internals/enum-bug-keys").concat("length","prototype");y.f=Object.getOwnPropertyNames||function(c){return h(c,a)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(r,E,y){y.f=Object.getOwnPropertySymbols},{}],97:[function(r,E,y){var h=r("../internals/has"),a=r("../internals/to-object"),c=r("../internals/shared-key"),x=(r=r("../internals/correct-prototype-getter"),c("IE_PROTO")),S=Object.prototype;E.exports=r?Object.getPrototypeOf:function(l){return l=a(l),h(l,x)?l[x]:typeof l.constructor=="function"&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?S:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(r,E,y){var h=r("../internals/has"),a=r("../internals/to-indexed-object"),c=r("../internals/array-includes").indexOf,x=r("../internals/hidden-keys");E.exports=function(S,l){var f,u=a(S),s=0,d=[];for(f in u)!h(x,f)&&h(u,f)&&d.push(f);for(;l.length>s;)!h(u,f=l[s++])||~c(d,f)||d.push(f);return d}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(r,E,y){var h=r("../internals/object-keys-internal"),a=r("../internals/enum-bug-keys");E.exports=Object.keys||function(c){return h(c,a)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(r,E,y){var h={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,c=a&&!h.call({1:2},1);y.f=c?function(x){return!!(x=a(this,x))&&x.enumerable}:h},{}],101:[function(r,E,y){var h=r("../internals/an-object"),a=r("../internals/a-possible-prototype");E.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,x=!1,S={};try{(c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(S,[]),x=S instanceof Array}catch{}return function(l,f){return h(l),a(f),x?c.call(l,f):l.__proto__=f,l}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(r,E,y){var h=r("../internals/to-string-tag-support"),a=r("../internals/classof");E.exports=h?{}.toString:function(){return"[object "+a(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(r,E,y){var h=r("../internals/get-built-in"),a=r("../internals/object-get-own-property-names"),c=r("../internals/object-get-own-property-symbols"),x=r("../internals/an-object");E.exports=h("Reflect","ownKeys")||function(S){var l=a.f(x(S)),f=c.f;return f?l.concat(f(S)):l}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(r,E,y){r=r("../internals/global"),E.exports=r},{"../internals/global":59}],105:[function(r,E,y){E.exports=function(h){try{return{error:!1,value:h()}}catch(a){return{error:!0,value:a}}}},{}],106:[function(r,E,y){var h=r("../internals/an-object"),a=r("../internals/is-object"),c=r("../internals/new-promise-capability");E.exports=function(x,S){return h(x),a(S)&&S.constructor===x?S:((0,(x=c.f(x)).resolve)(S),x.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(r,E,y){var h=r("../internals/redefine");E.exports=function(a,c,x){for(var S in c)h(a,S,c[S],x);return a}},{"../internals/redefine":108}],108:[function(r,E,y){var h=r("../internals/global"),a=r("../internals/create-non-enumerable-property"),c=r("../internals/has"),x=r("../internals/set-global"),S=r("../internals/inspect-source"),l=(r=r("../internals/internal-state")).get,f=r.enforce,u=String(String).split("String");(E.exports=function(s,d,g,_){var v=!!_&&!!_.unsafe,j=!!_&&!!_.enumerable;_=!!_&&!!_.noTargetGet,typeof g=="function"&&(typeof d!="string"||c(g,"name")||a(g,"name",d),f(g).source=u.join(typeof d=="string"?d:"")),s===h?j?s[d]=g:x(d,g):(v?!_&&s[d]&&(j=!0):delete s[d],j?s[d]=g:a(s,d,g))})(Function.prototype,"toString",function(){return typeof this=="function"&&l(this).source||S(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(r,E,y){var h=r("./classof-raw"),a=r("./regexp-exec");E.exports=function(c,x){var S=c.exec;if(typeof S=="function"){if(typeof(S=S.call(c,x))!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return S}if(h(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return a.call(c,x)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(r,E,y){var h,a,c=r("./regexp-flags"),x=(r=r("./regexp-sticky-helpers"),RegExp.prototype.exec),S=String.prototype.replace,l=x,f=(h=/a/,a=/b*/g,x.call(h,"a"),x.call(a,"a"),h.lastIndex!==0||a.lastIndex!==0),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,s=/()??/.exec("")[1]!==void 0;E.exports=l=f||s||u?function(d){var g,_,v,j,T=this,C=u&&T.sticky,L=c.call(T),R=T.source,P=0,B=d;return C&&((L=L.replace("y","")).indexOf("g")===-1&&(L+="g"),B=String(d).slice(T.lastIndex),0<T.lastIndex&&(!T.multiline||T.multiline&&d[T.lastIndex-1]!==`
`)&&(R="(?: "+R+")",B=" "+B,P++),_=new RegExp("^(?:"+R+")",L)),s&&(_=new RegExp("^"+R+"$(?!\\s)",L)),f&&(g=T.lastIndex),v=x.call(C?_:T,B),C?v?(v.input=v.input.slice(P),v[0]=v[0].slice(P),v.index=T.lastIndex,T.lastIndex+=v[0].length):T.lastIndex=0:f&&v&&(T.lastIndex=T.global?v.index+v[0].length:g),s&&v&&1<v.length&&S.call(v[0],_,function(){for(j=1;j<arguments.length-2;j++)arguments[j]===void 0&&(v[j]=void 0)}),v}:l},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(r,E,y){var h=r("../internals/an-object");E.exports=function(){var a=h(this),c="";return a.global&&(c+="g"),a.ignoreCase&&(c+="i"),a.multiline&&(c+="m"),a.dotAll&&(c+="s"),a.unicode&&(c+="u"),a.sticky&&(c+="y"),c}},{"../internals/an-object":10}],112:[function(r,E,y){function h(a,c){return RegExp(a,c)}r=r("./fails"),y.UNSUPPORTED_Y=r(function(){var a=h("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),y.BROKEN_CARET=r(function(){var a=h("^r","gy");return a.lastIndex=2,a.exec("str")!=null})},{"./fails":51}],113:[function(r,E,y){E.exports=function(h){if(h==null)throw TypeError("Can't call method on "+h);return h}},{}],114:[function(r,E,y){E.exports=Object.is||function(h,a){return h===a?h!==0||1/h==1/a:h!=h&&a!=a}},{}],115:[function(r,E,y){var h=r("../internals/global"),a=r("../internals/create-non-enumerable-property");E.exports=function(c,x){try{a(h,c,x)}catch{h[c]=x}return x}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(r,E,y){var h=r("../internals/get-built-in"),a=r("../internals/object-define-property"),c=r("../internals/well-known-symbol"),x=r("../internals/descriptors"),S=c("species");E.exports=function(l){l=h(l);var f=a.f;x&&l&&!l[S]&&f(l,S,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(r,E,y){var h=r("../internals/object-define-property").f,a=r("../internals/has"),c=r("../internals/well-known-symbol")("toStringTag");E.exports=function(x,S,l){x&&!a(x=l?x:x.prototype,c)&&h(x,c,{configurable:!0,value:S})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(r,E,y){var h=r("../internals/shared"),a=r("../internals/uid"),c=h("keys");E.exports=function(x){return c[x]||(c[x]=a(x))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(r,E,y){var h=r("../internals/global"),a=(r=r("../internals/set-global"),"__core-js_shared__");h=h[a]||r(a,{}),E.exports=h},{"../internals/global":59,"../internals/set-global":115}],120:[function(r,E,y){var h=r("../internals/is-pure"),a=r("../internals/shared-store");(E.exports=function(c,x){return a[c]||(a[c]=x!==void 0?x:{})})("versions",[]).push({version:"3.6.5",mode:h?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(r,E,y){var h=r("../internals/an-object"),a=r("../internals/a-function"),c=r("../internals/well-known-symbol")("species");E.exports=function(x,S){return(x=h(x).constructor)===void 0||(x=h(x)[c])==null?S:a(x)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(r,E,y){var h=r("../internals/fails");E.exports=function(a){return h(function(){var c=""[a]('"');return c!==c.toLowerCase()||3<c.split('"').length})}},{"../internals/fails":51}],123:[function(r,E,y){function h(x){return function(S,l){S=String(c(S)),l=a(l);var f,u=S.length;return l<0||u<=l?x?"":void 0:(f=S.charCodeAt(l))<55296||56319<f||l+1===u||(u=S.charCodeAt(l+1))<56320||57343<u?x?S.charAt(l):f:x?S.slice(l,l+2):u-56320+(f-55296<<10)+65536}}var a=r("../internals/to-integer"),c=r("../internals/require-object-coercible");E.exports={codeAt:h(!1),charAt:h(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(r,E,y){r=r("../internals/engine-user-agent"),E.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},{"../internals/engine-user-agent":47}],125:[function(r,E,y){function h(l){return function(f,u,s){var d=(f=String(x(f))).length;return s=s===void 0?" ":String(s),(u=a(u))<=d||s==""?f:((d=c.call(s,S((u-=d)/s.length))).length>u&&(d=d.slice(0,u)),l?f+d:d+f)}}var a=r("../internals/to-length"),c=r("../internals/string-repeat"),x=r("../internals/require-object-coercible"),S=Math.ceil;E.exports={start:h(!1),end:h(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(r,E,y){function h(j){return j+22+75*(j<26)}function a(j){var T,C=[],L=(j=function(le){for(var ae=[],fe=0,H=le.length;fe<H;){var X,te=le.charCodeAt(fe++);55296<=te&&te<=56319&&fe<H?(64512&(X=le.charCodeAt(fe++)))==56320?ae.push(((1023&te)<<10)+(1023&X)+65536):(ae.push(te),fe--):ae.push(te)}return ae}(j)).length,R=128,P=0,B=72;for($=0;$<j.length;$++)(T=j[$])<128&&C.push(v(T));var M=C.length,U=M;for(M&&C.push("-");U<L;){for(var V=c,$=0;$<j.length;$++)R<=(T=j[$])&&T<V&&(V=T);var G=U+1;if(V-R>_((c-P)/G))throw RangeError(d);for(P+=(V-R)*G,R=V,$=0;$<j.length;$++){if((T=j[$])<R&&++P>c)throw RangeError(d);if(T==R){for(var I=P,q=x;;q+=x){var Z=q<=B?1:B+S<=q?S:q-B;if(I<Z)break;var J=I-Z,ee=x-Z;C.push(v(h(Z+J%ee))),I=_(J/ee)}C.push(v(h(I))),B=function(le,ae,fe){var H=0;for(le=fe?_(le/f):le>>1,le+=_(le/ae);g*S>>1<le;H+=x)le=_(le/g);return _(H+(g+1)*le/(le+l))}(P,G,U==M),P=0,++U}}++P,++R}return C.join("")}var c=2147483647,x=36,S=26,l=38,f=700,u=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",g=x-1,_=Math.floor,v=String.fromCharCode;E.exports=function(j){for(var T,C=[],L=j.toLowerCase().replace(s,".").split("."),R=0;R<L.length;R++)T=L[R],C.push(u.test(T)?"xn--"+a(T):T);return C.join(".")}},{}],127:[function(r,E,y){var h=r("../internals/to-integer"),a=r("../internals/require-object-coercible");E.exports="".repeat||function(c){var x=String(a(this)),S="",l=h(c);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;0<l;(l>>>=1)&&(x+=x))1&l&&(S+=x);return S}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(r,E,y){var h=r("../internals/fails"),a=r("../internals/whitespaces");E.exports=function(c){return h(function(){return!!a[c]()||""[c]()!=""||a[c].name!==c})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(r,E,y){function h(S){return function(l){return l=String(a(l)),1&S&&(l=l.replace(c,"")),2&S?l.replace(x,""):l}}var a=r("../internals/require-object-coercible"),c=(r="["+r("../internals/whitespaces")+"]",RegExp("^"+r+r+"*")),x=RegExp(r+r+"*$");E.exports={start:h(1),end:h(2),trim:h(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(r,E,y){function h(M){return function(){B(M)}}function a(M){B(M.data)}function c(M){S.postMessage(M+"",g.protocol+"//"+g.host)}var x,S=r("../internals/global"),l=r("../internals/fails"),f=r("../internals/classof-raw"),u=r("../internals/function-bind-context"),s=r("../internals/html"),d=r("../internals/document-create-element"),g=(r=r("../internals/engine-is-ios"),S.location),_=S.setImmediate,v=S.clearImmediate,j=S.process,T=S.MessageChannel,C=S.Dispatch,L=0,R={},P="onreadystatechange",B=function(M){var U;R.hasOwnProperty(M)&&(U=R[M],delete R[M],U())};_&&v||(_=function(M){for(var U=[],V=1;V<arguments.length;)U.push(arguments[V++]);return R[++L]=function(){(typeof M=="function"?M:Function(M)).apply(void 0,U)},x(L),L},v=function(M){delete R[M]},f(j)=="process"?x=function(M){j.nextTick(h(M))}:C&&C.now?x=function(M){C.now(h(M))}:T&&!r?(r=(f=new T).port2,f.port1.onmessage=a,x=u(r.postMessage,r,1)):!S.addEventListener||typeof postMessage!="function"||S.importScripts||l(c)||g.protocol==="file:"?x=P in d("script")?function(M){s.appendChild(d("script"))[P]=function(){s.removeChild(this),B(M)}}:function(M){setTimeout(h(M),0)}:(x=c,S.addEventListener("message",a,!1))),E.exports={set:_,clear:v}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(r,E,y){var h=r("../internals/classof-raw");E.exports=function(a){if(typeof a!="number"&&h(a)!="Number")throw TypeError("Incorrect invocation");return+a}},{"../internals/classof-raw":28}],132:[function(r,E,y){var h=r("../internals/to-integer"),a=Math.max,c=Math.min;E.exports=function(x,S){return(x=h(x))<0?a(x+S,0):c(x,S)}},{"../internals/to-integer":135}],133:[function(r,E,y){var h=r("../internals/to-integer"),a=r("../internals/to-length");E.exports=function(c){if(c===void 0)return 0;c=h(c);var x=a(c);if(c!==x)throw RangeError("Wrong length or index");return x}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(r,E,y){var h=r("../internals/indexed-object"),a=r("../internals/require-object-coercible");E.exports=function(c){return h(a(c))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(r,E,y){var h=Math.ceil,a=Math.floor;E.exports=function(c){return isNaN(c=+c)?0:(0<c?a:h)(c)}},{}],136:[function(r,E,y){var h=r("../internals/to-integer"),a=Math.min;E.exports=function(c){return 0<c?a(h(c),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(r,E,y){var h=r("../internals/require-object-coercible");E.exports=function(a){return Object(h(a))}},{"../internals/require-object-coercible":113}],138:[function(r,E,y){var h=r("../internals/to-positive-integer");E.exports=function(a,c){if((a=h(a))%c)throw RangeError("Wrong offset");return a}},{"../internals/to-positive-integer":139}],139:[function(r,E,y){var h=r("../internals/to-integer");E.exports=function(a){if((a=h(a))<0)throw RangeError("The argument can't be less than 0");return a}},{"../internals/to-integer":135}],140:[function(r,E,y){var h=r("../internals/is-object");E.exports=function(a,c){if(!h(a))return a;var x,S;if(c&&typeof(x=a.toString)=="function"&&!h(S=x.call(a))||typeof(x=a.valueOf)=="function"&&!h(S=x.call(a))||!c&&typeof(x=a.toString)=="function"&&!h(S=x.call(a)))return S;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(r,E,y){var h={};h[r("../internals/well-known-symbol")("toStringTag")]="z",E.exports=String(h)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(r,E,y){function h(He,tt){for(var rt=0,wt=tt.length,st=new(je(He))(wt);rt<wt;)st[rt]=tt[rt++];return st}function a(He,tt){X(He,tt,{get:function(){return fe(this)[tt]}})}function c(He){return He instanceof he||(He=M(He))=="ArrayBuffer"||He=="SharedArrayBuffer"}function x(He,tt){return Ae(He)&&typeof tt!="symbol"&&tt in He&&String(+tt)==String(tt)}function S(He,tt){return x(He,tt=P(tt,!0))?j(2,He[tt]):te(He,tt)}function l(He,tt,rt){return!(x(He,tt=P(tt,!0))&&U(rt)&&B(rt,"value"))||B(rt,"get")||B(rt,"set")||rt.configurable||B(rt,"writable")&&!rt.writable||B(rt,"enumerable")&&!rt.enumerable?X(He,tt,rt):(He[tt]=rt.value,He)}var f=r("../internals/export"),u=r("../internals/global"),s=r("../internals/descriptors"),d=r("../internals/typed-array-constructors-require-wrappers"),g=r("../internals/array-buffer-view-core"),_=r("../internals/array-buffer"),v=r("../internals/an-instance"),j=r("../internals/create-property-descriptor"),T=r("../internals/create-non-enumerable-property"),C=r("../internals/to-length"),L=r("../internals/to-index"),R=r("../internals/to-offset"),P=r("../internals/to-primitive"),B=r("../internals/has"),M=r("../internals/classof"),U=r("../internals/is-object"),V=r("../internals/object-create"),$=r("../internals/object-set-prototype-of"),G=r("../internals/object-get-own-property-names").f,I=r("../internals/typed-array-from"),q=r("../internals/array-iteration").forEach,Z=r("../internals/set-species"),J=r("../internals/object-define-property"),ee=r("../internals/object-get-own-property-descriptor"),le=r("../internals/internal-state"),ae=r("../internals/inherit-if-required"),fe=le.get,H=le.set,X=J.f,te=ee.f,ue=Math.round,ce=u.RangeError,he=_.ArrayBuffer,ne=_.DataView,me=g.NATIVE_ARRAY_BUFFER_VIEWS,_e=g.TYPED_ARRAY_TAG,Te=g.TypedArray,ve=g.TypedArrayPrototype,je=g.aTypedArrayConstructor,Ae=g.isTypedArray,Ve="BYTES_PER_ELEMENT",De="Wrong length";s?(me||(ee.f=S,J.f=l,a(ve,"buffer"),a(ve,"byteOffset"),a(ve,"byteLength"),a(ve,"length")),f({target:"Object",stat:!0,forced:!me},{getOwnPropertyDescriptor:S,defineProperty:l}),E.exports=function(He,tt,rt){function wt(ut,at){X(ut,at,{get:function(){var ie=this,re=at;return(ie=fe(ie)).view[Ne](re*st+ie.byteOffset,!0)},set:function(ie){var re=this,se=at;re=fe(re),rt&&(ie=(ie=ue(ie))<0?0:255<ie?255:255&ie),re.view[Fe](se*st+re.byteOffset,ie,!0)},enumerable:!0})}var st=He.match(/\d+$/)[0]/8,ge=He+(rt?"Clamped":"")+"Array",Ne="get"+He,Fe="set"+He,Xe=u[ge],ot=Xe,gt=(He=ot&&ot.prototype,{});me?d&&(ot=tt(function(ut,at,ie,re){return v(ut,ot,ge),ae(U(at)?c(at)?re!==void 0?new Xe(at,R(ie,st),re):ie!==void 0?new Xe(at,R(ie,st)):new Xe(at):Ae(at)?h(ot,at):I.call(ot,at):new Xe(L(at)),ut,ot)}),$&&$(ot,Te),q(G(Xe),function(ut){ut in ot||T(ot,ut,Xe[ut])}),ot.prototype=He):(ot=tt(function(ut,at,ie,re){v(ut,ot,ge);var se,pe,Ee=0,Be=0;if(U(at)){if(!c(at))return Ae(at)?h(ot,at):I.call(ot,at);var Qe=at;if(Be=R(ie,st),ie=at.byteLength,re===void 0){if(ie%st||(se=ie-Be)<0)throw ce(De)}else if(ie<(se=C(re)*st)+Be)throw ce(De);pe=se/st}else pe=L(at),Qe=new he(se=pe*st);for(H(ut,{buffer:Qe,byteOffset:Be,byteLength:se,length:pe,view:new ne(Qe)});Ee<pe;)wt(ut,Ee++)}),$&&$(ot,Te),He=ot.prototype=V(ve)),He.constructor!==ot&&T(He,"constructor",ot),_e&&T(He,_e,ge),gt[ge]=ot,f({global:!0,forced:ot!=Xe,sham:!me},gt),Ve in ot||T(ot,Ve,st),Ve in He||T(He,Ve,st),Z(ge)}):E.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(r,E,y){var h=r("../internals/global"),a=r("../internals/fails"),c=r("../internals/check-correctness-of-iteration"),x=(r=r("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,h.ArrayBuffer),S=h.Int8Array;E.exports=!r||!a(function(){S(1)})||!a(function(){new S(-1)})||!c(function(l){new S,new S(null),new S(1.5),new S(l)},!0)||a(function(){return new S(new x(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(r,E,y){var h=r("../internals/to-object"),a=r("../internals/to-length"),c=r("../internals/get-iterator-method"),x=r("../internals/is-array-iterator-method"),S=r("../internals/function-bind-context"),l=r("../internals/array-buffer-view-core").aTypedArrayConstructor;E.exports=function(f){var u,s,d,g,_,v,j=h(f),T=arguments.length,C=1<T?arguments[1]:void 0,L=C!==void 0,R=c(j);if(R!=null&&!x(R))for(v=(_=R.call(j)).next,j=[];!(g=v.call(_)).done;)j.push(g.value);for(L&&2<T&&(C=S(C,arguments[2],2)),s=a(j.length),d=new(l(this))(s),u=0;u<s;u++)d[u]=L?C(j[u],u):j[u];return d}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(r,E,y){var h=0,a=Math.random();E.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++h+a).toString(36)}},{}],146:[function(r,E,y){r=r("../internals/native-symbol"),E.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(r,E,y){r=r("../internals/well-known-symbol"),y.f=r},{"../internals/well-known-symbol":148}],148:[function(r,E,y){var h=r("../internals/global"),a=r("../internals/shared"),c=r("../internals/has"),x=r("../internals/uid"),S=r("../internals/native-symbol"),l=(r=r("../internals/use-symbol-as-uid"),a("wks")),f=h.Symbol,u=r?f:f&&f.withoutSetter||x;E.exports=function(s){return c(l,s)||(S&&c(f,s)?l[s]=f[s]:l[s]=u("Symbol."+s)),l[s]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(r,E,y){E.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],150:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/global"),c=r("../internals/array-buffer"),x=(r=r("../internals/set-species"),"ArrayBuffer");c=c[x],h({global:!0,forced:a[x]!==c},{ArrayBuffer:c}),r(x)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/fails"),c=r("../internals/is-array"),x=r("../internals/is-object"),S=r("../internals/to-object"),l=r("../internals/to-length"),f=r("../internals/create-property"),u=r("../internals/array-species-create"),s=r("../internals/array-method-has-species-support"),d=r("../internals/well-known-symbol"),g=(r=r("../internals/engine-v8-version"),d("isConcatSpreadable")),_=9007199254740991,v="Maximum allowed index exceeded";d=51<=r||!a(function(){var j=[];return j[g]=!1,j.concat()[0]!==j}),r=s("concat"),h({target:"Array",proto:!0,forced:!d||!r},{concat:function(j){for(var T,C,L,R,P,B=S(this),M=u(B,0),U=0,V=-1,$=arguments.length;V<$;V++)if(P=void 0,x(R=L=V===-1?B:arguments[V])&&((P=R[g])!==void 0?P:c(R))){if(C=l(L.length),_<U+C)throw TypeError(v);for(T=0;T<C;T++,U++)T in L&&f(M,U,L[T])}else{if(_<=U)throw TypeError(v);f(M,U++,L)}return M.length=U,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/array-copy-within");r=r("../internals/add-to-unscopables"),h({target:"Array",proto:!0},{copyWithin:a}),r("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/array-iteration").every,c=r("../internals/array-method-is-strict");r=r("../internals/array-method-uses-to-length"),c=c("every"),r=r("every"),h({target:"Array",proto:!0,forced:!c||!r},{every:function(x){return a(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/array-fill");r=r("../internals/add-to-unscopables"),h({target:"Array",proto:!0},{fill:a}),r("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/array-iteration").filter,c=r("../internals/array-method-has-species-support");r=r("../internals/array-method-uses-to-length"),c=c("filter"),r=r("filter"),h({target:"Array",proto:!0,forced:!c||!r},{filter:function(x){return a(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(r,E,y){var h=r("../internals/export");r=r("../internals/array-for-each"),h({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},{"../internals/array-for-each":16,"../internals/export":50}],157:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/array-from");h({target:"Array",stat:!0,forced:!r("../internals/check-correctness-of-iteration")(function(c){Array.from(c)})},{from:a})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],158:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/array-includes").includes,c=r("../internals/add-to-unscopables");h({target:"Array",proto:!0,forced:!r("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(x){return a(this,x,1<arguments.length?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/array-includes").indexOf,c=r("../internals/array-method-is-strict"),x=(r=r("../internals/array-method-uses-to-length"),[].indexOf),S=!!x&&1/[1].indexOf(1,-0)<0;c=c("indexOf"),r=r("indexOf",{ACCESSORS:!0,1:0}),h({target:"Array",proto:!0,forced:S||!c||!r},{indexOf:function(l){return S?x.apply(this,arguments)||0:a(this,l,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(r,E,y){var h=r("../internals/to-indexed-object"),a=r("../internals/add-to-unscopables"),c=r("../internals/iterators"),x=r("../internals/internal-state"),S=(r=r("../internals/define-iterator"),"Array Iterator"),l=x.set,f=x.getterFor(S);E.exports=r(Array,"Array",function(u,s){l(this,{type:S,target:h(u),index:0,kind:s})},function(){var u=f(this),s=u.target,d=u.kind,g=u.index++;return!s||g>=s.length?{value:u.target=void 0,done:!0}:d=="keys"?{value:g,done:!1}:d=="values"?{value:s[g],done:!1}:{value:[g,s[g]],done:!1}},"values"),c.Arguments=c.Array,a("keys"),a("values"),a("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],161:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/indexed-object"),c=r("../internals/to-indexed-object"),x=(r=r("../internals/array-method-is-strict"),[].join);a=a!=Object,r=r("join",","),h({target:"Array",proto:!0,forced:a||!r},{join:function(S){return x.call(c(this),S===void 0?",":S)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],162:[function(r,E,y){r("../internals/export")({target:"Array",proto:!0,forced:(r=r("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:r})},{"../internals/array-last-index-of":20,"../internals/export":50}],163:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/array-iteration").map,c=r("../internals/array-method-has-species-support");r=r("../internals/array-method-uses-to-length"),c=c("map"),r=r("map"),h({target:"Array",proto:!0,forced:!c||!r},{map:function(x){return a(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/is-object"),c=r("../internals/is-array"),x=r("../internals/to-absolute-index"),S=r("../internals/to-length"),l=r("../internals/to-indexed-object"),f=r("../internals/create-property"),u=r("../internals/well-known-symbol"),s=r("../internals/array-method-has-species-support"),d=(r=r("../internals/array-method-uses-to-length"),s=s("slice"),r=r("slice",{ACCESSORS:!0,0:0,1:2}),u("species")),g=[].slice,_=Math.max;h({target:"Array",proto:!0,forced:!s||!r},{slice:function(v,j){var T,C,L,R=l(this),P=S(R.length),B=x(v,P),M=x(j===void 0?P:j,P);if(c(R)&&((T=typeof(T=R.constructor)=="function"&&(T===Array||c(T.prototype))||a(T)&&(T=T[d])===null?void 0:T)===Array||T===void 0))return g.call(R,B,M);for(C=new(T===void 0?Array:T)(_(M-B,0)),L=0;B<M;B++,L++)B in R&&f(C,L,R[B]);return C.length=L,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],165:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/array-iteration").some,c=r("../internals/array-method-is-strict");r=r("../internals/array-method-uses-to-length"),c=c("some"),r=r("some"),h({target:"Array",proto:!0,forced:!c||!r},{some:function(x){return a(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],166:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/to-absolute-index"),c=r("../internals/to-integer"),x=r("../internals/to-length"),S=r("../internals/to-object"),l=r("../internals/array-species-create"),f=r("../internals/create-property"),u=r("../internals/array-method-has-species-support"),s=(r=r("../internals/array-method-uses-to-length"),u=u("splice"),r=r("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),d=Math.min;h({target:"Array",proto:!0,forced:!u||!r},{splice:function(g,_){var v,j,T,C,L,R,P=S(this),B=x(P.length),M=a(g,B);if((g=arguments.length)===0?v=j=0:j=g===1?(v=0,B-M):(v=g-2,d(s(c(_),0),B-M)),9007199254740991<B+v-j)throw TypeError("Maximum allowed length exceeded");for(T=l(P,j),C=0;C<j;C++)(L=M+C)in P&&f(T,C,P[L]);if(v<(T.length=j)){for(C=M;C<B-j;C++)R=C+v,(L=C+j)in P?P[R]=P[L]:delete P[R];for(C=B;B-j+v<C;C--)delete P[C-1]}else if(j<v)for(C=B-j;M<C;C--)R=C+v-1,(L=C+j-1)in P?P[R]=P[L]:delete P[R];for(C=0;C<v;C++)P[C+M]=arguments[C+2];return P.length=B-j+v,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],167:[function(r,E,y){var h=r("../internals/descriptors"),a=(r=r("../internals/object-define-property").f,Function.prototype),c=a.toString,x=/^\s*function ([^ (]*)/;!h||"name"in a||r(a,"name",{configurable:!0,get:function(){try{return c.call(this).match(x)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],168:[function(r,E,y){var h=r("../internals/collection");r=r("../internals/collection-strong"),E.exports=h("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},r)},{"../internals/collection":32,"../internals/collection-strong":30}],169:[function(r,E,y){r=r("../internals/export");var h=Math.hypot,a=Math.abs,c=Math.sqrt;r({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(x,S){for(var l,f,u=0,s=0,d=arguments.length,g=0;s<d;)g<(l=a(arguments[s++]))?(u=u*(f=g/l)*f+1,g=l):u+=0<l?(f=l/g)*f:l;return g===1/0?1/0:g*c(u)}})},{"../internals/export":50}],170:[function(r,E,y){r("../internals/export")({target:"Math",stat:!0},{sign:r("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],171:[function(r,E,y){function h($){var G,I,q,Z,J,ee,le,ae=s($,!1);if(typeof ae=="string"&&2<ae.length){if(($=(ae=T(ae)).charCodeAt(0))===43||$===45){if((G=ae.charCodeAt(2))===88||G===120)return NaN}else if($===48){switch(ae.charCodeAt(1)){case 66:case 98:I=2,q=49;break;case 79:case 111:I=8,q=55;break;default:return+ae}for(J=(Z=ae.slice(2)).length,ee=0;ee<J;ee++)if((le=Z.charCodeAt(ee))<48||q<le)return NaN;return parseInt(Z,I)}}return+ae}var a=r("../internals/descriptors"),c=r("../internals/global"),x=r("../internals/is-forced"),S=r("../internals/redefine"),l=r("../internals/has"),f=r("../internals/classof-raw"),u=r("../internals/inherit-if-required"),s=r("../internals/to-primitive"),d=r("../internals/fails"),g=r("../internals/object-create"),_=r("../internals/object-get-own-property-names").f,v=r("../internals/object-get-own-property-descriptor").f,j=r("../internals/object-define-property").f,T=r("../internals/string-trim").trim,C="Number",L=c[C],R=L.prototype,P=f(g(R))==C;if(x(C,!L(" 0o1")||!L("0b1")||L("+0x1"))){for(var B,M=function($){$=arguments.length<1?0:$;var G=this;return G instanceof M&&(P?d(function(){R.valueOf.call(G)}):f(G)!=C)?u(new L(h($)),G,M):h($)},U=a?_(L):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),V=0;U.length>V;V++)l(L,B=U[V])&&!l(M,B)&&j(M,B,v(L,B));(M.prototype=R).constructor=M,S(c,C,M)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],172:[function(r,E,y){r("../internals/export")({target:"Number",stat:!0},{isFinite:r("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],173:[function(r,E,y){function h(u,s,d){return s===0?d:s%2==1?h(u,s-1,d*u):h(u*u,s/2,d)}var a=r("../internals/export"),c=r("../internals/to-integer"),x=r("../internals/this-number-value"),S=r("../internals/string-repeat"),l=(r=r("../internals/fails"),1 .toFixed),f=Math.floor;a({target:"Number",proto:!0,forced:l&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!r(function(){l.call({})})},{toFixed:function(u){function s(R,P){for(var B=-1,M=P;++B<6;)M+=R*T[B],T[B]=M%1e7,M=f(M/1e7)}function d(R){for(var P=6,B=0;0<=--P;)B+=T[P],T[P]=f(B/R),B=B%R*1e7}function g(){for(var R,P=6,B="";0<=--P;)B===""&&P!==0&&T[P]===0||(R=String(T[P]),B=B===""?R:B+S.call("0",7-R.length)+R);return B}var _,v,j=x(this),T=(u=c(u),[0,0,0,0,0,0]),C="",L="0";if(u<0||20<u)throw RangeError("Incorrect fraction digits");if(j!=j)return"NaN";if(j<=-1e21||1e21<=j)return String(j);if(j<0&&(C="-",j=-j),1e-21<j)if(j=(_=function(R){for(var P=0,B=R;4096<=B;)P+=12,B/=4096;for(;2<=B;)P+=1,B/=2;return P}(j*h(2,69,1))-69)<0?j*h(2,-_,1):j/h(2,_,1),j*=4503599627370496,0<(_=52-_)){for(s(0,j),v=u;7<=v;)s(1e7,0),v-=7;for(s(h(10,v,1),0),v=_-1;23<=v;)d(1<<23),v-=23;d(1<<v),s(1,1),d(2),L=g()}else s(0,j),s(1<<-_,0),L=g()+S.call("0",u);return 0<u?C+((j=L.length)<=u?"0."+S.call("0",u-j)+L:L.slice(0,j-u)+"."+L.slice(j-u)):C+L}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],174:[function(r,E,y){var h=r("../internals/export");r=r("../internals/object-assign"),h({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},{"../internals/export":50,"../internals/object-assign":89}],175:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/iterate"),c=r("../internals/create-property");h({target:"Object",stat:!0},{fromEntries:function(x){var S={};return a(x,function(l,f){c(S,l,f)},void 0,!0),S}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],176:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/fails"),c=r("../internals/to-indexed-object"),x=r("../internals/object-get-own-property-descriptor").f;r=r("../internals/descriptors"),a=a(function(){x(1)}),h({target:"Object",stat:!0,forced:!r||a,sham:!r},{getOwnPropertyDescriptor:function(S,l){return x(c(S),l)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],177:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/fails");r=r("../internals/object-get-own-property-names-external").f,h({target:"Object",stat:!0,forced:a(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:r})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],178:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/fails"),c=r("../internals/to-object"),x=r("../internals/object-get-prototype-of");r=r("../internals/correct-prototype-getter"),h({target:"Object",stat:!0,forced:a(function(){x(1)}),sham:!r},{getPrototypeOf:function(S){return x(c(S))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],179:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/to-object"),c=r("../internals/object-keys");h({target:"Object",stat:!0,forced:r("../internals/fails")(function(){c(1)})},{keys:function(x){return c(a(x))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],180:[function(r,E,y){var h=r("../internals/to-string-tag-support"),a=r("../internals/redefine");r=r("../internals/object-to-string"),h||a(Object.prototype,"toString",r,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],181:[function(r,E,y){var h,a,c,x,S=r("../internals/export"),l=r("../internals/is-pure"),f=r("../internals/global"),u=r("../internals/get-built-in"),s=r("../internals/native-promise-constructor"),d=r("../internals/redefine"),g=r("../internals/redefine-all"),_=r("../internals/set-to-string-tag"),v=r("../internals/set-species"),j=r("../internals/is-object"),T=r("../internals/a-function"),C=r("../internals/an-instance"),L=r("../internals/classof-raw"),R=r("../internals/inspect-source"),P=r("../internals/iterate"),B=r("../internals/check-correctness-of-iteration"),M=r("../internals/species-constructor"),U=r("../internals/task").set,V=r("../internals/microtask"),$=r("../internals/promise-resolve"),G=r("../internals/host-report-errors"),I=r("../internals/new-promise-capability"),q=r("../internals/perform"),Z=r("../internals/internal-state"),J=r("../internals/is-forced"),ee=r("../internals/well-known-symbol"),le=r("../internals/engine-v8-version"),ae=ee("species"),fe="Promise",H=Z.get,X=Z.set,te=Z.getterFor(fe),ue=s,ce=f.TypeError,he=f.document,ne=f.process,me=u("fetch"),_e=I.f,Te=_e,ve=L(ne)=="process",je=!!(he&&he.createEvent&&f.dispatchEvent),Ae="unhandledrejection",Ve=(ee=(r=J(fe,function(){var ge,Ne;return R(ue)===String(ue)&&(le===66||!ve&&typeof PromiseRejectionEvent!="function")?!0:!((!l||ue.prototype.finally)&&(51<=le&&/native code/.test(ue)||(Ne=function(Fe){Fe(function(){},function(){})},((ge=ue.resolve(1)).constructor={})[ae]=Ne,ge.then(function(){})instanceof Ne)))}))||!B(function(ge){ue.all(ge).catch(function(){})}),function(ge){var Ne;return!(!j(ge)||typeof(Ne=ge.then)!="function")&&Ne}),De=function(ge,Ne,Fe){var Xe;Ne.notified||(Ne.notified=!0,Xe=Ne.reactions,V(function(){for(var ot,gt,ut=Ne.value,at=Ne.state==1,ie=0;Xe.length>ie;){var re,se,pe,Ee=Xe[ie++],Be=at?Ee.ok:Ee.fail,Qe=Ee.resolve,Ye=Ee.reject,Pe=Ee.domain;try{Be?(at||(Ne.rejection===2&&function(et,ft){U.call(f,function(){ve?ne.emit("rejectionHandled",et):He("rejectionhandled",et,ft.value)})}(ge,Ne),Ne.rejection=1),Be===!0?re=ut:(Pe&&Pe.enter(),re=Be(ut),Pe&&(Pe.exit(),pe=!0)),re===Ee.promise?Ye(ce("Promise-chain cycle")):(se=Ve(re))?se.call(re,Qe,Ye):Qe(re)):Ye(ut)}catch(et){Pe&&!pe&&Pe.exit(),Ye(et)}}Ne.reactions=[],Ne.notified=!1,Fe&&!Ne.rejection&&(ot=ge,gt=Ne,U.call(f,function(){var et=gt.value,ft=tt(gt);if(ft&&(ft=q(function(){ve?ne.emit("unhandledRejection",et,ot):He(Ae,ot,et)}),gt.rejection=ve||tt(gt)?2:1,ft.error))throw ft.value}))}))},He=function(ge,Ne,Fe){var Xe;je?((Xe=he.createEvent("Event")).promise=Ne,Xe.reason=Fe,Xe.initEvent(ge,!1,!0),f.dispatchEvent(Xe)):Xe={promise:Ne,reason:Fe},(Ne=f["on"+ge])?Ne(Xe):ge===Ae&&G("Unhandled promise rejection",Fe)},tt=function(ge){return ge.rejection!==1&&!ge.parent},rt=function(ge,Ne,Fe,Xe){return function(ot){ge(Ne,Fe,ot,Xe)}},wt=function(ge,Ne,Fe,Xe){Ne.done||(Ne.done=!0,(Ne=Xe||Ne).value=Fe,Ne.state=2,De(ge,Ne,!0))},st=function(ge,Ne,Fe,Xe){if(!Ne.done){Ne.done=!0,Xe&&(Ne=Xe);try{if(ge===Fe)throw ce("Promise can't be resolved itself");var ot=Ve(Fe);ot?V(function(){var gt={done:!1};try{ot.call(Fe,rt(st,ge,gt,Ne),rt(wt,ge,gt,Ne))}catch(ut){wt(ge,gt,ut,Ne)}}):(Ne.value=Fe,Ne.state=1,De(ge,Ne,!1))}catch(gt){wt(ge,{done:!1},gt,Ne)}}};r&&(ue=function(ge){C(this,ue,fe),T(ge),h.call(this);var Ne=H(this);try{ge(rt(st,this,Ne),rt(wt,this,Ne))}catch(Fe){wt(this,Ne,Fe)}},(h=function(ge){X(this,{type:fe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=g(ue.prototype,{then:function(ge,Ne){var Fe=te(this),Xe=_e(M(this,ue));return Xe.ok=typeof ge!="function"||ge,Xe.fail=typeof Ne=="function"&&Ne,Xe.domain=ve?ne.domain:void 0,Fe.parent=!0,Fe.reactions.push(Xe),Fe.state!=0&&De(this,Fe,!1),Xe.promise},catch:function(ge){return this.then(void 0,ge)}}),a=function(){var ge=new h,Ne=H(ge);this.promise=ge,this.resolve=rt(st,ge,Ne),this.reject=rt(wt,ge,Ne)},I.f=_e=function(ge){return ge===ue||ge===c?new a:Te(ge)},l||typeof s!="function"||(x=s.prototype.then,d(s.prototype,"then",function(ge,Ne){var Fe=this;return new ue(function(Xe,ot){x.call(Fe,Xe,ot)}).then(ge,Ne)},{unsafe:!0}),typeof me=="function"&&S({global:!0,enumerable:!0,forced:!0},{fetch:function(ge){return $(ue,me.apply(f,arguments))}}))),S({global:!0,wrap:!0,forced:r},{Promise:ue}),_(ue,fe,!1,!0),v(fe),c=u(fe),S({target:fe,stat:!0,forced:r},{reject:function(ge){var Ne=_e(this);return Ne.reject.call(void 0,ge),Ne.promise}}),S({target:fe,stat:!0,forced:l||r},{resolve:function(ge){return $(l&&this===c?ue:this,ge)}}),S({target:fe,stat:!0,forced:ee},{all:function(ge){var Ne=this,Fe=_e(Ne),Xe=Fe.resolve,ot=Fe.reject,gt=q(function(){var ut=T(Ne.resolve),at=[],ie=0,re=1;P(ge,function(se){var pe=ie++,Ee=!1;at.push(void 0),re++,ut.call(Ne,se).then(function(Be){Ee||(Ee=!0,at[pe]=Be,--re||Xe(at))},ot)}),--re||Xe(at)});return gt.error&&ot(gt.value),Fe.promise},race:function(ge){var Ne=this,Fe=_e(Ne),Xe=Fe.reject,ot=q(function(){var gt=T(Ne.resolve);P(ge,function(ut){gt.call(Ne,ut).then(Fe.resolve,Xe)})});return ot.error&&Xe(ot.value),Fe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],182:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/get-built-in"),c=r("../internals/a-function"),x=r("../internals/an-object"),S=r("../internals/is-object"),l=r("../internals/object-create"),f=r("../internals/function-bind"),u=(r=r("../internals/fails"),a("Reflect","construct")),s=r(function(){function g(){}return!(u(function(){},[],g)instanceof g)}),d=!r(function(){u(function(){})});h({target:"Reflect",stat:!0,forced:a=s||d,sham:a},{construct:function(g,_){c(g),x(_);var v=arguments.length<3?g:c(arguments[2]);if(d&&!s)return u(g,_,v);if(g==v){switch(_.length){case 0:return new g;case 1:return new g(_[0]);case 2:return new g(_[0],_[1]);case 3:return new g(_[0],_[1],_[2]);case 4:return new g(_[0],_[1],_[2],_[3])}var j=[null];return j.push.apply(j,_),new(f.apply(g,j))}return j=v.prototype,v=l(S(j)?j:Object.prototype),j=Function.apply.call(g,v,_),S(j)?j:v}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],183:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/is-object"),c=r("../internals/an-object"),x=r("../internals/has"),S=r("../internals/object-get-own-property-descriptor"),l=r("../internals/object-get-prototype-of");h({target:"Reflect",stat:!0},{get:function f(u,s){var d,g=arguments.length<3?u:arguments[2];return c(u)===g?u[s]:(d=S.f(u,s))?x(d,"value")?d.value:d.get===void 0?void 0:d.get.call(g):a(d=l(u))?f(d,s,g):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],184:[function(r,E,y){var h=r("../internals/descriptors"),a=r("../internals/global"),c=r("../internals/is-forced"),x=r("../internals/inherit-if-required"),S=r("../internals/object-define-property").f,l=r("../internals/object-get-own-property-names").f,f=r("../internals/is-regexp"),u=r("../internals/regexp-flags"),s=r("../internals/regexp-sticky-helpers"),d=r("../internals/redefine"),g=r("../internals/fails"),_=r("../internals/internal-state").set,v=r("../internals/set-species"),j=r("../internals/well-known-symbol")("match"),T=a.RegExp,C=T.prototype,L=/a/g,R=/a/g,P=new T(L)!==L,B=s.UNSUPPORTED_Y;if(h&&c("RegExp",!P||B||g(function(){return R[j]=!1,T(L)!=L||T(R)==R||T(L,"i")!="/a/i"}))){for(var M=function($,G){var I,q=this instanceof M,Z=f($),J=G===void 0;return!q&&Z&&$.constructor===M&&J?$:(P?Z&&!J&&($=$.source):$ instanceof M&&(J&&(G=u.call($)),$=$.source),B&&(I=!!G&&-1<G.indexOf("y"))&&(G=G.replace(/y/g,"")),Z=x(P?new T($,G):T($,G),q?this:C,M),B&&I&&_(Z,{sticky:I}),Z)},U=l(T),V=0;U.length>V;)(function($){$ in M||S(M,$,{configurable:!0,get:function(){return T[$]},set:function(G){T[$]=G}})})(U[V++]);(C.constructor=M).prototype=C,d(a,"RegExp",M)}v("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],185:[function(r,E,y){var h=r("../internals/export");r=r("../internals/regexp-exec"),h({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},{"../internals/export":50,"../internals/regexp-exec":110}],186:[function(r,E,y){var h=r("../internals/redefine"),a=r("../internals/an-object"),c=r("../internals/fails"),x=r("../internals/regexp-flags"),S=(r="toString",RegExp.prototype),l=S[r],f=(c=c(function(){return l.call({source:"a",flags:"b"})!="/a/b"}),l.name!=r);(c||f)&&h(RegExp.prototype,r,function(){var u=a(this),s=String(u.source),d=u.flags;return"/"+s+"/"+String(d===void 0&&u instanceof RegExp&&!("flags"in S)?x.call(u):d)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],187:[function(r,E,y){var h=r("../internals/collection");r=r("../internals/collection-strong"),E.exports=h("Set",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},r)},{"../internals/collection":32,"../internals/collection-strong":30}],188:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/object-get-own-property-descriptor").f,c=r("../internals/to-length"),x=r("../internals/not-a-regexp"),S=r("../internals/require-object-coercible"),l=r("../internals/correct-is-regexp-logic"),f=(r=r("../internals/is-pure"),"".endsWith),u=Math.min;l=l("endsWith"),h({target:"String",proto:!0,forced:!(!r&&!l&&(h=a(String.prototype,"endsWith"))&&!h.writable||l)},{endsWith:function(s){var d=String(S(this)),g=(x(s),1<arguments.length?arguments[1]:void 0),_=c(d.length);return g=g===void 0?_:u(c(g),_),_=String(s),f?f.call(d,_,g):d.slice(g-_.length,g)===_}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],189:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/not-a-regexp"),c=r("../internals/require-object-coercible");h({target:"String",proto:!0,forced:!r("../internals/correct-is-regexp-logic")("includes")},{includes:function(x){return!!~String(c(this)).indexOf(a(x),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],190:[function(r,E,y){var h=r("../internals/string-multibyte").charAt,a=r("../internals/internal-state"),c=(r=r("../internals/define-iterator"),"String Iterator"),x=a.set,S=a.getterFor(c);r(String,"String",function(l){x(this,{type:c,string:String(l),index:0})},function(){var l=S(this),f=l.string,u=l.index;return u>=f.length?{value:void 0,done:!0}:(f=h(f,u),l.index+=f.length,{value:f,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],191:[function(r,E,y){var h=r("../internals/fix-regexp-well-known-symbol-logic"),a=r("../internals/an-object"),c=r("../internals/to-length"),x=r("../internals/require-object-coercible"),S=r("../internals/advance-string-index"),l=r("../internals/regexp-exec-abstract");h("match",1,function(f,u,s){return[function(d){var g=x(this),_=d==null?void 0:d[f];return _!==void 0?_.call(d,g):new RegExp(d)[f](String(g))},function(d){var g=s(u,d,this);if(g.done)return g.value;var _=a(d),v=String(this);if(!_.global)return l(_,v);for(var j=_.unicode,T=[],C=_.lastIndex=0;(L=l(_,v))!==null;){var L=String(L[0]);(T[C]=L)===""&&(_.lastIndex=S(v,c(_.lastIndex),j)),C++}return C===0?null:T}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],192:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/string-pad").start;h({target:"String",proto:!0,forced:r("../internals/string-pad-webkit-bug")},{padStart:function(c){return a(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],193:[function(r,E,y){r("../internals/export")({target:"String",proto:!0},{repeat:r("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],194:[function(r,E,y){var h=r("../internals/fix-regexp-well-known-symbol-logic"),a=r("../internals/an-object"),c=r("../internals/to-object"),x=r("../internals/to-length"),S=r("../internals/to-integer"),l=r("../internals/require-object-coercible"),f=r("../internals/advance-string-index"),u=r("../internals/regexp-exec-abstract"),s=Math.max,d=Math.min,g=Math.floor,_=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;h("replace",2,function(j,T,C,L){var R=L.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,P=L.REPLACE_KEEPS_$0,B=R?"$":"$0";return[function(M,U){var V=l(this),$=M==null?void 0:M[j];return $!==void 0?$.call(M,V,U):T.call(String(V),M,U)},function(M,U){if(!R&&P||typeof U=="string"&&U.indexOf(B)===-1){var V=C(T,M,this,U);if(V.done)return V.value}for(var $,G=a(M),I=String(this),q=typeof U=="function",Z=(q||(U=String(U)),G.global),J=(Z&&($=G.unicode,G.lastIndex=0),[]);(H=u(G,I))!==null&&(J.push(H),Z);)String(H[0])===""&&(G.lastIndex=f(I,x(G.lastIndex),$));for(var ee,le="",ae=0,fe=0;fe<J.length;fe++){for(var H=J[fe],X=String(H[0]),te=s(d(S(H.index),I.length),0),ue=[],ce=1;ce<H.length;ce++)ue.push((ee=H[ce])===void 0?ee:String(ee));var he=H.groups,ne=q?(ne=[X].concat(ue,te,I),he!==void 0&&ne.push(he),String(U.apply(void 0,ne))):function(me,_e,Te,ve,je,Ae){var Ve=Te+me.length,De=ve.length,He=v;return je!==void 0&&(je=c(je),He=_),T.call(Ae,He,function(tt,rt){var wt;switch(rt.charAt(0)){case"$":return"$";case"&":return me;case"`":return _e.slice(0,Te);case"'":return _e.slice(Ve);case"<":wt=je[rt.slice(1,-1)];break;default:var st,ge=+rt;if(ge==0)return tt;if(De<ge)return(st=g(ge/10))!==0&&st<=De?ve[st-1]===void 0?rt.charAt(1):ve[st-1]+rt.charAt(1):tt;wt=ve[ge-1]}return wt===void 0?"":wt})}(X,I,te,ue,he,U);ae<=te&&(le+=I.slice(ae,te)+ne,ae=te+X.length)}return le+I.slice(ae)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],195:[function(r,E,y){var h=r("../internals/fix-regexp-well-known-symbol-logic"),a=r("../internals/an-object"),c=r("../internals/require-object-coercible"),x=r("../internals/same-value"),S=r("../internals/regexp-exec-abstract");h("search",1,function(l,f,u){return[function(s){var d=c(this),g=s==null?void 0:s[l];return g!==void 0?g.call(s,d):new RegExp(s)[l](String(d))},function(s){var d,g=u(f,s,this);return g.done?g.value:(g=a(s),s=String(this),d=g.lastIndex,x(d,0)||(g.lastIndex=0),s=S(g,s),x(g.lastIndex,d)||(g.lastIndex=d),s===null?-1:s.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],196:[function(r,E,y){var h=r("../internals/fix-regexp-well-known-symbol-logic"),a=r("../internals/is-regexp"),c=r("../internals/an-object"),x=r("../internals/require-object-coercible"),S=r("../internals/species-constructor"),l=r("../internals/advance-string-index"),f=r("../internals/to-length"),u=r("../internals/regexp-exec-abstract"),s=r("../internals/regexp-exec"),d=(r=r("../internals/fails"),[].push),g=Math.min,_=4294967295,v=!r(function(){return!RegExp(_,"y")});h("split",2,function(j,T,C){var L="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(R,P){var B=String(x(this)),M=P===void 0?_:P>>>0;if(M==0)return[];if(R===void 0)return[B];if(!a(R))return T.call(B,R,M);for(var U,V,$,G=[],I=(P=(R.ignoreCase?"i":"")+(R.multiline?"m":"")+(R.unicode?"u":"")+(R.sticky?"y":""),0),q=new RegExp(R.source,P+"g");(U=s.call(q,B))&&!(I<(V=q.lastIndex)&&(G.push(B.slice(I,U.index)),1<U.length&&U.index<B.length&&d.apply(G,U.slice(1)),$=U[0].length,I=V,G.length>=M));)q.lastIndex===U.index&&q.lastIndex++;return I===B.length?!$&&q.test("")||G.push(""):G.push(B.slice(I)),G.length>M?G.slice(0,M):G}:"0".split(void 0,0).length?function(R,P){return R===void 0&&P===0?[]:T.call(this,R,P)}:T;return[function(R,P){var B=x(this),M=R==null?void 0:R[j];return M!==void 0?M.call(R,B,P):L.call(String(B),R,P)},function(R,P){if((B=C(L,R,this,P,L!==T)).done)return B.value;var B=c(R),M=String(this),U=(R=S(B,RegExp),B.unicode),V=(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.unicode?"u":"")+(v?"y":"g"),$=new R(v?B:"^(?:"+B.source+")",V),G=P===void 0?_:P>>>0;if(G==0)return[];if(M.length===0)return u($,M)===null?[M]:[];for(var I=0,q=0,Z=[];q<M.length;){$.lastIndex=v?q:0;var J,ee=u($,v?M:M.slice(q));if(ee===null||(J=g(f($.lastIndex+(v?0:q)),M.length))===I)q=l(M,q,U);else{if(Z.push(M.slice(I,q)),Z.length===G)return Z;for(var le=1;le<=ee.length-1;le++)if(Z.push(ee[le]),Z.length===G)return Z;q=I=J}}return Z.push(M.slice(I)),Z}]},!v)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],197:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/object-get-own-property-descriptor").f,c=r("../internals/to-length"),x=r("../internals/not-a-regexp"),S=r("../internals/require-object-coercible"),l=r("../internals/correct-is-regexp-logic"),f=(r=r("../internals/is-pure"),"".startsWith),u=Math.min;l=l("startsWith"),h({target:"String",proto:!0,forced:!(!r&&!l&&(h=a(String.prototype,"startsWith"))&&!h.writable||l)},{startsWith:function(s){var d=String(S(this)),g=(x(s),c(u(1<arguments.length?arguments[1]:void 0,d.length)));return s=String(s),f?f.call(d,s,g):d.slice(g,g+s.length)===s}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],198:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/create-html");h({target:"String",proto:!0,forced:r("../internals/string-html-forced")("sub")},{sub:function(){return a(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],199:[function(r,E,y){var h=r("../internals/export"),a=r("../internals/string-trim").trim;h({target:"String",proto:!0,forced:r("../internals/string-trim-forced")("trim")},{trim:function(){return a(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],200:[function(r,E,y){var h,a,c,x,S,l=r("../internals/export"),f=r("../internals/descriptors"),u=r("../internals/global"),s=r("../internals/has"),d=r("../internals/is-object"),g=r("../internals/object-define-property").f,_=(r=r("../internals/copy-constructor-properties"),u.Symbol);!f||typeof _!="function"||"description"in _.prototype&&_().description===void 0||(h={},r(a=function(){var v=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),j=this instanceof a?new _(v):v===void 0?_():_(v);return v===""&&(h[j]=!0),j},_),(u=a.prototype=_.prototype).constructor=a,c=u.toString,x=String(_("test"))=="Symbol(test)",S=/^Symbol\((.*)\)[^)]+$/,g(u,"description",{configurable:!0,get:function(){var v=d(this)?this.valueOf():this,j=c.call(v);return s(h,v)?"":(v=x?j.slice(7,-1):j.replace(S,"$1"))===""?void 0:v}}),l({global:!0,forced:!0},{Symbol:a}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],201:[function(r,E,y){r("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],202:[function(r,E,y){function h(re,se){var pe=st[re]=M(Ve[Te]);return ve(pe,{type:_e,tag:re,description:se}),s||(pe.description=se),pe}function a(re,se){C(re);var pe=R(se);return se=U(pe).concat(ie(pe)),ne(se,function(Ee){s&&!at.call(pe,Ee)||ut(re,Ee,pe[Ee])}),re}function c(re,se){var pe;if(re=R(re),se=P(se,!0),re!==Ae||!v(st,se)||v(ge,se))return!(pe=He(re,se))||!v(st,se)||v(re,me)&&re[me][se]||(pe.enumerable=!0),pe}function x(re){re=rt(R(re));var se=[];return ne(re,function(pe){v(st,pe)||v(fe,pe)||se.push(pe)}),se}var S=r("../internals/export"),l=r("../internals/global"),f=r("../internals/get-built-in"),u=r("../internals/is-pure"),s=r("../internals/descriptors"),d=r("../internals/native-symbol"),g=r("../internals/use-symbol-as-uid"),_=r("../internals/fails"),v=r("../internals/has"),j=r("../internals/is-array"),T=r("../internals/is-object"),C=r("../internals/an-object"),L=r("../internals/to-object"),R=r("../internals/to-indexed-object"),P=r("../internals/to-primitive"),B=r("../internals/create-property-descriptor"),M=r("../internals/object-create"),U=r("../internals/object-keys"),V=r("../internals/object-get-own-property-names"),$=r("../internals/object-get-own-property-names-external"),G=r("../internals/object-get-own-property-symbols"),I=r("../internals/object-get-own-property-descriptor"),q=r("../internals/object-define-property"),Z=r("../internals/object-property-is-enumerable"),J=r("../internals/create-non-enumerable-property"),ee=r("../internals/redefine"),le=r("../internals/shared"),ae=r("../internals/shared-key"),fe=r("../internals/hidden-keys"),H=r("../internals/uid"),X=r("../internals/well-known-symbol"),te=r("../internals/well-known-symbol-wrapped"),ue=r("../internals/define-well-known-symbol"),ce=r("../internals/set-to-string-tag"),he=r("../internals/internal-state"),ne=r("../internals/array-iteration").forEach,me=ae("hidden"),_e="Symbol",Te="prototype",ve=(r=X("toPrimitive"),he.set),je=he.getterFor(_e),Ae=Object[Te],Ve=l.Symbol,De=f("JSON","stringify"),He=I.f,tt=q.f,rt=$.f,wt=Z.f,st=le("symbols"),ge=le("op-symbols"),Ne=le("string-to-symbol-registry"),Fe=le("symbol-to-string-registry"),Xe=(ae=le("wks"),!(he=l.QObject)||!he[Te]||!he[Te].findChild),ot=s&&_(function(){return M(tt({},"a",{get:function(){return tt(this,"a",{value:7}).a}})).a!=7})?function(re,se,pe){var Ee=He(Ae,se);Ee&&delete Ae[se],tt(re,se,pe),Ee&&re!==Ae&&tt(Ae,se,Ee)}:tt,gt=g?function(re){return typeof re=="symbol"}:function(re){return Object(re)instanceof Ve},ut=function(re,se,pe){return re===Ae&&ut(ge,se,pe),C(re),se=P(se,!0),C(pe),(v(st,se)?(pe.enumerable?(v(re,me)&&re[me][se]&&(re[me][se]=!1),pe=M(pe,{enumerable:B(0,!1)})):(v(re,me)||tt(re,me,B(1,{})),re[me][se]=!0),ot):tt)(re,se,pe)},at=function(re){re=P(re,!0);var se=wt.call(this,re);return!(this===Ae&&v(st,re)&&!v(ge,re))&&(!(se||!v(this,re)||!v(st,re)||v(this,me)&&this[me][re])||se)},ie=function(re){var se=re===Ae,pe=(re=rt(se?ge:R(re)),[]);return ne(re,function(Ee){!v(st,Ee)||se&&!v(Ae,Ee)||pe.push(st[Ee])}),pe};d||(ee((Ve=function(){if(this instanceof Ve)throw TypeError("Symbol is not a constructor");var re=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,se=H(re),pe=function(Ee){this===Ae&&pe.call(ge,Ee),v(this,me)&&v(this[me],se)&&(this[me][se]=!1),ot(this,se,B(1,Ee))};return s&&Xe&&ot(Ae,se,{configurable:!0,set:pe}),h(se,re)})[Te],"toString",function(){return je(this).tag}),ee(Ve,"withoutSetter",function(re){return h(H(re),re)}),Z.f=at,q.f=ut,I.f=c,V.f=$.f=x,G.f=ie,te.f=function(re){return h(X(re),re)},s&&(tt(Ve[Te],"description",{configurable:!0,get:function(){return je(this).description}}),u||ee(Ae,"propertyIsEnumerable",at,{unsafe:!0}))),S({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Ve}),ne(U(ae),function(re){ue(re)}),S({target:_e,stat:!0,forced:!d},{for:function(re){var se;return re=String(re),v(Ne,re)?Ne[re]:(se=Ve(re),Ne[re]=se,Fe[se]=re,se)},keyFor:function(re){if(!gt(re))throw TypeError(re+" is not a symbol");if(v(Fe,re))return Fe[re]},useSetter:function(){Xe=!0},useSimple:function(){Xe=!1}}),S({target:"Object",stat:!0,forced:!d,sham:!s},{create:function(re,se){return se===void 0?M(re):a(M(re),se)},defineProperty:ut,defineProperties:a,getOwnPropertyDescriptor:c}),S({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:x,getOwnPropertySymbols:ie}),S({target:"Object",stat:!0,forced:_(function(){G.f(1)})},{getOwnPropertySymbols:function(re){return G.f(L(re))}}),De&&S({target:"JSON",stat:!0,forced:!d||_(function(){var re=Ve();return De([re])!="[null]"||De({a:re})!="{}"||De(Object(re))!="{}"})},{stringify:function(re,se,pe){for(var Ee,Be=[re],Qe=1;Qe<arguments.length;)Be.push(arguments[Qe++]);if((T(Ee=se)||re!==void 0)&&!gt(re))return j(se)||(se=function(Ye,Pe){if(typeof Ee=="function"&&(Pe=Ee.call(this,Ye,Pe)),!gt(Pe))return Pe}),Be[1]=se,De.apply(null,Be)}}),Ve[Te][r]||J(Ve[Te],r,Ve[Te].valueOf),ce(Ve,_e),fe[me]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],203:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-copy-within"),c=h.aTypedArray;(0,h.exportTypedArrayMethod)("copyWithin",function(x,S){return a.call(c(this),x,S,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],204:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-iteration").every,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("every",function(x){return a(c(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],205:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-fill"),c=h.aTypedArray;(0,h.exportTypedArrayMethod)("fill",function(x){return a.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],206:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-iteration").filter,c=r("../internals/species-constructor"),x=h.aTypedArray,S=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("filter",function(l){for(var f=a(x(this),l,1<arguments.length?arguments[1]:void 0),u=(l=c(this,this.constructor),0),s=f.length,d=new(S(l))(s);u<s;)d[u]=f[u++];return d})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],207:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-iteration").findIndex,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("findIndex",function(x){return a(c(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],208:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-iteration").find,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("find",function(x){return a(c(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],209:[function(r,E,y){r("../internals/typed-array-constructor")("Float32",function(h){return function(a,c,x){return h(this,a,c,x)}})},{"../internals/typed-array-constructor":142}],210:[function(r,E,y){r("../internals/typed-array-constructor")("Float64",function(h){return function(a,c,x){return h(this,a,c,x)}})},{"../internals/typed-array-constructor":142}],211:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-iteration").forEach,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("forEach",function(x){a(c(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-includes").includes,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("includes",function(x){return a(c(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],213:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-includes").indexOf,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("indexOf",function(x){return a(c(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],214:[function(r,E,y){r("../internals/typed-array-constructor")("Int16",function(h){return function(a,c,x){return h(this,a,c,x)}})},{"../internals/typed-array-constructor":142}],215:[function(r,E,y){r("../internals/typed-array-constructor")("Int32",function(h){return function(a,c,x){return h(this,a,c,x)}})},{"../internals/typed-array-constructor":142}],216:[function(r,E,y){function h(){return S.call(u(this))}var a=r("../internals/global"),c=r("../internals/array-buffer-view-core"),x=r("../modules/es.array.iterator"),S=(r=r("../internals/well-known-symbol")("iterator"),a=a.Uint8Array,x.values),l=x.keys,f=x.entries,u=c.aTypedArray;x=c.exportTypedArrayMethod,a=!!(c=a&&a.prototype[r])&&(c.name=="values"||c.name==null),x("entries",function(){return f.call(u(this))}),x("keys",function(){return l.call(u(this))}),x("values",h,!a),x(r,h,!a)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],217:[function(r,E,y){var h=(r=r("../internals/array-buffer-view-core")).aTypedArray,a=(r=r.exportTypedArrayMethod,[].join);r("join",function(c){return a.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12}],218:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-last-index-of"),c=h.aTypedArray;(0,h.exportTypedArrayMethod)("lastIndexOf",function(x){return a.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],219:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-iteration").map,c=r("../internals/species-constructor"),x=h.aTypedArray,S=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("map",function(l){return a(x(this),l,1<arguments.length?arguments[1]:void 0,function(f,u){return new(S(c(f,f.constructor)))(u)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],220:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-reduce").right,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduceRight",function(x){return a(c(this),x,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],221:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-reduce").left,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduce",function(x){return a(c(this),x,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],222:[function(r,E,y){var h=(r=r("../internals/array-buffer-view-core")).aTypedArray,a=(r=r.exportTypedArrayMethod,Math.floor);r("reverse",function(){for(var c,x=h(this).length,S=a(x/2),l=0;l<S;)c=this[l],this[l++]=this[--x],this[x]=c;return this})},{"../internals/array-buffer-view-core":12}],223:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/to-length"),c=r("../internals/to-offset"),x=r("../internals/to-object"),S=(r=r("../internals/fails"),h.aTypedArray);(0,h.exportTypedArrayMethod)("set",function(l){S(this);var f=c(1<arguments.length?arguments[1]:void 0,1),u=this.length,s=x(l),d=a(s.length),g=0;if(u<d+f)throw RangeError("Wrong length");for(;g<d;)this[f+g]=s[g++]},r(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],224:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/species-constructor"),c=(r=r("../internals/fails"),h.aTypedArray),x=h.aTypedArrayConstructor,S=(h=h.exportTypedArrayMethod,[].slice);h("slice",function(l,f){for(var u=S.call(c(this),l,f),s=(l=a(this,this.constructor),0),d=u.length,g=new(x(l))(d);s<d;)g[s]=u[s++];return g},r(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],225:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/array-iteration").some,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("some",function(x){return a(c(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],226:[function(r,E,y){var h=(r=r("../internals/array-buffer-view-core")).aTypedArray,a=(r=r.exportTypedArrayMethod,[].sort);r("sort",function(c){return a.call(h(this),c)})},{"../internals/array-buffer-view-core":12}],227:[function(r,E,y){var h=r("../internals/array-buffer-view-core"),a=r("../internals/to-length"),c=r("../internals/to-absolute-index"),x=r("../internals/species-constructor"),S=h.aTypedArray;(0,h.exportTypedArrayMethod)("subarray",function(l,f){var u=S(this),s=u.length;return l=c(l,s),new(x(u,u.constructor))(u.buffer,u.byteOffset+l*u.BYTES_PER_ELEMENT,a((f===void 0?s:c(f,s))-l))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],228:[function(r,E,y){var h=r("../internals/global"),a=r("../internals/array-buffer-view-core"),c=(r=r("../internals/fails"),h.Int8Array),x=a.aTypedArray,S=(h=a.exportTypedArrayMethod,[].toLocaleString),l=[].slice,f=!!c&&r(function(){S.call(new c(1))});h("toLocaleString",function(){return S.apply(f?l.call(x(this)):x(this),arguments)},r(function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()})||!r(function(){c.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],229:[function(r,E,y){var h=r("../internals/array-buffer-view-core").exportTypedArrayMethod,a=r("../internals/fails"),c=(r=(r=r("../internals/global").Uint8Array)&&r.prototype||{},[].toString),x=[].join;a(function(){c.call({})})&&(c=function(){return x.call(this)}),a=r.toString!=c,h("toString",c,a)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],230:[function(r,E,y){r("../internals/typed-array-constructor")("Uint16",function(h){return function(a,c,x){return h(this,a,c,x)}})},{"../internals/typed-array-constructor":142}],231:[function(r,E,y){r("../internals/typed-array-constructor")("Uint32",function(h){return function(a,c,x){return h(this,a,c,x)}})},{"../internals/typed-array-constructor":142}],232:[function(r,E,y){r("../internals/typed-array-constructor")("Uint8",function(h){return function(a,c,x){return h(this,a,c,x)}})},{"../internals/typed-array-constructor":142}],233:[function(r,E,y){r("../internals/typed-array-constructor")("Uint8",function(h){return function(a,c,x){return h(this,a,c,x)}},!0)},{"../internals/typed-array-constructor":142}],234:[function(r,E,y){function h(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}}var a,c,x,S,l,f=r("../internals/global"),u=r("../internals/redefine-all"),s=r("../internals/internal-metadata"),d=r("../internals/collection"),g=r("../internals/collection-weak"),_=r("../internals/is-object"),v=r("../internals/internal-state").enforce,j=(r=r("../internals/native-weak-map"),f=!f.ActiveXObject&&"ActiveXObject"in f,Object.isExtensible);E=E.exports=d("WeakMap",h,g),r&&f&&(a=g.getConstructor(h,"WeakMap",!0),s.REQUIRED=!0,d=E.prototype,c=d.delete,x=d.has,S=d.get,l=d.set,u(d,{delete:function(T){var C;return _(T)&&!j(T)?((C=v(this)).frozen||(C.frozen=new a),c.call(this,T)||C.frozen.delete(T)):c.call(this,T)},has:function(T){var C;return _(T)&&!j(T)?((C=v(this)).frozen||(C.frozen=new a),x.call(this,T)||C.frozen.has(T)):x.call(this,T)},get:function(T){var C;return!_(T)||j(T)||((C=v(this)).frozen||(C.frozen=new a),x.call(this,T))?S.call(this,T):C.frozen.get(T)},set:function(T,C){var L;return!_(T)||j(T)||((L=v(this)).frozen||(L.frozen=new a),x.call(this,T))?l.call(this,T,C):L.frozen.set(T,C),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],235:[function(r,E,y){var h,a=r("../internals/global"),c=r("../internals/dom-iterables"),x=r("../internals/array-for-each"),S=r("../internals/create-non-enumerable-property");for(h in c){var l;if((l=(l=a[h])&&l.prototype)&&l.forEach!==x)try{S(l,"forEach",x)}catch{l.forEach=x}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],236:[function(r,E,y){var h,a=r("../internals/global"),c=r("../internals/dom-iterables"),x=r("../modules/es.array.iterator"),S=r("../internals/create-non-enumerable-property"),l=(r=r("../internals/well-known-symbol"))("iterator"),f=r("toStringTag"),u=x.values;for(h in c){var s=a[h],d=s&&s.prototype;if(d){if(d[l]!==u)try{S(d,l,u)}catch{d[l]=u}if(d[f]||S(d,f,h),c[h]){for(var g in x)if(d[g]!==x[g])try{S(d,g,x[g])}catch{d[g]=x[g]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],237:[function(r,E,y){function h(he){try{return decodeURIComponent(he)}catch{return he}}function a(he){return te[he]}function c(he){return encodeURIComponent(he).replace(X,a)}function x(he){this.entries.length=0,ue(this.entries,he)}function S(he,ne){if(he<ne)throw TypeError("Not enough arguments")}function l(){T(this,l,q);var he,ne,me,_e,Te,ve,je,Ae,Ve=0<arguments.length?arguments[0]:void 0,De=[];if(J(this,{type:q,entries:De,updateURL:function(){},updateSearchParams:x}),Ve!==void 0)if(B(Ve))if(typeof(he=$(Ve))=="function")for(me=(ne=he.call(Ve)).next;!(_e=me.call(ne)).done;){if((ve=(Te=(_e=V(P(_e.value))).next).call(_e)).done||(je=Te.call(_e)).done||!Te.call(_e).done)throw TypeError("Expected sequence with length 2");De.push({key:ve.value+"",value:je.value+""})}else for(Ae in Ve)C(Ve,Ae)&&De.push({key:Ae,value:Ve[Ae]+""});else ue(De,typeof Ve=="string"?Ve.charAt(0)==="?"?Ve.slice(1):Ve:Ve+"")}r("../modules/es.array.iterator");var f=r("../internals/export"),u=r("../internals/get-built-in"),s=r("../internals/native-url"),d=r("../internals/redefine"),g=r("../internals/redefine-all"),_=r("../internals/set-to-string-tag"),v=r("../internals/create-iterator-constructor"),j=r("../internals/internal-state"),T=r("../internals/an-instance"),C=r("../internals/has"),L=r("../internals/function-bind-context"),R=r("../internals/classof"),P=r("../internals/an-object"),B=r("../internals/is-object"),M=r("../internals/object-create"),U=r("../internals/create-property-descriptor"),V=r("../internals/get-iterator"),$=r("../internals/get-iterator-method"),G=(r=r("../internals/well-known-symbol"),u("fetch")),I=u("Headers"),q=(u=r("iterator"),"URLSearchParams"),Z=q+"Iterator",J=j.set,ee=j.getterFor(q),le=j.getterFor(Z),ae=/\+/g,fe=Array(4),H=function(he){var ne,me=he.replace(ae," "),_e=4;try{return decodeURIComponent(me)}catch{for(;_e;)me=me.replace((ne=_e--,fe[ne-1]||(fe[ne-1]=RegExp("((?:%[\\da-f]{2}){"+ne+"})","gi"))),h);return me}},X=/[!'()~]|%20/g,te={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(he,ne){if(ne)for(var me,_e=ne.split("&"),Te=0;Te<_e.length;)(me=_e[Te++]).length&&(me=me.split("="),he.push({key:H(me.shift()),value:H(me.join("="))}))},ce=v(function(he,ne){J(this,{type:Z,iterator:V(ee(he).entries),kind:ne})},"Iterator",function(){var he,ne=(he=le(this)).kind,me=(he=he.iterator.next()).value;return he.done||(he.value=ne==="keys"?me.key:ne==="values"?me.value:[me.key,me.value]),he});g(r=l.prototype,{append:function(he,ne){S(arguments.length,2);var me=ee(this);me.entries.push({key:he+"",value:ne+""}),me.updateURL()},delete:function(he){S(arguments.length,1);for(var ne=ee(this),me=ne.entries,_e=he+"",Te=0;Te<me.length;)me[Te].key===_e?me.splice(Te,1):Te++;ne.updateURL()},get:function(he){S(arguments.length,1);for(var ne=ee(this).entries,me=he+"",_e=0;_e<ne.length;_e++)if(ne[_e].key===me)return ne[_e].value;return null},getAll:function(he){S(arguments.length,1);for(var ne=ee(this).entries,me=he+"",_e=[],Te=0;Te<ne.length;Te++)ne[Te].key===me&&_e.push(ne[Te].value);return _e},has:function(he){S(arguments.length,1);for(var ne=ee(this).entries,me=he+"",_e=0;_e<ne.length;)if(ne[_e++].key===me)return!0;return!1},set:function(he,ne){S(arguments.length,1);for(var me,_e=ee(this),Te=_e.entries,ve=!1,je=he+"",Ae=ne+"",Ve=0;Ve<Te.length;Ve++)(me=Te[Ve]).key===je&&(ve?Te.splice(Ve--,1):(ve=!0,me.value=Ae));ve||Te.push({key:je,value:Ae}),_e.updateURL()},sort:function(){for(var he,ne,me=ee(this),_e=me.entries,Te=_e.slice(),ve=_e.length=0;ve<Te.length;ve++){for(he=Te[ve],ne=0;ne<ve;ne++)if(_e[ne].key>he.key){_e.splice(ne,0,he);break}ne===ve&&_e.push(he)}me.updateURL()},forEach:function(he){for(var ne,me=ee(this).entries,_e=L(he,1<arguments.length?arguments[1]:void 0,3),Te=0;Te<me.length;)_e((ne=me[Te++]).value,ne.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),d(r,u,r.entries),d(r,"toString",function(){for(var he,ne=ee(this).entries,me=[],_e=0;_e<ne.length;)he=ne[_e++],me.push(c(he.key)+"="+c(he.value));return me.join("&")},{enumerable:!0}),_(l,q),f({global:!0,forced:!s},{URLSearchParams:l}),s||typeof G!="function"||typeof I!="function"||f({global:!0,enumerable:!0,forced:!0},{fetch:function(he){var ne,me,_e;return he=[he],1<arguments.length&&(B(ne=arguments[1])&&(me=ne.body,R(me)===q&&((_e=ne.headers?new I(ne.headers):new I).has("content-type")||_e.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ne=M(ne,{body:U(0,String(me)),headers:U(0,_e)}))),he.push(ne)),G.apply(this,he)}}),E.exports={URLSearchParams:l,getState:ee}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],238:[function(r,E,y){function h(we){var Je,mt,Ke,It;if(typeof we=="number"){for(Je=[],mt=0;mt<4;mt++)Je.unshift(we%256),we=Z(we/256);return Je.join(".")}if(typeof we!="object")return we;for(Je="",Ke=Ae(we),mt=0;mt<8;mt++)It&&we[mt]===0||(It=It&&!1,Ke===mt?(Je+=mt?":":"::",It=!0):(Je+=we[mt].toString(16),mt<7&&(Je+=":")));return"["+Je+"]"}function a(we){return!we.host||we.cannotBeABaseURL||we.scheme=="file"}function c(we,Je,mt,Ke){var It,qe,Yt,yt=mt||ut,At=0,pt="",kr=!1,Sr=!1,tn=!1;for(mt||(we.scheme="",we.username="",we.password="",we.host=null,we.port=null,we.path=[],we.query=null,we.fragment=null,we.cannotBeABaseURL=!1,Je=Je.replace(Te,"")),Je=Je.replace(ve,""),It=R(Je);At<=It.length;){switch(qe=It[At],yt){case ut:if(!qe||!H.test(qe)){if(mt)return le;yt=ie;continue}pt+=qe.toLowerCase(),yt=at;break;case at:if(qe&&(X.test(qe)||qe=="+"||qe=="-"||qe=="."))pt+=qe.toLowerCase();else{if(qe!=":"){if(mt)return le;pt="",yt=ie,At=0;continue}if(mt&&(st(we)!=C(wt,pt)||pt=="file"&&(ge(we)||we.port!==null)||we.scheme=="file"&&!we.host))return;if(we.scheme=pt,mt)return void(st(we)&&wt[we.scheme]==we.port&&(we.port=null));pt="",we.scheme=="file"?yt=Pt:st(we)&&Ke&&Ke.scheme==we.scheme?yt=re:st(we)?yt=Be:It[At+1]=="/"?(yt=se,At++):(we.cannotBeABaseURL=!0,we.path.push(""),yt=Ut)}break;case ie:if(!Ke||Ke.cannotBeABaseURL&&qe!="#")return le;if(Ke.cannotBeABaseURL&&qe=="#"){we.scheme=Ke.scheme,we.path=Ke.path.slice(),we.query=Ke.query,we.fragment="",we.cannotBeABaseURL=!0,yt=_r;break}yt=Ke.scheme=="file"?Pt:pe;continue;case re:if(qe!="/"||It[At+1]!="/"){yt=pe;continue}yt=Qe,At++;break;case se:if(qe=="/"){yt=Ye;break}yt=St;continue;case pe:if(we.scheme=Ke.scheme,qe==l)we.username=Ke.username,we.password=Ke.password,we.host=Ke.host,we.port=Ke.port,we.path=Ke.path.slice(),we.query=Ke.query;else if(qe=="/"||qe=="\\"&&st(we))yt=Ee;else if(qe=="?")we.username=Ke.username,we.password=Ke.password,we.host=Ke.host,we.port=Ke.port,we.path=Ke.path.slice(),we.query="",yt=qt;else{if(qe!="#"){we.username=Ke.username,we.password=Ke.password,we.host=Ke.host,we.port=Ke.port,we.path=Ke.path.slice(),we.path.pop(),yt=St;continue}we.username=Ke.username,we.password=Ke.password,we.host=Ke.host,we.port=Ke.port,we.path=Ke.path.slice(),we.query=Ke.query,we.fragment="",yt=_r}break;case Ee:if(!st(we)||qe!="/"&&qe!="\\"){if(qe!="/"){we.username=Ke.username,we.password=Ke.password,we.host=Ke.host,we.port=Ke.port,yt=St;continue}yt=Ye}else yt=Qe;break;case Be:if(yt=Qe,qe!="/"||pt.charAt(At+1)!="/")continue;At++;break;case Qe:if(qe=="/"||qe=="\\")break;yt=Ye;continue;case Ye:if(qe=="@"){kr&&(pt="%40"+pt),kr=!0;for(var cr=R(pt),fr=0;fr<cr.length;fr++){var Lr=cr[fr];Lr!=":"||tn?(Lr=rt(Lr,tt),tn?we.password+=Lr:we.username+=Lr):tn=!0}pt=""}else if(qe==l||qe=="/"||qe=="?"||qe=="#"||qe=="\\"&&st(we)){if(kr&&pt=="")return ee;At-=R(pt).length+1,pt="",yt=Pe}else pt+=qe;break;case Pe:case et:if(mt&&we.scheme=="file"){yt=Tt;continue}if(qe!=":"||Sr){if(qe==l||qe=="/"||qe=="?"||qe=="#"||qe=="\\"&&st(we)){if(st(we)&&pt=="")return ae;if(mt&&pt==""&&(ge(we)||we.port!==null))return;if(Yt=je(we,pt))return Yt;if(pt="",yt=Et,mt)return;continue}qe=="["?Sr=!0:qe=="]"&&(Sr=!1),pt+=qe}else{if(pt=="")return ae;if(Yt=je(we,pt))return Yt;if(pt="",yt=ft,mt==et)return}break;case ft:if(!te.test(qe)){if(qe==l||qe=="/"||qe=="?"||qe=="#"||qe=="\\"&&st(we)||mt){if(pt!=""){var Br=parseInt(pt,10);if(65535<Br)return fe;we.port=st(we)&&Br===wt[we.scheme]?null:Br,pt=""}if(mt)return;yt=Et;continue}return fe}pt+=qe;break;case Pt:if(we.scheme="file",qe=="/"||qe=="\\")yt=Lt;else{if(!Ke||Ke.scheme!="file"){yt=St;continue}if(qe==l)we.host=Ke.host,we.path=Ke.path.slice(),we.query=Ke.query;else if(qe=="?")we.host=Ke.host,we.path=Ke.path.slice(),we.query="",yt=qt;else{if(qe!="#"){Fe(It.slice(At).join(""))||(we.host=Ke.host,we.path=Ke.path.slice(),Xe(we)),yt=St;continue}we.host=Ke.host,we.path=Ke.path.slice(),we.query=Ke.query,we.fragment="",yt=_r}}break;case Lt:if(qe=="/"||qe=="\\"){yt=Tt;break}Ke&&Ke.scheme=="file"&&!Fe(It.slice(At).join(""))&&(Ne(Ke.path[0],!0)?we.path.push(Ke.path[0]):we.host=Ke.host),yt=St;continue;case Tt:if(qe==l||qe=="/"||qe=="\\"||qe=="?"||qe=="#"){if(!mt&&Ne(pt))yt=St;else{if(pt==""){if(we.host="",mt)return}else{if(Yt=je(we,pt))return Yt;if(we.host=="localhost"&&(we.host=""),mt)return;pt=""}yt=Et}continue}pt+=qe;break;case Et:if(st(we)){if(yt=St,qe!="/"&&qe!="\\")continue}else if(mt||qe!="?")if(mt||qe!="#"){if(qe!=l&&(yt=St,qe!="/"))continue}else we.fragment="",yt=_r;else we.query="",yt=qt;break;case St:if(qe==l||qe=="/"||qe=="\\"&&st(we)||!mt&&(qe=="?"||qe=="#")){if(gt(pt)?(Xe(we),qe=="/"||qe=="\\"&&st(we)||we.path.push("")):ot(pt)?qe=="/"||qe=="\\"&&st(we)||we.path.push(""):(we.scheme=="file"&&!we.path.length&&Ne(pt)&&(we.host&&(we.host=""),pt=pt.charAt(0)+":"),we.path.push(pt)),pt="",we.scheme=="file"&&(qe==l||qe=="?"||qe=="#"))for(;1<we.path.length&&we.path[0]==="";)we.path.shift();qe=="?"?(we.query="",yt=qt):qe=="#"&&(we.fragment="",yt=_r)}else pt+=rt(qe,He);break;case Ut:qe=="?"?(we.query="",yt=qt):qe=="#"?(we.fragment="",yt=_r):qe!=l&&(we.path[0]+=rt(qe,Ve));break;case qt:mt||qe!="#"?qe!=l&&(qe=="'"&&st(we)?we.query+="%27":we.query+=qe=="#"?"%23":rt(qe,Ve)):(we.fragment="",yt=_r);break;case _r:qe!=l&&(we.fragment+=rt(qe,De))}At++}}function x(we){var Je,mt,Ke=T(this,x,"URL"),It=1<arguments.length?arguments[1]:void 0,qe=(we=String(we),I(Ke,{type:"URL"}));if(It!==void 0){if(It instanceof x)Je=q(It);else if(mt=c(Je={},String(It)))throw TypeError(mt)}if(mt=c(qe,we,null,Je))throw TypeError(mt);var Yt=qe.searchParams=new $;(It=G(Yt)).updateSearchParams(qe.query),It.updateURL=function(){qe.query=String(Yt)||null},d||(Ke.href=zt.call(Ke),Ke.origin=ur.call(Ke),Ke.protocol=Or.call(Ke),Ke.username=Ft.call(Ke),Ke.password=Ar.call(Ke),Ke.host=xr.call(Ke),Ke.hostname=Xt.call(Ke),Ke.port=Io.call(Ke),Ke.pathname=Do.call(Ke),Ke.search=bi.call(Ke),Ke.searchParams=_i.call(Ke),Ke.hash=ls.call(Ke))}function S(we,Je){return{get:we,set:Je,configurable:!0,enumerable:!0}}r("../modules/es.string.iterator");var l,f,u,s=r("../internals/export"),d=r("../internals/descriptors"),g=r("../internals/native-url"),_=r("../internals/global"),v=r("../internals/object-define-properties"),j=r("../internals/redefine"),T=r("../internals/an-instance"),C=r("../internals/has"),L=r("../internals/object-assign"),R=r("../internals/array-from"),P=r("../internals/string-multibyte").codeAt,B=r("../internals/string-punycode-to-ascii"),M=r("../internals/set-to-string-tag"),U=r("../modules/web.url-search-params"),V=(r=r("../internals/internal-state"),_.URL),$=U.URLSearchParams,G=U.getState,I=r.set,q=r.getterFor("URL"),Z=Math.floor,J=Math.pow,ee="Invalid authority",le="Invalid scheme",ae="Invalid host",fe="Invalid port",H=/[A-Za-z]/,X=/[\d+-.A-Za-z]/,te=/\d/,ue=/^(0x|0X)/,ce=/^[0-7]+$/,he=/^\d+$/,ne=/^[\dA-Fa-f]+$/,me=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,_e=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Te=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ve=/[\u0009\u000A\u000D]/g,je=function(we,Je){var mt,Ke,It;if(Je.charAt(0)=="[")return Je.charAt(Je.length-1)=="]"&&(mt=function(qe){var Yt,yt,At,pt,kr,Sr,tn,cr=[0,0,0,0,0,0,0,0],fr=0,Lr=null,Br=0,Ir=function(){return qe.charAt(Br)};if(Ir()==":"){if(qe.charAt(1)!=":")return;Br+=2,Lr=++fr}for(;Ir();){if(fr==8)return;if(Ir()!=":"){for(Yt=yt=0;yt<4&&ne.test(Ir());)Yt=16*Yt+parseInt(Ir(),16),Br++,yt++;if(Ir()=="."){if(yt==0||(Br-=yt,fr>6))return;for(At=0;Ir();){if(pt=null,At>0){if(!(Ir()=="."&&At<4))return;Br++}if(!te.test(Ir()))return;for(;te.test(Ir());){if(kr=parseInt(Ir(),10),pt===null)pt=kr;else{if(pt==0)return;pt=10*pt+kr}if(pt>255)return;Br++}cr[fr]=256*cr[fr]+pt,++At!=2&&At!=4||fr++}if(At!=4)return;break}if(Ir()==":"){if(Br++,!Ir())return}else if(Ir())return;cr[fr++]=Yt}else{if(Lr!==null)return;Br++,Lr=++fr}}if(Lr!==null)for(Sr=fr-Lr,fr=7;fr!=0&&Sr>0;)tn=cr[fr],cr[fr--]=cr[Lr+Sr-1],cr[Lr+--Sr]=tn;else if(fr!=8)return;return cr}(Je.slice(1,-1)))?void(we.host=mt):ae;if(st(we))return Je=B(Je),me.test(Je)||(mt=function(qe){var Yt,yt,At,pt,kr,Sr,tn,cr=qe.split(".");if(cr.length&&cr[cr.length-1]==""&&cr.pop(),(Yt=cr.length)>4)return qe;for(yt=[],At=0;At<Yt;At++){if((pt=cr[At])=="")return qe;if(kr=10,pt.length>1&&pt.charAt(0)=="0"&&(kr=ue.test(pt)?16:8,pt=pt.slice(kr==8?1:2)),pt==="")Sr=0;else{if(!(kr==10?he:kr==8?ce:ne).test(pt))return qe;Sr=parseInt(pt,kr)}yt.push(Sr)}for(At=0;At<Yt;At++)if(Sr=yt[At],At==Yt-1){if(Sr>=J(256,5-Yt))return null}else if(Sr>255)return null;for(tn=yt.pop(),At=0;At<yt.length;At++)tn+=yt[At]*J(256,3-At);return tn}(Je))===null?ae:void(we.host=mt);if(_e.test(Je))return ae;for(mt="",Ke=R(Je),It=0;It<Ke.length;It++)mt+=rt(Ke[It],Ve);we.host=mt},Ae=function(we){for(var Je=null,mt=1,Ke=null,It=0,qe=0;qe<8;qe++)we[qe]!==0?(mt<It&&(Je=Ke,mt=It),Ke=null,It=0):(Ke===null&&(Ke=qe),++It);return mt<It&&(Je=Ke,mt=It),Je},Ve={},De=L({},Ve,{" ":1,'"':1,"<":1,">":1,"`":1}),He=L({},De,{"#":1,"?":1,"{":1,"}":1}),tt=L({},He,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),rt=function(we,Je){var mt=P(we,0);return 32<mt&&mt<127&&!C(Je,we)?we:encodeURIComponent(we)},wt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},st=function(we){return C(wt,we.scheme)},ge=function(we){return we.username!=""||we.password!=""},Ne=function(we,Je){return we.length==2&&H.test(we.charAt(0))&&((we=we.charAt(1))==":"||!Je&&we=="|")},Fe=function(we){return 1<we.length&&Ne(we.slice(0,2))&&(we.length==2||(we=we.charAt(2))==="/"||we==="\\"||we==="?"||we==="#")},Xe=function(we){var Je=we.path,mt=Je.length;!mt||we.scheme=="file"&&mt==1&&Ne(Je[0],!0)||Je.pop()},ot=function(we){return we==="."||we.toLowerCase()==="%2e"},gt=function(we){return(we=we.toLowerCase())===".."||we==="%2e."||we===".%2e"||we==="%2e%2e"},ut={},at={},ie={},re={},se={},pe={},Ee={},Be={},Qe={},Ye={},Pe={},et={},ft={},Pt={},Lt={},Tt={},Et={},St={},Ut={},qt={},_r={},zt=(_=x.prototype,function(){var we=q(this),Je=we.scheme,mt=we.username,Ke=we.password,It=we.host,qe=we.port,Yt=we.path,yt=we.query,At=we.fragment,pt=Je+":";return It!==null?(pt+="//",ge(we)&&(pt+=mt+(Ke?":"+Ke:"")+"@"),pt+=h(It),qe!==null&&(pt+=":"+qe)):Je=="file"&&(pt+="//"),pt+=we.cannotBeABaseURL?Yt[0]:Yt.length?"/"+Yt.join("/"):"",yt!==null&&(pt+="?"+yt),At!==null&&(pt+="#"+At),pt}),ur=function(){var we=q(this),Je=we.scheme,mt=we.port;if(Je=="blob")try{return new URL(Je.path[0]).origin}catch{return"null"}return Je!="file"&&st(we)?Je+"://"+h(we.host)+(mt!==null?":"+mt:""):"null"},Or=function(){return q(this).scheme+":"},Ft=function(){return q(this).username},Ar=function(){return q(this).password},xr=function(){var we=(Je=q(this)).host,Je=Je.port;return we===null?"":Je===null?h(we):h(we)+":"+Je},Xt=function(){var we=q(this).host;return we===null?"":h(we)},Io=function(){var we=q(this).port;return we===null?"":String(we)},Do=function(){var we=q(this),Je=we.path;return we.cannotBeABaseURL?Je[0]:Je.length?"/"+Je.join("/"):""},bi=function(){var we=q(this).query;return we?"?"+we:""},_i=function(){return q(this).searchParams},ls=function(){var we=q(this).fragment;return we?"#"+we:""};d&&v(_,{href:S(zt,function(we){var Je=q(this);if(we=c(Je,we=String(we)))throw TypeError(we);G(Je.searchParams).updateSearchParams(Je.query)}),origin:S(ur),protocol:S(Or,function(we){c(q(this),String(we)+":",ut)}),username:S(Ft,function(we){var Je=q(this),mt=R(String(we));if(!a(Je)){Je.username="";for(var Ke=0;Ke<mt.length;Ke++)Je.username+=rt(mt[Ke],tt)}}),password:S(Ar,function(we){var Je=q(this),mt=R(String(we));if(!a(Je)){Je.password="";for(var Ke=0;Ke<mt.length;Ke++)Je.password+=rt(mt[Ke],tt)}}),host:S(xr,function(we){var Je=q(this);Je.cannotBeABaseURL||c(Je,String(we),Pe)}),hostname:S(Xt,function(we){var Je=q(this);Je.cannotBeABaseURL||c(Je,String(we),et)}),port:S(Io,function(we){var Je=q(this);a(Je)||((we=String(we))==""?Je.port=null:c(Je,we,ft))}),pathname:S(Do,function(we){var Je=q(this);Je.cannotBeABaseURL||(Je.path=[],c(Je,we+"",Et))}),search:S(bi,function(we){var Je=q(this);(we=String(we))==""?Je.query=null:(we.charAt(0)=="?"&&(we=we.slice(1)),Je.query="",c(Je,we,qt)),G(Je.searchParams).updateSearchParams(Je.query)}),searchParams:S(_i),hash:S(ls,function(we){var Je=q(this);(we=String(we))==""?Je.fragment=null:(we.charAt(0)=="#"&&(we=we.slice(1)),Je.fragment="",c(Je,we,_r))})}),j(_,"toJSON",function(){return zt.call(this)},{enumerable:!0}),j(_,"toString",function(){return zt.call(this)},{enumerable:!0}),V&&(f=V.createObjectURL,u=V.revokeObjectURL,f&&j(x,"createObjectURL",function(we){return f.apply(V,arguments)}),u&&j(x,"revokeObjectURL",function(we){return u.apply(V,arguments)})),M(x,"URL"),s({global:!0,forced:!g,sham:!d},{URL:x})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":190,"../modules/web.url-search-params":237}],239:[function(r,E,y){E.exports=r("./").polyfill()},{"./":240}],240:[function(r,E,y){(function(h,a){var c;c=function(){function x(ne){return typeof ne=="function"}var S=Array.isArray||function(ne){return Object.prototype.toString.call(ne)==="[object Array]"},l=0,f=void 0,u=void 0,s=function(ne,me){T[l]=ne,T[l+1]=me,(l+=2)===2&&(u?u(C):B())},d=typeof window<"u"?window:void 0,g=(g=d||{}).MutationObserver||g.WebKitMutationObserver,_=typeof self>"u"&&h!==void 0&&{}.toString.call(h)==="[object process]",v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function j(){var ne=setTimeout;return function(){return ne(C,1)}}var T=new Array(1e3);function C(){for(var ne=0;ne<l;ne+=2)(0,T[ne])(T[ne+1]),T[ne]=void 0,T[ne+1]=void 0;l=0}var L,R,P,B=void 0;function M(ne,me){var _e,Te=this,ve=new this.constructor($),je=(ve[V]===void 0&&X(ve),Te._state);return je?(_e=arguments[je-1],s(function(){return fe(je,ve,_e,Te._result)})):le(Te,ve,ne,me),ve}function U(ne){var me;return ne&&typeof ne=="object"&&ne.constructor===this?ne:(q(me=new this($),ne),me)}B=_?function(){return h.nextTick(C)}:g?(R=0,_=new g(C),P=document.createTextNode(""),_.observe(P,{characterData:!0}),function(){P.data=R=++R%2}):v?((L=new MessageChannel).port1.onmessage=C,function(){return L.port2.postMessage(0)}):(d===void 0&&typeof r=="function"?function(){try{var ne=Function("return this")().require("vertx");return(f=ne.runOnLoop||ne.runOnContext)!==void 0?function(){f(C)}:j()}catch{return j()}}:j)();var V=Math.random().toString(36).substring(2);function $(){}var G=void 0;function I(ne,me,_e){var Te,ve;me.constructor===ne.constructor&&_e===M&&me.constructor.resolve===U?(Te=ne,(ve=me)._state===1?J(Te,ve._result):ve._state===2?ee(Te,ve._result):le(ve,void 0,function(je){return q(Te,je)},function(je){return ee(Te,je)})):_e!==void 0&&x(_e)?function(je,Ae,Ve){s(function(De){var He=!1,tt=function(rt,wt,st,ge){try{rt.call(wt,st,ge)}catch(Ne){return Ne}}(Ve,Ae,function(rt){He||(He=!0,(Ae!==rt?q:J)(De,rt))},function(rt){He||(He=!0,ee(De,rt))},De._label);!He&&tt&&(He=!0,ee(De,tt))},je)}(ne,me,_e):J(ne,me)}function q(ne,me){if(ne===me)ee(ne,new TypeError("You cannot resolve a promise with itself"));else if(_e=typeof me,me===null||_e!="object"&&_e!="function")J(ne,me);else{_e=void 0;try{_e=me.then}catch(Te){return void ee(ne,Te)}I(ne,me,_e)}var _e}function Z(ne){ne._onerror&&ne._onerror(ne._result),ae(ne)}function J(ne,me){ne._state===G&&(ne._result=me,ne._state=1,ne._subscribers.length!==0&&s(ae,ne))}function ee(ne,me){ne._state===G&&(ne._state=2,ne._result=me,s(Z,ne))}function le(ne,me,_e,Te){var ve=ne._subscribers,je=ve.length;ne._onerror=null,ve[je]=me,ve[je+1]=_e,ve[je+2]=Te,je===0&&ne._state&&s(ae,ne)}function ae(ne){var me=ne._subscribers,_e=ne._state;if(me.length!==0){for(var Te,ve=void 0,je=ne._result,Ae=0;Ae<me.length;Ae+=3)Te=me[Ae],ve=me[Ae+_e],Te?fe(_e,Te,ve,je):ve(je);ne._subscribers.length=0}}function fe(ne,me,_e,Te){var ve=x(_e),je=void 0,Ae=void 0,Ve=!0;if(ve){try{je=_e(Te)}catch(De){Ve=!1,Ae=De}if(me===je)return void ee(me,new TypeError("A promises callback cannot return that same promise."))}else je=Te;me._state===G&&(ve&&Ve?q(me,je):Ve===!1?ee(me,Ae):ne===1?J(me,je):ne===2&&ee(me,je))}var H=0;function X(ne){ne[V]=H++,ne._state=void 0,ne._result=void 0,ne._subscribers=[]}ue.prototype._enumerate=function(ne){for(var me=0;this._state===G&&me<ne.length;me++)this._eachEntry(ne[me],me)},ue.prototype._eachEntry=function(ne,me){var _e=this._instanceConstructor,Te=_e.resolve;if(Te===U){var ve,je=void 0,Ae=void 0,Ve=!1;try{je=ne.then}catch(De){Ve=!0,Ae=De}je===M&&ne._state!==G?this._settledAt(ne._state,me,ne._result):typeof je!="function"?(this._remaining--,this._result[me]=ne):_e===ce?(ve=new _e($),Ve?ee(ve,Ae):I(ve,ne,je),this._willSettleAt(ve,me)):this._willSettleAt(new _e(function(De){return De(ne)}),me)}else this._willSettleAt(Te(ne),me)},ue.prototype._settledAt=function(ne,me,_e){var Te=this.promise;Te._state===G&&(this._remaining--,ne===2?ee(Te,_e):this._result[me]=_e),this._remaining===0&&J(Te,this._result)},ue.prototype._willSettleAt=function(ne,me){var _e=this;le(ne,void 0,function(Te){return _e._settledAt(1,me,Te)},function(Te){return _e._settledAt(2,me,Te)})};var te=ue;function ue(ne,me){this._instanceConstructor=ne,this.promise=new ne($),this.promise[V]||X(this.promise),S(me)?(this.length=me.length,this._remaining=me.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(me),this._remaining!==0)||J(this.promise,this._result)):ee(this.promise,new Error("Array Methods must be provided an Array"))}he.prototype.catch=function(ne){return this.then(null,ne)},he.prototype.finally=function(ne){var me=this.constructor;return x(ne)?this.then(function(_e){return me.resolve(ne()).then(function(){return _e})},function(_e){return me.resolve(ne()).then(function(){throw _e})}):this.then(ne,ne)};var ce=he;function he(ne){if(this[V]=H++,this._result=this._state=void 0,this._subscribers=[],$!==ne){if(typeof ne!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof he))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var me=this;try{ne(function(_e){q(me,_e)},function(_e){ee(me,_e)})}catch(_e){ee(me,_e)}}}return ce.prototype.then=M,ce.all=function(ne){return new te(this,ne).promise},ce.race=function(ne){var me=this;return S(ne)?new me(function(_e,Te){for(var ve=ne.length,je=0;je<ve;je++)me.resolve(ne[je]).then(_e,Te)}):new me(function(_e,Te){return Te(new TypeError("You must pass an array to race."))})},ce.resolve=U,ce.reject=function(ne){var me=new this($);return ee(me,ne),me},ce._setScheduler=function(ne){u=ne},ce._setAsap=function(ne){s=ne},ce._asap=s,ce.polyfill=function(){var ne=void 0;if(a!==void 0)ne=a;else if(typeof self<"u")ne=self;else try{ne=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var me=ne.Promise;if(me){var _e=null;try{_e=Object.prototype.toString.call(me.resolve())}catch{}if(_e==="[object Promise]"&&!me.cast)return}ne.Promise=ce},ce.Promise=ce},typeof y=="object"&&E!==void 0?E.exports=c():this.ES6Promise=c()}).call(this,r("_process"),w!==void 0?w:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:249}],241:[function(r,E,y){var h;h=function(a,c){var x="callback";function S(f){try{delete window[f]}catch{window[f]=void 0}}function l(f){(f=document.getElementById(f))&&document.getElementsByTagName("head")[0].removeChild(f)}c.exports=function(f){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],s=f,d=u.timeout||5e3,g=u.jsonpCallback||x,_=void 0;return new Promise(function(v,j){var T=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),C=g+"_"+T,L=(window[T]=function(R){v({ok:!0,json:function(){return Promise.resolve(R)}}),_&&clearTimeout(_),l(C),S(T)},s+=s.indexOf("?")===-1?"?":"&",document.createElement("script"));L.setAttribute("src",""+s+g+"="+T),u.charset&&L.setAttribute("charset",u.charset),L.id=C,document.getElementsByTagName("head")[0].appendChild(L),_=setTimeout(function(){j(new Error("JSONP request to "+f+" timed out")),S(T),l(C),window[T]=function(){S(T)}},d),L.onerror=function(){j(new Error("JSONP request to "+f+" failed")),S(T),l(C),_&&clearTimeout(_)}})}},y!==void 0&&E!==void 0?h(0,E):(h(h={exports:{}},h),this.fetchJsonp=h.exports)},{}],242:[function(r,E,y){var h=function(a){var c,x,S,l,f,u,s,d,g,_;if(!(a===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return _=a.document,c=function(){return a.URL||a.webkitURL||a},x=_.createElementNS("http://www.w3.org/1999/xhtml","a"),S="download"in x,l=/constructor/i.test(a.HTMLElement)||a.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(v){(a.setImmediate||a.setTimeout)(function(){throw v},0)},s=function(v){setTimeout(function(){typeof v=="string"?c().revokeObjectURL(v):v.remove()},4e4)},d=function(v){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(v.type)?new Blob(["\uFEFF",v],{type:v.type}):v},_=(g=function(v,j,T){T||(v=d(v));var C,L,R=this,P=(T=v.type==="application/octet-stream",function(){for(var B=R,M="writestart progress write writeend".split(" "),U=(M=[].concat(M)).length;U--;){var V=B["on"+M[U]];if(typeof V=="function")try{V.call(B,B)}catch($){u($)}}});R.readyState=R.INIT,S?(C=c().createObjectURL(v),setTimeout(function(){var B,M;x.href=C,x.download=j,B=x,M=new MouseEvent("click"),B.dispatchEvent(M),P(),s(C),R.readyState=R.DONE})):(f||T&&l)&&a.FileReader?((L=new FileReader).onloadend=function(){var B=f?L.result:L.result.replace(/^data:[^;]*;/,"data:attachment/file;");a.open(B,"_blank")||(a.location.href=B),B=void 0,R.readyState=R.DONE,P()},L.readAsDataURL(v),R.readyState=R.INIT):(C=C||c().createObjectURL(v),!T&&a.open(C,"_blank")||(a.location.href=C),R.readyState=R.DONE,P(),s(C))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(v,j,T){return j=j||v.name||"download",T||(v=d(v)),navigator.msSaveOrOpenBlob(v,j)}:(_.abort=function(){},_.readyState=_.INIT=0,_.WRITING=1,_.DONE=2,_.error=_.onwritestart=_.onprogress=_.onwrite=_.onabort=_.onerror=_.onwriteend=null,function(v,j,T){return new g(v,j||v.name||"download",T)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);E!==void 0&&E.exports&&(E.exports.saveAs=h)},{}],243:[function(r,E,y){var h,a=Object.defineProperty,c=(a(y,"__esModule",{value:!0}),y),x={GIFEncoder:()=>P,applyPalette:()=>function(G,I,q="rgb565"){if(!G||!G.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(G instanceof Uint8Array||G instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<I.length)throw new Error("applyPalette() only works with 256 colors or less");const Z=new Uint32Array(G.buffer),J=Z.length,ee=q==="rgb444"?4096:65536,le=new Uint8Array(J),ae=new Array(ee);if(q==="rgba4444")for(let _e=0;_e<J;_e++){var fe,H=(fe=Z[_e])>>24&255,X=fe>>16&255,te=fe>>8&255,ue=(ue=s(fe=255&fe,te,X,H))in ae?ae[ue]:ae[ue]=function(Te,ve,je,Ae,Ve){let De=0,He=1e100;for(let wt=0;wt<Ve.length;wt++){var tt=Ve[wt],rt=C(tt[3]-Ae);rt>He||(rt+=C(tt[0]-Te))>He||(rt+=C(tt[1]-ve))>He||(rt+=C(tt[2]-je))>He||(He=rt,De=wt)}return De}(fe,te,X,H,I);le[_e]=ue}else{const _e=q==="rgb444"?d:u;for(let Te=0;Te<J;Te++){var ce,he=(ce=Z[Te])>>16&255,ne=ce>>8&255,me=(me=_e(ce=255&ce,ne,he))in ae?ae[me]:ae[me]=function(ve,je,Ae,Ve){let De=0,He=1e100;for(let wt=0;wt<Ve.length;wt++){var tt=Ve[wt],rt=C(tt[0]-ve);rt>He||(rt+=C(tt[1]-je))>He||(rt+=C(tt[2]-Ae))>He||(He=rt,De=wt)}return De}(ce,ne,he,I);le[Te]=me}}return le},default:()=>$,nearestColor:()=>function(G,I,q=j){return G[L(G,I,q)]},nearestColorIndex:()=>L,nearestColorIndexWithDistance:()=>R,prequantize:()=>function(G,{roundRGB:I=5,roundAlpha:q=10,oneBitAlpha:Z=null}={}){const J=new Uint32Array(G.buffer);for(let fe=0;fe<J.length;fe++){let H=(ae=J[fe])>>24&255;var ee=ae>>16&255,le=ae>>8&255,ae=255&ae;H=T(H,q),Z&&(H=H<=(typeof Z=="number"?Z:127)?0:255),ae=T(ae,I),le=T(le,I),ee=T(ee,I),J[fe]=H<<24|ee<<16|le<<8|ae<<0}},quantize:()=>function(G,I,q={}){var{format:Z="rgb565",clearAlpha:J=!0,clearAlphaColor:ee=0,clearAlphaThreshold:le=0,oneBitAlpha:ae=!1}=q;if(!G||!G.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(G instanceof Uint8Array||G instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");G=new Uint32Array(G.buffer);let fe=q.useSqrt!==!1;const H=Z==="rgba4444",X=function(ge,Ne){const Fe=new Array(Ne==="rgb444"?4096:65536),Xe=ge.length;if(Ne==="rgba4444")for(let et=0;et<Xe;++et){var ot,gt=(ot=ge[et])>>24&255,ut=ot>>16&255,at=ot>>8&255,ie=s(ot=255&ot,at,ut,gt);let ft=ie in Fe?Fe[ie]:Fe[ie]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};ft.rc+=ot,ft.gc+=at,ft.bc+=ut,ft.ac+=gt,ft.cnt++}else if(Ne==="rgb444")for(let et=0;et<Xe;++et){var re,se=(re=ge[et])>>16&255,pe=re>>8&255,Ee=d(re=255&re,pe,se);let ft=Ee in Fe?Fe[Ee]:Fe[Ee]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};ft.rc+=re,ft.gc+=pe,ft.bc+=se,ft.cnt++}else for(let et=0;et<Xe;++et){var Be,Qe=(Be=ge[et])>>16&255,Ye=Be>>8&255,Pe=u(Be=255&Be,Ye,Qe);let ft=Pe in Fe?Fe[Pe]:Fe[Pe]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};ft.rc+=Be,ft.gc+=Ye,ft.bc+=Qe,ft.cnt++}return Fe}(G,Z),te=X.length,ue=te-1,ce=new Uint32Array(te+1);for(var he=0,ne=0;ne<te;++ne){const ge=X[ne];ge!=null&&(rt=1/ge.cnt,H&&(ge.ac*=rt),ge.rc*=rt,ge.gc*=rt,ge.bc*=rt,X[he++]=ge)}_(I)/he<.022&&(fe=!1);var me,_e,Te;for(ne=0;ne<he-1;++ne)X[ne].fw=ne+1,X[ne+1].bk=ne,fe&&(X[ne].cnt=Math.sqrt(X[ne].cnt));for(fe&&(X[ne].cnt=Math.sqrt(X[ne].cnt)),ne=0;ne<he;++ne){v(X,ne);var ve=X[ne].err;for(_e=++ce[0];1<_e&&!(X[me=ce[Te=_e>>1]].err<=ve);_e=Te)ce[_e]=me;ce[_e]=ne}var je,Ae=he-I;for(ne=0;ne<Ae;){for(;;){var Ve=ce[1];if((je=X[Ve]).tm>=je.mtm&&X[je.nn].mtm<=je.tm)break;for(je.mtm==ue?Ve=ce[1]=ce[ce[0]--]:(v(X,Ve),je.tm=ne),ve=X[Ve].err,_e=1;(Te=_e+_e)<=ce[0]&&(Te<ce[0]&&X[ce[Te]].err>X[ce[Te+1]].err&&Te++,!(ve<=X[me=ce[Te]].err));_e=Te)ce[_e]=me;ce[_e]=Ve}var De=X[je.nn],He=je.cnt,tt=De.cnt,rt=1/(He+tt);H&&(je.ac=rt*(He*je.ac+tt*De.ac)),je.rc=rt*(He*je.rc+tt*De.rc),je.gc=rt*(He*je.gc+tt*De.gc),je.bc=rt*(He*je.bc+tt*De.bc),je.cnt+=De.cnt,je.mtm=++ne,X[De.bk].fw=De.fw,X[De.fw].bk=De.bk,De.mtm=ue}let wt=[];for(ne=0;;0){let ge=g(Math.round(X[ne].rc),0,255),Ne=g(Math.round(X[ne].gc),0,255),Fe=g(Math.round(X[ne].bc),0,255),Xe=255;H&&(Xe=g(Math.round(X[ne].ac),0,255),ae&&(Xe=Xe<=(st=typeof ae=="number"?ae:127)?0:255),J&&Xe<=le&&(ge=Ne=Fe=ee,Xe=0));var st=H?[ge,Ne,Fe,Xe]:[ge,Ne,Fe];if(function(ot,gt){for(let ie=0;ie<ot.length;ie++){var ut=(at=ot[ie])[0]===gt[0]&&at[1]===gt[1]&&at[2]===gt[2],at=!(4<=at.length&&4<=gt.length)||at[3]===gt[3];if(ut&&at)return!0}return!1}(wt,st)||wt.push(st),(ne=X[ne].fw)==0)break}return wt},snapColorsToPalette:()=>function(G,I,q=5){if(G.length&&I.length){var Z=G.map(fe=>fe.slice(0,3)),J=q*q,ee=G[0].length;for(let fe=0;fe<I.length;fe++){let H=I[fe];H=H.length<ee?[H[0],H[1],H[2],255]:H.length>ee?H.slice(0,3):H.slice();var le,ae=(le=R(Z,H.slice(0,3),j))[0];0<(le=le[1])&&le<=J&&(G[ae]=H)}}}};for(h in x)a(c,h,{get:x[h],enumerable:!0});var S=59;function l(G=256){let I=0,q=new Uint8Array(G);return{get buffer(){return q.buffer},reset(){I=0},bytesView:()=>q.subarray(0,I),bytes:()=>q.slice(0,I),writeByte(J){Z(I+1),q[I]=J,I++},writeBytes(J,ee=0,le=J.length){Z(I+le);for(let ae=0;ae<le;ae++)q[I++]=J[ae+ee]},writeBytesView(J,ee=0,le=J.byteLength){Z(I+le),q.set(J.subarray(ee,ee+le),I),I+=le}};function Z(J){var ee=q.length;if(!(J<=ee)){J=Math.max(J,ee*(ee<1048576?2:1.125)>>>0),ee!=0&&(J=Math.max(J,256));const le=q;q=new Uint8Array(J),0<I&&q.set(le.subarray(0,I),0)}}}var f=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function u(G,I,q){return G<<8&63488|I<<2&992|q>>3}function s(G,I,q,Z){return G>>4|240&I|(240&q)<<4|(240&Z)<<8}function d(G,I,q){return G>>4<<8|240&I|q>>4}function g(G,I,q){return G<I?I:q<G?q:G}function _(G){return G*G}function v(G,I,q){var Z=0,J=1e100;const ee=G[I];for(var le=ee.cnt,ae=ee.ac,fe=ee.rc,H=ee.gc,X=ee.bc,te=ee.fw;te!=0;te=G[te].fw){var ue,ce,he=G[te];J<=(ce=le*(ce=he.cnt)/(le+ce))||(ue=0,J<=(ue+=ce*_(he.rc-fe))||J<=(ue+=ce*_(he.gc-H))||J<=(ue+=ce*_(he.bc-X))||(J=ue,Z=te))}ee.err=J,ee.nn=Z}function j(G,I){for(var q=0,Z=0;Z<G.length;Z++){var J=G[Z]-I[Z];q+=J*J}return q}function T(G,I){return 1<I?Math.round(G/I)*I:G}function C(G){return G*G}function L(G,I,q=j){let Z=1/0,J=-1;for(let le=0;le<G.length;le++){var ee=q(I,G[le]);ee<Z&&(Z=ee,J=le)}return J}function R(G,I,q=j){let Z=1/0,J=-1;for(let le=0;le<G.length;le++){var ee=q(I,G[le]);ee<Z&&(Z=ee,J=le)}return[J,Z]}function P(G={}){const{initialCapacity:I=4096,auto:q=!0}=G,Z=l(I),J=new Uint8Array(256),ee=new Int32Array(5003),le=new Int32Array(5003);let ae=!1;return{reset(){Z.reset(),ae=!1},finish(){Z.writeByte(S)},bytes:()=>Z.bytes(),bytesView:()=>Z.bytesView(),get buffer(){return Z.buffer},get stream(){return Z},writeHeader:fe,writeFrame(H,X,te,ue={}){var{transparent:ce=!1,transparentIndex:he=0,delay:tt=0,palette:ne=null,repeat:Ve=0,colorDepth:me=8,dispose:_e=-1}=ue;let Te=!1;if(q?ae||(Te=!0,fe(),ae=!0):Te=!!ue.first,X=Math.max(0,Math.floor(X)),te=Math.max(0,Math.floor(te)),Te){if(!ne)throw new Error("First frame must include a { palette } option");var[ue,De,je,He,Ae=8]=[Z,X,te,ne,me];Ae=128|Ae-1<<4|(He=V(He.length)-1),M(ue,De),M(ue,je),ue.writeBytes([Ae,0,0]),B(Z,ne),0<=Ve&&(De=Ve,(He=Z).writeByte(33),He.writeByte(255),He.writeByte(11),U(He,"NETSCAPE2.0"),He.writeByte(3),He.writeByte(1),M(He,De),He.writeByte(0))}var ve,je,Ae=_e,Ve=je=Math.round(tt/10),De=ce,He=he,tt=((ue=Z).writeByte(33),ue.writeByte(249),ue.writeByte(4),He<0&&(He=0,De=!1),De=De?(ve=1,2):ve=0,0<=Ae&&(De=7&Ae),De<<=2,ue.writeByte(0|De|ve),M(ue,Ve),ue.writeByte(He||0),ue.writeByte(0),!!ne&&!Te);ce=X,he=te,ve=tt?ne:null,(_e=Z).writeByte(44),M(_e,0),M(_e,0),M(_e,ce),M(_e,he),ve?(ce=V(ve.length)-1,_e.writeByte(128|ce)):_e.writeByte(0),tt&&B(Z,ne),[Ve,ue,he,ce,_e=8,tt,ne,H]=[Z,H,X,te,me,J,ee,le],function(rt,wt,st,ge,Ne=l(512),Fe=new Uint8Array(256),Xe=new Int32Array(5003),ot=new Int32Array(5003)){var gt=Xe.length;ge=Math.max(2,ge),Fe.fill(0),ot.fill(0),Xe.fill(-1);let ut=0,at=0;var ie=ge+1;const re=ie;let se=!1,pe=re,Ee=(1<<pe)-1;var Be=1<<ie-1;const Qe=1+Be;let Ye=2+Be,Pe=0,et=st[0],ft=0;for(let Ut=gt;Ut<65536;Ut*=2)++ft;ft=8-ft,Ne.writeByte(ge),St(Be);var Pt=st.length;for(let Ut=1;Ut<Pt;Ut++)e:{var Lt=st[Ut],Tt=(Lt<<12)+et;let qt=Lt<<ft^et;if(Xe[qt]===Tt)et=ot[qt];else{for(var Et=qt===0?1:gt-qt;0<=Xe[qt];)if((qt-=Et)<0&&(qt+=gt),Xe[qt]===Tt){et=ot[qt];break e}St(et),et=Lt,Ye<4096?(ot[qt]=Ye++,Xe[qt]=Tt):(Xe.fill(-1),Ye=2+Be,se=!0,St(Be))}}return St(et),St(Qe),Ne.writeByte(0),Ne.bytesView();function St(Ut){for(ut&=f[at],0<at?ut|=Ut<<at:ut=Ut,at+=pe;8<=at;)Fe[Pe++]=255&ut,254<=Pe&&(Ne.writeByte(Pe),Ne.writeBytesView(Fe,0,Pe),Pe=0),ut>>=8,at-=8;if((Ye>Ee||se)&&(se?(pe=re,Ee=(1<<pe)-1,se=!1):(++pe,Ee=pe===12?1<<pe:(1<<pe)-1)),Ut==Qe){for(;0<at;)Fe[Pe++]=255&ut,254<=Pe&&(Ne.writeByte(Pe),Ne.writeBytesView(Fe,0,Pe),Pe=0),ut>>=8,at-=8;0<Pe&&(Ne.writeByte(Pe),Ne.writeBytesView(Fe,0,Pe),Pe=0)}}}(0,0,ue,_e,Ve,tt,ne,H)}};function fe(){U(Z,"GIF89a")}}function B(G,I){var q=1<<V(I.length);for(let Z=0;Z<q;Z++){let J=[0,0,0];Z<I.length&&(J=I[Z]),G.writeByte(J[0]),G.writeByte(J[1]),G.writeByte(J[2])}}function M(G,I){G.writeByte(255&I),G.writeByte(I>>8&255)}function U(G,I){for(var q=0;q<I.length;q++)G.writeByte(I.charCodeAt(q))}function V(G){return Math.max(Math.ceil(Math.log2(G)),1)}var $=P},{}],244:[function(r,E,y){y.read=function(h,a,c,x,S){var l,f,u=8*S-x-1,s=(1<<u)-1,d=s>>1,g=-7,_=c?S-1:0,v=c?-1:1;for(S=h[a+_],_+=v,l=S&(1<<-g)-1,S>>=-g,g+=u;0<g;l=256*l+h[a+_],_+=v,g-=8);for(f=l&(1<<-g)-1,l>>=-g,g+=x;0<g;f=256*f+h[a+_],_+=v,g-=8);if(l===0)l=1-d;else{if(l===s)return f?NaN:1/0*(S?-1:1);f+=Math.pow(2,x),l-=d}return(S?-1:1)*f*Math.pow(2,l-x)},y.write=function(h,a,c,x,S,l){var f,u,s=8*l-S-1,d=(1<<s)-1,g=d>>1,_=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=x?0:l-1,j=x?1:-1;for(l=a<0||a===0&&1/a<0?1:0,a=Math.abs(a),isNaN(a)||a===1/0?(u=isNaN(a)?1:0,f=d):(f=Math.floor(Math.log(a)/Math.LN2),a*(x=Math.pow(2,-f))<1&&(f--,x*=2),2<=(a+=1<=f+g?_/x:_*Math.pow(2,1-g))*x&&(f++,x/=2),d<=f+g?(u=0,f=d):1<=f+g?(u=(a*x-1)*Math.pow(2,S),f+=g):(u=a*Math.pow(2,g-1)*Math.pow(2,S),f=0));8<=S;h[c+v]=255&u,v+=j,u/=256,S-=8);for(f=f<<S|u,s+=S;0<s;h[c+v]=255&f,v+=j,f/=256,s-=8);h[c+v-j]|=128*l}},{}],245:[function(r,E,y){var h;function a(ie,re){return ie.b===re.b&&ie.a===re.a}function c(ie,re){return ie.b<re.b||ie.b===re.b&&ie.a<=re.a}function x(ie,re,se){var pe=re.b-ie.b,Ee=se.b-re.b;return 0<pe+Ee?pe<Ee?re.a-ie.a+pe/(pe+Ee)*(ie.a-se.a):re.a-se.a+Ee/(pe+Ee)*(se.a-ie.a):0}function S(ie,re,se){var pe=re.b-ie.b,Ee=se.b-re.b;return 0<pe+Ee?(re.a-se.a)*pe+(re.a-ie.a)*Ee:0}function l(ie,re){return ie.a<re.a||ie.a===re.a&&ie.b<=re.b}function f(ie,re,se){var pe=re.a-ie.a,Ee=se.a-re.a;return 0<pe+Ee?pe<Ee?re.b-ie.b+pe/(pe+Ee)*(ie.b-se.b):re.b-se.b+Ee/(pe+Ee)*(se.b-ie.b):0}function u(ie,re,se){var pe=re.a-ie.a,Ee=se.a-re.a;return 0<pe+Ee?(re.b-se.b)*pe+(re.b-ie.b)*Ee:0}function s(ie,re,se,pe){return(ie=ie<0?0:ie)<=(se=se<0?0:se)?se===0?(re+pe)/2:re+ie/(ie+se)*(pe-re):pe+se/(ie+se)*(re-pe)}function d(ie){var re=T(ie.b);return L(re,ie.c),L(re.b,ie.c),R(re,ie.a),re}function g(ie,re){var se=!1,pe=!1;ie!==re&&(re.a!==ie.a&&(pe=!0,B(re.a,ie.a)),re.d!==ie.d&&(se=!0,M(re.d,ie.d)),C(re,ie),pe||(L(re,ie.a),ie.a.c=ie),se||(R(re,ie.d),ie.d.a=ie))}function _(ie){var re=ie.b,se=!1;ie.d!==ie.b.d&&(se=!0,M(ie.d,ie.b.d)),ie.c===ie?B(ie.a,null):(ie.b.d.a=ie.b.e,ie.a.c=ie.c,C(ie,ie.b.e),se||R(ie,ie.d)),re.c===re?(B(re.a,null),M(re.d,null)):(ie.d.a=re.b.e,re.a.c=re.c,C(re,re.b.e)),P(ie)}function v(ie){var re=T(ie),se=re.b;return C(re,ie.e),re.a=ie.b.a,L(se,re.a),re.d=se.d=ie.d,re=re.b,C(ie.b,ie.b.b.e),C(ie.b,re),ie.b.a=re.a,re.b.a.c=re.b,re.b.d=ie.b.d,re.f=ie.f,re.b.f=ie.b.f,re}function j(ie,re){var se=!1,pe=T(ie),Ee=pe.b;return re.d!==ie.d&&(se=!0,M(re.d,ie.d)),C(pe,ie.e),C(Ee,re),pe.a=ie.b.a,Ee.a=re.a,pe.d=Ee.d=ie.d,ie.d.a=Ee,se||R(pe,ie.d),pe}function T(ie){var re=new Ve,se=new Ve,pe=ie.b.h;return(((se.h=pe).b.h=re).h=ie).b.h=se,re.b=se,((re.c=re).e=se).b=re,(se.c=se).e=re}function C(ie,re){var se=ie.c,pe=re.c;se.b.e=re,(pe.b.e=ie).c=pe,re.c=se}function L(ie,re){var se=re.f,pe=new He(re,se);for(se.e=pe,se=(re.f=pe).c=ie;se.a=pe,(se=se.c)!==ie;);}function R(ie,re){var se=re.d,pe=new Ae(re,se);for(se.b=pe,(re.d=pe).a=ie,pe.c=re.c,se=ie;se.d=pe,(se=se.e)!==ie;);}function P(ie){var re=ie.h;ie=ie.b.h,(re.b.h=ie).b.h=re}function B(ie,re){for(var se=ie.c,pe=se;pe.a=re,(pe=pe.c)!==se;);se=ie.f,((pe=ie.e).f=se).e=pe}function M(ie,re){for(var se=ie.a,pe=se;pe.d=re,(pe=pe.e)!==se;);se=ie.d,((pe=ie.b).d=se).b=pe}function U(ie){var re=0;return Math.abs(ie[1])>Math.abs(ie[0])&&(re=1),Math.abs(ie[2])>Math.abs(ie[re])?2:re}function V(ie,re){ie.f+=re.f,ie.b.f+=re.b.f}function $(ie,re,se){return ie=ie.a,re=re.a,se=se.a,re.b.a===ie?se.b.a===ie?c(re.a,se.a)?S(se.b.a,re.a,se.a)<=0:0<=S(re.b.a,se.a,re.a):S(se.b.a,ie,se.a)<=0:se.b.a===ie?0<=S(re.b.a,ie,re.a):(re=x(re.b.a,ie,re.a),(ie=x(se.b.a,ie,se.a))<=re)}function G(ie){ie.a.i=null;var re=ie.e;re.a.c=re.c,re.c.a=re.a,ie.e=null}function I(ie,re){_(ie.a),ie.c=!1,(ie.a=re).i=ie}function q(ie){for(var re=ie.a.a;(ie=at(ie)).a.a===re;);return ie.c&&(I(ie,re=j(ut(ie).a.b,ie.a.e)),ie=at(ie)),ie}function Z(ie,re,se){var pe=new gt;return pe.a=se,pe.e=me(ie.f,re.e,pe),se.i=pe}function J(ie,re){switch(ie.s){case 100130:return(1&re)!=0;case 100131:return re!==0;case 100132:return 0<re;case 100133:return re<0;case 100134:return 2<=re||re<=-2}return!1}function ee(ie){var re=ie.a,se=re.d;se.c=ie.d,se.a=re,G(ie)}function le(ie,re,se){for(re=(ie=re).a;ie!==se;){ie.c=!1;var pe=ut(ie),Ee=pe.a;if(Ee.a!==re.a){if(!pe.c){ee(ie);break}I(pe,Ee=j(re.c.b,Ee.b))}re.c!==Ee&&(g(Ee.b.e,Ee),g(re,Ee)),ee(ie),re=pe.a,ie=pe}return re}function ae(ie,re,se,pe,Ee,Be){for(var Qe=!0;Z(ie,re,se.b),(se=se.c)!==pe;);for(Ee===null&&(Ee=ut(re).a.b.c);(se=(pe=ut(re)).a.b).a===Ee.a;)se.c!==Ee&&(g(se.b.e,se),g(Ee.b.e,se)),pe.f=re.f-se.f,pe.d=J(ie,pe.f),re.b=!0,!Qe&&te(ie,re)&&(V(se,Ee),G(re),_(Ee)),Qe=!1,re=pe,Ee=se;re.b=!0,Be&&ce(ie,re)}function fe(ie,re,se,pe,Ee){var Be=[re.g[0],re.g[1],re.g[2]];re.d=null,re.d=ie.o&&ie.o(Be,se,pe,ie.c)||null,re.d===null&&(Ee?ie.n||(je(ie,100156),ie.n=!0):re.d=se[0])}function H(ie,re,se){var pe=[null,null,null,null];pe[0]=re.a.d,pe[1]=se.a.d,fe(ie,re.a,pe,[.5,.5,0,0],!1),g(re,se)}function X(ie,re,se,pe,Ee){var Be=Math.abs(re.b-ie.b)+Math.abs(re.a-ie.a),Qe=Math.abs(se.b-ie.b)+Math.abs(se.a-ie.a),Ye=Ee+1;pe[Ee]=.5*Qe/(Be+Qe),pe[Ye]=.5*Be/(Be+Qe),ie.g[0]+=pe[Ee]*re.g[0]+pe[Ye]*se.g[0],ie.g[1]+=pe[Ee]*re.g[1]+pe[Ye]*se.g[1],ie.g[2]+=pe[Ee]*re.g[2]+pe[Ye]*se.g[2]}function te(ie,re){var se=ut(re),pe=re.a,Ee=se.a;if(c(pe.a,Ee.a)){if(0<S(Ee.b.a,pe.a,Ee.a))return;if(a(pe.a,Ee.a)){if(pe.a!==Ee.a){se=ie.e;var Be=pe.a.h;if(0<=Be){var Qe=(se=se.b).d,Ye=se.e,Pe=se.c,et=Pe[Be];Qe[et]=Qe[se.a],(Pe[Qe[et]]=et)<=--se.a&&(et<=1||c(Ye[Qe[et>>1]],Ye[Qe[et]])?Xe:ot)(se,et),Ye[Be]=null,Pe[Be]=se.b,se.b=Be}else for(se.c[-(Be+1)]=null;0<se.a&&se.c[se.d[se.a-1]]===null;)--se.a;H(ie,Ee.b.e,pe)}}else v(Ee.b),g(pe,Ee.b.e),re.b=se.b=!0}else{if(S(pe.b.a,Ee.a,pe.a)<0)return;at(re).b=re.b=!0,v(pe.b),g(Ee.b.e,pe)}return 1}function ue(ie,re){var se=ut(re),pe=re.a,Ee=se.a,Be=pe.a,Qe=Ee.a,Ye=pe.b.a,Pe=Ee.b.a,et=new He;if(S(Ye,ie.a,Be),S(Pe,ie.a,Qe),!(Be===Qe||Math.min(Be.a,Ye.a)>Math.max(Qe.a,Pe.a))){if(c(Be,Qe)){if(0<S(Pe,Be,Qe))return}else if(S(Ye,Qe,Be)<0)return;var ft,Pt,Lt=Ye,Tt=Be,Et=Pe,St=Qe;if(c(Lt,Tt)||(ft=Lt,Lt=Tt,Tt=ft),c(Et,St)||(ft=Et,Et=St,St=ft),c(Lt,Et)||(ft=Lt,Lt=Et,Et=ft,ft=Tt,Tt=St,St=ft),c(Et,Tt)?c(Tt,St)?((ft=x(Lt,Et,Tt))+(Pt=x(Et,Tt,St))<0&&(ft=-ft,Pt=-Pt),et.b=s(ft,Et.b,Pt,Tt.b)):((ft=S(Lt,Et,Tt))+(Pt=-S(Lt,St,Tt))<0&&(ft=-ft,Pt=-Pt),et.b=s(ft,Et.b,Pt,St.b)):et.b=(Et.b+Tt.b)/2,l(Lt,Tt)||(ft=Lt,Lt=Tt,Tt=ft),l(Et,St)||(ft=Et,Et=St,St=ft),l(Lt,Et)||(ft=Lt,Lt=Et,Et=ft,ft=Tt,Tt=St,St=ft),l(Et,Tt)?l(Tt,St)?((ft=f(Lt,Et,Tt))+(Pt=f(Et,Tt,St))<0&&(ft=-ft,Pt=-Pt),et.a=s(ft,Et.a,Pt,Tt.a)):((ft=u(Lt,Et,Tt))+(Pt=-u(Lt,St,Tt))<0&&(ft=-ft,Pt=-Pt),et.a=s(ft,Et.a,Pt,St.a)):et.a=(Et.a+Tt.a)/2,c(et,ie.a)&&(et.b=ie.a.b,et.a=ie.a.a),Lt=c(Be,Qe)?Be:Qe,c(Lt,et)&&(et.b=Lt.b,et.a=Lt.a),a(et,Be)||a(et,Qe))return te(ie,re),0;if(!a(Ye,ie.a)&&0<=S(Ye,ie.a,et)||!a(Pe,ie.a)&&S(Pe,ie.a,et)<=0){if(Pe===ie.a)v(pe.b),g(Ee.b,pe),pe=ut(re=q(re)).a,le(ie,ut(re),se),ae(ie,re,pe.b.e,pe,pe,!0);else{if(Ye!==ie.a)return 0<=S(Ye,ie.a,et)&&(at(re).b=re.b=!0,v(pe.b),pe.a.b=ie.a.b,pe.a.a=ie.a.a),void(S(Pe,ie.a,et)<=0&&(re.b=se.b=!0,v(Ee.b),Ee.a.b=ie.a.b,Ee.a.a=ie.a.a));for(v(Ee.b),g(pe.e,Ee.b.e),Qe=(Be=se=re).a.b.a;(Be=at(Be)).a.b.a===Qe;);Be=ut(re=Be).a.b.c,se.a=Ee.b.e,ae(ie,re,(Ee=le(ie,se,null)).c,pe.b.c,Be,!0)}return 1}v(pe.b),v(Ee.b),g(Ee.b.e,pe),pe.a.b=et.b,pe.a.a=et.a,pe.a.h=rt(ie.e,pe.a),pe=pe.a,Ee=[0,0,0,0],et=[Be.d,Ye.d,Qe.d,Pe.d],pe.g[0]=pe.g[1]=pe.g[2]=0,X(pe,Be,Ye,Ee,0),X(pe,Qe,Pe,Ee,2),fe(ie,pe,et,Ee,!0),at(re).b=re.b=se.b=!0}}function ce(ie,re){for(var se=ut(re);;){for(;se.b;)se=ut(re=se);if(!(re.b||(re=at(se=re))!==null&&re.b))break;re.b=!1;var pe=re.a,Ee=se.a;if(Be=pe.b.a!==Ee.b.a)e:{var Be,Qe=ut(Be=re),Ye=Be.a,Pe=Qe.a,et=void 0;if(c(Ye.b.a,Pe.b.a)){if(S(Ye.b.a,Pe.b.a,Ye.a)<0){Be=!1;break e}at(Be).b=Be.b=!0,et=v(Ye),g(Pe.b,et),et.d.c=Be.d}else{if(0<S(Pe.b.a,Ye.b.a,Pe.a)){Be=!1;break e}Be.b=Qe.b=!0,et=v(Pe),g(Ye.e,Pe.b),et.b.d.c=Be.d}Be=!0}if(Be&&(se.c?(G(se),_(Ee),Ee=(se=ut(re)).a):re.c&&(G(re),_(pe),pe=(re=at(se)).a)),pe.a!==Ee.a){if(pe.b.a===Ee.b.a||re.c||se.c||pe.b.a!==ie.a&&Ee.b.a!==ie.a)te(ie,re);else if(ue(ie,re))break}pe.a===Ee.a&&pe.b.a===Ee.b.a&&(V(Ee,pe),G(re),_(pe),re=at(se))}}function he(ie,re){var se=new gt,pe=d(ie.b);pe.a.b=4e150,pe.a.a=re,pe.b.a.b=-4e150,pe.b.a.a=re,ie.a=pe.b.a,se.a=pe,se.f=0,se.d=!1,se.c=!1,se.h=!0,se.b=!1,pe=me(pe=ie.f,pe.a,se),se.e=pe}function ne(ie){this.a=new _e,this.b=ie,this.c=$}function me(ie,re,se){for(;(re=re.c).b!==null&&!ie.c(ie.b,re.b,se););return ie=new _e(se,re.a,re),re.a.c=ie,re.a=ie}function _e(ie,re,se){this.b=ie||null,this.a=re||this,this.c=se||this}function Te(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ve(ie,re){if(ie.d!==re)for(;ie.d!==re;)if(ie.d<re)switch(ie.d){case 0:je(ie,100151),ie.u(null);break;case 1:je(ie,100152),ie.t()}else switch(ie.d){case 2:je(ie,100154),ie.v();break;case 1:je(ie,100153),ie.w()}}function je(ie,re){ie.p&&ie.p(re,ie.c)}function Ae(ie,re){this.b=ie||this,this.d=re||this,this.a=null,this.c=!1}function Ve(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function De(){this.c=new He,this.a=new Ae,this.b=new Ve,this.d=new Ve,this.b.b=this.d,this.d.b=this.b}function He(ie,re){this.e=ie||this,this.f=re||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function tt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new st}function rt(ie,re){var se,pe,Ee;return ie.e?(2*(pe=++(se=ie.b).a)>se.f&&(se.f*=2,se.c=ge(se.c,se.f+1)),se.b===0?Ee=pe:(Ee=se.b,se.b=se.c[se.b]),se.e[Ee]=re,se.c[Ee]=pe,se.d[pe]=Ee,se.h&&ot(se,pe),Ee):(se=ie.a++,ie.c[se]=re,-(se+1))}function wt(ie){if(ie.a===0)return Fe(ie.b);var re=ie.c[ie.d[ie.a-1]];if(ie.b.a!==0&&c(Ne(ie.b),re))return Fe(ie.b);for(;--ie.a,0<ie.a&&ie.c[ie.d[ie.a-1]]===null;);return re}function st(){this.d=ge([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ge(ie,re){for(var se=Array(re),pe=0;pe<ie.length;pe++)se[pe]=ie[pe];for(;pe<re;pe++)se[pe]=0;return se}function Ne(ie){return ie.e[ie.d[1]]}function Fe(ie){var re=ie.d,se=ie.e,pe=ie.c,Ee=re[1],Be=se[Ee];return 0<ie.a&&(re[1]=re[ie.a],pe[re[1]]=1,se[Ee]=null,pe[Ee]=ie.b,ie.b=Ee,0<--ie.a&&Xe(ie,1)),Be}function Xe(ie,re){for(var se=ie.d,pe=ie.e,Ee=ie.c,Be=re,Qe=se[Be];;){var Ye=Be<<1,Pe=(Ye<ie.a&&c(pe[se[Ye+1]],pe[se[Ye]])&&(Ye+=1),se[Ye]);if(Ye>ie.a||c(pe[Qe],pe[Pe])){Ee[se[Be]=Qe]=Be;break}Ee[se[Be]=Pe]=Be,Be=Ye}}function ot(ie,re){for(var se=ie.d,pe=ie.e,Ee=ie.c,Be=re,Qe=se[Be];;){var Ye=Be>>1,Pe=se[Ye];if(Ye==0||c(pe[Pe],pe[Qe])){Ee[se[Be]=Qe]=Be;break}Ee[se[Be]=Pe]=Be,Be=Ye}}function gt(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ut(ie){return ie.e.c.b}function at(ie){return ie.e.a.b}(h=Te.prototype).x=function(){ve(this,0)},h.B=function(ie,re){switch(ie){case 100142:return;case 100140:switch(re){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=re)}break;case 100141:return void(this.m=!!re);default:return void je(this,100900)}je(this,100901)},h.y=function(ie){switch(ie){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:je(this,100900)}return!1},h.A=function(ie,re,se){this.j[0]=ie,this.j[1]=re,this.j[2]=se},h.z=function(ie,re){var se=re||null;switch(ie){case 100100:case 100106:this.h=se;break;case 100104:case 100110:this.l=se;break;case 100101:case 100107:this.k=se;break;case 100102:case 100108:this.i=se;break;case 100103:case 100109:this.p=se;break;case 100105:case 100111:this.o=se;break;case 100112:this.r=se;break;default:je(this,100900)}},h.C=function(ie,re){var se=!1,pe=[0,0,0];ve(this,2);for(var Ee=0;Ee<3;++Ee){var Be=ie[Ee];Be<-1e150&&(Be=-1e150,se=!0),1e150<Be&&(Be=1e150,se=!0),pe[Ee]=Be}se&&je(this,100155),(se=this.q)===null?g(se=d(this.b),se.b):(v(se),se=se.e),se.a.d=re,se.a.g[0]=pe[0],se.a.g[1]=pe[1],se.a.g[2]=pe[2],se.f=1,se.b.f=-1,this.q=se},h.u=function(ie){ve(this,0),this.d=1,this.b=new De,this.c=ie},h.t=function(){ve(this,1),this.d=2,this.q=null},h.v=function(){ve(this,2),this.d=1},h.w=function(){ve(this,1),this.d=0;var ie,re,se=!1,pe=[Pe=this.j[0],Ee=this.j[1],Qe=this.j[2]];if(Pe===0&&Ee===0&&Qe===0){for(var Ee=[-2e150,-2e150,-2e150],Be=[2e150,2e150,2e150],Qe=[],Ye=[],Pe=(se=this.b.c).e;Pe!==se;Pe=Pe.e)for(var et=0;et<3;++et){var ft=Pe.g[et];ft<Be[et]&&(Be[et]=ft,Ye[et]=Pe),ft>Ee[et]&&(Ee[et]=ft,Qe[et]=Pe)}if(Ee[1]-Be[1]>Ee[Pe=0]-Be[0]&&(Pe=1),Be[Pe=Ee[2]-Be[2]>Ee[Pe]-Be[Pe]?2:Pe]>=Ee[Pe])pe[0]=0,pe[1]=0,pe[2]=1;else{for(Be=Ye[Pe],Qe=Qe[Pe],Ye=[Ee=0,0,0],Be=[Be.g[0]-Qe.g[0],Be.g[1]-Qe.g[1],Be.g[2]-Qe.g[2]],et=[0,0,0],Pe=se.e;Pe!==se;Pe=Pe.e)et[0]=Pe.g[0]-Qe.g[0],et[1]=Pe.g[1]-Qe.g[1],et[2]=Pe.g[2]-Qe.g[2],Ye[0]=Be[1]*et[2]-Be[2]*et[1],Ye[1]=Be[2]*et[0]-Be[0]*et[2],Ye[2]=Be[0]*et[1]-Be[1]*et[0],Ee<(ft=Ye[0]*Ye[0]+Ye[1]*Ye[1]+Ye[2]*Ye[2])&&(Ee=ft,pe[0]=Ye[0],pe[1]=Ye[1],pe[2]=Ye[2]);Ee<=0&&(pe[0]=pe[1]=pe[2]=0,pe[U(Be)]=1)}se=!0}for(Ye=U(pe),Pe=this.b.c,Ee=(Ye+1)%3,Qe=(Ye+2)%3,Ye=0<pe[Ye]?1:-1,pe=Pe.e;pe!==Pe;pe=pe.e)pe.b=pe.g[Ee],pe.a=Ye*pe.g[Qe];if(se){for(pe=0,Pe=(se=this.b.a).b;Pe!==se;Pe=Pe.b)if(!((Ee=Pe.a).f<=0))for(;pe+=(Ee.a.b-Ee.b.a.b)*(Ee.a.a+Ee.b.a.a),(Ee=Ee.e)!==Pe.a;);if(pe<0)for(se=(pe=this.b.c).e;se!==pe;se=se.e)se.a=-se.a}for(this.n=!1,Pe=(pe=this.b.b).h;Pe!==pe;Pe=se)se=Pe.h,Ee=Pe.e,a(Pe.a,Pe.b.a)&&Pe.e.e!==Pe&&(H(this,Ee,Pe),_(Pe),Ee=(Pe=Ee).e),Ee.e===Pe&&(Ee!==Pe&&(Ee!==se&&Ee!==se.b||(se=se.h),_(Ee)),Pe!==se&&Pe!==se.b||(se=se.h),_(Pe));for(this.e=pe=new tt,Pe=(se=this.b.c).e;Pe!==se;Pe=Pe.e)Pe.h=rt(pe,Pe);var Pt=pe;Pt.d=[];for(var Lt=0;Lt<Pt.a;Lt++)Pt.d[Lt]=Lt;Pt.d.sort(function(St){return function(Ut,qt){return c(St[Ut],St[qt])?1:-1}}(Pt.c)),Pt.e=!0;for(var Tt=Pt.b,Et=Tt.a;1<=Et;--Et)Xe(Tt,Et);for(Tt.h=!0,this.f=new ne(this),he(this,-4e150),he(this,4e150);(pe=wt(this.e))!==null;){for(;;){e:if((Pe=this.e).a===0)se=Ne(Pe.b);else if(se=Pe.c[Pe.d[Pe.a-1]],Pe.b.a!==0&&c(Pe=Ne(Pe.b),se)){se=Pe;break e}if(se===null||!a(se,pe))break;se=wt(this.e),H(this,pe.c,se.c)}(function St(Ut,qt){for(var _r,zt=(Ut.a=qt).c;zt.i===null;)if((zt=zt.c)===qt.c){zt=Ut;var ur=qt;(Xt=new gt).a=ur.c.b;for(var Or=(Ft=zt.f).a;(Or=Or.a).b!==null&&!Ft.c(Ft.b,Xt,Or.b););var Ft,Ar,xr=ut(Ft=Or.b),Xt=Ft.a;return Or=xr.a,void(S(Xt.b.a,ur,Xt.a)===0?a((Xt=Ft.a).a,ur)||a(Xt.b.a,ur)||(v(Xt.b),Ft.c&&(_(Xt.c),Ft.c=!1),g(ur.c,Xt),St(zt,ur)):(Ar=c(Or.b.a,Xt.b.a)?Ft:xr,xr=void 0,Ft.d||Ar.c?(xr=Ar===Ft?j(ur.c.b,Xt.e):j(Or.b.c.b,ur.c).b,Ar.c?I(Ar,xr):((Ft=Z(Xt=zt,Ft,xr)).f=at(Ft).f+Ft.a.f,Ft.d=J(Xt,Ft.f)),St(zt,ur)):ae(zt,Ft,ur.c,ur.c,null,!0)))}Ft=(Xt=ut(zt=q(zt.i))).a,(Xt=le(Ut,Xt,null)).c===Ft?(Xt=(Ft=Xt).c,Or=ut(zt),xr=zt.a,Ar=Or.a,_r=!1,xr.b.a!==Ar.b.a&&ue(Ut,zt),a(xr.a,Ut.a)&&(g(Xt.b.e,xr),Xt=ut(zt=q(zt)).a,le(Ut,ut(zt),Or),_r=!0),a(Ar.a,Ut.a)&&(g(Ft,Ar.b.e),Ft=le(Ut,Or,null),_r=!0),_r?ae(Ut,zt,Ft.c,Xt,Xt,!0):(ur=c(Ar.a,xr.a)?Ar.b.e:xr,ae(Ut,zt,ur=j(Ft.c.b,ur),ur.c,ur.c,!1),ur.b.i.c=!0,ce(Ut,zt))):ae(Ut,zt,Xt.c,Ft,Ft,!0)})(this,pe)}for(this.a=this.f.a.a.b.a.a,pe=0;(se=this.f.a.a.b)!==null;)se.h||++pe,G(se);for(this.f=null,(pe=this.e).b=null,pe.d=null,this.e=pe.c=null,Pe=(pe=this.b).a.b;Pe!==pe.a;Pe=se)se=Pe.b,(Pe=Pe.a).e.e===Pe&&(V(Pe.c,Pe),_(Pe));if(!this.n){if(pe=this.b,this.m)for(Pe=pe.b.h;Pe!==pe.b;Pe=se)se=Pe.h,Pe.b.d.c!==Pe.d.c?Pe.f=Pe.d.c?1:-1:_(Pe);else for(Pe=pe.a.b;Pe!==pe.a;Pe=se)if(se=Pe.b,Pe.c){for(Pe=Pe.a;c(Pe.b.a,Pe.a);Pe=Pe.c.b);for(;c(Pe.a,Pe.b.a);Pe=Pe.e);for(Ee=Pe.c.b,Qe=void 0;Pe.e!==Ee;)if(c(Pe.b.a,Ee.a)){for(;Ee.e!==Pe&&(c((re=Ee.e).b.a,re.a)||S(Ee.a,Ee.b.a,Ee.e.b.a)<=0);)Ee=(Qe=j(Ee.e,Ee)).b;Ee=Ee.c.b}else{for(;Ee.e!==Pe&&(c((ie=Pe.c.b).a,ie.b.a)||0<=S(Pe.b.a,Pe.a,Pe.c.b.a));)Pe=(Qe=j(Pe,Pe.c.b)).b;Pe=Pe.e}for(;Ee.e.e!==Pe;)Ee=(Qe=j(Ee.e,Ee)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(se=(pe=this.b).a.b;se!==pe.a;se=se.b)if(se.c){for(this.h&&this.h(2,this.c),Pe=se.a;this.k&&this.k(Pe.a.d,this.c),(Pe=Pe.e)!==se.a;);this.i&&this.i(this.c)}}else{for(pe=this.b,se=!!this.l,Pe=!1,Ee=-1,Qe=pe.a.d;Qe!==pe.a;Qe=Qe.d)if(Qe.c)for(Pe||(this.h&&this.h(4,this.c),Pe=!0),Ye=Qe.a;se&&Ee!==(Be=Ye.b.d.c?0:1)&&(Ee=Be,this.l&&this.l(!!Ee,this.c)),this.k&&this.k(Ye.a.d,this.c),(Ye=Ye.e)!==Qe.a;);Pe&&this.i&&this.i(this.c)}if(this.r){for(Pe=(pe=this.b).a.b;Pe!==pe.a;Pe=se)if(se=Pe.b,!Pe.c){for(Qe=(Ee=Pe.a).e,Ye=void 0;Qe=(Ye=Qe).e,(Ye.d=null)===Ye.b.d&&(Ye.c===Ye?B(Ye.a,null):(Ye.a.c=Ye.c,C(Ye,Ye.b.e)),(Be=Ye.b).c===Be?B(Be.a,null):(Be.a.c=Be.c,C(Be,Be.b.e)),P(Ye)),Ye!==Ee;);Ee=Pe.d,((Pe=Pe.b).d=Ee).b=Pe}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Te,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Te.prototype.gluDeleteTess=Te.prototype.x,Te.prototype.gluTessProperty=Te.prototype.B,Te.prototype.gluGetTessProperty=Te.prototype.y,Te.prototype.gluTessNormal=Te.prototype.A,Te.prototype.gluTessCallback=Te.prototype.z,Te.prototype.gluTessVertex=Te.prototype.C,Te.prototype.gluTessBeginPolygon=Te.prototype.u,Te.prototype.gluTessBeginContour=Te.prototype.t,Te.prototype.gluTessEndContour=Te.prototype.v,Te.prototype.gluTessEndPolygon=Te.prototype.w,E!==void 0&&(E.exports=this.libtess)},{}],246:[function(r,E,y){function h(a,c,x,S){for(var l=a[c++],f=1<<l,u=1+f,s=1+u,d=l+1,g=(1<<d)-1,_=0,v=0,j=0,T=a[c++],C=new Int32Array(4096),L=null;;){for(;_<16&&T!==0;)v|=a[c++]<<_,_+=8,T===1?T=a[c++]:--T;if(_<d)break;var R=v&g;if(v>>=d,_-=d,R==f)s=1+u,g=(1<<(d=l+1))-1,L=null;else{if(R==u)break;for(var P=R<s?R:L,B=0,M=P;f<M;)M=C[M]>>8,++B;var U=M;if(S<j+B+(P!==R?1:0))return void console.log("Warning, gif stream longer than expected.");x[j++]=U;var V=j+=B;for(P!==R&&(x[j++]=U),M=P;B--;)M=C[M],x[--V]=255&M,M>>=8;L!==null&&s<4096&&(C[s++]=L<<8|U,g+1<=s&&d<12&&(++d,g=g<<1|1)),L=R}}j!==S&&console.log("Warning, gif stream shorter than expected.")}try{y.GifWriter=function(a,c,x,S){var l=0,f=(S=S===void 0?{}:S).loop===void 0?null:S.loop,u=S.palette===void 0?null:S.palette;if(c<=0||x<=0||65535<c||65535<x)throw new Error("Width/Height invalid.");function s(L){if((L=L.length)<2||256<L||L&L-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return L}a[l++]=71,a[l++]=73,a[l++]=70,a[l++]=56,a[l++]=57,a[l++]=97;var d=0,g=0;if(u!==null){for(var _=s(u);_>>=1;)++d;if(_=1<<d,--d,S.background!==void 0){if(_<=(g=S.background))throw new Error("Background index out of range.");if(g===0)throw new Error("Background index explicitly passed as 0.")}}if(a[l++]=255&c,a[l++]=c>>8&255,a[l++]=255&x,a[l++]=x>>8&255,a[l++]=(u!==null?128:0)|d,a[l++]=g,a[l++]=0,u!==null)for(var v=0,j=u.length;v<j;++v){var T=u[v];a[l++]=T>>16&255,a[l++]=T>>8&255,a[l++]=255&T}if(f!==null){if(f<0||65535<f)throw new Error("Loop count invalid.");a[l++]=33,a[l++]=255,a[l++]=11,a[l++]=78,a[l++]=69,a[l++]=84,a[l++]=83,a[l++]=67,a[l++]=65,a[l++]=80,a[l++]=69,a[l++]=50,a[l++]=46,a[l++]=48,a[l++]=3,a[l++]=1,a[l++]=255&f,a[l++]=f>>8&255,a[l++]=0}var C=!1;this.addFrame=function(L,R,P,B,M,U){if(C===!0&&(--l,C=!1),U=U===void 0?{}:U,L<0||R<0||65535<L||65535<R)throw new Error("x/y invalid.");if(P<=0||B<=0||65535<P||65535<B)throw new Error("Width/Height invalid.");if(M.length<P*B)throw new Error("Not enough pixels for the frame size.");var V=!0,$=U.palette;if($==null&&(V=!1,$=u),$==null)throw new Error("Must supply either a local or global palette.");for(var G=s($),I=0;G>>=1;)++I;G=1<<I;var q=U.delay===void 0?0:U.delay,Z=U.disposal===void 0?0:U.disposal;if(Z<0||3<Z)throw new Error("Disposal out of range.");var J=!1,ee=0;if(U.transparent!==void 0&&U.transparent!==null&&(J=!0,(ee=U.transparent)<0||G<=ee))throw new Error("Transparent color index.");if(Z===0&&!J&&q===0||(a[l++]=33,a[l++]=249,a[l++]=4,a[l++]=Z<<2|(J===!0?1:0),a[l++]=255&q,a[l++]=q>>8&255,a[l++]=ee,a[l++]=0),a[l++]=44,a[l++]=255&L,a[l++]=L>>8&255,a[l++]=255&R,a[l++]=R>>8&255,a[l++]=255&P,a[l++]=P>>8&255,a[l++]=255&B,a[l++]=B>>8&255,a[l++]=V===!0?128|I-1:0,V===!0)for(var le=0,ae=$.length;le<ae;++le){var fe=$[le];a[l++]=fe>>16&255,a[l++]=fe>>8&255,a[l++]=255&fe}return l=function(H,X,te,ue){H[X++]=te;var ce=X++,he=1<<te,ne=he-1,me=1+he,_e=1+me,Te=te+1,ve=0,je=0;function Ae(Ne){for(;Ne<=ve;)H[X++]=255&je,je>>=8,ve-=8,X===ce+256&&(H[ce]=255,ce=X++)}function Ve(Ne){je|=Ne<<ve,ve+=Te,Ae(8)}var De=ue[0]&ne,He={};Ve(he);for(var tt=1,rt=ue.length;tt<rt;++tt){var wt=ue[tt]&ne,st=De<<8|wt,ge=He[st];if(ge===void 0){for(je|=De<<ve,ve+=Te;8<=ve;)H[X++]=255&je,je>>=8,ve-=8,X===ce+256&&(H[ce]=255,ce=X++);_e===4096?(Ve(he),_e=1+me,Te=te+1,He={}):(1<<Te<=_e&&++Te,He[st]=_e++),De=wt}else De=ge}return Ve(De),Ve(me),Ae(1),ce+1===X?H[ce]=0:(H[ce]=X-ce-1,H[X++]=0),X}(a,l,I<2?2:I,M)},this.end=function(){return C===!1&&(a[l++]=59,C=!0),l},this.getOutputBuffer=function(){return a},this.setOutputBuffer=function(L){a=L},this.getOutputBufferPosition=function(){return l},this.setOutputBufferPosition=function(L){l=L}},y.GifReader=function(a){var c=0;if(a[c++]!==71||a[c++]!==73||a[c++]!==70||a[c++]!==56||(a[c++]+1&253)!=56||a[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var x=a[c++]|a[c++]<<8,S=a[c++]|a[c++]<<8,l=a[c++],f=1<<1+(7&l),u=(a[c++],a[c++],null),s=null,d=(l>>7&&(u=c,c+=3*(s=f)),!0),g=[],_=0,v=null,j=0,T=null;for(this.width=x,this.height=S;d&&c<a.length;)switch(a[c++]){case 33:switch(a[c++]){case 255:if(a[c]!==11||a[c+1]==78&&a[c+2]==69&&a[c+3]==84&&a[c+4]==83&&a[c+5]==67&&a[c+6]==65&&a[c+7]==80&&a[c+8]==69&&a[c+9]==50&&a[c+10]==46&&a[c+11]==48&&a[c+12]==3&&a[c+13]==1&&a[c+16]==0)c+=14,T=a[c++]|a[c++]<<8,c++;else for(c+=12;;){if(!(0<=(L=a[c++])))throw Error("Invalid block size");if(L===0)break;c+=L}break;case 249:if(a[c++]!==4||a[c+4]!==0)throw new Error("Invalid graphics extension block.");var C=a[c++];_=a[c++]|a[c++]<<8,v=a[c++],!(1&C)&&(v=null),j=C>>2&7,c++;break;case 254:for(;;){if(!(0<=(L=a[c++])))throw Error("Invalid block size");if(L===0)break;c+=L}break;default:throw new Error("Unknown graphic control label: 0x"+a[c-1].toString(16))}break;case 44:var L,R=a[c++]|a[c++]<<8,P=a[c++]|a[c++]<<8,B=a[c++]|a[c++]<<8,M=a[c++]|a[c++]<<8,U=(I=a[c++])>>6&1,V=u,$=s,G=!1,I=(I>>7&&(G=!0,V=c,c+=3*($=1<<1+(7&I))),c);for(c++;;){if(!(0<=(L=a[c++])))throw Error("Invalid block size");if(L===0)break;c+=L}g.push({x:R,y:P,width:B,height:M,has_local_palette:G,palette_offset:V,palette_size:$,data_offset:I,data_length:c-I,transparent_index:v,interlaced:!!U,delay:_,disposal:j});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+a[c-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return T},this.frameInfo=function(q){if(q<0||q>=g.length)throw new Error("Frame index out of range.");return g[q]},this.decodeAndBlitFrameBGRA=function(q,Z){for(var J=(q=this.frameInfo(q)).width*q.height,ee=new Uint8Array(J),le=(h(a,q.data_offset,ee,J),q.palette_offset),ae=q.transparent_index,fe=(ae===null&&(ae=256),q.width),H=x-fe,X=fe,te=4*(q.y*x+q.x),ue=4*((q.y+q.height)*x+q.x),ce=te,he=4*H,ne=(q.interlaced===!0&&(he+=4*x*7),8),me=0,_e=ee.length;me<_e;++me){var Te,ve,je=ee[me];X===0&&(X=fe,ue<=(ce+=he)&&(he=4*H+4*x*(ne-1),ce=te+(fe+H)*(ne<<1),ne>>=1)),je===ae?ce+=4:(Te=a[le+3*je],ve=a[le+3*je+1],je=a[le+3*je+2],Z[ce++]=je,Z[ce++]=ve,Z[ce++]=Te,Z[ce++]=255),--X}},this.decodeAndBlitFrameRGBA=function(q,Z){for(var J=(q=this.frameInfo(q)).width*q.height,ee=new Uint8Array(J),le=(h(a,q.data_offset,ee,J),q.palette_offset),ae=q.transparent_index,fe=(ae===null&&(ae=256),q.width),H=x-fe,X=fe,te=4*(q.y*x+q.x),ue=4*((q.y+q.height)*x+q.x),ce=te,he=4*H,ne=(q.interlaced===!0&&(he+=4*x*7),8),me=0,_e=ee.length;me<_e;++me){var Te,ve,je=ee[me];X===0&&(X=fe,ue<=(ce+=he)&&(he=4*H+4*x*(ne-1),ce=te+(fe+H)*(ne<<1),ne>>=1)),je===ae?ce+=4:(Te=a[le+3*je],ve=a[le+3*je+1],je=a[le+3*je+2],Z[ce++]=Te,Z[ce++]=ve,Z[ce++]=je,Z[ce++]=255),--X}}}}catch{}},{}],247:[function(r,E,y){(function(h){(function(a){function c(b){if(this==null)throw TypeError();var k,A=String(this),N=A.length;if(!((b=(b=b?Number(b):0)!=b?0:b)<0||N<=b))return 55296<=(k=A.charCodeAt(b))&&k<=56319&&b+1<N&&56320<=(N=A.charCodeAt(b+1))&&N<=57343?1024*(k-55296)+N-56320+65536:k}String.prototype.codePointAt||((x=function(){try{var b={},k=Object.defineProperty,A=k(b,b,b)&&k}catch{}return A}())?x(String.prototype,"codePointAt",{value:c,configurable:!0,writable:!0}):String.prototype.codePointAt=c);var x;function S(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function l(b,k){this.source=b,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=k,this.destLen=0,this.ltree=new S,this.dtree=new S}var f=new S,u=new S,s=new Uint8Array(30),d=new Uint16Array(30),g=new Uint8Array(30),_=new Uint16Array(30),v=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j=new S,T=new Uint8Array(320);function C(b,k,A,N){for(var W,K=0;K<A;++K)b[K]=0;for(K=0;K<30-A;++K)b[K+A]=K/A|0;for(W=N,K=0;K<30;++K)k[K]=W,W+=1<<b[K]}var L=new Uint16Array(16);function R(b,k,A,N){for(var W,K=0;K<16;++K)b.table[K]=0;for(K=0;K<N;++K)b.table[k[A+K]]++;for(K=W=b.table[0]=0;K<16;++K)L[K]=W,W+=b.table[K];for(K=0;K<N;++K)k[A+K]&&(b.trans[L[k[A+K]]++]=K)}function P(b,k,A){if(!k)return A;for(;b.bitcount<24;)b.tag|=b.source[b.sourceIndex++]<<b.bitcount,b.bitcount+=8;var N=b.tag&65535>>>16-k;return b.tag>>>=k,b.bitcount-=k,N+A}function B(b,k){for(;b.bitcount<24;)b.tag|=b.source[b.sourceIndex++]<<b.bitcount,b.bitcount+=8;for(var A=0,N=0,W=0,K=b.tag;N=2*N+(1&K),K>>>=1,A+=k.table[++W],0<=(N-=k.table[W]););return b.tag=K,b.bitcount-=W,k.trans[A+N]}function M(b,k,A){for(;;){if((K=B(b,k))===256)return 0;if(K<256)b.dest[b.destLen++]=K;else for(var N,W=P(b,s[K-=257],d[K]),K=B(b,A),Q=N=b.destLen-P(b,g[K],_[K]);Q<N+W;++Q)b.dest[b.destLen++]=b.dest[Q]}}for(var U=f,V=u,$=0;$<7;++$)U.table[$]=0;for(U.table[7]=24,U.table[8]=152,U.table[9]=112,$=0;$<24;++$)U.trans[$]=256+$;for($=0;$<144;++$)U.trans[24+$]=$;for($=0;$<8;++$)U.trans[168+$]=280+$;for($=0;$<112;++$)U.trans[176+$]=144+$;for($=0;$<5;++$)V.table[$]=0;for(V.table[5]=32,$=0;$<32;++$)V.trans[$]=$;C(s,d,4,3),C(g,_,2,1),s[28]=0,d[28]=258;function G(b,k,A,N,W){return Math.pow(1-W,3)*b+3*Math.pow(1-W,2)*W*k+3*(1-W)*Math.pow(W,2)*A+Math.pow(W,3)*N}function I(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function q(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Z(b){throw new Error(b)}function J(b,k){b||Z(k)}I.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},I.prototype.addPoint=function(b,k){typeof b=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=b,this.x2=b),b<this.x1&&(this.x1=b),b>this.x2&&(this.x2=b)),typeof k=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=k,this.y2=k),k<this.y1&&(this.y1=k),k>this.y2&&(this.y2=k))},I.prototype.addX=function(b){this.addPoint(b,null)},I.prototype.addY=function(b){this.addPoint(null,b)},I.prototype.addBezier=function(b,k,A,N,W,K,Q,de){var ye=[b,k],be=[A,N],Ce=[W,K],Me=[Q,de];this.addPoint(b,k),this.addPoint(Q,de);for(var Re=0;Re<=1;Re++){var Se,Ze=6*ye[Re]-12*be[Re]+6*Ce[Re],Ue=-3*ye[Re]+9*be[Re]-9*Ce[Re]+3*Me[Re],$e=3*be[Re]-3*ye[Re];Ue==0?Ze==0||0<(Se=-$e/Ze)&&Se<1&&(Re===0&&this.addX(G(ye[Re],be[Re],Ce[Re],Me[Re],Se)),Re===1&&this.addY(G(ye[Re],be[Re],Ce[Re],Me[Re],Se))):(Se=Math.pow(Ze,2)-4*$e*Ue)<0||(0<($e=(-Ze+Math.sqrt(Se))/(2*Ue))&&$e<1&&(Re===0&&this.addX(G(ye[Re],be[Re],Ce[Re],Me[Re],$e)),Re===1&&this.addY(G(ye[Re],be[Re],Ce[Re],Me[Re],$e))),0<($e=(-Ze-Math.sqrt(Se))/(2*Ue))&&$e<1&&(Re===0&&this.addX(G(ye[Re],be[Re],Ce[Re],Me[Re],$e)),Re===1&&this.addY(G(ye[Re],be[Re],Ce[Re],Me[Re],$e))))}},I.prototype.addQuad=function(b,k,A,N,W,K){A=b+2/3*(A-b),N=k+2/3*(N-k),this.addBezier(b,k,A,N,A+1/3*(W-b),N+1/3*(K-k),W,K)},q.prototype.moveTo=function(b,k){this.commands.push({type:"M",x:b,y:k})},q.prototype.lineTo=function(b,k){this.commands.push({type:"L",x:b,y:k})},q.prototype.curveTo=q.prototype.bezierCurveTo=function(b,k,A,N,W,K){this.commands.push({type:"C",x1:b,y1:k,x2:A,y2:N,x:W,y:K})},q.prototype.quadTo=q.prototype.quadraticCurveTo=function(b,k,A,N){this.commands.push({type:"Q",x1:b,y1:k,x:A,y:N})},q.prototype.close=q.prototype.closePath=function(){this.commands.push({type:"Z"})},q.prototype.extend=function(b){var k;if(b.commands)b=b.commands;else if(b instanceof I)return k=b,this.moveTo(k.x1,k.y1),this.lineTo(k.x2,k.y1),this.lineTo(k.x2,k.y2),this.lineTo(k.x1,k.y2),void this.close();Array.prototype.push.apply(this.commands,b)},q.prototype.getBoundingBox=function(){for(var b=new I,k=0,A=0,N=0,W=0,K=0;K<this.commands.length;K++){var Q=this.commands[K];switch(Q.type){case"M":b.addPoint(Q.x,Q.y),k=N=Q.x,A=W=Q.y;break;case"L":b.addPoint(Q.x,Q.y),N=Q.x,W=Q.y;break;case"Q":b.addQuad(N,W,Q.x1,Q.y1,Q.x,Q.y),N=Q.x,W=Q.y;break;case"C":b.addBezier(N,W,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y),N=Q.x,W=Q.y;break;case"Z":N=k,W=A;break;default:throw new Error("Unexpected path command "+Q.type)}}return b.isEmpty()&&b.addPoint(0,0),b},q.prototype.draw=function(b){b.beginPath();for(var k=0;k<this.commands.length;k+=1){var A=this.commands[k];A.type==="M"?b.moveTo(A.x,A.y):A.type==="L"?b.lineTo(A.x,A.y):A.type==="C"?b.bezierCurveTo(A.x1,A.y1,A.x2,A.y2,A.x,A.y):A.type==="Q"?b.quadraticCurveTo(A.x1,A.y1,A.x,A.y):A.type==="Z"&&b.closePath()}this.fill&&(b.fillStyle=this.fill,b.fill()),this.stroke&&(b.strokeStyle=this.stroke,b.lineWidth=this.strokeWidth,b.stroke())},q.prototype.toPathData=function(b){function k(){for(var K=arguments,Q="",de=0;de<arguments.length;de+=1){var ye=K[de];0<=ye&&0<de&&(Q+=" "),Q+=(ye=ye,Math.round(ye)===ye?""+Math.round(ye):ye.toFixed(b))}return Q}b=b!==void 0?b:2;for(var A="",N=0;N<this.commands.length;N+=1){var W=this.commands[N];W.type==="M"?A+="M"+k(W.x,W.y):W.type==="L"?A+="L"+k(W.x,W.y):W.type==="C"?A+="C"+k(W.x1,W.y1,W.x2,W.y2,W.x,W.y):W.type==="Q"?A+="Q"+k(W.x1,W.y1,W.x,W.y):W.type==="Z"&&(A+="Z")}return A},q.prototype.toSVG=function(b){var k=(k='<path d="')+this.toPathData(b)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?k+=' fill="none"':k+=' fill="'+this.fill+'"'),this.stroke&&(k+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),k+"/>"},q.prototype.toDOMElement=function(b){b=this.toPathData(b);var k=document.createElementNS("http://www.w3.org/2000/svg","path");return k.setAttribute("d",b),k};var ee={fail:Z,argument:J,assert:J},le={},ae={},fe={};function H(b){return function(){return b}}ae.BYTE=function(b){return ee.argument(0<=b&&b<=255,"Byte value should be between 0 and 255."),[b]},fe.BYTE=H(1),ae.CHAR=function(b){return[b.charCodeAt(0)]},fe.CHAR=H(1),ae.CHARARRAY=function(b){for(var k=[],A=0;A<b.length;A+=1)k[A]=b.charCodeAt(A);return k},fe.CHARARRAY=function(b){return b.length},ae.USHORT=function(b){return[b>>8&255,255&b]},fe.USHORT=H(2),ae.SHORT=function(b){return[(b=32768<=b?-(65536-b):b)>>8&255,255&b]},fe.SHORT=H(2),ae.UINT24=function(b){return[b>>16&255,b>>8&255,255&b]},fe.UINT24=H(3),ae.ULONG=function(b){return[b>>24&255,b>>16&255,b>>8&255,255&b]},fe.ULONG=H(4),ae.LONG=function(b){return[(b=2147483648<=b?-(4294967296-b):b)>>24&255,b>>16&255,b>>8&255,255&b]},fe.LONG=H(4),ae.FIXED=ae.ULONG,fe.FIXED=fe.ULONG,ae.FWORD=ae.SHORT,fe.FWORD=fe.SHORT,ae.UFWORD=ae.USHORT,fe.UFWORD=fe.USHORT,ae.LONGDATETIME=function(b){return[0,0,0,0,b>>24&255,b>>16&255,b>>8&255,255&b]},fe.LONGDATETIME=H(8),ae.TAG=function(b){return ee.argument(b.length===4,"Tag should be exactly 4 ASCII characters."),[b.charCodeAt(0),b.charCodeAt(1),b.charCodeAt(2),b.charCodeAt(3)]},fe.TAG=H(4),ae.Card8=ae.BYTE,fe.Card8=fe.BYTE,ae.Card16=ae.USHORT,fe.Card16=fe.USHORT,ae.OffSize=ae.BYTE,fe.OffSize=fe.BYTE,ae.SID=ae.USHORT,fe.SID=fe.USHORT,ae.NUMBER=function(b){return-107<=b&&b<=107?[b+139]:108<=b&&b<=1131?[247+((b-=108)>>8),255&b]:-1131<=b&&b<=-108?[251+((b=-b-108)>>8),255&b]:-32768<=b&&b<=32767?ae.NUMBER16(b):ae.NUMBER32(b)},fe.NUMBER=function(b){return ae.NUMBER(b).length},ae.NUMBER16=function(b){return[28,b>>8&255,255&b]},fe.NUMBER16=H(3),ae.NUMBER32=function(b){return[29,b>>24&255,b>>16&255,b>>8&255,255&b]},fe.NUMBER32=H(5),ae.REAL=function(b){for(var k=b.toString(),A=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(k),N=(A&&(A=parseFloat("1e"+((A[2]?+A[2]:0)+A[1].length)),k=(Math.round(b*A)/A).toString()),""),W=0,K=k.length;W<K;W+=1){var Q=k[W];N+=Q==="e"?k[++W]==="-"?"c":"b":Q==="."?"a":Q==="-"?"e":Q}for(var de=[30],ye=0,be=(N+=1&N.length?"f":"ff").length;ye<be;ye+=2)de.push(parseInt(N.substr(ye,2),16));return de},fe.REAL=function(b){return ae.REAL(b).length},ae.NAME=ae.CHARARRAY,fe.NAME=fe.CHARARRAY,ae.STRING=ae.CHARARRAY,fe.STRING=fe.CHARARRAY,le.UTF8=function(b,k,A){for(var N=[],W=A,K=0;K<W;K++,k+=1)N[K]=b.getUint8(k);return String.fromCharCode.apply(null,N)},le.UTF16=function(b,k,A){for(var N=[],W=A/2,K=0;K<W;K++,k+=2)N[K]=b.getUint16(k);return String.fromCharCode.apply(null,N)},ae.UTF16=function(b){for(var k=[],A=0;A<b.length;A+=1){var N=b.charCodeAt(A);k[k.length]=N>>8&255,k[k.length]=255&N}return k},fe.UTF16=function(b){return 2*b.length};var X,te={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},ue=(le.MACSTRING=function(b,k,A,N){var W=te[N];if(W!==void 0){for(var K="",Q=0;Q<A;Q++){var de=b.getUint8(k+Q);K+=de<=127?String.fromCharCode(de):W[127&de]}return K}},typeof WeakMap=="function"&&new WeakMap);function ce(b){return-128<=b&&b<=127}ae.MACSTRING=function(b,k){var A=function(Q){if(!X)for(var de in X={},te)X[de]=new String(de);var ye=X[Q];if(ye!==void 0){if(ue){var be=ue.get(ye);if(be!==void 0)return be}var Ce=te[Q];if(Ce!==void 0){for(var Me={},Re=0;Re<Ce.length;Re++)Me[Ce.charCodeAt(Re)]=Re+128;return ue&&ue.set(ye,Me),Me}}}(k);if(A!==void 0){for(var N=[],W=0;W<b.length;W++){var K=b.charCodeAt(W);if(128<=K&&(K=A[K])===void 0)return;N[W]=K}return N}},fe.MACSTRING=function(b,k){return(b=ae.MACSTRING(b,k))!==void 0?b.length:0},ae.VARDELTAS=function(b){for(var k=0,A=[];k<b.length;){var N=b[k];k=(N===0?function(W,K,Q){for(var de=0,ye=W.length;K<ye&&de<64&&W[K]===0;)++K,++de;return Q.push(128|de-1),K}:-128<=N&&N<=127?function(W,K,Q){for(var de=0,ye=W.length,be=K;be<ye&&de<64;){var Ce=W[be];if(!ce(Ce)||Ce===0&&be+1<ye&&W[be+1]===0)break;++be,++de}Q.push(de-1);for(var Me=K;Me<be;++Me)Q.push(W[Me]+256&255);return be}:function(W,K,Q){for(var de=0,ye=W.length,be=K;be<ye&&de<64;){var Ce=W[be];if(Ce===0||ce(Ce)&&be+1<ye&&ce(W[be+1]))break;++be,++de}Q.push(64|de-1);for(var Me=K;Me<be;++Me){var Re=W[Me];Q.push(Re+65536>>8&255,Re+256&255)}return be})(b,k,A)}return A},ae.INDEX=function(b){for(var k=1,A=[k],N=[],W=0;W<b.length;W+=1){var K=ae.OBJECT(b[W]);Array.prototype.push.apply(N,K),k+=K.length,A.push(k)}if(N.length===0)return[0,0];for(var Q=[],de=1+Math.floor(Math.log(k)/Math.log(2))/8|0,ye=[void 0,ae.BYTE,ae.USHORT,ae.UINT24,ae.ULONG][de],be=0;be<A.length;be+=1){var Ce=ye(A[be]);Array.prototype.push.apply(Q,Ce)}return Array.prototype.concat(ae.Card16(b.length),ae.OffSize(de),Q,N)},fe.INDEX=function(b){return ae.INDEX(b).length},ae.DICT=function(b){for(var k=[],A=Object.keys(b),N=A.length,W=0;W<N;W+=1){var K=parseInt(A[W],0),Q=b[K];k=(k=k.concat(ae.OPERAND(Q.value,Q.type))).concat(ae.OPERATOR(K))}return k},fe.DICT=function(b){return ae.DICT(b).length},ae.OPERATOR=function(b){return b<1200?[b]:[12,b-1200]},ae.OPERAND=function(b,k){var A=[];if(Array.isArray(k))for(var N=0;N<k.length;N+=1)ee.argument(b.length===k.length,"Not enough arguments given for type"+k),A=A.concat(ae.OPERAND(b[N],k[N]));else if(k==="SID")A=A.concat(ae.NUMBER(b));else if(k==="offset")A=A.concat(ae.NUMBER32(b));else if(k==="number")A=A.concat(ae.NUMBER(b));else{if(k!=="real")throw new Error("Unknown operand type "+k);A=A.concat(ae.REAL(b))}return A},ae.OP=ae.BYTE,fe.OP=fe.BYTE;var he=typeof WeakMap=="function"&&new WeakMap;function ne(b,k,A){for(var N=0;N<k.length;N+=1){var W=k[N];this[W.name]=W.value}if(this.tableName=b,this.fields=k,A)for(var K=Object.keys(A),Q=0;Q<K.length;Q+=1){var de=K[Q],ye=A[de];this[de]!==void 0&&(this[de]=ye)}}function me(b,k,A){A===void 0&&(A=k.length);var N=new Array(k.length+1);N[0]={name:b+"Count",type:"USHORT",value:A};for(var W=0;W<k.length;W++)N[W+1]={name:b+W,type:"USHORT",value:k[W]};return N}function _e(b,k,A){var N=k.length,W=new Array(N+1);W[0]={name:b+"Count",type:"USHORT",value:N};for(var K=0;K<N;K++)W[K+1]={name:b+K,type:"TABLE",value:A(k[K],K)};return W}function Te(b,k,A){var N=k.length,W=[];W[0]={name:b+"Count",type:"USHORT",value:N};for(var K=0;K<N;K++)W=W.concat(A(k[K],K));return W}function ve(b){b.format===1?ne.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(me("glyph",b.glyphs))):ee.assert(!1,"Can't create coverage table format 2 yet.")}function je(b){ne.call(this,"scriptListTable",Te("scriptRecord",b,function(k,A){var N=k.script,W=N.defaultLangSys;return ee.assert(!!W,"Unable to write GSUB: script "+k.tag+" has no default language system."),[{name:"scriptTag"+A,type:"TAG",value:k.tag},{name:"script"+A,type:"TABLE",value:new ne("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ne("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:W.reqFeatureIndex}].concat(me("featureIndex",W.featureIndexes)))}].concat(Te("langSys",N.langSysRecords,function(K,Q){var de=K.langSys;return[{name:"langSysTag"+Q,type:"TAG",value:K.tag},{name:"langSys"+Q,type:"TABLE",value:new ne("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:de.reqFeatureIndex}].concat(me("featureIndex",de.featureIndexes)))}]})))}]}))}function Ae(b){ne.call(this,"featureListTable",Te("featureRecord",b,function(k,A){var N=k.feature;return[{name:"featureTag"+A,type:"TAG",value:k.tag},{name:"feature"+A,type:"TABLE",value:new ne("featureTable",[{name:"featureParams",type:"USHORT",value:N.featureParams}].concat(me("lookupListIndex",N.lookupListIndexes)))}]}))}function Ve(b,k){ne.call(this,"lookupListTable",_e("lookup",b,function(A){var N=k[A.lookupType];return ee.assert(!!N,"Unable to write GSUB lookup type "+A.lookupType+" tables."),new ne("lookupTable",[{name:"lookupType",type:"USHORT",value:A.lookupType},{name:"lookupFlag",type:"USHORT",value:A.lookupFlag}].concat(_e("subtable",A.subtables,N)))}))}ae.CHARSTRING=function(b){if(he){var k=he.get(b);if(k!==void 0)return k}for(var A=[],N=b.length,W=0;W<N;W+=1){var K=b[W];A=A.concat(ae[K.type](K.value))}return he&&he.set(b,A),A},fe.CHARSTRING=function(b){return ae.CHARSTRING(b).length},ae.OBJECT=function(b){var k=ae[b.type];return ee.argument(k!==void 0,"No encoding function for type "+b.type),k(b.value)},fe.OBJECT=function(b){var k=fe[b.type];return ee.argument(k!==void 0,"No sizeOf function for type "+b.type),k(b.value)},ae.TABLE=function(b){for(var k=[],A=b.fields.length,N=[],W=[],K=0;K<A;K+=1){var Q=b.fields[K],de=ae[Q.type],ye=(ee.argument(de!==void 0,"No encoding function for field type "+Q.type+" ("+Q.name+")"),b[Q.name]);de=de(ye=ye===void 0?Q.value:ye),Q.type==="TABLE"?(W.push(k.length),k=k.concat([0,0]),N.push(de)):k=k.concat(de)}for(var be=0;be<N.length;be+=1){var Ce=W[be],Me=k.length;ee.argument(Me<65536,"Table "+b.tableName+" too big."),k[Ce]=Me>>8,k[Ce+1]=255&Me,k=k.concat(N[be])}return k},fe.TABLE=function(b){for(var k=0,A=b.fields.length,N=0;N<A;N+=1){var W=b.fields[N],K=fe[W.type],Q=(ee.argument(K!==void 0,"No sizeOf function for field type "+W.type+" ("+W.name+")"),b[W.name]);k+=K(Q=Q===void 0?W.value:Q),W.type==="TABLE"&&(k+=2)}return k},ae.RECORD=ae.TABLE,fe.RECORD=fe.TABLE,ae.LITERAL=function(b){return b},fe.LITERAL=function(b){return b.length},ne.prototype.encode=function(){return ae.TABLE(this)},ne.prototype.sizeOf=function(){return fe.TABLE(this)};var De={Table:ne,Record:ne,Coverage:(ve.prototype=Object.create(ne.prototype)).constructor=ve,ScriptList:(je.prototype=Object.create(ne.prototype)).constructor=je,FeatureList:(Ae.prototype=Object.create(ne.prototype)).constructor=Ae,LookupList:(Ve.prototype=Object.create(ne.prototype)).constructor=Ve,ushortList:me,tableList:_e,recordList:Te};function He(b,k){return b.getUint8(k)}function tt(b,k){return b.getUint16(k,!1)}function rt(b,k){return b.getUint32(k,!1)}function wt(b,k){return b.getInt16(k,!1)+b.getUint16(k+2,!1)/65535}var st={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ge(b,k){this.data=b,this.offset=k,this.relativeOffset=0}ge.prototype.parseByte=function(){var b=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,b},ge.prototype.parseChar=function(){var b=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,b},ge.prototype.parseCard8=ge.prototype.parseByte,ge.prototype.parseCard16=ge.prototype.parseUShort=function(){var b=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,b},ge.prototype.parseSID=ge.prototype.parseUShort,ge.prototype.parseOffset16=ge.prototype.parseUShort,ge.prototype.parseShort=function(){var b=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,b},ge.prototype.parseF2Dot14=function(){var b=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,b},ge.prototype.parseOffset32=ge.prototype.parseULong=function(){var b=rt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,b},ge.prototype.parseFixed=function(){var b=wt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,b},ge.prototype.parseString=function(b){var k=this.data,A=this.offset+this.relativeOffset,N="";this.relativeOffset+=b;for(var W=0;W<b;W++)N+=String.fromCharCode(k.getUint8(A+W));return N},ge.prototype.parseTag=function(){return this.parseString(4)},ge.prototype.parseLongDateTime=function(){var b=rt(this.data,this.offset+this.relativeOffset+4);return b-=2082844800,this.relativeOffset+=8,b},ge.prototype.parseVersion=function(b){var k=tt(this.data,this.offset+this.relativeOffset),A=tt(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,k+A/(b=b===void 0?4096:b)/10},ge.prototype.skip=function(b,k){this.relativeOffset+=st[b]*(k=k===void 0?1:k)},ge.prototype.parseULongList=function(b){b===void 0&&(b=this.parseULong());for(var k=new Array(b),A=this.data,N=this.offset+this.relativeOffset,W=0;W<b;W++)k[W]=A.getUint32(N),N+=4;return this.relativeOffset+=4*b,k},ge.prototype.parseOffset16List=ge.prototype.parseUShortList=function(b){b===void 0&&(b=this.parseUShort());for(var k=new Array(b),A=this.data,N=this.offset+this.relativeOffset,W=0;W<b;W++)k[W]=A.getUint16(N),N+=2;return this.relativeOffset+=2*b,k},ge.prototype.parseShortList=function(b){for(var k=new Array(b),A=this.data,N=this.offset+this.relativeOffset,W=0;W<b;W++)k[W]=A.getInt16(N),N+=2;return this.relativeOffset+=2*b,k},ge.prototype.parseByteList=function(b){for(var k=new Array(b),A=this.data,N=this.offset+this.relativeOffset,W=0;W<b;W++)k[W]=A.getUint8(N++);return this.relativeOffset+=b,k},ge.prototype.parseList=function(b,k){k||(k=b,b=this.parseUShort());for(var A=new Array(b),N=0;N<b;N++)A[N]=k.call(this);return A},ge.prototype.parseList32=function(b,k){k||(k=b,b=this.parseULong());for(var A=new Array(b),N=0;N<b;N++)A[N]=k.call(this);return A},ge.prototype.parseRecordList=function(b,k){k||(k=b,b=this.parseUShort());for(var A=new Array(b),N=Object.keys(k),W=0;W<b;W++){for(var K={},Q=0;Q<N.length;Q++){var de=N[Q],ye=k[de];K[de]=ye.call(this)}A[W]=K}return A},ge.prototype.parseRecordList32=function(b,k){k||(k=b,b=this.parseULong());for(var A=new Array(b),N=Object.keys(k),W=0;W<b;W++){for(var K={},Q=0;Q<N.length;Q++){var de=N[Q],ye=k[de];K[de]=ye.call(this)}A[W]=K}return A},ge.prototype.parseStruct=function(b){if(typeof b=="function")return b.call(this);for(var k=Object.keys(b),A={},N=0;N<k.length;N++){var W=k[N],K=b[W];A[W]=K.call(this)}return A},ge.prototype.parseValueRecord=function(b){var k;if((b=b===void 0?this.parseUShort():b)!==0)return k={},1&b&&(k.xPlacement=this.parseShort()),2&b&&(k.yPlacement=this.parseShort()),4&b&&(k.xAdvance=this.parseShort()),8&b&&(k.yAdvance=this.parseShort()),16&b&&(k.xPlaDevice=void 0,this.parseShort()),32&b&&(k.yPlaDevice=void 0,this.parseShort()),64&b&&(k.xAdvDevice=void 0,this.parseShort()),128&b&&(k.yAdvDevice=void 0,this.parseShort()),k},ge.prototype.parseValueRecordList=function(){for(var b=this.parseUShort(),k=this.parseUShort(),A=new Array(k),N=0;N<k;N++)A[N]=this.parseValueRecord(b);return A},ge.prototype.parsePointer=function(b){var k=this.parseOffset16();if(0<k)return new ge(this.data,this.offset+k).parseStruct(b)},ge.prototype.parsePointer32=function(b){var k=this.parseOffset32();if(0<k)return new ge(this.data,this.offset+k).parseStruct(b)},ge.prototype.parseListOfLists=function(b){for(var k=this.parseOffset16List(),A=k.length,N=this.relativeOffset,W=new Array(A),K=0;K<A;K++){var Q=k[K];if(Q===0)W[K]=void 0;else if(this.relativeOffset=Q,b){for(var de=this.parseOffset16List(),ye=new Array(de.length),be=0;be<de.length;be++)this.relativeOffset=Q+de[be],ye[be]=b.call(this);W[K]=ye}else W[K]=this.parseUShortList()}return this.relativeOffset=N,W},ge.prototype.parseCoverage=function(){var b=this.offset+this.relativeOffset,k=this.parseUShort(),A=this.parseUShort();if(k===1)return{format:1,glyphs:this.parseUShortList(A)};if(k!==2)throw new Error("0x"+b.toString(16)+": Coverage format must be 1 or 2.");for(var N=new Array(A),W=0;W<A;W++)N[W]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:N}},ge.prototype.parseClassDef=function(){var b=this.offset+this.relativeOffset,k=this.parseUShort();if(k===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(k===2)return{format:2,ranges:this.parseRecordList({start:ge.uShort,end:ge.uShort,classId:ge.uShort})};throw new Error("0x"+b.toString(16)+": ClassDef format must be 1 or 2.")},ge.list=function(b,k){return function(){return this.parseList(b,k)}},ge.list32=function(b,k){return function(){return this.parseList32(b,k)}},ge.recordList=function(b,k){return function(){return this.parseRecordList(b,k)}},ge.recordList32=function(b,k){return function(){return this.parseRecordList32(b,k)}},ge.pointer=function(b){return function(){return this.parsePointer(b)}},ge.pointer32=function(b){return function(){return this.parsePointer32(b)}},ge.tag=ge.prototype.parseTag,ge.byte=ge.prototype.parseByte,ge.uShort=ge.offset16=ge.prototype.parseUShort,ge.uShortList=ge.prototype.parseUShortList,ge.uLong=ge.offset32=ge.prototype.parseULong,ge.uLongList=ge.prototype.parseULongList,ge.struct=ge.prototype.parseStruct,ge.coverage=ge.prototype.parseCoverage,ge.classDef=ge.prototype.parseClassDef;var Ne={reserved:ge.uShort,reqFeatureIndex:ge.uShort,featureIndexes:ge.uShortList},Fe=(ge.prototype.parseScriptList=function(){return this.parsePointer(ge.recordList({tag:ge.tag,script:ge.pointer({defaultLangSys:ge.pointer(Ne),langSysRecords:ge.recordList({tag:ge.tag,langSys:ge.pointer(Ne)})})}))||[]},ge.prototype.parseFeatureList=function(){return this.parsePointer(ge.recordList({tag:ge.tag,feature:ge.pointer({featureParams:ge.offset16,lookupListIndexes:ge.uShortList})}))||[]},ge.prototype.parseLookupList=function(b){return this.parsePointer(ge.list(ge.pointer(function(){var k=this.parseUShort(),A=(ee.argument(1<=k&&k<=9,"GPOS/GSUB lookup type "+k+" unknown."),this.parseUShort()),N=16&A;return{lookupType:k,lookupFlag:A,subtables:this.parseList(ge.pointer(b[k])),markFilteringSet:N?this.parseUShort():void 0}})))||[]},ge.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var b=this.parseUShort(),k=this.parseUShort();return ee.argument(b===1&&k<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ge.offset32,featureTableSubstitutionOffset:ge.offset32})})||[]},{getByte:He,getCard8:He,getUShort:tt,getCard16:tt,getShort:function(b,k){return b.getInt16(k,!1)},getULong:rt,getFixed:wt,getTag:function(b,k){for(var A="",N=k;N<k+4;N+=1)A+=String.fromCharCode(b.getInt8(N));return A},getOffset:function(b,k,A){for(var N=0,W=0;W<A;W+=1)N=(N<<=8)+b.getUint8(k+W);return N},getBytes:function(b,k,A){for(var N=[],W=k;W<A;W+=1)N.push(b.getUint8(W));return N},bytesToString:function(b){for(var k="",A=0;A<b.length;A+=1)k+=String.fromCharCode(b[A]);return k},Parser:ge}),Xe=function(b,k){for(var A={},N=(A.version=Fe.getUShort(b,k),ee.argument(A.version===0,"cmap table version should be 0."),A.numTables=Fe.getUShort(b,k+2),-1),W=A.numTables-1;0<=W;--W){var K=Fe.getUShort(b,k+4+8*W),Q=Fe.getUShort(b,k+4+8*W+2);if(K===3&&(Q===0||Q===1||Q===10)||K===0&&(Q===0||Q===1||Q===2||Q===3||Q===4)){N=Fe.getULong(b,k+4+8*W+4);break}}if(N===-1)throw new Error("No valid cmap sub-tables found.");var de=new Fe.Parser(b,k+N);if(A.format=de.parseUShort(),A.format===12){var ye,be=A,Ce=de;Ce.parseUShort(),be.length=Ce.parseULong(),be.language=Ce.parseULong(),be.groupCount=ye=Ce.parseULong(),be.glyphIndexMap={};for(var Me=0;Me<ye;Me+=1)for(var Re=Ce.parseULong(),Se=Ce.parseULong(),Ze=Ce.parseULong(),Ue=Re;Ue<=Se;Ue+=1)be.glyphIndexMap[Ue]=Ze,Ze++}else{if(A.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+A.format+").");var $e=A,Ge=b,We=k,dt=N;$e.length=de.parseUShort(),$e.language=de.parseUShort(),$e.segCount=lt=de.parseUShort()>>1,de.skip("uShort",3),$e.glyphIndexMap={};for(var lt,ht=new Fe.Parser(Ge,We+dt+14),Rt=new Fe.Parser(Ge,We+dt+16+2*lt),Mt=new Fe.Parser(Ge,We+dt+16+4*lt),$t=new Fe.Parser(Ge,We+dt+16+6*lt),tr=We+dt+16+8*lt,Qt=0;Qt<lt-1;Qt+=1)for(var Wt=void 0,kt=ht.parseUShort(),or=Rt.parseUShort(),dr=Mt.parseShort(),Jt=$t.parseUShort(),Ht=or;Ht<=kt;Ht+=1)Jt!==0?(tr=(tr=$t.offset+$t.relativeOffset-2)+Jt+2*(Ht-or),(Wt=Fe.getUShort(Ge,tr))!==0&&(Wt=Wt+dr&65535)):Wt=Ht+dr&65535,$e.glyphIndexMap[Ht]=Wt}return A},ot=function(b){for(var k=!0,A=b.length-1;0<A;--A)if(65535<b.get(A).unicode){console.log("Adding CMAP format 12 (needed!)"),k=!1;break}var N,W,K=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:k?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:k?12:20}],Q=(K=(K=k?K:K.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new De.Table("cmap",K));for(Q.segments=[],A=0;A<b.length;A+=1){for(var de=b.get(A),ye=0;ye<de.unicodes.length;ye+=1)N=de.unicodes[ye],W=A,Q.segments.push({end:N,start:N,delta:-(N-W),offset:0,glyphIndex:W});Q.segments=Q.segments.sort(function(We,dt){return We.start-dt.start})}Q.segments.push({end:65535,start:65535,delta:1,offset:0});var be=Q.segments.length,Ce=0,Me=[],Re=[],Se=[],Ze=[],Ue=[],$e=[];for(A=0;A<be;A+=1){var Ge=Q.segments[A];Ge.end<=65535&&Ge.start<=65535?(Me=Me.concat({name:"end_"+A,type:"USHORT",value:Ge.end}),Re=Re.concat({name:"start_"+A,type:"USHORT",value:Ge.start}),Se=Se.concat({name:"idDelta_"+A,type:"SHORT",value:Ge.delta}),Ze=Ze.concat({name:"idRangeOffset_"+A,type:"USHORT",value:Ge.offset}),Ge.glyphId!==void 0&&(Ue=Ue.concat({name:"glyph_"+A,type:"USHORT",value:Ge.glyphId}))):Ce+=1,k||Ge.glyphIndex===void 0||($e=($e=($e=$e.concat({name:"cmap12Start_"+A,type:"ULONG",value:Ge.start})).concat({name:"cmap12End_"+A,type:"ULONG",value:Ge.end})).concat({name:"cmap12Glyph_"+A,type:"ULONG",value:Ge.glyphIndex}))}return Q.segCountX2=2*(be-Ce),Q.searchRange=2*Math.pow(2,Math.floor(Math.log(be-Ce)/Math.log(2))),Q.entrySelector=Math.log(Q.searchRange/2)/Math.log(2),Q.rangeShift=Q.segCountX2-Q.searchRange,Q.fields=Q.fields.concat(Me),Q.fields.push({name:"reservedPad",type:"USHORT",value:0}),Q.fields=Q.fields.concat(Re),Q.fields=Q.fields.concat(Se),Q.fields=Q.fields.concat(Ze),Q.fields=Q.fields.concat(Ue),Q.cmap4Length=14+2*Me.length+2+2*Re.length+2*Se.length+2*Ze.length+2*Ue.length,k||(K=16+4*$e.length,Q.cmap12Offset=20+Q.cmap4Length,Q.fields=Q.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:K},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:$e.length/3}]),Q.fields=Q.fields.concat($e)),Q},gt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ut=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],at=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ie=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function re(b){this.font=b}function se(b){this.cmap=b}function pe(b,k){this.encoding=b,this.charset=k}function Ee(b){switch(b.version){case 1:this.names=ie.slice();break;case 2:this.names=new Array(b.numberOfGlyphs);for(var k=0;k<b.numberOfGlyphs;k++)b.glyphNameIndex[k]<ie.length?this.names[k]=ie[b.glyphNameIndex[k]]:this.names[k]=b.names[b.glyphNameIndex[k]-ie.length];break;case 2.5:this.names=new Array(b.numberOfGlyphs);for(var A=0;A<b.numberOfGlyphs;A++)this.names[A]=ie[A+b.glyphNameIndex[A]];break;default:this.names=[]}}re.prototype.charToGlyphIndex=function(b){var k=b.codePointAt(0),A=this.font.glyphs;if(A){for(var N=0;N<A.length;N+=1)for(var W=A.get(N),K=0;K<W.unicodes.length;K+=1)if(W.unicodes[K]===k)return N}return null},se.prototype.charToGlyphIndex=function(b){return this.cmap.glyphIndexMap[b.codePointAt(0)]||0},pe.prototype.charToGlyphIndex=function(b){return b=b.codePointAt(0),b=this.encoding[b],this.charset.indexOf(b)},Ee.prototype.nameToGlyphIndex=function(b){return this.names.indexOf(b)},Ee.prototype.glyphIndexToName=function(b){return this.names[b]};var Be=function(b,k,A,N,W){b.beginPath(),b.moveTo(k,A),b.lineTo(N,W),b.stroke()};function Qe(b){this.bindConstructorValues(b)}function Ye(b,k,A){Object.defineProperty(b,k,{get:function(){return b.path,b[A]},set:function(N){b[A]=N},enumerable:!0,configurable:!0})}function Pe(b,k){if(this.font=b,this.glyphs={},Array.isArray(k))for(var A=0;A<k.length;A++)this.glyphs[A]=k[A];this.length=k&&k.length||0}Qe.prototype.bindConstructorValues=function(b){var k;this.index=b.index||0,this.name=b.name||null,this.unicode=b.unicode||void 0,this.unicodes=b.unicodes||b.unicode!==void 0?[b.unicode]:[],b.xMin&&(this.xMin=b.xMin),b.yMin&&(this.yMin=b.yMin),b.xMax&&(this.xMax=b.xMax),b.yMax&&(this.yMax=b.yMax),b.advanceWidth&&(this.advanceWidth=b.advanceWidth),Object.defineProperty(this,"path",(b=b.path,k=b||new q,{configurable:!0,get:function(){return k=typeof k=="function"?k():k},set:function(A){k=A}}))},Qe.prototype.addUnicode=function(b){this.unicodes.length===0&&(this.unicode=b),this.unicodes.push(b)},Qe.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Qe.prototype.getPath=function(b,k,A,N,W){b=b!==void 0?b:0,k=k!==void 0?k:0,A=A!==void 0?A:72;for(var K,Q,de=(N=N||{}).xScale,ye=N.yScale,be=((K=N.hinting&&W&&W.hinting?this.path&&W.hinting.exec(this,A):K)?(Q=W.hinting.getCommands(K),b=Math.round(b),k=Math.round(k),de=ye=1):(Q=this.path.commands,N=1/this.path.unitsPerEm*A,de===void 0&&(de=N),ye===void 0&&(ye=N)),new q),Ce=0;Ce<Q.length;Ce+=1){var Me=Q[Ce];Me.type==="M"?be.moveTo(b+Me.x*de,k+-Me.y*ye):Me.type==="L"?be.lineTo(b+Me.x*de,k+-Me.y*ye):Me.type==="Q"?be.quadraticCurveTo(b+Me.x1*de,k+-Me.y1*ye,b+Me.x*de,k+-Me.y*ye):Me.type==="C"?be.curveTo(b+Me.x1*de,k+-Me.y1*ye,b+Me.x2*de,k+-Me.y2*ye,b+Me.x*de,k+-Me.y*ye):Me.type==="Z"&&be.closePath()}return be},Qe.prototype.getContours=function(){if(this.points===void 0)return[];for(var b=[],k=[],A=0;A<this.points.length;A+=1){var N=this.points[A];k.push(N),N.lastPointOfContour&&(b.push(k),k=[])}return ee.argument(k.length===0,"There are still points left in the current contour."),b},Qe.prototype.getMetrics=function(){for(var b=this.path.commands,k=[],A=[],N=0;N<b.length;N+=1){var W=b[N];W.type!=="Z"&&(k.push(W.x),A.push(W.y)),W.type!=="Q"&&W.type!=="C"||(k.push(W.x1),A.push(W.y1)),W.type==="C"&&(k.push(W.x2),A.push(W.y2))}var K={xMin:Math.min.apply(null,k),yMin:Math.min.apply(null,A),xMax:Math.max.apply(null,k),yMax:Math.max.apply(null,A),leftSideBearing:this.leftSideBearing};return isFinite(K.xMin)||(K.xMin=0),isFinite(K.xMax)||(K.xMax=this.advanceWidth),isFinite(K.yMin)||(K.yMin=0),isFinite(K.yMax)||(K.yMax=0),K.rightSideBearing=this.advanceWidth-K.leftSideBearing-(K.xMax-K.xMin),K},Qe.prototype.draw=function(b,k,A,N,W){this.getPath(k,A,N,W).draw(b)},Qe.prototype.drawPoints=function(b,k,A,N){function W(Ce,Me,Re,Se){var Ze=2*Math.PI;b.beginPath();for(var Ue=0;Ue<Ce.length;Ue+=1)b.moveTo(Me+Ce[Ue].x*Se,Re+Ce[Ue].y*Se),b.arc(Me+Ce[Ue].x*Se,Re+Ce[Ue].y*Se,2,0,Ze,!1);b.closePath(),b.fill()}k=k!==void 0?k:0,A=A!==void 0?A:0,N=1/this.path.unitsPerEm*(N=N!==void 0?N:24);for(var K=[],Q=[],de=this.path,ye=0;ye<de.commands.length;ye+=1){var be=de.commands[ye];be.x!==void 0&&K.push({x:be.x,y:-be.y}),be.x1!==void 0&&Q.push({x:be.x1,y:-be.y1}),be.x2!==void 0&&Q.push({x:be.x2,y:-be.y2})}b.fillStyle="blue",W(K,k,A,N),b.fillStyle="red",W(Q,k,A,N)},Qe.prototype.drawMetrics=function(b,k,A,N){k=k!==void 0?k:0,A=A!==void 0?A:0,N=1/this.path.unitsPerEm*(N=N!==void 0?N:24),b.lineWidth=1,b.strokeStyle="black",Be(b,k,-1e4,k,1e4),Be(b,-1e4,A,1e4,A);var W=this.xMin||0,K=this.yMin||0,Q=this.xMax||0,de=this.yMax||0,ye=this.advanceWidth||0;b.strokeStyle="blue",Be(b,k+W*N,-1e4,k+W*N,1e4),Be(b,k+Q*N,-1e4,k+Q*N,1e4),Be(b,-1e4,A+-K*N,1e4,A+-K*N),Be(b,-1e4,A+-de*N,1e4,A+-de*N),b.strokeStyle="green",Be(b,k+ye*N,-1e4,k+ye*N,1e4)},Pe.prototype.get=function(b){return typeof this.glyphs[b]=="function"&&(this.glyphs[b]=this.glyphs[b]()),this.glyphs[b]},Pe.prototype.push=function(b,k){this.glyphs[b]=k,this.length++};var et={GlyphSet:Pe,glyphLoader:function(b,k){return new Qe({index:k,font:b})},ttfGlyphLoader:function(b,k,A,N,W,K){return function(){var Q=new Qe({index:k,font:b});return Q.path=function(){A(Q,N,W);var de=K(b.glyphs,Q);return de.unitsPerEm=b.unitsPerEm,de},Ye(Q,"xMin","_xMin"),Ye(Q,"xMax","_xMax"),Ye(Q,"yMin","_yMin"),Ye(Q,"yMax","_yMax"),Q}},cffGlyphLoader:function(b,k,A,N){return function(){var W=new Qe({index:k,font:b});return W.path=function(){var K=A(b,W,N);return K.unitsPerEm=b.unitsPerEm,K},W}}};function ft(b){return b=b.length<1240?107:b.length<33900?1131:32768}function Pt(b,k,A){var N,W=[],K=[],Q=Fe.getCard16(b,k);if(Q!==0){for(var de=Fe.getByte(b,k+2),ye=k+(Q+1)*de+2,be=k+3,Ce=0;Ce<Q+1;Ce+=1)W.push(Fe.getOffset(b,be,de)),be+=de;N=ye+W[Q]}else N=k+2;for(var Me=0;Me<W.length-1;Me+=1){var Re=Fe.getBytes(b,ye+W[Me],ye+W[Me+1]);A&&(Re=A(Re)),K.push(Re)}return{objects:K,startOffset:k,endOffset:N}}function Lt(b,k){if(k===28)return b.parseByte()<<8|b.parseByte();if(k===29)return b.parseByte()<<24|b.parseByte()<<16|b.parseByte()<<8|b.parseByte();if(k===30){for(var A=b,N="",W=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var K=(Q=A.parseByte())>>4,Q=15&Q;if(K==15||(N+=W[K],Q==15))break;N+=W[Q]}return parseFloat(N)}if(32<=k&&k<=246)return k-139;if(247<=k&&k<=250)return 256*(k-247)+b.parseByte()+108;if(251<=k&&k<=254)return 256*-(k-251)-b.parseByte()-108;throw new Error("Invalid b0 "+k)}function Tt(b,k,A){var N=new Fe.Parser(b,k=k!==void 0?k:0),W=[],K=[];for(A=A!==void 0?A:b.length;N.relativeOffset<A;){var Q=N.parseByte();Q<=21?(Q===12&&(Q=1200+N.parseByte()),W.push([Q,K]),K=[]):K.push(Lt(N,Q))}for(var de=W,ye={},be=0;be<de.length;be+=1){var Ce=de[be][0],Me=de[be][1],Re=Me.length===1?Me[0]:Me;if(ye.hasOwnProperty(Ce)&&!isNaN(ye[Ce]))throw new Error("Object "+ye+" already has key "+Ce);ye[Ce]=Re}return ye}function Et(b,k){return k<=390?gt[k]:b[k-391]}function St(b,k,A){for(var N,W={},K=0;K<k.length;K+=1){var Q=k[K];if(Array.isArray(Q.type)){var de=[];de.length=Q.type.length;for(var ye=0;ye<Q.type.length;ye++)(N=b[Q.op]!==void 0?b[Q.op][ye]:void 0)===void 0&&(N=Q.value!==void 0&&Q.value[ye]!==void 0?Q.value[ye]:null),Q.type[ye]==="SID"&&(N=Et(A,N)),de[ye]=N;W[Q.name]=de}else(N=b[Q.op])===void 0&&(N=Q.value!==void 0?Q.value:null),Q.type==="SID"&&(N=Et(A,N)),W[Q.name]=N}return W}var Ut=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],qt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function _r(b,k,A,N){return St(Tt(b,k,A),qt,N)}function zt(b,k,A,N){for(var W=[],K=0;K<A.length;K+=1){var Q,de=((Q=(de=N,St(Tt(Q=new DataView(new Uint8Array(A[K]).buffer),0,Q.byteLength),Ut,de)))._subrs=[],Q._subrsBias=0,Q.private[0]),ye=Q.private[1];de!==0&&ye!==0&&(de=_r(b,ye+k,de,N),Q._defaultWidthX=de.defaultWidthX,Q._nominalWidthX=de.nominalWidthX,de.subrs!==0&&(ye=Pt(b,ye+de.subrs+k),Q._subrs=ye.objects,Q._subrsBias=ft(Q._subrs)),Q._privateDict=de),W.push(Q)}return W}function ur(b,k,A){var N,W,K,Q,de,ye,be,Ce,Me,Re=new q,Se=[],Ze=0,Ue=!1,$e=!1,Ge=0,We=0,dt=(Me=(b.isCIDFont?(de=b.tables.cff.topDict._fdSelect[k.index],de=b.tables.cff.topDict._fdArray[de],ye=de._subrs,be=de._subrsBias,Ce=de._defaultWidthX,de):(ye=b.tables.cff.topDict._subrs,be=b.tables.cff.topDict._subrsBias,Ce=b.tables.cff.topDict._defaultWidthX,b.tables.cff.topDict))._nominalWidthX,Ce);function lt(Rt,Mt){$e&&Re.closePath(),Re.moveTo(Rt,Mt),$e=!0}function ht(){Se.length%2==0||Ue||(dt=Se.shift()+Me),Ze+=Se.length>>1,Se.length=0,Ue=!0}return function Rt(Mt){for(var $t,tr,Qt,Wt,kt,or,dr,Jt,Ht,yr,wr,Dr,er=0;er<Mt.length;){var Tr=Mt[er];switch(er+=1,Tr){case 1:case 3:ht();break;case 4:1<Se.length&&!Ue&&(dt=Se.shift()+Me,Ue=!0),We+=Se.pop(),lt(Ge,We);break;case 5:for(;0<Se.length;)Ge+=Se.shift(),We+=Se.shift(),Re.lineTo(Ge,We);break;case 6:for(;0<Se.length&&(Ge+=Se.shift(),Re.lineTo(Ge,We),Se.length!==0);)We+=Se.shift(),Re.lineTo(Ge,We);break;case 7:for(;0<Se.length&&(We+=Se.shift(),Re.lineTo(Ge,We),Se.length!==0);)Ge+=Se.shift(),Re.lineTo(Ge,We);break;case 8:for(;0<Se.length;)N=Ge+Se.shift(),W=We+Se.shift(),K=N+Se.shift(),Q=W+Se.shift(),Ge=K+Se.shift(),We=Q+Se.shift(),Re.curveTo(N,W,K,Q,Ge,We);break;case 10:kt=Se.pop()+be,(or=ye[kt])&&Rt(or);break;case 11:return;case 12:switch(Tr=Mt[er],er+=1,Tr){case 35:N=Ge+Se.shift(),W=We+Se.shift(),K=N+Se.shift(),Q=W+Se.shift(),dr=K+Se.shift(),Jt=Q+Se.shift(),Ht=dr+Se.shift(),yr=Jt+Se.shift(),wr=Ht+Se.shift(),Dr=yr+Se.shift(),Ge=wr+Se.shift(),We=Dr+Se.shift(),Se.shift(),Re.curveTo(N,W,K,Q,dr,Jt),Re.curveTo(Ht,yr,wr,Dr,Ge,We);break;case 34:N=Ge+Se.shift(),W=We,K=N+Se.shift(),Q=W+Se.shift(),dr=K+Se.shift(),Jt=Q,Ht=dr+Se.shift(),yr=Q,wr=Ht+Se.shift(),Dr=We,Ge=wr+Se.shift(),Re.curveTo(N,W,K,Q,dr,Jt),Re.curveTo(Ht,yr,wr,Dr,Ge,We);break;case 36:N=Ge+Se.shift(),W=We+Se.shift(),K=N+Se.shift(),Q=W+Se.shift(),dr=K+Se.shift(),Jt=Q,Ht=dr+Se.shift(),yr=Q,wr=Ht+Se.shift(),Dr=yr+Se.shift(),Ge=wr+Se.shift(),Re.curveTo(N,W,K,Q,dr,Jt),Re.curveTo(Ht,yr,wr,Dr,Ge,We);break;case 37:N=Ge+Se.shift(),W=We+Se.shift(),K=N+Se.shift(),Q=W+Se.shift(),dr=K+Se.shift(),Jt=Q+Se.shift(),Ht=dr+Se.shift(),yr=Jt+Se.shift(),wr=Ht+Se.shift(),Dr=yr+Se.shift(),Math.abs(wr-Ge)>Math.abs(Dr-We)?Ge=wr+Se.shift():We=Dr+Se.shift(),Re.curveTo(N,W,K,Q,dr,Jt),Re.curveTo(Ht,yr,wr,Dr,Ge,We);break;default:console.log("Glyph "+k.index+": unknown operator 1200"+Tr),Se.length=0}break;case 14:0<Se.length&&!Ue&&(dt=Se.shift()+Me,Ue=!0),$e&&(Re.closePath(),$e=!1);break;case 18:ht();break;case 19:case 20:ht(),er+=Ze+7>>3;break;case 21:2<Se.length&&!Ue&&(dt=Se.shift()+Me,Ue=!0),We+=Se.pop(),lt(Ge+=Se.pop(),We);break;case 22:1<Se.length&&!Ue&&(dt=Se.shift()+Me,Ue=!0),lt(Ge+=Se.pop(),We);break;case 23:ht();break;case 24:for(;2<Se.length;)N=Ge+Se.shift(),W=We+Se.shift(),K=N+Se.shift(),Q=W+Se.shift(),Ge=K+Se.shift(),We=Q+Se.shift(),Re.curveTo(N,W,K,Q,Ge,We);Ge+=Se.shift(),We+=Se.shift(),Re.lineTo(Ge,We);break;case 25:for(;6<Se.length;)Ge+=Se.shift(),We+=Se.shift(),Re.lineTo(Ge,We);N=Ge+Se.shift(),W=We+Se.shift(),K=N+Se.shift(),Q=W+Se.shift(),Ge=K+Se.shift(),We=Q+Se.shift(),Re.curveTo(N,W,K,Q,Ge,We);break;case 26:for(Se.length%2&&(Ge+=Se.shift());0<Se.length;)N=Ge,W=We+Se.shift(),K=N+Se.shift(),Q=W+Se.shift(),Ge=K,We=Q+Se.shift(),Re.curveTo(N,W,K,Q,Ge,We);break;case 27:for(Se.length%2&&(We+=Se.shift());0<Se.length;)N=Ge+Se.shift(),W=We,K=N+Se.shift(),Q=W+Se.shift(),Ge=K+Se.shift(),We=Q,Re.curveTo(N,W,K,Q,Ge,We);break;case 28:$t=Mt[er],tr=Mt[er+1],Se.push(($t<<24|tr<<16)>>16),er+=2;break;case 29:kt=Se.pop()+b.gsubrsBias,(or=b.gsubrs[kt])&&Rt(or);break;case 30:for(;0<Se.length&&(N=Ge,W=We+Se.shift(),K=N+Se.shift(),Q=W+Se.shift(),Ge=K+Se.shift(),We=Q+(Se.length===1?Se.shift():0),Re.curveTo(N,W,K,Q,Ge,We),Se.length!==0);)N=Ge+Se.shift(),W=We,K=N+Se.shift(),Q=W+Se.shift(),We=Q+Se.shift(),Ge=K+(Se.length===1?Se.shift():0),Re.curveTo(N,W,K,Q,Ge,We);break;case 31:for(;0<Se.length&&(N=Ge+Se.shift(),W=We,K=N+Se.shift(),Q=W+Se.shift(),We=Q+Se.shift(),Ge=K+(Se.length===1?Se.shift():0),Re.curveTo(N,W,K,Q,Ge,We),Se.length!==0);)N=Ge,W=We+Se.shift(),K=N+Se.shift(),Q=W+Se.shift(),Ge=K+Se.shift(),We=Q+(Se.length===1?Se.shift():0),Re.curveTo(N,W,K,Q,Ge,We);break;default:Tr<32?console.log("Glyph "+k.index+": unknown operator "+Tr):Tr<247?Se.push(Tr-139):Tr<251?($t=Mt[er],er+=1,Se.push(256*(Tr-247)+$t+108)):Tr<255?($t=Mt[er],er+=1,Se.push(256*-(Tr-251)-$t-108)):($t=Mt[er],tr=Mt[er+1],Qt=Mt[er+2],Wt=Mt[er+3],er+=4,Se.push(($t<<24|tr<<16|Qt<<8|Wt)/65536))}}}(A),k.advanceWidth=dt,Re}function Or(b,k){var A,N=gt.indexOf(b);return 0<=N&&(A=N),0<=(N=k.indexOf(b))?A=N+gt.length:(A=gt.length+k.length,k.push(b)),A}function Ft(b,k,A){for(var N={},W=0;W<b.length;W+=1){var K=b[W],Q=k[K.name];Q===void 0||function de(ye,be){if(ye===be)return 1;if(Array.isArray(ye)&&Array.isArray(be)&&ye.length===be.length){for(var Ce=0;Ce<ye.length;Ce+=1)if(!de(ye[Ce],be[Ce]))return;return 1}}(Q,K.value)||(K.type==="SID"&&(Q=Or(Q,A)),N[K.op]={name:K.name,type:K.type,value:Q})}return N}function Ar(b,k){var A=new De.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return A.dict=Ft(Ut,b,k),A}function xr(b){var k=new De.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return k.topDicts=[{name:"topDict_0",type:"TABLE",value:b}],k}var Xt=function(b,k,A){A.tables.cff={},N=b,W=k,(K={}).formatMajor=Fe.getCard8(N,W),K.formatMinor=Fe.getCard8(N,W+1),K.size=Fe.getCard8(N,W+2),K.offsetSize=Fe.getCard8(N,W+3),K.startOffset=W,K.endOffset=W+4;var N=Pt(b,K.endOffset,Fe.bytesToString),W=Pt(b,N.endOffset),K=Pt(b,W.endOffset,Fe.bytesToString);if(N=Pt(b,K.endOffset),A.gsubrs=N.objects,A.gsubrsBias=ft(A.gsubrs),(N=zt(b,k,W.objects,K.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+N.length);if(W=N[0],(A.tables.cff.topDict=W)._privateDict&&(A.defaultWidthX=W._privateDict.defaultWidthX,A.nominalWidthX=W._privateDict.nominalWidthX),W.ros[0]!==void 0&&W.ros[1]!==void 0&&(A.isCIDFont=!0),A.isCIDFont){N=W.fdArray;var Q=W.fdSelect;if(N===0||Q===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");N=zt(b,k,Pt(b,N+=k).objects,K.objects),W._fdArray=N,W._fdSelect=function(Ce,Me,Re,Se){var Ze,Ue=[],$e=new Fe.Parser(Ce,Me);if((Ce=$e.parseCard8())===0)for(var Ge=0;Ge<Re;Ge++){if(Se<=(Ze=$e.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ze+" (FD count "+Se+")");Ue.push(Ze)}else{if(Ce!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ce);var We,dt=$e.parseCard16(),lt=$e.parseCard16();if(lt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+lt);for(var ht=0;ht<dt;ht++){if(Ze=$e.parseCard8(),We=$e.parseCard16(),Se<=Ze)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ze+" (FD count "+Se+")");if(Re<We)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+We);for(;lt<We;lt++)Ue.push(Ze);lt=We}if(We!==Re)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+We)}return Ue}(b,Q+=k,A.numGlyphs,N.length)}N=_r(b,Q=k+W.private[1],W.private[0],K.objects);var de=(A.defaultWidthX=N.defaultWidthX,A.nominalWidthX=N.nominalWidthX,N.subrs!==0?(Q=Pt(b,Q+N.subrs),A.subrs=Q.objects,A.subrsBias=ft(A.subrs)):(A.subrs=[],A.subrsBias=0),Pt(b,k+W.charStrings));A.nGlyphs=de.objects.length,N=function(Ce,Me,Re,Se){var Ze=new Fe.Parser(Ce,Me),Ue=(--Re,[".notdef"]);if((Ce=Ze.parseCard8())===0)for(var $e=0;$e<Re;$e+=1)Ge=Ze.parseSID(),Ue.push(Et(Se,Ge));else if(Ce===1)for(;Ue.length<=Re;)for(var Ge=Ze.parseSID(),We=Ze.parseCard8(),dt=0;dt<=We;dt+=1)Ue.push(Et(Se,Ge)),Ge+=1;else{if(Ce!==2)throw new Error("Unknown charset format "+Ce);for(;Ue.length<=Re;){Ge=Ze.parseSID(),We=Ze.parseCard16();for(var lt=0;lt<=We;lt+=1)Ue.push(Et(Se,Ge)),Ge+=1}}return Ue}(b,k+W.charset,A.nGlyphs,K.objects),W.encoding===0?A.cffEncoding=new pe(ut,N):W.encoding===1?A.cffEncoding=new pe(at,N):A.cffEncoding=function(Ce,Me,Re){var Se={},Ze=new Fe.Parser(Ce,Me);if((Ce=Ze.parseCard8())===0)for(var Ue=Ze.parseCard8(),$e=0;$e<Ue;$e+=1)Se[We=Ze.parseCard8()]=$e;else{if(Ce!==1)throw new Error("Unknown encoding format "+Ce);for(var Ge=Ze.parseCard8(),We=1,dt=0;dt<Ge;dt+=1)for(var lt=Ze.parseCard8(),ht=Ze.parseCard8(),Rt=lt;Rt<=lt+ht;Rt+=1)Se[Rt]=We,We+=1}return new pe(Se,Re)}(b,k+W.encoding,N),A.encoding=A.encoding||A.cffEncoding,A.glyphs=new et.GlyphSet(A);for(var ye=0;ye<A.nGlyphs;ye+=1){var be=de.objects[ye];A.glyphs.push(ye,et.cffGlyphLoader(A,ye,ur,be))}},Io=function(b,k){for(var A,N=new De.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),W=1/k.unitsPerEm,K=(W={version:k.version,fullName:k.fullName,familyName:k.familyName,weight:k.weightName,fontBBox:k.fontBBox||[0,0,0,0],fontMatrix:[W,0,0,W,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},[]),Q=1;Q<b.length;Q+=1)A=b.get(Q),K.push(A.name);var de,ye,be=[],Ce=(k=(N.header=new De.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),N.nameIndex=function(Me){var Re=new De.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Re.names=[];for(var Se=0;Se<Me.length;Se+=1)Re.names.push({name:"name_"+Se,type:"NAME",value:Me[Se]});return Re}([k.postScriptName]),Ar(W,be)),N.topDictIndex=xr(k),N.globalSubrIndex=new De.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),N.charsets=function(Me,Re){for(var Se=new De.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ze=0;Ze<Me.length;Ze+=1){var Ue=Or(Me[Ze],Re);Se.fields.push({name:"glyph_"+Ze,type:"SID",value:Ue})}return Se}(K,be),N.charStringsIndex=function(Me){for(var Re=new De.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Se=0;Se<Me.length;Se+=1){var Ze=Me.get(Se),Ue=function($e){for(var Ge=[],We=$e.path,dt=(Ge.push({name:"width",type:"NUMBER",value:$e.advanceWidth}),0),lt=0,ht=0;ht<We.commands.length;ht+=1){var Rt,Mt,$t,tr,Qt=void 0,Wt=void 0,kt=We.commands[ht];(kt=kt.type==="Q"?{type:"C",x:kt.x,y:kt.y,x1:1/3*dt+2/3*kt.x1,y1:1/3*lt+2/3*kt.y1,x2:1/3*kt.x+2/3*kt.x1,y2:1/3*kt.y+2/3*kt.y1}:kt).type==="M"?(Qt=Math.round(kt.x-dt),Wt=Math.round(kt.y-lt),Ge.push({name:"dx",type:"NUMBER",value:Qt}),Ge.push({name:"dy",type:"NUMBER",value:Wt}),Ge.push({name:"rmoveto",type:"OP",value:21}),dt=Math.round(kt.x),lt=Math.round(kt.y)):kt.type==="L"?(Qt=Math.round(kt.x-dt),Wt=Math.round(kt.y-lt),Ge.push({name:"dx",type:"NUMBER",value:Qt}),Ge.push({name:"dy",type:"NUMBER",value:Wt}),Ge.push({name:"rlineto",type:"OP",value:5}),dt=Math.round(kt.x),lt=Math.round(kt.y)):kt.type==="C"&&(Rt=Math.round(kt.x1-dt),Mt=Math.round(kt.y1-lt),$t=Math.round(kt.x2-kt.x1),tr=Math.round(kt.y2-kt.y1),Qt=Math.round(kt.x-kt.x2),Wt=Math.round(kt.y-kt.y2),Ge.push({name:"dx1",type:"NUMBER",value:Rt}),Ge.push({name:"dy1",type:"NUMBER",value:Mt}),Ge.push({name:"dx2",type:"NUMBER",value:$t}),Ge.push({name:"dy2",type:"NUMBER",value:tr}),Ge.push({name:"dx",type:"NUMBER",value:Qt}),Ge.push({name:"dy",type:"NUMBER",value:Wt}),Ge.push({name:"rrcurveto",type:"OP",value:8}),dt=Math.round(kt.x),lt=Math.round(kt.y))}return Ge.push({name:"endchar",type:"OP",value:14}),Ge}(Ze);Re.charStrings.push({name:Ze.name,type:"CHARSTRING",value:Ue})}return Re}(b),N.privateDict=(Ce={},de=be,(ye=new De.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Ft(qt,Ce,de),ye),N.stringIndex=function(Me){var Re=new De.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Re.strings=[];for(var Se=0;Se<Me.length;Se+=1)Re.strings.push({name:"string_"+Se,type:"STRING",value:Me[Se]});return Re}(be),N.header.sizeOf()+N.nameIndex.sizeOf()+N.topDictIndex.sizeOf()+N.stringIndex.sizeOf()+N.globalSubrIndex.sizeOf());return W.charset=Ce,W.encoding=0,W.charStrings=W.charset+N.charsets.sizeOf(),W.private[1]=W.charStrings+N.charStringsIndex.sizeOf(),k=Ar(W,be),N.topDictIndex=xr(k),N},Do=function(b,k){var A={};return b=new Fe.Parser(b,k),A.version=b.parseVersion(),A.fontRevision=Math.round(1e3*b.parseFixed())/1e3,A.checkSumAdjustment=b.parseULong(),A.magicNumber=b.parseULong(),ee.argument(A.magicNumber===1594834165,"Font header has wrong magic number."),A.flags=b.parseUShort(),A.unitsPerEm=b.parseUShort(),A.created=b.parseLongDateTime(),A.modified=b.parseLongDateTime(),A.xMin=b.parseShort(),A.yMin=b.parseShort(),A.xMax=b.parseShort(),A.yMax=b.parseShort(),A.macStyle=b.parseUShort(),A.lowestRecPPEM=b.parseUShort(),A.fontDirectionHint=b.parseShort(),A.indexToLocFormat=b.parseShort(),A.glyphDataFormat=b.parseShort(),A},bi=function(b){var k=Math.round(new Date().getTime()/1e3)+2082844800,A=k;return b.createdTimestamp&&(A=b.createdTimestamp+2082844800),new De.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:A},{name:"modified",type:"LONGDATETIME",value:k},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],b)},_i=function(b,k){var A={};return b=new Fe.Parser(b,k),A.version=b.parseVersion(),A.ascender=b.parseShort(),A.descender=b.parseShort(),A.lineGap=b.parseShort(),A.advanceWidthMax=b.parseUShort(),A.minLeftSideBearing=b.parseShort(),A.minRightSideBearing=b.parseShort(),A.xMaxExtent=b.parseShort(),A.caretSlopeRise=b.parseShort(),A.caretSlopeRun=b.parseShort(),A.caretOffset=b.parseShort(),b.relativeOffset+=8,A.metricDataFormat=b.parseShort(),A.numberOfHMetrics=b.parseUShort(),A},ls=function(b){return new De.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],b)},we=function(b,k,A,N,W){for(var K,Q,de=new Fe.Parser(b,k),ye=0;ye<N;ye+=1){ye<A&&(K=de.parseUShort(),Q=de.parseShort());var be=W.get(ye);be.advanceWidth=K,be.leftSideBearing=Q}},Je=function(b){for(var k=new De.Table("hmtx",[]),A=0;A<b.length;A+=1){var N=(W=b.get(A)).advanceWidth||0,W=W.leftSideBearing||0;k.fields.push({name:"advanceWidth_"+A,type:"USHORT",value:N}),k.fields.push({name:"leftSideBearing_"+A,type:"SHORT",value:W})}return k},mt=function(b){for(var k=new De.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:b.length}]),A="",N=12+4*b.length,W=0;W<b.length;++W){var K=A.indexOf(b[W]);K<0&&(K=A.length,A+=b[W]),k.fields.push({name:"offset "+W,type:"USHORT",value:N+K}),k.fields.push({name:"length "+W,type:"USHORT",value:b[W].length})}return k.fields.push({name:"stringPool",type:"CHARARRAY",value:A}),k},Ke=function(b,k){for(var A=new Fe.Parser(b,k),N=A.parseULong(),W=(ee.argument(N===1,"Unsupported ltag table version."),A.skip("uLong",1),A.parseULong()),K=[],Q=0;Q<W;Q++){for(var de="",ye=k+A.parseUShort(),be=A.parseUShort(),Ce=ye;Ce<ye+be;++Ce)de+=String.fromCharCode(b.getInt8(Ce));K.push(de)}return K},It=function(b,k){var A={};return b=new Fe.Parser(b,k),A.version=b.parseVersion(),A.numGlyphs=b.parseUShort(),A.version===1&&(A.maxPoints=b.parseUShort(),A.maxContours=b.parseUShort(),A.maxCompositePoints=b.parseUShort(),A.maxCompositeContours=b.parseUShort(),A.maxZones=b.parseUShort(),A.maxTwilightPoints=b.parseUShort(),A.maxStorage=b.parseUShort(),A.maxFunctionDefs=b.parseUShort(),A.maxInstructionDefs=b.parseUShort(),A.maxStackElements=b.parseUShort(),A.maxSizeOfInstructions=b.parseUShort(),A.maxComponentElements=b.parseUShort(),A.maxComponentDepth=b.parseUShort()),A},qe=function(b){return new De.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:b}])},Yt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],yt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},At={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},pt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},kr="utf-16",Sr={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},tn={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function cr(b,k,A){switch(b){case 0:return kr;case 1:return tn[A]||Sr[k];case 3:if(k===1||k===10)return kr}}function fr(b){var k,A={};for(k in b)A[b[k]]=parseInt(k);return A}function Lr(b,k,A,N,W,K){return new De.Record("NameRecord",[{name:"platformID",type:"USHORT",value:b},{name:"encodingID",type:"USHORT",value:k},{name:"languageID",type:"USHORT",value:A},{name:"nameID",type:"USHORT",value:N},{name:"length",type:"USHORT",value:W},{name:"offset",type:"USHORT",value:K}])}function Br(b,k){if((A=function(K,Q){var de=K.length,ye=Q.length-de+1;e:for(var be=0;be<ye;be++)for(;be<ye;be++){for(var Ce=0;Ce<de;Ce++)if(Q[be+Ce]!==K[Ce])continue e;return be}return-1}(b,k))<0)for(var A=k.length,N=0,W=b.length;N<W;++N)k.push(b[N]);return A}var Ir=function(b,k,A){for(var N={},W=new Fe.Parser(b,k),K=(k=W.parseUShort(),W.parseUShort()),Q=W.offset+W.parseUShort(),de=0;de<K;de++){var ye=W.parseUShort(),be=W.parseUShort(),Ce=W.parseUShort(),Me=W.parseUShort(),Re=(Me=Yt[Me]||Me,W.parseUShort()),Se=W.parseUShort(),Ze=function(Ue,$e,Ge){switch(Ue){case 0:if($e===65535)return"und";if(Ge)return Ge[$e];break;case 1:return yt[$e];case 3:return pt[$e]}}(ye,Ce,A);(ye=cr(ye,be,Ce))!==void 0&&Ze!==void 0&&(be=void 0,(be=ye===kr?le.UTF16(b,Q+Se,Re):le.MACSTRING(b,Q+Se,Re,ye))&&((Ce=(Ce=N[Me])===void 0?N[Me]={}:Ce)[Ze]=be))}return k===1&&W.parseUShort(),N},ad=function(b,k){var A,N=[],W={},K=fr(Yt);for(A in b){var Q=K[A];if(Q===void 0&&(Q=A),Re=parseInt(Q),isNaN(Re))throw new Error('Name table entry "'+A+'" does not exist, see nameTableNames for complete list.');W[Re]=b[A],N.push(Re)}for(var de=fr(yt),ye=fr(pt),be=[],Ce=[],Me=0;Me<N.length;Me++){var Re,Se,Ze=W[Re=N[Me]];for(Se in Ze){var Ue=Ze[Se],$e=1,Ge=de[Se],We=At[Ge],dt=cr($e,We,Ge),lt=((dt=ae.MACSTRING(Ue,dt))===void 0&&($e=0,(Ge=k.indexOf(Se))<0&&(Ge=k.length,k.push(Se)),We=4,dt=ae.UTF16(Ue)),Br(dt,Ce));($e=(be.push(Lr($e,We,Ge,Re,dt.length,lt)),ye[Se]))!==void 0&&(Ge=Br(We=ae.UTF16(Ue),Ce),be.push(Lr(3,1,$e,Re,We.length,Ge)))}}be.sort(function(Mt,$t){return Mt.platformID-$t.platformID||Mt.encodingID-$t.encodingID||Mt.languageID-$t.languageID||Mt.nameID-$t.nameID});for(var ht=new De.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:be.length},{name:"stringOffset",type:"USHORT",value:6+12*be.length}]),Rt=0;Rt<be.length;Rt++)ht.fields.push({name:"record_"+Rt,type:"RECORD",value:be[Rt]});return ht.fields.push({name:"strings",type:"LITERAL",value:Ce}),ht},cu=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],ld=function(b,k){var A={},N=new Fe.Parser(b,k);A.version=N.parseUShort(),A.xAvgCharWidth=N.parseShort(),A.usWeightClass=N.parseUShort(),A.usWidthClass=N.parseUShort(),A.fsType=N.parseUShort(),A.ySubscriptXSize=N.parseShort(),A.ySubscriptYSize=N.parseShort(),A.ySubscriptXOffset=N.parseShort(),A.ySubscriptYOffset=N.parseShort(),A.ySuperscriptXSize=N.parseShort(),A.ySuperscriptYSize=N.parseShort(),A.ySuperscriptXOffset=N.parseShort(),A.ySuperscriptYOffset=N.parseShort(),A.yStrikeoutSize=N.parseShort(),A.yStrikeoutPosition=N.parseShort(),A.sFamilyClass=N.parseShort(),A.panose=[];for(var W=0;W<10;W++)A.panose[W]=N.parseByte();return A.ulUnicodeRange1=N.parseULong(),A.ulUnicodeRange2=N.parseULong(),A.ulUnicodeRange3=N.parseULong(),A.ulUnicodeRange4=N.parseULong(),A.achVendID=String.fromCharCode(N.parseByte(),N.parseByte(),N.parseByte(),N.parseByte()),A.fsSelection=N.parseUShort(),A.usFirstCharIndex=N.parseUShort(),A.usLastCharIndex=N.parseUShort(),A.sTypoAscender=N.parseShort(),A.sTypoDescender=N.parseShort(),A.sTypoLineGap=N.parseShort(),A.usWinAscent=N.parseUShort(),A.usWinDescent=N.parseUShort(),1<=A.version&&(A.ulCodePageRange1=N.parseULong(),A.ulCodePageRange2=N.parseULong()),2<=A.version&&(A.sxHeight=N.parseShort(),A.sCapHeight=N.parseShort(),A.usDefaultChar=N.parseUShort(),A.usBreakChar=N.parseUShort(),A.usMaxContent=N.parseUShort()),A},ud=function(b){return new De.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],b)},cd=function(b){for(var k=0;k<cu.length;k+=1){var A=cu[k];if(b>=A.begin&&b<A.end)return k}return-1},fd=function(b,k){var A={},N=new Fe.Parser(b,k);switch(A.version=N.parseVersion(),A.italicAngle=N.parseFixed(),A.underlinePosition=N.parseShort(),A.underlineThickness=N.parseShort(),A.isFixedPitch=N.parseULong(),A.minMemType42=N.parseULong(),A.maxMemType42=N.parseULong(),A.minMemType1=N.parseULong(),A.maxMemType1=N.parseULong(),A.version){case 1:A.names=ie.slice();break;case 2:A.numberOfGlyphs=N.parseUShort(),A.glyphNameIndex=new Array(A.numberOfGlyphs);for(var W=0;W<A.numberOfGlyphs;W++)A.glyphNameIndex[W]=N.parseUShort();A.names=[];for(var K,Q=0;Q<A.numberOfGlyphs;Q++)A.glyphNameIndex[Q]>=ie.length&&(K=N.parseChar(),A.names.push(N.parseString(K)));break;case 2.5:A.numberOfGlyphs=N.parseUShort(),A.offset=new Array(A.numberOfGlyphs);for(var de=0;de<A.numberOfGlyphs;de++)A.offset[de]=N.parseChar()}return A},dd=function(){return new De.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},hn=new Array(9),Xr=(hn[1]=function(){var b=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{substFormat:1,coverage:this.parsePointer(ge.coverage),deltaGlyphId:this.parseUShort()}:k===2?{substFormat:2,coverage:this.parsePointer(ge.coverage),substitute:this.parseOffset16List()}:void ee.assert(!1,"0x"+b.toString(16)+": lookup type 1 format must be 1 or 2.")},hn[2]=function(){var b=this.parseUShort();return ee.argument(b===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:b,coverage:this.parsePointer(ge.coverage),sequences:this.parseListOfLists()}},hn[3]=function(){var b=this.parseUShort();return ee.argument(b===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:b,coverage:this.parsePointer(ge.coverage),alternateSets:this.parseListOfLists()}},hn[4]=function(){var b=this.parseUShort();return ee.argument(b===1,"GSUB ligature table identifier-format must be 1"),{substFormat:b,coverage:this.parsePointer(ge.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:ge.uShort,lookupListIndex:ge.uShort});hn[5]=function(){var b,k,A=this.offset+this.relativeOffset,N=this.parseUShort();return N===1?{substFormat:N,coverage:this.parsePointer(ge.coverage),ruleSets:this.parseListOfLists(function(){var W=this.parseUShort(),K=this.parseUShort();return{input:this.parseUShortList(W-1),lookupRecords:this.parseRecordList(K,Xr)}})}:N===2?{substFormat:N,coverage:this.parsePointer(ge.coverage),classDef:this.parsePointer(ge.classDef),classSets:this.parseListOfLists(function(){var W=this.parseUShort(),K=this.parseUShort();return{classes:this.parseUShortList(W-1),lookupRecords:this.parseRecordList(K,Xr)}})}:N===3?(b=this.parseUShort(),k=this.parseUShort(),{substFormat:N,coverages:this.parseList(b,ge.pointer(ge.coverage)),lookupRecords:this.parseRecordList(k,Xr)}):void ee.assert(!1,"0x"+A.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},hn[6]=function(){var b=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{substFormat:1,coverage:this.parsePointer(ge.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Xr)}})}:k===2?{substFormat:2,coverage:this.parsePointer(ge.coverage),backtrackClassDef:this.parsePointer(ge.classDef),inputClassDef:this.parsePointer(ge.classDef),lookaheadClassDef:this.parsePointer(ge.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Xr)}})}:k===3?{substFormat:3,backtrackCoverage:this.parseList(ge.pointer(ge.coverage)),inputCoverage:this.parseList(ge.pointer(ge.coverage)),lookaheadCoverage:this.parseList(ge.pointer(ge.coverage)),lookupRecords:this.parseRecordList(Xr)}:void ee.assert(!1,"0x"+b.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},hn[7]=function(){var b=this.parseUShort(),k=(b=(ee.argument(b===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),new ge(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:b,extension:hn[b].call(k)}},hn[8]=function(){var b=this.parseUShort();return ee.argument(b===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:b,coverage:this.parsePointer(ge.coverage),backtrackCoverage:this.parseList(ge.pointer(ge.coverage)),lookaheadCoverage:this.parseList(ge.pointer(ge.coverage)),substitutes:this.parseUShortList()}};var mo=new Array(9);mo[1]=function(b){return b.substFormat===1?new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new De.Coverage(b.coverage)},{name:"deltaGlyphID",type:"USHORT",value:b.deltaGlyphId}]):new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new De.Coverage(b.coverage)}].concat(De.ushortList("substitute",b.substitute)))},mo[3]=function(b){return ee.assert(b.substFormat===1,"Lookup type 3 substFormat must be 1."),new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new De.Coverage(b.coverage)}].concat(De.tableList("altSet",b.alternateSets,function(k){return new De.Table("alternateSetTable",De.ushortList("alternate",k))})))},mo[4]=function(b){return ee.assert(b.substFormat===1,"Lookup type 4 substFormat must be 1."),new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new De.Coverage(b.coverage)}].concat(De.tableList("ligSet",b.ligatureSets,function(k){return new De.Table("ligatureSetTable",De.tableList("ligature",k,function(A){return new De.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:A.ligGlyph}].concat(De.ushortList("component",A.components,A.components.length+1)))}))})))};var us=function(b,k){return k=(b=new ge(b,k=k||0)).parseVersion(1),ee.argument(k===1||k===1.1,"Unsupported GSUB table version."),k===1?{version:k,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList(hn)}:{version:k,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList(hn),variations:b.parseFeatureVariationsList()}},hd=function(b){return new De.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new De.ScriptList(b.scripts)},{name:"features",type:"TABLE",value:new De.FeatureList(b.features)},{name:"lookups",type:"TABLE",value:new De.LookupList(b.lookups,mo)}])},pd=function(b,k){for(var A=new Fe.Parser(b,k),N=A.parseULong(),W=(ee.argument(N===1,"Unsupported META table version."),A.parseULong(),A.parseULong(),A.parseULong()),K={},Q=0;Q<W;Q++){var de=A.parseTag(),ye=A.parseULong(),be=A.parseULong();ye=le.UTF8(b,k+ye,be),K[de]=ye}return K},cs=function(b){var k,A=Object.keys(b).length,N="",W=16+12*A,K=new De.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:W},{name:"numTags",type:"ULONG",value:A}]);for(k in b){var Q=N.length;N+=b[k],K.fields.push({name:"tag "+k,type:"TAG",value:k}),K.fields.push({name:"offset "+k,type:"ULONG",value:W+Q}),K.fields.push({name:"length "+k,type:"ULONG",value:b[k].length})}return K.fields.push({name:"stringPool",type:"CHARARRAY",value:N}),K};function fu(b){return Math.log(b)/Math.log(2)|0}function xi(b){for(;b.length%4!=0;)b.push(0);for(var k=0,A=0;A<b.length;A+=4)k+=(b[A]<<24)+(b[A+1]<<16)+(b[A+2]<<8)+b[A+3];return k%Math.pow(2,32)}function du(b,k,A,N){return new De.Record("Table Record",[{name:"tag",type:"TAG",value:b!==void 0?b:""},{name:"checkSum",type:"ULONG",value:k!==void 0?k:0},{name:"offset",type:"ULONG",value:A!==void 0?A:0},{name:"length",type:"ULONG",value:N!==void 0?N:0}])}function eo(b){for(var k=new De.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),A=(k.tables=b,k.numTables=b.length,Math.pow(2,fu(k.numTables))),N=(k.searchRange=16*A,k.entrySelector=fu(A),k.rangeShift=16*k.numTables-k.searchRange,[]),W=[],K=k.sizeOf()+du().sizeOf()*k.numTables;K%4!=0;)K+=1,W.push({name:"padding",type:"BYTE",value:0});for(var Q=0;Q<b.length;Q+=1){var de=b[Q],ye=(ee.argument(de.tableName.length===4,"Table name"+de.tableName+" is invalid."),de.sizeOf()),be=du(de.tableName,xi(de.encode()),K,ye);for(N.push({name:be.tag+" Table Record",type:"RECORD",value:be}),W.push({name:de.tableName+" table",type:"RECORD",value:de}),K+=ye,ee.argument(!isNaN(K),"Something went wrong calculating the offset.");K%4!=0;)K+=1,W.push({name:"padding",type:"BYTE",value:0})}return N.sort(function(Ce,Me){return Ce.value.tag>Me.value.tag?1:-1}),k.fields=k.fields.concat(N),k.fields=k.fields.concat(W),k}function wi(b,k,A){for(var N=0;N<k.length;N+=1){var W=b.charToGlyphIndex(k[N]);if(0<W)return b.glyphs.get(W).getMetrics()}return A}var Ta=function(b){for(var k,A=[],N=[],W=[],K=[],Q=[],de=[],ye=[],be=0,Ce=0,Me=0,Re=0,Se=0,Ze=0;Ze<b.glyphs.length;Ze+=1){var Ue=b.glyphs.get(Ze),$e=0|Ue.unicode;if(isNaN(Ue.advanceWidth))throw new Error("Glyph "+Ue.name+" ("+Ze+"): advanceWidth is not a number.");if(($e<k||k===void 0)&&0<$e&&(k=$e),be<$e&&(be=$e),($e=cd($e))<32)Ce|=1<<$e;else if($e<64)Me|=1<<$e-32;else if($e<96)Re|=1<<$e-64;else{if(!($e<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Se|=1<<$e-96}Ue.name!==".notdef"&&($e=Ue.getMetrics(),A.push($e.xMin),N.push($e.yMin),W.push($e.xMax),K.push($e.yMax),de.push($e.leftSideBearing),ye.push($e.rightSideBearing),Q.push(Ue.advanceWidth))}var Ge,We={xMin:Math.min.apply(null,A),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,W),yMax:Math.max.apply(null,K),advanceWidthMax:Math.max.apply(null,Q),advanceWidthAvg:function(Tr){for(var Ri=0,Li=0;Li<Tr.length;Li+=1)Ri+=Tr[Li];return Ri/Tr.length}(Q),minLeftSideBearing:Math.min.apply(null,de),maxLeftSideBearing:Math.max.apply(null,de),minRightSideBearing:Math.min.apply(null,ye)},dt=(We.ascender=b.ascender,We.descender=b.descender,bi({flags:3,unitsPerEm:b.unitsPerEm,xMin:We.xMin,yMin:We.yMin,xMax:We.xMax,yMax:We.yMax,lowestRecPPEM:3,createdTimestamp:b.createdTimestamp})),lt=ls({ascender:We.ascender,descender:We.descender,advanceWidthMax:We.advanceWidthMax,minLeftSideBearing:We.minLeftSideBearing,minRightSideBearing:We.minRightSideBearing,xMaxExtent:We.maxLeftSideBearing+(We.xMax-We.xMin),numberOfHMetrics:b.glyphs.length}),ht=qe(b.glyphs.length),Rt=ud({xAvgCharWidth:Math.round(We.advanceWidthAvg),usWeightClass:b.tables.os2.usWeightClass,usWidthClass:b.tables.os2.usWidthClass,usFirstCharIndex:k,usLastCharIndex:be,ulUnicodeRange1:Ce,ulUnicodeRange2:Me,ulUnicodeRange3:Re,ulUnicodeRange4:Se,fsSelection:b.tables.os2.fsSelection,sTypoAscender:We.ascender,sTypoDescender:We.descender,sTypoLineGap:0,usWinAscent:We.yMax,usWinDescent:Math.abs(We.yMin),ulCodePageRange1:1,sxHeight:wi(b,"xyvw",{yMax:Math.round(We.ascender/2)}).yMax,sCapHeight:wi(b,"HIKLEFJMNTZBDPRAGOQSUVWXY",We).yMax,usDefaultChar:b.hasChar(" ")?32:0,usBreakChar:b.hasChar(" ")?32:0}),Mt=Je(b.glyphs),$t=ot(b.glyphs),tr=(Jt=b.getEnglishName("fontFamily"))+" "+(Ht=b.getEnglishName("fontSubfamily")),Qt=(Qt=b.getEnglishName("postScriptName"))||Jt.replace(/\s/g,"")+"-"+Ht,Wt={};for(Ge in b.names)Wt[Ge]=b.names[Ge];Wt.uniqueID||(Wt.uniqueID={en:b.getEnglishName("manufacturer")+":"+tr}),Wt.postScriptName||(Wt.postScriptName={en:Qt}),Wt.preferredFamily||(Wt.preferredFamily=b.names.fontFamily),Wt.preferredSubfamily||(Wt.preferredSubfamily=b.names.fontSubfamily);var kt=ad(Wt,or=[]),or=0<or.length?mt(or):void 0,dr=dd(),Jt=(tr=Io(b.glyphs,{version:b.getEnglishName("version"),fullName:tr,familyName:Jt,weightName:Ht,postScriptName:Qt,unitsPerEm:b.unitsPerEm,fontBBox:[0,We.yMin,We.ascender,We.advanceWidthMax]}),b.metas&&0<Object.keys(b.metas).length?cs(b.metas):void 0),Ht=[dt,lt,ht,Rt,kt,$t,dr,tr,Mt];or&&Ht.push(or),b.tables.gsub&&Ht.push(hd(b.tables.gsub)),Jt&&Ht.push(Jt);for(var yr=xi((Qt=eo(Ht)).encode()),wr=Qt.fields,Dr=!1,er=0;er<wr.length;er+=1)if(wr[er].name==="head table"){wr[er].value.checkSumAdjustment=2981146554-yr,Dr=!0;break}if(Dr)return Qt;throw new Error("Could not find head table with checkSum to adjust.")};function Fo(b,k){for(var A=0,N=b.length-1;A<=N;){var W=A+N>>>1,K=b[W].tag;if(K===k)return W;K<k?A=1+W:N=W-1}return-A-1}function hu(b,k){for(var A=0,N=b.length-1;A<=N;){var W=A+N>>>1,K=b[W];if(K===k)return W;K<k?A=1+W:N=W-1}return-A-1}function pu(b,k){for(var A=0,N=b.length-1;A<=N;){var W,K=A+N>>>1,Q=(W=b[K]).start;if(Q===k)return W;Q<k?A=1+K:N=K-1}if(0<A)return k>(W=b[A-1]).end?0:W}function fs(b,k){this.font=b,this.tableName=k}function yo(b){fs.call(this,b,"gpos")}function Yr(b){fs.call(this,b,"gsub")}function mu(b,k,A){for(var N=b.subtables,W=0;W<N.length;W++){var K=N[W];if(K.substFormat===k)return K}if(A)return N.push(A),A}function yu(b){for(var k=new ArrayBuffer(b.length),A=new Uint8Array(k),N=0;N<b.length;++N)A[N]=b[N];return k}function No(b,k){if(!b)throw k}function gu(b,k,A,N,W){var K=0<(k&N)?(K=b.parseByte(),A+(K=k&W?K:-K)):0<(k&W)?A:A+b.parseShort();return K}function md(b,k,A){var N,W=new Fe.Parser(k,A);if(b.numberOfContours=W.parseShort(),b._xMin=W.parseShort(),b._yMin=W.parseShort(),b._xMax=W.parseShort(),b._yMax=W.parseShort(),0<b.numberOfContours){for(var K=b.endPointIndices=[],Q=0;Q<b.numberOfContours;Q+=1)K.push(W.parseUShort());b.instructionLength=W.parseUShort(),b.instructions=[];for(var de=0;de<b.instructionLength;de+=1)b.instructions.push(W.parseByte());for(var ye=K[K.length-1]+1,be=[],Ce=0;Ce<ye;Ce+=1)if(N=W.parseByte(),be.push(N),0<(8&N))for(var Me=W.parseByte(),Re=0;Re<Me;Re+=1)be.push(N),Ce+=1;if(ee.argument(be.length===ye,"Bad flags."),0<K.length){var Se,Ze=[];if(0<ye){for(var Ue=0;Ue<ye;Ue+=1)N=be[Ue],(Se={}).onCurve=!!(1&N),Se.lastPointOfContour=0<=K.indexOf(Ue),Ze.push(Se);for(var $e=0,Ge=0;Ge<ye;Ge+=1)N=be[Ge],(Se=Ze[Ge]).x=gu(W,N,$e,2,16),$e=Se.x;for(var We=0,dt=0;dt<ye;dt+=1)N=be[dt],(Se=Ze[dt]).y=gu(W,N,We,4,32),We=Se.y}b.points=Ze}else b.points=[]}else if(b.numberOfContours===0)b.points=[];else{b.isComposite=!0,b.points=[],b.components=[];for(var lt=!0;lt;){be=W.parseUShort();var ht={glyphIndex:W.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&be)?0<(2&be)?(ht.dx=W.parseShort(),ht.dy=W.parseShort()):ht.matchedPoints=[W.parseUShort(),W.parseUShort()]:0<(2&be)?(ht.dx=W.parseChar(),ht.dy=W.parseChar()):ht.matchedPoints=[W.parseByte(),W.parseByte()],0<(8&be)?ht.xScale=ht.yScale=W.parseF2Dot14():0<(64&be)?(ht.xScale=W.parseF2Dot14(),ht.yScale=W.parseF2Dot14()):0<(128&be)&&(ht.xScale=W.parseF2Dot14(),ht.scale01=W.parseF2Dot14(),ht.scale10=W.parseF2Dot14(),ht.yScale=W.parseF2Dot14()),b.components.push(ht),lt=!!(32&be)}if(256&be){b.instructionLength=W.parseUShort(),b.instructions=[];for(var Rt=0;Rt<b.instructionLength;Rt+=1)b.instructions.push(W.parseByte())}}}function ji(b,k){for(var A=[],N=0;N<b.length;N+=1){var W=b[N];W={x:k.xScale*W.x+k.scale01*W.y+k.dx,y:k.scale10*W.x+k.yScale*W.y+k.dy,onCurve:W.onCurve,lastPointOfContour:W.lastPointOfContour},A.push(W)}return A}function vu(b){var k=new q;if(b)for(var A=function(Me){for(var Re=[],Se=[],Ze=0;Ze<Me.length;Ze+=1){var Ue=Me[Ze];Se.push(Ue),Ue.lastPointOfContour&&(Re.push(Se),Se=[])}return ee.argument(Se.length===0,"There are still points left in the current contour."),Re}(b),N=0;N<A.length;++N){var W,K=A[N],Q=K[K.length-1],de=K[0];Q.onCurve?k.moveTo(Q.x,Q.y):de.onCurve?k.moveTo(de.x,de.y):(W={x:.5*(Q.x+de.x),y:.5*(Q.y+de.y)},k.moveTo(W.x,W.y));for(var ye=0;ye<K.length;++ye){var be,Ce=Q;Q=de,de=K[(ye+1)%K.length],Q.onCurve?k.lineTo(Q.x,Q.y):(be=de,Ce.onCurve||(Q.x,Ce.x,Q.y,Ce.y),de.onCurve||(be={x:.5*(Q.x+de.x),y:.5*(Q.y+de.y)}),k.quadraticCurveTo(Q.x,Q.y,be.x,be.y))}k.closePath()}return k}function Ea(b,k){if(k.isComposite)for(var A=0;A<k.components.length;A+=1){var N=k.components[A],W=b.get(N.glyphIndex);if(W.getPath(),W.points){var K=void 0;if(N.matchedPoints===void 0)K=ji(W.points,N);else{if(N.matchedPoints[0]>k.points.length-1||N.matchedPoints[1]>W.points.length-1)throw Error("Matched points out of range in "+k.name);var Q=k.points[N.matchedPoints[0]],de=ji([de=W.points[N.matchedPoints[1]]],N={xScale:N.xScale,scale01:N.scale01,scale10:N.scale10,yScale:N.yScale,dx:0,dy:0})[0];N.dx=Q.x-de.x,N.dy=Q.y-de.y,K=ji(W.points,N)}k.points=k.points.concat(K)}}return vu(k.points)}(yo.prototype=fs.prototype={searchTag:Fo,binSearch:hu,getTable:function(b){var k=this.font.tables[this.tableName];return!k&&b?this.font.tables[this.tableName]=this.createDefaultTable():k},getScriptNames:function(){var b=this.getTable();return b?b.scripts.map(function(k){return k.tag}):[]},getDefaultScriptName:function(){var b=this.getTable();if(b){for(var k=!1,A=0;A<b.scripts.length;A++){var N=b.scripts[A].tag;if(N==="DFLT")return N;N==="latn"&&(k=!0)}return k?"latn":void 0}},getScriptTable:function(b,k){var A,N=this.getTable(k);if(N)return A=N.scripts,0<=(N=Fo(N.scripts,b=b||"DFLT"))?A[N].script:k?(A.splice(-1-N,0,k={tag:b,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),k.script):void 0},getLangSysTable:function(b,k,A){var N;if(b=this.getScriptTable(b,A))return k&&k!=="dflt"&&k!=="DFLT"?0<=(N=Fo(b.langSysRecords,k))?b.langSysRecords[N].langSys:A?(b.langSysRecords.splice(-1-N,0,A={tag:k,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),A.langSys):void 0:b.defaultLangSys},getFeatureTable:function(b,k,A,N){if(b=this.getLangSysTable(b,k,N)){for(var W,K=b.featureIndexes,Q=this.font.tables[this.tableName].features,de=0;de<K.length;de++)if((W=Q[K[de]]).tag===A)return W.feature;if(N)return k=Q.length,ee.assert(k===0||A>=Q[k-1].tag,"Features must be added in alphabetical order."),Q.push(W={tag:A,feature:{params:0,lookupListIndexes:[]}}),K.push(k),W.feature}},getLookupTables:function(b,k,A,N,W){var K=[];if(b=this.getFeatureTable(b,k,A,W)){for(var Q,de=b.lookupListIndexes,ye=this.font.tables[this.tableName].lookups,be=0;be<de.length;be++)(Q=ye[de[be]]).lookupType===N&&K.push(Q);if(K.length===0&&W)return k=ye.length,ye.push(Q={lookupType:N,lookupFlag:0,subtables:[],markFilteringSet:void 0}),de.push(k),[Q]}return K},getGlyphClass:function(b,k){switch(b.format){case 1:return b.startGlyph<=k&&k<b.startGlyph+b.classes.length?b.classes[k-b.startGlyph]:0;case 2:var A=pu(b.ranges,k);return A?A.classId:0}},getCoverageIndex:function(b,k){switch(b.format){case 1:var A=hu(b.glyphs,k);return 0<=A?A:-1;case 2:return(A=pu(b.ranges,k))?A.index+k-A.start:-1}},expandCoverage:function(b){if(b.format===1)return b.glyphs;for(var k=[],A=b.ranges,N=0;N<A.length;N++)for(var W=A[N],K=W.start,Q=W.end,de=K;de<=Q;de++)k.push(de);return k}}).init=function(){var b=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(b)},yo.prototype.getKerningValue=function(b,k,A){for(var N=0;N<b.length;N++)for(var W=b[N].subtables,K=0;K<W.length;K++){var Q=W[K],de=this.getCoverageIndex(Q.coverage,k);if(!(de<0))switch(Q.posFormat){case 1:for(var ye=Q.pairSets[de],be=0;be<ye.length;be++){var Ce=ye[be];if(Ce.secondGlyph===A)return Ce.value1&&Ce.value1.xAdvance||0}break;case 2:var Me=this.getGlyphClass(Q.classDef1,k),Re=this.getGlyphClass(Q.classDef2,A);return(Me=Q.classRecords[Me][Re]).value1&&Me.value1.xAdvance||0}}return 0},yo.prototype.getKerningTables=function(b,k){if(this.font.tables.gpos)return this.getLookupTables(b,k,"kern",2)},(Yr.prototype=fs.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Yr.prototype.getSingle=function(b,k,A){for(var N=[],W=this.getLookupTables(k,A,b,1),K=0;K<W.length;K++)for(var Q=W[K].subtables,de=0;de<Q.length;de++){var ye=Q[de],be=this.expandCoverage(ye.coverage),Ce=void 0;if(ye.substFormat===1){var Me=ye.deltaGlyphId;for(Ce=0;Ce<be.length;Ce++){var Re=be[Ce];N.push({sub:Re,by:Re+Me})}}else{var Se=ye.substitute;for(Ce=0;Ce<be.length;Ce++)N.push({sub:be[Ce],by:Se[Ce]})}}return N},Yr.prototype.getAlternates=function(b,k,A){for(var N=[],W=this.getLookupTables(k,A,b,3),K=0;K<W.length;K++)for(var Q=W[K].subtables,de=0;de<Q.length;de++)for(var ye=Q[de],be=this.expandCoverage(ye.coverage),Ce=ye.alternateSets,Me=0;Me<be.length;Me++)N.push({sub:be[Me],by:Ce[Me]});return N},Yr.prototype.getLigatures=function(b,k,A){for(var N=[],W=this.getLookupTables(k,A,b,4),K=0;K<W.length;K++)for(var Q=W[K].subtables,de=0;de<Q.length;de++)for(var ye=Q[de],be=this.expandCoverage(ye.coverage),Ce=ye.ligatureSets,Me=0;Me<be.length;Me++)for(var Re=be[Me],Se=Ce[Me],Ze=0;Ze<Se.length;Ze++){var Ue=Se[Ze];N.push({sub:[Re].concat(Ue.components),by:Ue.ligGlyph})}return N},Yr.prototype.addSingle=function(b,k,A,N){A=mu(this.getLookupTables(A,N,b,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),ee.assert(A.coverage.format===1,"Ligature: unable to modify coverage table format "+A.coverage.format),N=k.sub,(b=this.binSearch(A.coverage.glyphs,N))<0&&(A.coverage.glyphs.splice(b=-1-b,0,N),A.substitute.splice(b,0,0)),A.substitute[b]=k.by},Yr.prototype.addAlternate=function(b,k,A,N){A=mu(this.getLookupTables(A,N,b,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),ee.assert(A.coverage.format===1,"Ligature: unable to modify coverage table format "+A.coverage.format),N=k.sub,(b=this.binSearch(A.coverage.glyphs,N))<0&&(A.coverage.glyphs.splice(b=-1-b,0,N),A.alternateSets.splice(b,0,0)),A.alternateSets[b]=k.by},Yr.prototype.addLigature=function(b,k,A,N){(N=(A=this.getLookupTables(A,N,b,4,!0)[0]).subtables[0])||(A.subtables[0]=N={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),ee.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),b=k.sub[0];var W=k.sub.slice(1);if(A={ligGlyph:k.by,components:W},0<=(k=this.binSearch(N.coverage.glyphs,b))){for(var K=N.ligatureSets[k],Q=0;Q<K.length;Q++)if(function(de,ye){var be=de.length;if(be===ye.length){for(var Ce=0;Ce<be;Ce++)if(de[Ce]!==ye[Ce])return;return 1}}(K[Q].components,W))return;K.push(A)}else N.coverage.glyphs.splice(k=-1-k,0,b),N.ligatureSets.splice(k,0,[A])},Yr.prototype.getFeature=function(b,k,A){if(/ss\d\d/.test(b))return this.getSingle(b,k,A);switch(b){case"aalt":case"salt":return this.getSingle(b,k,A).concat(this.getAlternates(b,k,A));case"dlig":case"liga":case"rlig":return this.getLigatures(b,k,A)}},Yr.prototype.add=function(b,k,A,N){if(/ss\d\d/.test(b))return this.addSingle(b,k,A,N);switch(b){case"aalt":case"salt":return typeof k.by=="number"?this.addSingle(b,k,A,N):this.addAlternate(b,k,A,N);case"dlig":case"liga":case"rlig":return this.addLigature(b,k,A,N)}};var bu={getPath:vu,parse:function(b,k,A,N){for(var W=new et.GlyphSet(N),K=0;K<A.length-1;K+=1){var Q=A[K];Q!==A[K+1]?W.push(K,et.ttfGlyphLoader(N,K,md,b,k+Q,Ea)):W.push(K,et.glyphLoader(N,K))}return W}};function _u(b){this.font=b,this.getCommands=function(k){return bu.getPath(k).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function ds(b){return b}function xu(b){return Math.sign(b)*Math.round(Math.abs(b))}function yd(b){return Math.sign(b)*Math.round(Math.abs(2*b))/2}function gd(b){return Math.sign(b)*(Math.round(Math.abs(b)+.5)-.5)}function vd(b){return Math.sign(b)*Math.ceil(Math.abs(b))}function bd(b){return Math.sign(b)*Math.floor(Math.abs(b))}function Si(b){var k=this.srPeriod,A=this.srPhase,N=1;return b<0&&(b=-b,N=-1),b+=this.srThreshold-A,b=Math.trunc(b/k)*k,(b+=A)<0?A*N:b*N}var kn={x:1,y:0,axis:"x",distance:function(b,k,A,N){return(A?b.xo:b.x)-(N?k.xo:k.x)},interpolate:function(b,k,A,N){var W,K,Q,de,ye,be,Ce;if(!N||N===this)return W=b.xo-k.xo,K=b.xo-A.xo,ye=k.x-k.xo,be=A.x-A.xo,(Ce=(Q=Math.abs(W))+(de=Math.abs(K)))===0?void(b.x=b.xo+(ye+be)/2):void(b.x=b.xo+(ye*de+be*Q)/Ce);W=N.distance(b,k,!0,!0),K=N.distance(b,A,!0,!0),ye=N.distance(k,k,!1,!0),be=N.distance(A,A,!1,!0),(Ce=(Q=Math.abs(W))+(de=Math.abs(K)))===0?kn.setRelative(b,b,(ye+be)/2,N,!0):kn.setRelative(b,b,(ye*de+be*Q)/Ce,N,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(b,k,A,N,W){var K,Q;N&&N!==this?(K=W?k.xo:k.x,Q=W?k.yo:k.y,K+=A*N.x,Q+=A*N.y,b.x=K+(b.y-Q)/N.normalSlope):b.x=(W?k.xo:k.x)+A},slope:0,touch:function(b){b.xTouched=!0},touched:function(b){return b.xTouched},untouch:function(b){b.xTouched=!1}},Kr={x:0,y:1,axis:"y",distance:function(b,k,A,N){return(A?b.yo:b.y)-(N?k.yo:k.y)},interpolate:function(b,k,A,N){var W,K,Q,de,ye,be,Ce;if(!N||N===this)return W=b.yo-k.yo,K=b.yo-A.yo,ye=k.y-k.yo,be=A.y-A.yo,(Ce=(Q=Math.abs(W))+(de=Math.abs(K)))===0?void(b.y=b.yo+(ye+be)/2):void(b.y=b.yo+(ye*de+be*Q)/Ce);W=N.distance(b,k,!0,!0),K=N.distance(b,A,!0,!0),ye=N.distance(k,k,!1,!0),be=N.distance(A,A,!1,!0),(Ce=(Q=Math.abs(W))+(de=Math.abs(K)))===0?Kr.setRelative(b,b,(ye+be)/2,N,!0):Kr.setRelative(b,b,(ye*de+be*Q)/Ce,N,!0)},normalSlope:0,setRelative:function(b,k,A,N,W){var K,Q;N&&N!==this?(K=W?k.xo:k.x,Q=W?k.yo:k.y,K+=A*N.x,Q+=A*N.y,b.y=Q+N.normalSlope*(b.x-K)):b.y=(W?k.yo:k.y)+A},slope:Number.POSITIVE_INFINITY,touch:function(b){b.yTouched=!0},touched:function(b){return b.yTouched},untouch:function(b){b.yTouched=!1}};function Ti(b,k){this.x=b,this.y=k,this.axis=void 0,this.slope=k/b,this.normalSlope=-b/k,Object.freeze(this)}function go(b,k){var A=Math.sqrt(b*b+k*k);return k/=A,(b/=A)==1&&k===0?kn:b===0&&k===1?Kr:new Ti(b,k)}function Nn(b,k,A,N){this.x=this.xo=Math.round(64*b)/64,this.y=this.yo=Math.round(64*k)/64,this.lastPointOfContour=A,this.onCurve=N,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(kn),Object.freeze(Kr),Ti.prototype.distance=function(b,k,A,N){return this.x*kn.distance(b,k,A,N)+this.y*Kr.distance(b,k,A,N)},Ti.prototype.interpolate=function(b,k,A,N){var W=N.distance(b,k,!0,!0),K=N.distance(b,A,!0,!0),Q=(k=N.distance(k,k,!1,!0),A=N.distance(A,A,!1,!0),(W=Math.abs(W))+(K=Math.abs(K)));Q===0?this.setRelative(b,b,(k+A)/2,N,!0):this.setRelative(b,b,(k*K+A*W)/Q,N,!0)},Ti.prototype.setRelative=function(b,k,A,N,W){var K=W?k.xo:k.x,Q=(W=W?k.yo:k.y,k=K+A*(N=N||this).x,K=W+A*N.y,W=N.normalSlope,A=this.slope,N=b.x,b.y);b.x=(A*N-W*k+K-Q)/(A-W),b.y=A*(b.x-N)+Q},Ti.prototype.touch=function(b){b.xTouched=!0,b.yTouched=!0},Nn.prototype.nextTouched=function(b){for(var k=this.nextPointOnContour;!b.touched(k)&&k!==this;)k=k.nextPointOnContour;return k},Nn.prototype.prevTouched=function(b){for(var k=this.prevPointOnContour;!b.touched(k)&&k!==this;)k=k.prevPointOnContour;return k};var Ei=Object.freeze(new Nn(0,0)),_d={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function to(b,k){switch(this.env=b,this.stack=[],this.prog=k,b){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=kn,this.round=xu}}function hs(b){for(var k=b.tZone=new Array(b.gZone.length),A=0;A<k.length;A++)k[A]=new Nn(0,0)}function wu(b,k){var A,N=b.prog,W=b.ip,K=1;do if((A=N[++W])===88)K++;else if(A===89)K--;else if(A===64)W+=N[W+1]+1;else if(A===65)W+=2*N[W+1]+1;else if(176<=A&&A<=183)W+=A-176+1;else if(184<=A&&A<=191)W+=2*(A-184+1);else if(k&&K===1&&A===27)break;while(0<K);b.ip=W}function ju(b,k){a.DEBUG&&console.log(k.step,"SVTCA["+b.axis+"]"),k.fv=k.pv=k.dpv=b}function ki(b,k){a.DEBUG&&console.log(k.step,"SPVTCA["+b.axis+"]"),k.pv=k.dpv=b}function Su(b,k){a.DEBUG&&console.log(k.step,"SFVTCA["+b.axis+"]"),k.fv=b}function Tu(b,k){var A,N=(W=k.stack).pop(),W=W.pop(),K=k.z2[N],Q=k.z1[W];a.DEBUG&&console.log("SPVTL["+b+"]",N,W),N=b?(A=K.y-Q.y,Q.x-K.x):(A=Q.x-K.x,Q.y-K.y),k.pv=k.dpv=go(A,N)}function Eu(b,k){var A,N=(W=k.stack).pop(),W=W.pop(),K=k.z2[N],Q=k.z1[W];a.DEBUG&&console.log("SFVTL["+b+"]",N,W),N=b?(A=K.y-Q.y,Q.x-K.x):(A=Q.x-K.x,Q.y-K.y),k.fv=go(A,N)}function ka(b){a.DEBUG&&console.log(b.step,"POP[]"),b.stack.pop()}function ku(b,k){var A=k.stack.pop(),N=k.z0[A],W=k.fv,K=k.pv,Q=(a.DEBUG&&console.log(k.step,"MDAP["+b+"]",A),K.distance(N,Ei));b&&(Q=k.round(Q)),W.setRelative(N,Ei,Q,K),W.touch(N),k.rp0=k.rp1=A}function Ci(b,k){var A,N,W,K=k.z2,Q=K.length-2;a.DEBUG&&console.log(k.step,"IUP["+b.axis+"]");for(var de=0;de<Q;de++)A=K[de],b.touched(A)||(N=A.prevTouched(b))!==A&&(N===(W=A.nextTouched(b))&&b.setRelative(A,A,b.distance(N,N,!1,!0),b,!0),b.interpolate(A,N,W,b))}function Cu(b,k){for(var A=k.stack,N=b?k.rp1:k.rp2,W=(b?k.z0:k.z1)[N],K=k.fv,Q=k.pv,de=k.loop,ye=k.z2;de--;){var be=A.pop(),Ce=ye[be],Me=Q.distance(W,W,!1,!0);K.setRelative(Ce,Ce,Me,Q),K.touch(Ce),a.DEBUG&&console.log(k.step,(1<k.loop?"loop "+(k.loop-de)+": ":"")+"SHP["+(b?"rp1":"rp2")+"]",be)}k.loop=1}function Bo(b,k){for(var A=k.stack,N=b?k.rp1:k.rp2,W=(b?k.z0:k.z1)[N],K=k.fv,Q=k.pv,de=(N=A.pop(),k.z2[k.contours[N]]),ye=de,be=(a.DEBUG&&console.log(k.step,"SHC["+b+"]",N),Q.distance(W,W,!1,!0));ye!==W&&K.setRelative(ye,ye,be,Q),(ye=ye.nextPointOnContour)!==de;);}function Pu(b,k){var A,N,W=k.stack,K=b?k.rp1:k.rp2,Q=(K=(b?k.z0:k.z1)[K],k.fv),de=k.pv;switch(W=W.pop(),a.DEBUG&&console.log(k.step,"SHZ["+b+"]",W),W){case 0:A=k.tZone;break;case 1:A=k.gZone;break;default:throw new Error("Invalid zone")}for(var ye=de.distance(K,K,!1,!0),be=A.length-2,Ce=0;Ce<be;Ce++)N=A[Ce],Q.setRelative(N,N,ye,de)}function ps(b,k){var A=(N=k.stack).pop()/64,N=N.pop(),W=k.z1[N],K=k.z0[k.rp0],Q=k.fv,de=k.pv;Q.setRelative(W,K,A,de),Q.touch(W),a.DEBUG&&console.log(k.step,"MSIRP["+b+"]",A,N),k.rp1=k.rp0,k.rp2=N,b&&(k.rp0=N)}function Ou(b,k){var A=(N=k.stack).pop(),N=N.pop(),W=k.z0[N],K=k.fv,Q=k.pv,de=k.cvt[A];a.DEBUG&&console.log(k.step,"MIAP["+b+"]",A,"(",de,")",N),A=Q.distance(W,Ei),b&&(Math.abs(A-de)<k.cvCutIn&&(A=de),A=k.round(A)),K.setRelative(W,Ei,A,Q),k.zp0===0&&(W.xo=W.x,W.yo=W.y),K.touch(W),k.rp0=k.rp1=N}function Au(b,k){var A=k.stack,N=A.pop(),W=k.z2[N];a.DEBUG&&console.log(k.step,"GC["+b+"]",N),A.push(64*k.dpv.distance(W,Ei,b,!1))}function Pi(b,k){var A=(N=k.stack).pop(),N=N.pop(),W=k.z1[A],K=k.z0[N];K=k.dpv.distance(K,W,b,b),a.DEBUG&&console.log(k.step,"MD["+b+"]",A,N,"->",K),k.stack.push(Math.round(64*K))}function Ca(b,k){var A=k.stack,N=A.pop(),W=k.fv,K=k.pv,Q=k.ppem,de=k.deltaBase+16*(b-1),ye=k.deltaShift,be=k.z0;a.DEBUG&&console.log(k.step,"DELTAP["+b+"]",N,A);for(var Ce=0;Ce<N;Ce++){var Me=A.pop(),Re=A.pop();de+((240&Re)>>4)===Q&&(0<=(Re=(15&Re)-8)&&Re++,a.DEBUG&&console.log(k.step,"DELTAPFIX",Me,"by",Re*ye),Me=be[Me],W.setRelative(Me,Me,Re*ye,K))}}function ms(b,k){var A=k.stack,N=A.pop();a.DEBUG&&console.log(k.step,"ROUND[]"),A.push(64*k.round(N/64))}function Pa(b,k){var A=k.stack,N=A.pop(),W=k.ppem,K=k.deltaBase+16*(b-1),Q=k.deltaShift;a.DEBUG&&console.log(k.step,"DELTAC["+b+"]",N,A);for(var de=0;de<N;de++){var ye=A.pop(),be=A.pop();K+((240&be)>>4)===W&&(0<=(be=(15&be)-8)&&be++,be*=Q,a.DEBUG&&console.log(k.step,"DELTACFIX",ye,"by",be),k.cvt[ye]+=be)}}function Mu(b,k){var A,N=(W=k.stack).pop(),W=W.pop(),K=k.z2[N],Q=k.z1[W];a.DEBUG&&console.log(k.step,"SDPVTL["+b+"]",N,W),N=b?(A=K.y-Q.y,Q.x-K.x):(A=Q.x-K.x,Q.y-K.y),k.dpv=go(A,N)}function ro(b,k){var A=k.stack,N=k.prog,W=k.ip;a.DEBUG&&console.log(k.step,"PUSHB["+b+"]");for(var K=0;K<b;K++)A.push(N[++W]);k.ip=W}function pn(b,k){var A=k.ip,N=k.prog,W=k.stack;a.DEBUG&&console.log(k.ip,"PUSHW["+b+"]");for(var K=0;K<b;K++){var Q=N[++A]<<8|N[++A];32768&Q&&(Q=-(1+(65535^Q))),W.push(Q)}k.ip=A}function vt(b,k,A,N,W,K){var Q,de,ye=K.stack,be=b&&ye.pop(),Ce=(ye=ye.pop(),K.rp0),Me=(Ce=K.z0[Ce],K.z1[ye]),Re=K.minDis,Se=K.fv,Ze=K.dpv,Ue=Q=Ze.distance(Me,Ce,!0,!0),$e=0<=Ue?1:-1;Ue=Math.abs(Ue),b&&(de=K.cvt[be],N&&Math.abs(Ue-de)<K.cvCutIn&&(Ue=de)),A&&Ue<Re&&(Ue=Re),N&&(Ue=K.round(Ue)),Se.setRelative(Me,Ce,$e*Ue,Ze),Se.touch(Me),a.DEBUG&&console.log(K.step,(b?"MIRP[":"MDRP[")+(k?"M":"m")+(A?">":"_")+(N?"R":"_")+(W===0?"Gr":W===1?"Bl":W===2?"Wh":"")+"]",b?be+"("+K.cvt[be]+","+de+")":"",ye,"(d =",Q,"->",$e*Ue,")"),K.rp1=K.rp0,K.rp2=ye,k&&(K.rp0=ye)}_u.prototype.exec=function(b,k){if(typeof k!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var A=this.font,N=this._prepState;if(!N||N.ppem!==k){var W=this._fpgmState;if(!W){to.prototype=_d,(W=this._fpgmState=new to("fpgm",A.tables.fpgm)).funcs=[],W.font=A,a.DEBUG&&(console.log("---EXEC FPGM---"),W.step=-1);try{no(W)}catch(be){return console.log("Hinting error in FPGM:"+be),void(this._errorState=3)}}to.prototype=W,(N=this._prepState=new to("prep",A.tables.prep)).ppem=k;var K=A.tables.cvt;if(K)for(var Q=N.cvt=new Array(K.length),de=k/A.unitsPerEm,ye=0;ye<K.length;ye++)Q[ye]=K[ye]*de;else N.cvt=[];a.DEBUG&&(console.log("---EXEC PREP---"),N.step=-1);try{no(N)}catch(be){this._errorState<2&&console.log("Hinting error in PREP:"+be),this._errorState=2}}if(!(1<this._errorState))try{return Oi(b,N)}catch(be){this._errorState<1&&(console.log("Hinting error:"+be),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Oi=function(b,k){var A=k.ppem/k.font.unitsPerEm,N=A,W=b.components;if(to.prototype=k,W){for(var K=k.font,Q=[],de=[],ye=0;ye<W.length;ye++){var be=W[ye],Ce=K.glyphs.get(be.glyphIndex),Me=new to("glyf",Ce.instructions);a.DEBUG&&(console.log("---EXEC COMP "+ye+"---"),Me.step=-1),Ru(Ce,Me,A,N);for(var Re=Math.round(be.dx*A),Se=Math.round(be.dy*N),Ze=Me.gZone,Ue=Me.contours,$e=0;$e<Ze.length;$e++){var Ge=Ze[$e];Ge.xTouched=Ge.yTouched=!1,Ge.xo=Ge.x=Ge.x+Re,Ge.yo=Ge.y=Ge.y+Se}var We=Q.length;Q.push.apply(Q,Ze);for(var dt=0;dt<Ue.length;dt++)de.push(Ue[dt]+We)}b.instructions&&!Me.inhibitGridFit&&((Me=new to("glyf",b.instructions)).gZone=Me.z0=Me.z1=Me.z2=Q,Me.contours=de,Q.push(new Nn(0,0),new Nn(Math.round(b.advanceWidth*A),0)),a.DEBUG&&(console.log("---EXEC COMPOSITE---"),Me.step=-1),no(Me),Q.length-=2)}else Me=new to("glyf",b.instructions),a.DEBUG&&(console.log("---EXEC GLYPH---"),Me.step=-1),Ru(b,Me,A,N),Q=Me.gZone;return Q},Ru=function(b,k,A,N){for(var W,K,Q,de=b.points||[],ye=de.length,be=k.gZone=k.z0=k.z1=k.z2=[],Ce=k.contours=[],Me=0;Me<ye;Me++)W=de[Me],be[Me]=new Nn(W.x*A,W.y*N,W.lastPointOfContour,W.onCurve);for(var Re=0;Re<ye;Re++)W=be[Re],K||(K=W,Ce.push(Re)),W.lastPointOfContour?((W.nextPointOnContour=K).prevPointOnContour=W,K=void 0):(Q=be[Re+1],(W.nextPointOnContour=Q).prevPointOnContour=W);if(!k.inhibitGridFit){if(a.DEBUG){console.log("PROCESSING GLYPH",k.stack);for(var Se=0;Se<ye;Se++)console.log(Se,be[Se].x,be[Se].y)}if(be.push(new Nn(0,0),new Nn(Math.round(b.advanceWidth*A),0)),no(k),be.length-=2,a.DEBUG){console.log("FINISHED GLYPH",k.stack);for(var Ze=0;Ze<ye;Ze++)console.log(Ze,be[Ze].x,be[Ze].y)}}},no=function(b){var k=b.prog;if(k){var A,N=k.length;for(b.ip=0;b.ip<N;b.ip++){if(a.DEBUG&&b.step++,!(A=xd[k[b.ip]]))throw new Error("unknown instruction: 0x"+Number(k[b.ip]).toString(16));A(b)}}},xd=[ju.bind(void 0,Kr),ju.bind(void 0,kn),ki.bind(void 0,Kr),ki.bind(void 0,kn),Su.bind(void 0,Kr),Su.bind(void 0,kn),Tu.bind(void 0,0),Tu.bind(void 0,1),Eu.bind(void 0,0),Eu.bind(void 0,1),function(b){var k=(A=b.stack).pop(),A=A.pop();a.DEBUG&&console.log(b.step,"SPVFS[]",k,A),b.pv=b.dpv=go(A,k)},function(b){var k=(A=b.stack).pop(),A=A.pop();a.DEBUG&&console.log(b.step,"SPVFS[]",k,A),b.fv=go(A,k)},function(b){var k=b.stack,A=b.pv;a.DEBUG&&console.log(b.step,"GPV[]"),k.push(16384*A.x),k.push(16384*A.y)},function(b){var k=b.stack,A=b.fv;a.DEBUG&&console.log(b.step,"GFV[]"),k.push(16384*A.x),k.push(16384*A.y)},function(b){b.fv=b.pv,a.DEBUG&&console.log(b.step,"SFVTPV[]")},function(b){var k=(K=b.stack).pop(),A=K.pop(),N=K.pop(),W=K.pop(),K=K.pop(),Q=b.z0,de=b.z1,ye=Q[k],be=(Q=Q[A],de[N]),Ce=(de=de[W],b=b.z2[K],k=(a.DEBUG&&console.log("ISECT[], ",k,A,N,W,K),ye.x),A=ye.y,N=Q.x,W=Q.y,K=be.x,ye=be.y,Q=de.x,de=(k-N)*(ye-(be=de.y))-(A-W)*(K-Q),k*W-A*N),Me=K*be-ye*Q;b.x=(Ce*(K-Q)-Me*(k-N))/de,b.y=(Ce*(ye-be)-Me*(A-W))/de},function(b){b.rp0=b.stack.pop(),a.DEBUG&&console.log(b.step,"SRP0[]",b.rp0)},function(b){b.rp1=b.stack.pop(),a.DEBUG&&console.log(b.step,"SRP1[]",b.rp1)},function(b){b.rp2=b.stack.pop(),a.DEBUG&&console.log(b.step,"SRP2[]",b.rp2)},function(b){var k=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"SZP0[]",k),b.zp0=k){case 0:b.tZone||hs(b),b.z0=b.tZone;break;case 1:b.z0=b.gZone;break;default:throw new Error("Invalid zone pointer")}},function(b){var k=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"SZP1[]",k),b.zp1=k){case 0:b.tZone||hs(b),b.z1=b.tZone;break;case 1:b.z1=b.gZone;break;default:throw new Error("Invalid zone pointer")}},function(b){var k=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"SZP2[]",k),b.zp2=k){case 0:b.tZone||hs(b),b.z2=b.tZone;break;case 1:b.z2=b.gZone;break;default:throw new Error("Invalid zone pointer")}},function(b){var k=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"SZPS[]",k),b.zp0=b.zp1=b.zp2=k){case 0:b.tZone||hs(b),b.z0=b.z1=b.z2=b.tZone;break;case 1:b.z0=b.z1=b.z2=b.gZone;break;default:throw new Error("Invalid zone pointer")}},function(b){b.loop=b.stack.pop(),a.DEBUG&&console.log(b.step,"SLOOP[]",b.loop)},function(b){a.DEBUG&&console.log(b.step,"RTG[]"),b.round=xu},function(b){a.DEBUG&&console.log(b.step,"RTHG[]"),b.round=gd},function(b){var k=b.stack.pop();a.DEBUG&&console.log(b.step,"SMD[]",k),b.minDis=k/64},function(b){a.DEBUG&&console.log(b.step,"ELSE[]"),wu(b,!1)},function(b){var k=b.stack.pop();a.DEBUG&&console.log(b.step,"JMPR[]",k),b.ip+=k-1},function(b){var k=b.stack.pop();a.DEBUG&&console.log(b.step,"SCVTCI[]",k),b.cvCutIn=k/64},void 0,void 0,function(b){var k=b.stack;a.DEBUG&&console.log(b.step,"DUP[]"),k.push(k[k.length-1])},ka,function(b){a.DEBUG&&console.log(b.step,"CLEAR[]"),b.stack.length=0},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"SWAP[]"),k.push(A),k.push(N)},function(b){var k=b.stack;a.DEBUG&&console.log(b.step,"DEPTH[]"),k.push(k.length)},function(b){var k=b.stack,A=k.pop();a.DEBUG&&console.log(b.step,"CINDEX[]",A),k.push(k[k.length-A])},function(b){var k=b.stack,A=k.pop();a.DEBUG&&console.log(b.step,"MINDEX[]",A),k.push(k.splice(k.length-A,1)[0])},void 0,void 0,void 0,function(b){var k=(N=b.stack).pop(),A=N.pop(),N=(a.DEBUG&&console.log(b.step,"LOOPCALL[]",k,A),b.ip),W=b.prog;b.prog=b.funcs[k];for(var K=0;K<A;K++)no(b),a.DEBUG&&console.log(++b.step,K+1<A?"next loopcall":"done loopcall",K);b.ip=N,b.prog=W},function(b){var k=b.stack.pop(),A=(a.DEBUG&&console.log(b.step,"CALL[]",k),b.ip),N=b.prog;b.prog=b.funcs[k],no(b),b.ip=A,b.prog=N,a.DEBUG&&console.log(++b.step,"returning from",k)},function(b){if(b.env!=="fpgm")throw new Error("FDEF not allowed here");var k=b.stack,A=b.prog,N=b.ip,W=(k=k.pop(),N);for(a.DEBUG&&console.log(b.step,"FDEF[]",k);A[++N]!==45;);b.ip=N,b.funcs[k]=A.slice(W+1,N)},void 0,ku.bind(void 0,0),ku.bind(void 0,1),Ci.bind(void 0,Kr),Ci.bind(void 0,kn),Cu.bind(void 0,0),Cu.bind(void 0,1),Bo.bind(void 0,0),Bo.bind(void 0,1),Pu.bind(void 0,0),Pu.bind(void 0,1),function(b){for(var k=b.stack,A=b.loop,N=b.fv,W=k.pop()/64,K=b.z2;A--;){var Q=k.pop(),de=K[Q];a.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-A)+": ":"")+"SHPIX[]",Q,W),N.setRelative(de,de,W),N.touch(de)}b.loop=1},function(b){for(var k=b.stack,A=b.rp1,N=b.rp2,W=b.loop,K=b.z0[A],Q=b.z1[N],de=b.fv,ye=b.dpv,be=b.z2;W--;){var Ce=k.pop(),Me=be[Ce];a.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-W)+": ":"")+"IP[]",Ce,A,"<->",N),de.interpolate(Me,K,Q,ye),de.touch(Me)}b.loop=1},ps.bind(void 0,0),ps.bind(void 0,1),function(b){for(var k=b.stack,A=b.rp0,N=b.z0[A],W=b.loop,K=b.fv,Q=b.pv,de=b.z1;W--;){var ye=k.pop(),be=de[ye];a.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-W)+": ":"")+"ALIGNRP[]",ye),K.setRelative(be,N,0,Q),K.touch(be)}b.loop=1},function(b){a.DEBUG&&console.log(b.step,"RTDG[]"),b.round=yd},Ou.bind(void 0,0),Ou.bind(void 0,1),function(b){var k=b.prog,A=b.ip,N=b.stack,W=k[++A];a.DEBUG&&console.log(b.step,"NPUSHB[]",W);for(var K=0;K<W;K++)N.push(k[++A]);b.ip=A},function(b){var k=b.ip,A=b.prog,N=b.stack,W=A[++k];a.DEBUG&&console.log(b.step,"NPUSHW[]",W);for(var K=0;K<W;K++){var Q=A[++k]<<8|A[++k];32768&Q&&(Q=-(1+(65535^Q))),N.push(Q)}b.ip=k},function(b){var k=b.stack,A=(A=b.store)||(b.store=[]),N=k.pop();k=k.pop(),a.DEBUG&&console.log(b.step,"WS",N,k),A[k]=N},function(b){var k=b.stack,A=b.store,N=k.pop();a.DEBUG&&console.log(b.step,"RS",N),b=A&&A[N]||0,k.push(b)},function(b){var k=(A=b.stack).pop(),A=A.pop();a.DEBUG&&console.log(b.step,"WCVTP",k,A),b.cvt[A]=k/64},function(b){var k=b.stack,A=k.pop();a.DEBUG&&console.log(b.step,"RCVT",A),k.push(64*b.cvt[A])},Au.bind(void 0,0),Au.bind(void 0,1),void 0,Pi.bind(void 0,0),Pi.bind(void 0,1),function(b){a.DEBUG&&console.log(b.step,"MPPEM[]"),b.stack.push(b.ppem)},void 0,function(b){a.DEBUG&&console.log(b.step,"FLIPON[]"),b.autoFlip=!0},void 0,void 0,function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"LT[]",A,N),k.push(N<A?1:0)},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"LTEQ[]",A,N),k.push(N<=A?1:0)},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"GT[]",A,N),k.push(A<N?1:0)},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"GTEQ[]",A,N),k.push(A<=N?1:0)},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"EQ[]",A,N),k.push(A===N?1:0)},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"NEQ[]",A,N),k.push(A!==N?1:0)},function(b){var k=b.stack,A=k.pop();a.DEBUG&&console.log(b.step,"ODD[]",A),k.push(Math.trunc(A)%2?1:0)},function(b){var k=b.stack,A=k.pop();a.DEBUG&&console.log(b.step,"EVEN[]",A),k.push(Math.trunc(A)%2?0:1)},function(b){var k=b.stack.pop();a.DEBUG&&console.log(b.step,"IF[]",k),k||(wu(b,!0),a.DEBUG&&console.log(b.step,"EIF[]"))},function(b){a.DEBUG&&console.log(b.step,"EIF[]")},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"AND[]",A,N),k.push(A&&N?1:0)},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"OR[]",A,N),k.push(A||N?1:0)},function(b){var k=b.stack,A=k.pop();a.DEBUG&&console.log(b.step,"NOT[]",A),k.push(A?0:1)},Ca.bind(void 0,1),function(b){var k=b.stack.pop();a.DEBUG&&console.log(b.step,"SDB[]",k),b.deltaBase=k},function(b){var k=b.stack.pop();a.DEBUG&&console.log(b.step,"SDS[]",k),b.deltaShift=Math.pow(.5,k)},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"ADD[]",A,N),k.push(N+A)},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"SUB[]",A,N),k.push(N-A)},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"DIV[]",A,N),k.push(64*N/A)},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"MUL[]",A,N),k.push(N*A/64)},function(b){var k=b.stack,A=k.pop();a.DEBUG&&console.log(b.step,"ABS[]",A),k.push(Math.abs(A))},function(b){var k=b.stack,A=k.pop();a.DEBUG&&console.log(b.step,"NEG[]",A),k.push(-A)},function(b){var k=b.stack,A=k.pop();a.DEBUG&&console.log(b.step,"FLOOR[]",A),k.push(64*Math.floor(A/64))},function(b){var k=b.stack,A=k.pop();a.DEBUG&&console.log(b.step,"CEILING[]",A),k.push(64*Math.ceil(A/64))},ms.bind(void 0,0),ms.bind(void 0,1),ms.bind(void 0,2),ms.bind(void 0,3),void 0,void 0,void 0,void 0,function(b){var k=(A=b.stack).pop(),A=A.pop();a.DEBUG&&console.log(b.step,"WCVTF[]",k,A),b.cvt[A]=k*b.ppem/b.font.unitsPerEm},Ca.bind(void 0,2),Ca.bind(void 0,3),Pa.bind(void 0,1),Pa.bind(void 0,2),Pa.bind(void 0,3),function(b){var k,A=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"SROUND[]",A),b.round=Si,192&A){case 0:k=.5;break;case 64:k=1;break;case 128:k=2;break;default:throw new Error("invalid SROUND value")}switch(b.srPeriod=k,48&A){case 0:b.srPhase=0;break;case 16:b.srPhase=.25*k;break;case 32:b.srPhase=.5*k;break;case 48:b.srPhase=.75*k;break;default:throw new Error("invalid SROUND value")}b.srThreshold=(A&=15)==0?0:(A/8-.5)*k},function(b){var k,A=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"S45ROUND[]",A),b.round=Si,192&A){case 0:k=Math.sqrt(2)/2;break;case 64:k=Math.sqrt(2);break;case 128:k=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(b.srPeriod=k,48&A){case 0:b.srPhase=0;break;case 16:b.srPhase=.25*k;break;case 32:b.srPhase=.5*k;break;case 48:b.srPhase=.75*k;break;default:throw new Error("invalid S45ROUND value")}b.srThreshold=(A&=15)==0?0:(A/8-.5)*k},void 0,void 0,function(b){a.DEBUG&&console.log(b.step,"ROFF[]"),b.round=ds},void 0,function(b){a.DEBUG&&console.log(b.step,"RUTG[]"),b.round=vd},function(b){a.DEBUG&&console.log(b.step,"RDTG[]"),b.round=bd},ka,ka,void 0,void 0,void 0,void 0,void 0,function(b){var k=b.stack.pop();a.DEBUG&&console.log(b.step,"SCANCTRL[]",k)},Mu.bind(void 0,0),Mu.bind(void 0,1),function(b){var k=b.stack,A=k.pop(),N=0;a.DEBUG&&console.log(b.step,"GETINFO[]",A),1&A&&(N=35),32&A&&(N|=4096),k.push(N)},void 0,function(b){var k=b.stack,A=k.pop(),N=k.pop(),W=k.pop();a.DEBUG&&console.log(b.step,"ROLL[]"),k.push(N),k.push(A),k.push(W)},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"MAX[]",A,N),k.push(Math.max(N,A))},function(b){var k=b.stack,A=k.pop(),N=k.pop();a.DEBUG&&console.log(b.step,"MIN[]",A,N),k.push(Math.min(N,A))},function(b){var k=b.stack.pop();a.DEBUG&&console.log(b.step,"SCANTYPE[]",k)},function(b){var k=b.stack.pop(),A=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"INSTCTRL[]",k,A),k){case 1:return void(b.inhibitGridFit=!!A);case 2:return void(b.ignoreCvt=!!A);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ro.bind(void 0,1),ro.bind(void 0,2),ro.bind(void 0,3),ro.bind(void 0,4),ro.bind(void 0,5),ro.bind(void 0,6),ro.bind(void 0,7),ro.bind(void 0,8),pn.bind(void 0,1),pn.bind(void 0,2),pn.bind(void 0,3),pn.bind(void 0,4),pn.bind(void 0,5),pn.bind(void 0,6),pn.bind(void 0,7),pn.bind(void 0,8),vt.bind(void 0,0,0,0,0,0),vt.bind(void 0,0,0,0,0,1),vt.bind(void 0,0,0,0,0,2),vt.bind(void 0,0,0,0,0,3),vt.bind(void 0,0,0,0,1,0),vt.bind(void 0,0,0,0,1,1),vt.bind(void 0,0,0,0,1,2),vt.bind(void 0,0,0,0,1,3),vt.bind(void 0,0,0,1,0,0),vt.bind(void 0,0,0,1,0,1),vt.bind(void 0,0,0,1,0,2),vt.bind(void 0,0,0,1,0,3),vt.bind(void 0,0,0,1,1,0),vt.bind(void 0,0,0,1,1,1),vt.bind(void 0,0,0,1,1,2),vt.bind(void 0,0,0,1,1,3),vt.bind(void 0,0,1,0,0,0),vt.bind(void 0,0,1,0,0,1),vt.bind(void 0,0,1,0,0,2),vt.bind(void 0,0,1,0,0,3),vt.bind(void 0,0,1,0,1,0),vt.bind(void 0,0,1,0,1,1),vt.bind(void 0,0,1,0,1,2),vt.bind(void 0,0,1,0,1,3),vt.bind(void 0,0,1,1,0,0),vt.bind(void 0,0,1,1,0,1),vt.bind(void 0,0,1,1,0,2),vt.bind(void 0,0,1,1,0,3),vt.bind(void 0,0,1,1,1,0),vt.bind(void 0,0,1,1,1,1),vt.bind(void 0,0,1,1,1,2),vt.bind(void 0,0,1,1,1,3),vt.bind(void 0,1,0,0,0,0),vt.bind(void 0,1,0,0,0,1),vt.bind(void 0,1,0,0,0,2),vt.bind(void 0,1,0,0,0,3),vt.bind(void 0,1,0,0,1,0),vt.bind(void 0,1,0,0,1,1),vt.bind(void 0,1,0,0,1,2),vt.bind(void 0,1,0,0,1,3),vt.bind(void 0,1,0,1,0,0),vt.bind(void 0,1,0,1,0,1),vt.bind(void 0,1,0,1,0,2),vt.bind(void 0,1,0,1,0,3),vt.bind(void 0,1,0,1,1,0),vt.bind(void 0,1,0,1,1,1),vt.bind(void 0,1,0,1,1,2),vt.bind(void 0,1,0,1,1,3),vt.bind(void 0,1,1,0,0,0),vt.bind(void 0,1,1,0,0,1),vt.bind(void 0,1,1,0,0,2),vt.bind(void 0,1,1,0,0,3),vt.bind(void 0,1,1,0,1,0),vt.bind(void 0,1,1,0,1,1),vt.bind(void 0,1,1,0,1,2),vt.bind(void 0,1,1,0,1,3),vt.bind(void 0,1,1,1,0,0),vt.bind(void 0,1,1,1,0,1),vt.bind(void 0,1,1,1,0,2),vt.bind(void 0,1,1,1,0,3),vt.bind(void 0,1,1,1,1,0),vt.bind(void 0,1,1,1,1,1),vt.bind(void 0,1,1,1,1,2),vt.bind(void 0,1,1,1,1,3)],wd=Array.from||function(b){return b.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Vt(b){(b=b||{}).empty||(No(b.familyName,"When creating a new Font object, familyName is required."),No(b.styleName,"When creating a new Font object, styleName is required."),No(b.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),No(b.ascender,"When creating a new Font object, ascender is required."),No(b.descender,"When creating a new Font object, descender is required."),No(b.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:b.familyName||" "},fontSubfamily:{en:b.styleName||" "},fullName:{en:b.fullName||b.familyName+" "+b.styleName},postScriptName:{en:b.postScriptName||(b.familyName+b.styleName).replace(/\s/g,"")},designer:{en:b.designer||" "},designerURL:{en:b.designerURL||" "},manufacturer:{en:b.manufacturer||" "},manufacturerURL:{en:b.manufacturerURL||" "},license:{en:b.license||" "},licenseURL:{en:b.licenseURL||" "},version:{en:b.version||"Version 0.1"},description:{en:b.description||" "},copyright:{en:b.copyright||" "},trademark:{en:b.trademark||" "}},this.unitsPerEm=b.unitsPerEm||1e3,this.ascender=b.ascender,this.descender=b.descender,this.createdTimestamp=b.createdTimestamp,this.tables={os2:{usWeightClass:b.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:b.widthClass||this.usWidthClasses.MEDIUM,fsSelection:b.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new et.GlyphSet(this,b.glyphs||[]),this.encoding=new re(this),this.position=new yo(this),this.substitution=new Yr(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new _u(this):void 0)}})}Vt.prototype.hasChar=function(b){return this.encoding.charToGlyphIndex(b)!==null},Vt.prototype.charToGlyphIndex=function(b){return this.encoding.charToGlyphIndex(b)},Vt.prototype.charToGlyph=function(b){return b=this.charToGlyphIndex(b),this.glyphs.get(b)||this.glyphs.get(0)},Vt.prototype.stringToGlyphs=function(b,k){k=k||this.defaultRenderOptions;for(var A=wd(b),N=[],W=0;W<A.length;W+=1){var K=A[W];N.push(this.charToGlyphIndex(K))}var Q=N.length;if(k.features){b=k.script||this.substitution.getDefaultScriptName();var de=[];k.features.liga&&(de=de.concat(this.substitution.getFeature("liga",b,k.language))),k.features.rlig&&(de=de.concat(this.substitution.getFeature("rlig",b,k.language)));for(var ye=0;ye<Q;ye+=1)for(var be=0;be<de.length;be++){for(var Ce=de[be],Me=Ce.sub,Re=Me.length,Se=0;Se<Re&&Me[Se]===N[ye+Se];)Se++;Se===Re&&(N.splice(ye,Re,Ce.by),Q=Q-Re+1)}}for(var Ze=new Array(Q),Ue=this.glyphs.get(0),$e=0;$e<Q;$e+=1)Ze[$e]=this.glyphs.get(N[$e])||Ue;return Ze},Vt.prototype.nameToGlyphIndex=function(b){return this.glyphNames.nameToGlyphIndex(b)},Vt.prototype.nameToGlyph=function(b){return b=this.nameToGlyphIndex(b),this.glyphs.get(b)||this.glyphs.get(0)},Vt.prototype.glyphIndexToName=function(b){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(b):""},Vt.prototype.getKerningValue=function(b,k){b=b.index||b,k=k.index||k;var A=this.position.defaultKerningTables;return A?this.position.getKerningValue(A,b,k):this.kerningPairs[b+","+k]||0},Vt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Vt.prototype.forEachGlyph=function(b,k,A,N,W,K){k=k!==void 0?k:0,A=A!==void 0?A:0,W=W||this.defaultRenderOptions;var Q,de=1/this.unitsPerEm*(N=N!==void 0?N:72),ye=this.stringToGlyphs(b,W);W.kerning&&(b=W.script||this.position.getDefaultScriptName(),Q=this.position.getKerningTables(b,W.language));for(var be=0;be<ye.length;be+=1){var Ce=ye[be];K.call(this,Ce,k,A,N,W),Ce.advanceWidth&&(k+=Ce.advanceWidth*de),W.kerning&&be<ye.length-1&&(k+=(Q?this.position.getKerningValue(Q,Ce.index,ye[be+1].index):this.getKerningValue(Ce,ye[be+1]))*de),W.letterSpacing?k+=W.letterSpacing*N:W.tracking&&(k+=W.tracking/1e3*N)}return k},Vt.prototype.getPath=function(b,k,A,N,W){var K=new q;return this.forEachGlyph(b,k,A,N,W,function(Q,de,ye,be){Q=Q.getPath(de,ye,be,W,this),K.extend(Q)}),K},Vt.prototype.getPaths=function(b,k,A,N,W){var K=[];return this.forEachGlyph(b,k,A,N,W,function(Q,de,ye,be){Q=Q.getPath(de,ye,be,W,this),K.push(Q)}),K},Vt.prototype.getAdvanceWidth=function(b,k,A){return this.forEachGlyph(b,0,0,k,A,function(){})},Vt.prototype.draw=function(b,k,A,N,W,K){this.getPath(k,A,N,W,K).draw(b)},Vt.prototype.drawPoints=function(b,k,A,N,W,K){this.forEachGlyph(k,A,N,W,K,function(Q,de,ye,be){Q.drawPoints(b,de,ye,be)})},Vt.prototype.drawMetrics=function(b,k,A,N,W,K){this.forEachGlyph(k,A,N,W,K,function(Q,de,ye,be){Q.drawMetrics(b,de,ye,be)})},Vt.prototype.getEnglishName=function(b){if(b=this.names[b])return b.en},Vt.prototype.validate=function(){var b=this;function k(A){(A=b.getEnglishName(A))&&A.trim().length}k("fontFamily"),k("weightName"),k("manufacturer"),k("copyright"),k("version"),this.unitsPerEm},Vt.prototype.toTables=function(){return Ta(this)},Vt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Vt.prototype.toArrayBuffer=function(){for(var b=this.toTables().encode(),k=new ArrayBuffer(b.length),A=new Uint8Array(k),N=0;N<b.length;N++)A[N]=b[N];return k},Vt.prototype.download=function(b){var k=this.getEnglishName("fontFamily"),A=this.getEnglishName("fontSubfamily"),N=(b=b||k.replace(/\s/g,"")+"-"+A+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,N.byteLength,function(W){W.root.getFile(b,{create:!0},function(K){K.createWriter(function(Q){var de=new DataView(N);de=new Blob([de],{type:"font/opentype"}),Q.write(de),Q.addEventListener("writeend",function(){location.href=K.toURL()},!1)})})},function(W){throw new Error(W.name+": "+W.message)})):(k=r("fs"),A=function(W){for(var K=new h(W.byteLength),Q=new Uint8Array(W),de=0;de<K.length;++de)K[de]=Q[de];return K}(N),k.writeFileSync(b,A))},Vt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Vt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Vt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Lu=function(b,k,A){for(var N,W,K,Q,de=new Fe.Parser(b,k),ye=de.parseULong(),be=(ee.argument(ye===65536,"Unsupported fvar table version."),de.parseOffset16()),Ce=(de.skip("uShort",1),de.parseUShort()),Me=de.parseUShort(),Re=de.parseUShort(),Se=de.parseUShort(),Ze=[],Ue=0;Ue<Ce;Ue++)Ze.push((N=b,W=k+be+Ue*Me,K=A,Q={},N=new Fe.Parser(N,W),Q.tag=N.parseTag(),Q.minValue=N.parseFixed(),Q.defaultValue=N.parseFixed(),Q.maxValue=N.parseFixed(),N.skip("uShort",1),Q.name=K[N.parseUShort()]||{},Q));for(var $e=[],Ge=k+be+Ce*Me,We=0;We<Re;We++)$e.push(function(dt,lt,ht,Rt){var Mt={},$t=new Fe.Parser(dt,lt);Mt.name=Rt[$t.parseUShort()]||{},$t.skip("uShort",1),Mt.coordinates={};for(var tr=0;tr<ht.length;++tr)Mt.coordinates[ht[tr].tag]=$t.parseFixed();return Mt}(b,Ge+We*Se,Ze,A));return{axes:Ze,instances:$e}},mn=new Array(10);mn[1]=function(){var b=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{posFormat:1,coverage:this.parsePointer(ge.coverage),value:this.parseValueRecord()}:k===2?{posFormat:2,coverage:this.parsePointer(ge.coverage),values:this.parseValueRecordList()}:void ee.assert(!1,"0x"+b.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},mn[2]=function(){var b,k,A,N,W=this.offset+this.relativeOffset,K=this.parseUShort(),Q=(W=(ee.assert(K===1||K===2,"0x"+W.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(ge.coverage)),this.parseUShort()),de=this.parseUShort();return K===1?{posFormat:K,coverage:W,valueFormat1:Q,valueFormat2:de,pairSets:this.parseList(ge.pointer(ge.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Q),value2:this.parseValueRecord(de)}})))}:K===2?(b=this.parsePointer(ge.classDef),k=this.parsePointer(ge.classDef),A=this.parseUShort(),N=this.parseUShort(),{posFormat:K,coverage:W,valueFormat1:Q,valueFormat2:de,classDef1:b,classDef2:k,class1Count:A,class2Count:N,classRecords:this.parseList(A,ge.list(N,function(){return{value1:this.parseValueRecord(Q),value2:this.parseValueRecord(de)}}))}):void 0},mn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},mn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},mn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},mn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},mn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},mn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},mn[9]=function(){return{error:"GPOS Lookup 9 not supported"}},new Array(10);var Iu=function(b,k){return k=(b=new ge(b,k=k||0)).parseVersion(1),ee.argument(k===1||k===1.1,"Unsupported GPOS table version "+k),k===1?{version:k,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList(mn)}:{version:k,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList(mn),variations:b.parseFeatureVariationsList()}},Du=function(b,k){if((k=(b=new Fe.Parser(b,k)).parseUShort())===0){var A=b,N={},W=(A.skip("uShort"),A.parseUShort()),K=(ee.argument(W===0,"Unsupported kern sub-table version."),A.skip("uShort",2),A.parseUShort());A.skip("uShort",3);for(var Q=0;Q<K;Q+=1){var de=A.parseUShort(),ye=A.parseUShort(),be=A.parseShort();N[de+","+ye]=be}return N}if(k!==1)throw new Error("Unsupported kern table version ("+k+").");var Ce=b,Me={};if(Ce.skip("uShort"),1<Ce.parseULong()&&console.warn("Only the first kern subtable is supported."),Ce.skip("uLong"),W=255&Ce.parseUShort(),Ce.skip("uShort"),W==0){var Re=Ce.parseUShort();Ce.skip("uShort",3);for(var Se=0;Se<Re;Se+=1){var Ze=Ce.parseUShort(),Ue=Ce.parseUShort(),$e=Ce.parseShort();Me[Ze+","+Ue]=$e}}return Me},jd=function(b,k,A,N){for(var W=new Fe.Parser(b,k),K=N?W.parseUShort:W.parseULong,Q=[],de=0;de<A+1;de+=1){var ye=K.call(W);N&&(ye*=2),Q.push(ye)}return Q};function Ai(b,k){r("fs").readFile(b,function(A,N){if(A)return k(A.message);k(null,yu(N))})}function Sd(b,k){var A=new XMLHttpRequest;A.open("get",b,!0),A.responseType="arraybuffer",A.onload=function(){return A.response?k(null,A.response):k("Font could not be loaded: "+A.statusText)},A.onerror=function(){k("Font could not be loaded")},A.send()}function oo(b,k){for(var A=[],N=12,W=0;W<k;W+=1){var K=Fe.getTag(b,N),Q=Fe.getULong(b,N+4),de=Fe.getULong(b,N+8),ye=Fe.getULong(b,N+12);A.push({tag:K,checksum:Q,offset:de,length:ye,compression:!1}),N+=16}return A}function mr(b,k){if(k.compression!=="WOFF")return{data:b,offset:k.offset};b=new Uint8Array(b.buffer,k.offset+2,k.compressedLength-2);var A=new Uint8Array(k.length);if(function(N,W){var K,Q,de,ye=new l(N,W);do{switch((Q=ye).bitcount--||(Q.tag=Q.source[Q.sourceIndex++],Q.bitcount=7),de=1&Q.tag,Q.tag>>>=1,Q=de,P(ye,2,0)){case 0:K=function(ht){for(var Rt,Mt;8<ht.bitcount;)ht.sourceIndex--,ht.bitcount-=8;if((Rt=256*ht.source[ht.sourceIndex+1]+ht.source[ht.sourceIndex])!==(65535&~(256*ht.source[ht.sourceIndex+3]+ht.source[ht.sourceIndex+2])))return-3;for(ht.sourceIndex+=4,Mt=Rt;Mt;--Mt)ht.dest[ht.destLen++]=ht.source[ht.sourceIndex++];return ht.bitcount=0,0}(ye);break;case 1:K=M(ye,f,u);break;case 2:dt=We=Ge=lt=be=$e=void 0;for(var be,Ce=ye,Me=ye.ltree,Re=ye.dtree,Se=P(Ce,5,257),Ze=P(Ce,5,1),Ue=P(Ce,4,4),$e=0;$e<19;++$e)T[$e]=0;for($e=0;$e<Ue;++$e){var Ge=P(Ce,3,0);T[v[$e]]=Ge}for(R(j,T,0,19),be=0;be<Se+Ze;){var We=B(Ce,j);switch(We){case 16:for(var dt=T[be-1],lt=P(Ce,2,3);lt;--lt)T[be++]=dt;break;case 17:for(lt=P(Ce,3,3);lt;--lt)T[be++]=0;break;case 18:for(lt=P(Ce,7,11);lt;--lt)T[be++]=0;break;default:T[be++]=We}}R(Me,T,0,Se),R(Re,T,Se,Ze),K=M(ye,ye.ltree,ye.dtree);break;default:K=-3}if(K!==0)throw new Error("Data error")}while(!Q);ye.destLen<ye.dest.length?typeof ye.dest.slice=="function"?ye.dest.slice(0,ye.destLen):ye.dest.subarray(0,ye.destLen):ye.dest}(b,A),A.byteLength!==k.length)throw new Error("Decompression error: "+k.tag+" decompressed length doesn't match recorded length");return{data:new DataView(A.buffer,0),offset:0}}function Mi(b){var k,A,N,W,K,Q,de,ye,be,Ce,Me,Re,Se,Ze,Ue=new Vt({empty:!0}),$e=new DataView(b,0),Ge=[];if((b=Fe.getTag($e,0))==="\0\0\0"||b==="true"||b==="typ1")Ue.outlinesFormat="truetype",Ge=oo($e,N=Fe.getUShort($e,4));else if(b==="OTTO")Ue.outlinesFormat="cff",Ge=oo($e,N=Fe.getUShort($e,4));else{if(b!=="wOFF")throw new Error("Unsupported OpenType signature "+b);if((ht=Fe.getTag($e,4))==="\0\0\0")Ue.outlinesFormat="truetype";else{if(ht!=="OTTO")throw new Error("Unsupported OpenType flavor "+b);Ue.outlinesFormat="cff"}Ge=function(dr,Jt){for(var Ht=[],yr=44,wr=0;wr<Jt;wr+=1){var Dr=Fe.getTag(dr,yr),er=Fe.getULong(dr,yr+4),Tr=Fe.getULong(dr,yr+8),Ri=Fe.getULong(dr,yr+12),Li=Tr<Ri&&"WOFF";Ht.push({tag:Dr,offset:er,compression:Li,compressedLength:Tr,length:Ri}),yr+=20}return Ht}($e,N=Fe.getUShort($e,12))}for(var We=0;We<N;We+=1){var dt=Ge[We],lt=void 0;switch(dt.tag){case"cmap":lt=mr($e,dt),Ue.tables.cmap=Xe(lt.data,lt.offset),Ue.encoding=new se(Ue.tables.cmap);break;case"cvt ":lt=mr($e,dt),Ze=new Fe.Parser(lt.data,lt.offset),Ue.tables.cvt=Ze.parseShortList(dt.length/2);break;case"fvar":K=dt;break;case"fpgm":lt=mr($e,dt),Ze=new Fe.Parser(lt.data,lt.offset),Ue.tables.fpgm=Ze.parseByteList(dt.length);break;case"head":lt=mr($e,dt),Ue.tables.head=Do(lt.data,lt.offset),Ue.unitsPerEm=Ue.tables.head.unitsPerEm,k=Ue.tables.head.indexToLocFormat;break;case"hhea":lt=mr($e,dt),Ue.tables.hhea=_i(lt.data,lt.offset),Ue.ascender=Ue.tables.hhea.ascender,Ue.descender=Ue.tables.hhea.descender,Ue.numberOfHMetrics=Ue.tables.hhea.numberOfHMetrics;break;case"hmtx":be=dt;break;case"ltag":lt=mr($e,dt),A=Ke(lt.data,lt.offset);break;case"maxp":lt=mr($e,dt),Ue.tables.maxp=It(lt.data,lt.offset),Ue.numGlyphs=Ue.tables.maxp.numGlyphs;break;case"name":Re=dt;break;case"OS/2":lt=mr($e,dt),Ue.tables.os2=ld(lt.data,lt.offset);break;case"post":lt=mr($e,dt),Ue.tables.post=fd(lt.data,lt.offset),Ue.glyphNames=new Ee(Ue.tables.post);break;case"prep":lt=mr($e,dt),Ze=new Fe.Parser(lt.data,lt.offset),Ue.tables.prep=Ze.parseByteList(dt.length);break;case"glyf":Q=dt;break;case"loca":Me=dt;break;case"CFF ":W=dt;break;case"kern":Ce=dt;break;case"GPOS":de=dt;break;case"GSUB":ye=dt;break;case"meta":Se=dt}}if(ht=mr($e,Re),Ue.tables.name=Ir(ht.data,ht.offset,A),Ue.names=Ue.tables.name,Q&&Me)b=k===0,ht=mr($e,Me),ht=jd(ht.data,ht.offset,Ue.numGlyphs,b),b=mr($e,Q),Ue.glyphs=bu.parse(b.data,b.offset,ht,Ue);else{if(!W)throw new Error("Font doesn't contain TrueType or CFF outlines.");b=mr($e,W),Xt(b.data,b.offset,Ue)}for(var ht=mr($e,be),Rt=(we(ht.data,ht.offset,Ue.numberOfHMetrics,Ue.numGlyphs,Ue.glyphs),Ue),Mt=Rt.tables.cmap.glyphIndexMap,$t=Object.keys(Mt),tr=0;tr<$t.length;tr+=1){var Qt,Wt=$t[tr],kt=Mt[Wt];(Qt=Rt.glyphs.get(kt)).addUnicode(parseInt(Wt))}for(var or=0;or<Rt.glyphs.length;or+=1)Qt=Rt.glyphs.get(or),Rt.cffEncoding?Rt.isCIDFont?Qt.name="gid"+or:Qt.name=Rt.cffEncoding.charset[or]:Rt.glyphNames.names&&(Qt.name=Rt.glyphNames.glyphIndexToName(or));return Ce?(b=mr($e,Ce),Ue.kerningPairs=Du(b.data,b.offset)):Ue.kerningPairs={},de&&(ht=mr($e,de),Ue.tables.gpos=Iu(ht.data,ht.offset),Ue.position.init()),ye&&(b=mr($e,ye),Ue.tables.gsub=us(b.data,b.offset)),K&&(ht=mr($e,K),Ue.tables.fvar=Lu(ht.data,ht.offset,Ue.names)),Se&&(b=mr($e,Se),Ue.tables.meta=pd(b.data,b.offset),Ue.metas=Ue.tables.meta),Ue}a.Font=Vt,a.Glyph=Qe,a.Path=q,a.BoundingBox=I,a._parse=Fe,a.parse=Mi,a.load=function(b,k){(typeof window>"u"?Ai:Sd)(b,function(A,N){if(A)return k(A);var W;try{W=Mi(N)}catch(K){return k(K,null)}return k(null,W)})},a.loadSync=function(b){return Mi(yu(r("fs").readFileSync(b)))},Object.defineProperty(a,"__esModule",{value:!0})})(typeof y=="object"&&E!==void 0?y:this.opentype={})}).call(this,r("buffer").Buffer)},{buffer:4,fs:2}],248:[function(r,E,y){(function(h){function a(S,l){for(var f=0,u=S.length-1;0<=u;u--){var s=S[u];s==="."?S.splice(u,1):s===".."?(S.splice(u,1),f++):f&&(S.splice(u,1),f--)}if(l)for(;f--;)S.unshift("..");return S}function c(S,l){if(S.filter)return S.filter(l);for(var f=[],u=0;u<S.length;u++)l(S[u],u,S)&&f.push(S[u]);return f}y.resolve=function(){for(var S="",l=!1,f=arguments.length-1;-1<=f&&!l;f--){var u=0<=f?arguments[f]:h.cwd();if(typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");u&&(S=u+"/"+S,l=u.charAt(0)==="/")}return(l?"/":"")+(S=a(c(S.split("/"),function(s){return!!s}),!l).join("/"))||"."},y.normalize=function(S){var l=y.isAbsolute(S),f=x(S,-1)==="/";return(S=(S=a(c(S.split("/"),function(u){return!!u}),!l).join("/"))||l?S:".")&&f&&(S+="/"),(l?"/":"")+S},y.isAbsolute=function(S){return S.charAt(0)==="/"},y.join=function(){var S=Array.prototype.slice.call(arguments,0);return y.normalize(c(S,function(l,f){if(typeof l!="string")throw new TypeError("Arguments to path.join must be strings");return l}).join("/"))},y.relative=function(S,l){function f(j){for(var T=0;T<j.length&&j[T]==="";T++);for(var C=j.length-1;0<=C&&j[C]==="";C--);return C<T?[]:j.slice(T,C-T+1)}S=y.resolve(S).substr(1),l=y.resolve(l).substr(1);for(var u=f(S.split("/")),s=f(l.split("/")),d=Math.min(u.length,s.length),g=d,_=0;_<d;_++)if(u[_]!==s[_]){g=_;break}var v=[];for(_=g;_<u.length;_++)v.push("..");return(v=v.concat(s.slice(g))).join("/")},y.sep="/",y.delimiter=":",y.dirname=function(S){if(typeof S!="string"&&(S+=""),S.length===0)return".";for(var l=S.charCodeAt(0)===47,f=-1,u=!0,s=S.length-1;1<=s;--s)if(S.charCodeAt(s)===47){if(!u){f=s;break}}else u=!1;return f===-1?l?"/":".":l&&f===1?"/":S.slice(0,f)},y.basename=function(S,l){return S=function(f){typeof f!="string"&&(f+="");for(var u=0,s=-1,d=!0,g=f.length-1;0<=g;--g)if(f.charCodeAt(g)===47){if(!d){u=g+1;break}}else s===-1&&(d=!1,s=g+1);return s===-1?"":f.slice(u,s)}(S),l&&S.substr(-1*l.length)===l?S.substr(0,S.length-l.length):S},y.extname=function(S){typeof S!="string"&&(S+="");for(var l=-1,f=0,u=-1,s=!0,d=0,g=S.length-1;0<=g;--g){var _=S.charCodeAt(g);if(_===47){if(s)continue;f=g+1;break}u===-1&&(s=!1,u=g+1),_===46?l===-1?l=g:d!==1&&(d=1):l!==-1&&(d=-1)}return l===-1||u===-1||d===0||d===1&&l===u-1&&l===f+1?"":S.slice(l,u)};var x="ab".substr(-1)==="b"?function(S,l,f){return S.substr(l,f)}:function(S,l,f){return l<0&&(l=S.length+l),S.substr(l,f)}}).call(this,r("_process"))},{_process:249}],249:[function(r,E,y){var h,a;E=E.exports={};function c(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}try{h=typeof setTimeout=="function"?setTimeout:c}catch{h=c}try{a=typeof clearTimeout=="function"?clearTimeout:x}catch{a=x}function S(j){if(h===setTimeout)return setTimeout(j,0);if((h===c||!h)&&setTimeout)return(h=setTimeout)(j,0);try{return h(j,0)}catch{try{return h.call(null,j,0)}catch{return h.call(this,j,0)}}}var l,f=[],u=!1,s=-1;function d(){u&&l&&(u=!1,l.length?f=l.concat(f):s=-1,f.length&&g())}function g(){if(!u){for(var j=S(d),T=(u=!0,f.length);T;){for(l=f,f=[];++s<T;)l&&l[s].run();s=-1,T=f.length}l=null,u=!1,function(C){if(a===clearTimeout)return clearTimeout(C);if((a===x||!a)&&clearTimeout)return(a=clearTimeout)(C);try{a(C)}catch{try{return a.call(null,C)}catch{return a.call(this,C)}}}(j)}}function _(j,T){this.fun=j,this.array=T}function v(){}E.nextTick=function(j){var T=new Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)T[C-1]=arguments[C];f.push(new _(j,T)),f.length!==1||u||S(g)},_.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={},E.on=v,E.addListener=v,E.once=v,E.off=v,E.removeListener=v,E.removeAllListeners=v,E.emit=v,E.prependListener=v,E.prependOnceListener=v,E.listeners=function(j){return[]},E.binding=function(j){throw new Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(j){throw new Error("process.chdir is not supported")},E.umask=function(){return 0}},{}],250:[function(r,E,y){E=function(h){var a,c=Object.prototype,x=c.hasOwnProperty,S=(R=typeof Symbol=="function"?Symbol:{}).iterator||"@@iterator",l=R.asyncIterator||"@@asyncIterator",f=R.toStringTag||"@@toStringTag";function u(Z,J,ee,le){var ae,fe,H,X;return J=J&&J.prototype instanceof T?J:T,J=Object.create(J.prototype),le=new G(le||[]),J._invoke=(ae=Z,fe=ee,H=le,X=d,function(te,ue){if(X===_)throw new Error("Generator is already running");if(X===v){if(te==="throw")throw ue;return q()}for(H.method=te,H.arg=ue;;){var ce=H.delegate;if(ce&&(ce=function he(ne,me){var _e=ne.iterator[me.method];if(_e===a){if(me.delegate=null,me.method==="throw"){if(ne.iterator.return&&(me.method="return",me.arg=a,he(ne,me),me.method==="throw"))return j;me.method="throw",me.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}return(_e=s(_e,ne.iterator,me.arg)).type==="throw"?(me.method="throw",me.arg=_e.arg,me.delegate=null,j):(_e=_e.arg)?_e.done?(me[ne.resultName]=_e.value,me.next=ne.nextLoc,me.method!=="return"&&(me.method="next",me.arg=a),me.delegate=null,j):_e:(me.method="throw",me.arg=new TypeError("iterator result is not an object"),me.delegate=null,j)}(ce,H))){if(ce===j)continue;return ce}if(H.method==="next")H.sent=H._sent=H.arg;else if(H.method==="throw"){if(X===d)throw X=v,H.arg;H.dispatchException(H.arg)}else H.method==="return"&&H.abrupt("return",H.arg);if(X=_,(ce=s(ae,fe,H)).type==="normal"){if(X=H.done?v:g,ce.arg!==j)return{value:ce.arg,done:H.done}}else ce.type==="throw"&&(X=v,H.method="throw",H.arg=ce.arg)}}),J}function s(Z,J,ee){try{return{type:"normal",arg:Z.call(J,ee)}}catch(le){return{type:"throw",arg:le}}}h.wrap=u;var d="suspendedStart",g="suspendedYield",_="executing",v="completed",j={};function T(){}function C(){}function L(){}var R,P,B=((P=(P=((R={})[S]=function(){return this},Object.getPrototypeOf))&&P(P(I([]))))&&P!==c&&x.call(P,S)&&(R=P),L.prototype=T.prototype=Object.create(R));function M(Z){["next","throw","return"].forEach(function(J){Z[J]=function(ee){return this._invoke(J,ee)}})}function U(Z){var J;this._invoke=function(ee,le){function ae(){return new Promise(function(fe,H){(function X(te,ue,ce,he){var ne;if((te=s(Z[te],Z,ue)).type!=="throw")return(ue=(ne=te.arg).value)&&typeof ue=="object"&&x.call(ue,"__await")?Promise.resolve(ue.__await).then(function(me){X("next",me,ce,he)},function(me){X("throw",me,ce,he)}):Promise.resolve(ue).then(function(me){ne.value=me,ce(ne)},function(me){return X("throw",me,ce,he)});he(te.arg)})(ee,le,fe,H)})}return J=J?J.then(ae,ae):ae()}}function V(Z){var J={tryLoc:Z[0]};1 in Z&&(J.catchLoc=Z[1]),2 in Z&&(J.finallyLoc=Z[2],J.afterLoc=Z[3]),this.tryEntries.push(J)}function $(Z){var J=Z.completion||{};J.type="normal",delete J.arg,Z.completion=J}function G(Z){this.tryEntries=[{tryLoc:"root"}],Z.forEach(V,this),this.reset(!0)}function I(Z){if(Z){var J,ee=Z[S];if(ee)return ee.call(Z);if(typeof Z.next=="function")return Z;if(!isNaN(Z.length))return J=-1,(ee=function le(){for(;++J<Z.length;)if(x.call(Z,J))return le.value=Z[J],le.done=!1,le;return le.value=a,le.done=!0,le}).next=ee}return{next:q}}function q(){return{value:a,done:!0}}return(C.prototype=B.constructor=L).constructor=C,L[f]=C.displayName="GeneratorFunction",h.isGeneratorFunction=function(Z){return!!(Z=typeof Z=="function"&&Z.constructor)&&(Z===C||(Z.displayName||Z.name)==="GeneratorFunction")},h.mark=function(Z){return Object.setPrototypeOf?Object.setPrototypeOf(Z,L):(Z.__proto__=L,f in Z||(Z[f]="GeneratorFunction")),Z.prototype=Object.create(B),Z},h.awrap=function(Z){return{__await:Z}},M(U.prototype),U.prototype[l]=function(){return this},h.AsyncIterator=U,h.async=function(Z,J,ee,le){var ae=new U(u(Z,J,ee,le));return h.isGeneratorFunction(J)?ae:ae.next().then(function(fe){return fe.done?fe.value:ae.next()})},M(B),B[f]="Generator",B[S]=function(){return this},B.toString=function(){return"[object Generator]"},h.keys=function(Z){var J,ee=[];for(J in Z)ee.push(J);return ee.reverse(),function le(){for(;ee.length;){var ae=ee.pop();if(ae in Z)return le.value=ae,le.done=!1,le}return le.done=!0,le}},h.values=I,G.prototype={constructor:G,reset:function(Z){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach($),!Z)for(var J in this)J.charAt(0)==="t"&&x.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=a)},stop:function(){this.done=!0;var Z=this.tryEntries[0].completion;if(Z.type==="throw")throw Z.arg;return this.rval},dispatchException:function(Z){if(this.done)throw Z;var J=this;function ee(te,ue){return fe.type="throw",fe.arg=Z,J.next=te,ue&&(J.method="next",J.arg=a),!!ue}for(var le=this.tryEntries.length-1;0<=le;--le){var ae=this.tryEntries[le],fe=ae.completion;if(ae.tryLoc==="root")return ee("end");if(ae.tryLoc<=this.prev){var H=x.call(ae,"catchLoc"),X=x.call(ae,"finallyLoc");if(H&&X){if(this.prev<ae.catchLoc)return ee(ae.catchLoc,!0);if(this.prev<ae.finallyLoc)return ee(ae.finallyLoc)}else if(H){if(this.prev<ae.catchLoc)return ee(ae.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<ae.finallyLoc)return ee(ae.finallyLoc)}}}},abrupt:function(Z,J){for(var ee=this.tryEntries.length-1;0<=ee;--ee){var le=this.tryEntries[ee];if(le.tryLoc<=this.prev&&x.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var ae=le;break}}var fe=(ae=ae&&(Z==="break"||Z==="continue")&&ae.tryLoc<=J&&J<=ae.finallyLoc?null:ae)?ae.completion:{};return fe.type=Z,fe.arg=J,ae?(this.method="next",this.next=ae.finallyLoc,j):this.complete(fe)},complete:function(Z,J){if(Z.type==="throw")throw Z.arg;return Z.type==="break"||Z.type==="continue"?this.next=Z.arg:Z.type==="return"?(this.rval=this.arg=Z.arg,this.method="return",this.next="end"):Z.type==="normal"&&J&&(this.next=J),j},finish:function(Z){for(var J=this.tryEntries.length-1;0<=J;--J){var ee=this.tryEntries[J];if(ee.finallyLoc===Z)return this.complete(ee.completion,ee.afterLoc),$(ee),j}},catch:function(Z){for(var J=this.tryEntries.length-1;0<=J;--J){var ee,le,ae=this.tryEntries[J];if(ae.tryLoc===Z)return(ee=ae.completion).type==="throw"&&(le=ee.arg,$(ae)),le}throw new Error("illegal catch attempt")},delegateYield:function(Z,J,ee){return this.delegate={iterator:I(Z),resultName:J,nextLoc:ee},this.method==="next"&&(this.arg=a),j}},h}(typeof E=="object"?E.exports:{});try{regeneratorRuntime=E}catch{Function("r","regeneratorRuntime = r")(E)}},{}],251:[function(r,E,y){(function(h){var a,c,x,S,l,f,u,s,d,g;function _($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test($))throw new TypeError("Invalid character in header field name");return $.toLowerCase()}function v($){return typeof $!="string"?String($):$}function j($){var G={next:function(){var I=$.shift();return{done:I===void 0,value:I}}};return c&&(G[Symbol.iterator]=function(){return G}),G}function T($){this.map={},$ instanceof T?$.forEach(function(G,I){this.append(I,G)},this):Array.isArray($)?$.forEach(function(G){this.append(G[0],G[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(G){this.append(G,$[G])},this)}function C($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function L($){return new Promise(function(G,I){$.onload=function(){G($.result)},$.onerror=function(){I($.error)}})}function R($){var G=new FileReader,I=L(G);return G.readAsArrayBuffer($),I}function P($){var G;return $.slice?$.slice(0):((G=new Uint8Array($.byteLength)).set(new Uint8Array($)),G.buffer)}function B(){return this.bodyUsed=!1,this._initBody=function($){if(this._bodyInit=$)if(typeof $=="string")this._bodyText=$;else if(x&&Blob.prototype.isPrototypeOf($))this._bodyBlob=$;else if(S&&FormData.prototype.isPrototypeOf($))this._bodyFormData=$;else if(a&&URLSearchParams.prototype.isPrototypeOf($))this._bodyText=$.toString();else if(l&&x&&u($))this._bodyArrayBuffer=P($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!l||!ArrayBuffer.prototype.isPrototypeOf($)&&!s($))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=P($)}else this._bodyText="";this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},x&&(this.blob=function(){var $=C(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?C(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(R)}),this.text=function(){var $,G,I=C(this);if(I)return I;if(this._bodyBlob)return I=this._bodyBlob,G=L($=new FileReader),$.readAsText(I),G;if(this._bodyArrayBuffer)return Promise.resolve(function(q){for(var Z=new Uint8Array(q),J=new Array(Z.length),ee=0;ee<Z.length;ee++)J[ee]=String.fromCharCode(Z[ee]);return J.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},S&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}function M($,G){var I,q=(G=G||{}).body;if($ instanceof M){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,G.headers||(this.headers=new T($.headers)),this.method=$.method,this.mode=$.mode,q||$._bodyInit==null||(q=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=G.credentials||this.credentials||"omit",!G.headers&&this.headers||(this.headers=new T(G.headers)),this.method=(I=($=G.method||this.method||"GET").toUpperCase(),-1<d.indexOf(I)?I:$),this.mode=G.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(q)}function U($){var G=new FormData;return $.trim().split("&").forEach(function(I){var q;I&&(q=(I=I.split("=")).shift().replace(/\+/g," "),I=I.join("=").replace(/\+/g," "),G.append(decodeURIComponent(q),decodeURIComponent(I)))}),G}function V($,G){G=G||{},this.type="default",this.status=G.status===void 0?200:G.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in G?G.statusText:"OK",this.headers=new T(G.headers),this.url=G.url||"",this._initBody($)}h.fetch||(a="URLSearchParams"in h,c="Symbol"in h&&"iterator"in Symbol,x="FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),S="FormData"in h,(l="ArrayBuffer"in h)&&(f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=function($){return $&&DataView.prototype.isPrototypeOf($)},s=ArrayBuffer.isView||function($){return $&&-1<f.indexOf(Object.prototype.toString.call($))}),T.prototype.append=function($,G){$=_($),G=v(G);var I=this.map[$];this.map[$]=I?I+","+G:G},T.prototype.delete=function($){delete this.map[_($)]},T.prototype.get=function($){return $=_($),this.has($)?this.map[$]:null},T.prototype.has=function($){return this.map.hasOwnProperty(_($))},T.prototype.set=function($,G){this.map[_($)]=v(G)},T.prototype.forEach=function($,G){for(var I in this.map)this.map.hasOwnProperty(I)&&$.call(G,this.map[I],I,this)},T.prototype.keys=function(){var $=[];return this.forEach(function(G,I){$.push(I)}),j($)},T.prototype.values=function(){var $=[];return this.forEach(function(G){$.push(G)}),j($)},T.prototype.entries=function(){var $=[];return this.forEach(function(G,I){$.push([I,G])}),j($)},c&&(T.prototype[Symbol.iterator]=T.prototype.entries),d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],M.prototype.clone=function(){return new M(this,{body:this._bodyInit})},B.call(M.prototype),B.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new T(this.headers),url:this.url})},V.error=function(){var $=new V(null,{status:0,statusText:""});return $.type="error",$},g=[301,302,303,307,308],V.redirect=function($,G){if(g.indexOf(G)===-1)throw new RangeError("Invalid status code");return new V(null,{status:G,headers:{location:$}})},h.Headers=T,h.Request=M,h.Response=V,h.fetch=function($,G){return new Promise(function(I,q){var Z=new M($,G),J=new XMLHttpRequest;J.onload=function(){var ee,le={status:J.status,statusText:J.statusText,headers:(le=J.getAllResponseHeaders()||"",ee=new T,le.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(fe){var H=(fe=fe.split(":")).shift().trim();H&&(fe=fe.join(":").trim(),ee.append(H,fe))}),ee)},ae=(le.url="responseURL"in J?J.responseURL:le.headers.get("X-Request-URL"),"response"in J?J.response:J.responseText);I(new V(ae,le))},J.onerror=function(){q(new TypeError("Network request failed"))},J.ontimeout=function(){q(new TypeError("Network request failed"))},J.open(Z.method,Z.url,!0),Z.credentials==="include"?J.withCredentials=!0:Z.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&x&&(J.responseType="blob"),Z.headers.forEach(function(ee,le){J.setRequestHeader(le,ee)}),J.send(Z._bodyInit===void 0?null:Z._bodyInit)})},h.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],252:[function(r,E,y){r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h,a=x(r("../core/main")),c=x(r("../color/color_conversion"));function x(f){return f&&f.__esModule?f:{default:f}}var S=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],l=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];a.default.prototype._rgbColorName=function(f){f=c.default._rgbaToHSBA(f);var u,s,d=[(h=f)[0],f[1],f[2]];d[0]!==0&&(d[0]=Math.round(100*d[0]),(f=d[0].toString().split(""))[s=f.length-1]=parseInt(f[s]),f[s]<2.5?f[s]=0:2.5<=f[s]&&f[s]<7.5&&(f[s]=5),f.length===2?(f[0]=parseInt(f[0]),7.5<=f[s]&&(f[s]=0,f[0]=f[0]+1),d[0]=10*f[0]+f[1]):7.5<=f[s]?d[0]=10:d[0]=f[s]),d[2]=d[2]/255;for(var g=d.length-1;1<=g;g--)d[g]<=.25?d[g]=0:.25<d[g]&&d[g]<.75?d[g]=.5:d[g]=1;if(d[0]===0&&d[1]===0&&d[2]===1){for(var _=2;0<=_;_--)h[_]=Math.round(1e4*h[_])/1e4;for(var v=0;v<S.length;v++){if(S[v].h===h[0]&&S[v].s===h[1]&&S[v].b===h[2]){u=S[v].name;break}u="white"}}else for(var j=0;j<l.length;j++)if(l[j].h===d[0]&&l[j].s===d[1]&&l[j].b===d[2]){u=l[j].name;break}return u},r=a.default,y.default=r},{"../color/color_conversion":258,"../core/main":273,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196}],253:[function(r,E,y){r("core-js/modules/es.array.concat"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r},a="_Description",c="_fallbackDesc",x="_fallbackTable",S="_Label",l="_labelDesc",f="_labelTable";function u(s){if(s==="label"||s==="fallback")throw new Error("description should not be LABEL or FALLBACK");return s.endsWith(".")||s.endsWith(";")||s.endsWith(",")||s.endsWith("?")||s.endsWith("!")||(s+="."),s}h.default.prototype.describe=function(s,d){var g;h.default._validateParameters("describe",arguments),typeof s=="string"&&(g=this.canvas.id,s=u(s),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==s&&(this.descriptions.fallback.innerHTML=s):this._describeHTML("fallback",s),d===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==s&&(this.descriptions.label.innerHTML=s):this._describeHTML("label",s)))},h.default.prototype.describeElement=function(s,d,g){var _,v;h.default._validateParameters("describeElement",arguments),typeof d=="string"&&typeof s=="string"&&(_=this.canvas.id,d=u(d),v=function(j){if(j==="label"||j==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return j.endsWith(".")||j.endsWith(";")||j.endsWith(",")?j=j.replace(/.$/,":"):j.endsWith(":")||(j+=":"),j}(s),s=s.replace(/[^a-zA-Z0-9]/g,""),v='<th scope="row">'.concat(v,"</th><td>").concat(d,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(_).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[s]?this.descriptions.fallbackElements[s].innerHTML!==v&&(this.descriptions.fallbackElements[s].innerHTML=v):this._describeElementHTML("fallback",s,v),g===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[s]?this.descriptions.labelElements[s].innerHTML!==v&&(this.descriptions.labelElements[s].innerHTML=v):this._describeElementHTML("label",s,v)))},h.default.prototype._describeHTML=function(s,d){var g,_=this.canvas.id;s==="fallback"?(this.dummyDOM.querySelector("#".concat(_+a))?this.dummyDOM.querySelector("#"+_+x).insertAdjacentHTML("beforebegin",'<p id="'.concat(_+c,'"></p>')):(g='<div id="'.concat(_).concat(a,'" role="region" aria-label="Canvas Description"><p id="').concat(_).concat(c,'"></p></div>'),this.dummyDOM.querySelector("#".concat(_,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#".concat(_)).innerHTML=g),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(_).concat(c)),this.descriptions.fallback.innerHTML=d):s==="label"&&(this.dummyDOM.querySelector("#".concat(_+S))?this.dummyDOM.querySelector("#".concat(_+f))&&this.dummyDOM.querySelector("#".concat(_+f)).insertAdjacentHTML("beforebegin",'<p id="'.concat(_).concat(l,'"></p>')):(g='<div id="'.concat(_).concat(S,'" class="p5Label"><p id="').concat(_).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+_).insertAdjacentHTML("afterend",g)),this.descriptions.label=this.dummyDOM.querySelector("#"+_+l),this.descriptions.label.innerHTML=d)},h.default.prototype._describeElementHTML=function(s,d,g){var _,v=this.canvas.id;s==="fallback"?(this.dummyDOM.querySelector("#".concat(v+a))?this.dummyDOM.querySelector("#"+v+x)||this.dummyDOM.querySelector("#"+v+c).insertAdjacentHTML("afterend",'<table id="'.concat(v).concat(x,'"><caption>Canvas elements and their descriptions</caption></table>')):(_='<div id="'.concat(v).concat(a,'" role="region" aria-label="Canvas Description"><table id="').concat(v).concat(x,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+v).innerHTML=_),(_=document.createElement("tr")).id=v+"_fte_"+d,this.dummyDOM.querySelector("#"+v+x).appendChild(_),this.descriptions.fallbackElements[d]=this.dummyDOM.querySelector("#".concat(v).concat("_fte_").concat(d)),this.descriptions.fallbackElements[d].innerHTML=g):s==="label"&&(this.dummyDOM.querySelector("#".concat(v+S))?this.dummyDOM.querySelector("#".concat(v+f))||this.dummyDOM.querySelector("#"+v+l).insertAdjacentHTML("afterend",'<table id="'.concat(v+f,'"></table>')):(_='<div id="'.concat(v).concat(S,'" class="p5Label"><table id="').concat(v).concat(f,'"></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",_)),(s=document.createElement("tr")).id=v+"_lte_"+d,this.dummyDOM.querySelector("#"+v+f).appendChild(s),this.descriptions.labelElements[d]=this.dummyDOM.querySelector("#".concat(v).concat("_lte_").concat(d)),this.descriptions.labelElements[d].innerHTML=g)},r=h.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.replace":194}],254:[function(r,E,y){r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.map"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.map"),r("core-js/modules/es.string.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype._updateGridOutput=function(h){var a,c,x,S;this.dummyDOM.querySelector("#".concat(h,"_summary"))&&(a=this._accessibleOutputs[h],x=function(l,f,u,s){return f="".concat(f," canvas, ").concat(u," by ").concat(s," pixels, contains ").concat(l[0]),f=(l[0]===1?"".concat(f," shape: "):"".concat(f," shapes: ")).concat(l[1])}((c=function(l,f){var u,s="",d="",g=0;for(u in f){var _,v=0;for(_ in f[u]){var j='<li id="'.concat(l,"shape").concat(g,'">').concat(f[u][_].color," ").concat(u,",");u==="line"?j+=" location = ".concat(f[u][_].pos,", length = ").concat(f[u][_].length," pixels"):(j+=" location = ".concat(f[u][_].pos),u!=="point"&&(j+=", area = ".concat(f[u][_].area," %")),j+="</li>"),s+=j,v++,g++}d=1<v?"".concat(d," ").concat(v," ").concat(u,"s"):"".concat(d," ").concat(v," ").concat(u)}return{numShapes:[g,d],details:s}}(h,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),S=function(l,f){var u,s,d=0,g="",_=Array.from(Array(10),function(){return Array(10)});for(u in f)for(var v in f[u]){var j;j=u!=="line"?'<a href="#'.concat(l,"shape").concat(d,'">').concat(f[u][v].color," ").concat(u,"</a>"):'<a href="#'.concat(l,"shape").concat(d,'">').concat(f[u][v].color," ").concat(u," midpoint</a>"),_[f[u][v].loc.locY][f[u][v].loc.locX]?_[f[u][v].loc.locY][f[u][v].loc.locX]=_[f[u][v].loc.locY][f[u][v].loc.locX]+"  "+j:_[f[u][v].loc.locY][f[u][v].loc.locX]=j,d++}for(s in _){var T,C="<tr>";for(T in _[s])C+="<td>",_[s][T]!==void 0&&(C+=_[s][T]),C+="</td>";g=g+C+"</tr>"}return g}(h,this.ingredients.shapes),x!==a.summary.innerHTML&&(a.summary.innerHTML=x),S!==a.map.innerHTML&&(a.map.innerHTML=S),c.details!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=c.details),this._accessibleOutputs[h]=a)},r=r.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":157,"core-js/modules/es.array.map":163,"core-js/modules/es.string.iterator":190}],255:[function(r,E,y){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(c,x,S){return(x=Math.floor(c[0]/x*10))===10&&(x-=1),(c=Math.floor(c[1]/S*10))===10&&(c-=1),{locX:x,locY:c}}h.default.prototype.textOutput=function(c){h.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},h.default.prototype.gridOutput=function(c){h.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},h.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},h.default.prototype._createOutput=function(c,x){var S,l,f,u=this.canvas.id,s=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),"");x==="Fallback"?(S=u+c,this.dummyDOM.querySelector("#".concat(l=u+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(u,"_Description"))?this.dummyDOM.querySelector("#".concat(u,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(l,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(u)).innerHTML='<div id="'.concat(l,'" role="region" aria-label="Canvas Outputs"></div>'))):x==="Label"&&(S=u+c+(s=x),this.dummyDOM.querySelector("#".concat(l=u+"accessibleOutput"+x))||(this.dummyDOM.querySelector("#".concat(u,"_Label"))?this.dummyDOM.querySelector("#".concat(u,"_Label")):this.dummyDOM.querySelector("#".concat(u))).insertAdjacentHTML("afterend",'<div id="'.concat(l,'"></div>'))),this._accessibleOutputs[S]={},c==="textOutput"?(s="#".concat(u,"gridOutput").concat(s),f='<div id="'.concat(S,'">Text Output<div id="').concat(S,'Summary" aria-label="text output summary"><p id="').concat(S,'_summary"></p><ul id="').concat(S,'_list"></ul></div><table id="').concat(S,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(s)?this.dummyDOM.querySelector(s).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#".concat(l)).innerHTML=f,this._accessibleOutputs[S].list=this.dummyDOM.querySelector("#".concat(S,"_list"))):c==="gridOutput"&&(s="#".concat(u,"textOutput").concat(s),f='<div id="'.concat(S,'">Grid Output<p id="').concat(S,'_summary" aria-label="grid output summary"><table id="').concat(S,'_map" summary="grid output content"></table><ul id="').concat(S,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(s)?this.dummyDOM.querySelector(s).insertAdjacentHTML("afterend",f):this.dummyDOM.querySelector("#".concat(l)).innerHTML=f,this._accessibleOutputs[S].map=this.dummyDOM.querySelector("#".concat(S,"_map"))),this._accessibleOutputs[S].shapeDetails=this.dummyDOM.querySelector("#".concat(S,"_shapeDetails")),this._accessibleOutputs[S].summary=this.dummyDOM.querySelector("#".concat(S,"_summary"))},h.default.prototype._updateAccsOutput=function(){var c=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(c+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(c+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(c+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(c+"gridOutputLabel"))},h.default.prototype._accsBackground=function(c){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==c&&(this.ingredients.colors.backgroundRGBA=c,this.ingredients.colors.background=this._rgbColorName(c))},h.default.prototype._accsCanvasColors=function(c,x){c==="fill"?this.ingredients.colors.fillRGBA!==x&&(this.ingredients.colors.fillRGBA=x,this.ingredients.colors.fill=this._rgbColorName(x)):c==="stroke"&&this.ingredients.colors.strokeRGBA!==x&&(this.ingredients.colors.strokeRGBA=x,this.ingredients.colors.stroke=this._rgbColorName(x))},h.default.prototype._accsOutput=function(c,x){c==="ellipse"&&x[2]===x[3]?c="circle":c==="rectangle"&&x[2]===x[3]&&(c="square");var S,l,f={},u=!0,s=function(g,_){var v;return g=g==="rectangle"||g==="ellipse"||g==="arc"||g==="circle"||g==="square"?(v=Math.round(_[0]+_[2]/2),Math.round(_[1]+_[3]/2)):g==="triangle"?(v=(_[0]+_[2]+_[4])/3,(_[1]+_[3]+_[5])/3):g==="quadrilateral"?(v=(_[0]+_[2]+_[4]+_[6])/4,(_[1]+_[3]+_[5]+_[7])/4):g==="line"?(v=(_[0]+_[2])/2,(_[1]+_[3])/2):(v=_[0],_[1]),[v,g]}(c,x);if(c==="line"?(f.color=this.ingredients.colors.stroke,f.length=Math.round(this.dist(x[0],x[1],x[2],x[3])),S=this._getPos(x[0],[1]),l=this._getPos(x[2],[3]),f.loc=a(s,this.width,this.height),f.pos=S===l?"at ".concat(S):"from ".concat(S," to ").concat(l)):(c==="point"?f.color=this.ingredients.colors.stroke:(f.color=this.ingredients.colors.fill,f.area=this._getArea(c,x)),f.pos=this._getPos.apply(this,function(g){return function(_){if(Array.isArray(_)){for(var v=0,j=new Array(_.length);v<_.length;v++)j[v]=_[v];return j}}(g)||function(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(s)),f.loc=a(s,this.width,this.height)),this.ingredients.shapes[c]){if(this.ingredients.shapes[c]!==[f]){for(var d in this.ingredients.shapes[c])JSON.stringify(this.ingredients.shapes[c][d])===JSON.stringify(f)&&(u=!1);u===!0&&this.ingredients.shapes[c].push(f)}}else this.ingredients.shapes[c]=[f]},h.default.prototype._getPos=function(c,x){c=new DOMPointReadOnly(c,x),x=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),x=(c=c.matrixTransform(x)).x,c=c.y;var S=this.width,l=this.height;return x<.4*S?c<.4*l?"top left":.6*l<c?"bottom left":"mid left":.6*S<x?c<.4*l?"top right":.6*l<c?"bottom right":"mid right":c<.4*l?"top middle":.6*l<c?"bottom middle":"middle"},h.default.prototype._getArea=function(c,x){var S,l,f=0,u=(c==="arc"?(f=(S=((x[5]-x[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*x[2]*x[3]/8,x[6]!=="open"&&x[6]!=="chord"||(l=x[0],_=x[1],u=x[0]+x[2]/2*Math.cos(x[4]).toFixed(2),v=x[1]+x[3]/2*Math.sin(x[4]).toFixed(2),d=x[0]+x[2]/2*Math.cos(x[5]).toFixed(2),s=x[1]+x[3]/2*Math.sin(x[5]).toFixed(2),l=Math.abs(l*(v-s)+u*(s-_)+d*(_-v))/2,S>Math.PI?f+=l:f-=l)):c==="ellipse"||c==="circle"?f=3.14*x[2]/2*x[3]/2:c==="line"||c==="point"?f=0:c==="quadrilateral"?f=Math.abs((x[6]+x[0])*(x[7]-x[1])+(x[0]+x[2])*(x[1]-x[3])+(x[2]+x[4])*(x[3]-x[5])+(x[4]+x[6])*(x[5]-x[7]))/2:c==="rectangle"||c==="square"?f=x[2]*x[3]:c==="triangle"&&(f=Math.abs(x[0]*(x[3]-x[5])+x[2]*(x[5]-x[1])+x[4]*(x[1]-x[3]))/2),this.width*this._pixelDensity),s=this.height*this._pixelDensity,d=[new DOMPoint(0,0),new DOMPoint(u,0),new DOMPoint(u,s),new DOMPoint(0,s)],g=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),_=d.map(function(j){return j.matrixTransform(g)}),v=Math.abs((_[3].x+_[0].x)*(_[3].y-_[0].y)+(_[0].x+_[1].x)*(_[0].y-_[1].y)+(_[1].x+_[2].x)*(_[1].y-_[2].y)+(_[2].x+_[3].x)*(_[2].y-_[3].y))/2;return Math.round(100*f/v)},r=h.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],256:[function(r,E,y){r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.concat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype._updateTextOutput=function(h){var a,c,x,S;this.dummyDOM.querySelector("#".concat(h,"_summary"))&&(a=this._accessibleOutputs[h],x=function(l,f,u,s){return u="Your output is a, ".concat(u," by ").concat(s," pixels, ").concat(f," canvas containing the following"),u=l===1?"".concat(u," shape:"):"".concat(u," ").concat(l," shapes:")}((c=function(l,f){var u,s="",d=0;for(u in f)for(var g in f[u]){var _='<li><a href="#'.concat(l,"shape").concat(d,'">').concat(f[u][g].color," ").concat(u,"</a>");u==="line"?_+=", ".concat(f[u][g].pos,", ").concat(f[u][g].length," pixels long.</li>"):(_+=", at ".concat(f[u][g].pos),u!=="point"&&(_+=", covering ".concat(f[u][g].area,"% of the canvas")),_+=".</li>"),s+=_,d++}return{numShapes:d,listShapes:s}}(h,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),S=function(l,f){var u,s="",d=0;for(u in f)for(var g in f[u]){var _='<tr id="'.concat(l,"shape").concat(d,'"><th>').concat(f[u][g].color," ").concat(u,"</th>");u==="line"?_+="<td>location = ".concat(f[u][g].pos,"</td><td>length = ").concat(f[u][g].length," pixels</td></tr>"):(_+="<td>location = ".concat(f[u][g].pos,"</td>"),u!=="point"&&(_+="<td> area = ".concat(f[u][g].area,"%</td>")),_+="</tr>"),s+=_,d++}return s}(h,this.ingredients.shapes),x!==a.summary.innerHTML&&(a.summary.innerHTML=x),c.listShapes!==a.list.innerHTML&&(a.list.innerHTML=c.listShapes),S!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=S),this._accessibleOutputs[h]=a)},r=r.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.concat":151}],257:[function(r,E,y){var h=(h=r("./core/main"))&&h.__esModule?h:{default:h};r("./core/constants"),r("./core/environment"),r("./core/friendly_errors/stacktrace"),r("./core/friendly_errors/validate_params"),r("./core/friendly_errors/file_errors"),r("./core/friendly_errors/fes_core"),r("./core/friendly_errors/sketch_reader"),r("./core/helpers"),r("./core/legacy"),r("./core/preload"),r("./core/p5.Element"),r("./core/p5.Graphics"),r("./core/p5.Renderer"),r("./core/p5.Renderer2D"),r("./core/rendering"),r("./core/shim"),r("./core/structure"),r("./core/transform"),r("./core/shape/2d_primitives"),r("./core/shape/attributes"),r("./core/shape/curves"),r("./core/shape/vertex"),r("./accessibility/outputs"),r("./accessibility/textOutput"),r("./accessibility/gridOutput"),r("./accessibility/color_namer"),r("./color/color_conversion"),r("./color/creating_reading"),r("./color/p5.Color"),r("./color/setting"),r("./data/p5.TypedDict"),r("./data/local_storage.js"),r("./dom/dom"),r("./accessibility/describe"),r("./events/acceleration"),r("./events/keyboard"),r("./events/mouse"),r("./events/touch"),r("./image/filters"),r("./image/image"),r("./image/loading_displaying"),r("./image/p5.Image"),r("./image/pixels"),r("./io/files"),r("./io/p5.Table"),r("./io/p5.TableRow"),r("./io/p5.XML"),r("./math/calculation"),r("./math/math"),r("./math/noise"),r("./math/p5.Vector"),r("./math/random"),r("./math/trigonometry"),r("./typography/attributes"),r("./typography/loading_displaying"),r("./typography/p5.Font"),r("./utilities/array_functions"),r("./utilities/conversion"),r("./utilities/string_functions"),r("./utilities/time_date"),r("./webgl/3d_primitives"),r("./webgl/interaction"),r("./webgl/light"),r("./webgl/loading"),r("./webgl/material"),r("./webgl/p5.Camera"),r("./webgl/p5.Geometry"),r("./webgl/p5.Matrix"),r("./webgl/p5.RendererGL.Immediate"),r("./webgl/p5.RendererGL"),r("./webgl/p5.RendererGL.Retained"),r("./webgl/p5.Framebuffer"),r("./webgl/p5.Shader"),r("./webgl/p5.RenderBuffer"),r("./webgl/p5.Texture"),r("./webgl/text"),r("./core/init"),E.exports=h.default},{"./accessibility/color_namer":252,"./accessibility/describe":253,"./accessibility/gridOutput":254,"./accessibility/outputs":255,"./accessibility/textOutput":256,"./color/color_conversion":258,"./color/creating_reading":259,"./color/p5.Color":260,"./color/setting":261,"./core/constants":262,"./core/environment":263,"./core/friendly_errors/fes_core":264,"./core/friendly_errors/file_errors":265,"./core/friendly_errors/sketch_reader":266,"./core/friendly_errors/stacktrace":267,"./core/friendly_errors/validate_params":268,"./core/helpers":269,"./core/init":270,"./core/legacy":272,"./core/main":273,"./core/p5.Element":274,"./core/p5.Graphics":275,"./core/p5.Renderer":276,"./core/p5.Renderer2D":277,"./core/preload":278,"./core/rendering":279,"./core/shape/2d_primitives":280,"./core/shape/attributes":281,"./core/shape/curves":282,"./core/shape/vertex":283,"./core/shim":284,"./core/structure":285,"./core/transform":286,"./data/local_storage.js":287,"./data/p5.TypedDict":288,"./dom/dom":289,"./events/acceleration":290,"./events/keyboard":291,"./events/mouse":292,"./events/touch":293,"./image/filters":294,"./image/image":295,"./image/loading_displaying":296,"./image/p5.Image":297,"./image/pixels":298,"./io/files":299,"./io/p5.Table":300,"./io/p5.TableRow":301,"./io/p5.XML":302,"./math/calculation":303,"./math/math":304,"./math/noise":305,"./math/p5.Vector":306,"./math/random":307,"./math/trigonometry":308,"./typography/attributes":309,"./typography/loading_displaying":310,"./typography/p5.Font":311,"./utilities/array_functions":312,"./utilities/conversion":313,"./utilities/string_functions":314,"./utilities/time_date":315,"./webgl/3d_primitives":316,"./webgl/interaction":317,"./webgl/light":318,"./webgl/loading":319,"./webgl/material":320,"./webgl/p5.Camera":321,"./webgl/p5.Framebuffer":322,"./webgl/p5.Geometry":323,"./webgl/p5.Matrix":324,"./webgl/p5.RenderBuffer":325,"./webgl/p5.RendererGL":328,"./webgl/p5.RendererGL.Immediate":326,"./webgl/p5.RendererGL.Retained":327,"./webgl/p5.Shader":329,"./webgl/p5.Texture":330,"./webgl/text":331}],258:[function(r,E,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.ColorConversion={_hsbaToHSLA:function(h){var a=h[0],c=h[1],x=h[2],S=(2-c)*x/2;return S!=0&&(S==1?c=0:S<.5?c/=2-c:c=c*x/(2-2*S)),[a,c,S,h[3]]},_hsbaToRGBA:function(h){var a,c,x,S,l,f=6*h[0],u=h[1],s=h[2];return u===0?[s,s,s,h[3]]:(c=s*(1-u),x=s*(1-u*(f-(a=Math.floor(f)))),u=s*(1-u*(1+a-f)),f=a===1?(S=x,l=s,c):a===2?(S=c,l=s,u):a===3?(S=c,l=x,s):a===4?(S=u,l=c,s):a===5?(S=s,l=c,x):(S=s,l=u,c),[S,l,f,h[3]])},_hslaToHSBA:function(h){var a=h[0],c=h[1],x=h[2],S=x<.5?(1+c)*x:x+c-x*c;return[a,c=2*(S-x)/S,S,h[3]]},_hslaToRGBA:function(h){var a,c=6*h[0],x=h[1],S=h[2];return x===0?[S,S,S,h[3]]:[(a=function(l,f,u){return l<0?l+=6:6<=l&&(l-=6),l<1?f+(u-f)*l:l<3?u:l<4?f+(u-f)*(4-l):f})(2+c,x=2*S-(S=S<.5?(1+x)*S:S+x-S*x),S),a(c,x,S),a(c-2,x,S),h[3]]},_rgbaToHSBA:function(h){var a,c,x=h[0],S=h[1],l=h[2],f=Math.max(x,S,l),u=f-Math.min(x,S,l);return u==0?c=a=0:(c=u/f,x===f?a=(S-l)/u:S===f?a=2+(l-x)/u:l===f&&(a=4+(x-S)/u),a<0?a+=6:6<=a&&(a-=6)),[a/6,c,f,h[3]]},_rgbaToHSLA:function(h){var a,c,x,S=h[0],l=h[1],f=h[2],u=Math.max(S,l,f),s=u+(x=Math.min(S,l,f));return(x=u-x)==0?c=a=0:(c=s<1?x/s:x/(2-s),S===u?a=(l-f)/x:l===u?a=2+(f-S)/x:f===u&&(a=4+(S-l)/x),a<0?a+=6:6<=a&&(a-=6)),[a/6,c,s/2,h[3]]}},r=r.default.ColorConversion,y.default=r},{"../core/main":273}],259:[function(r,E,y){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function a(l){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(S=r("../core/main"))&&S.__esModule?S:{default:S},x=function(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var f=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(f&&f.has(l))return f.get(l);var u,s={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var g;Object.prototype.hasOwnProperty.call(l,u)&&((g=d?Object.getOwnPropertyDescriptor(l,u):null)&&(g.get||g.set)?Object.defineProperty(s,u,g):s[u]=l[u])}return s.default=l,f&&f.set(l,s),s}(r("../core/constants"));r("./p5.Color"),r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),c.default.prototype.alpha=function(l){return c.default._validateParameters("alpha",arguments),this.color(l)._getAlpha()},c.default.prototype.blue=function(l){return c.default._validateParameters("blue",arguments),this.color(l)._getBlue()},c.default.prototype.brightness=function(l){return c.default._validateParameters("brightness",arguments),this.color(l)._getBrightness()},c.default.prototype.color=function(){var l;return c.default._validateParameters("color",arguments),arguments[0]instanceof c.default.Color?arguments[0]:(l=arguments[0]instanceof Array?arguments[0]:arguments,new c.default.Color(this,l))},c.default.prototype.green=function(l){return c.default._validateParameters("green",arguments),this.color(l)._getGreen()},c.default.prototype.hue=function(l){return c.default._validateParameters("hue",arguments),this.color(l)._getHue()},c.default.prototype.lerpColor=function(l,f,u){c.default._validateParameters("lerpColor",arguments);var s,d,g,_=this._colorMode,v=this._colorMaxes;if(_===x.RGB)d=l.levels.map(function(j){return j/255}),g=f.levels.map(function(j){return j/255});else if(_===x.HSB)l._getBrightness(),f._getBrightness(),d=l.hsba,g=f.hsba;else{if(_!==x.HSL)throw new Error("".concat(_,"cannot be used for interpolation."));l._getLightness(),f._getLightness(),d=l.hsla,g=f.hsla}return u=Math.max(Math.min(u,1),0),this.lerp===void 0&&(this.lerp=function(j,T,C){return C*(T-j)+j}),l=this.lerp(d[0],g[0],u),f=this.lerp(d[1],g[1],u),s=this.lerp(d[2],g[2],u),d=this.lerp(d[3],g[3],u),l*=v[_][0],f*=v[_][1],s*=v[_][2],d*=v[_][3],this.color(l,f,s,d)},c.default.prototype.lightness=function(l){return c.default._validateParameters("lightness",arguments),this.color(l)._getLightness()},c.default.prototype.red=function(l){return c.default._validateParameters("red",arguments),this.color(l)._getRed()},c.default.prototype.saturation=function(l){return c.default._validateParameters("saturation",arguments),this.color(l)._getSaturation()};var S=c.default;y.default=S},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],260:[function(r,E,y){function h(v){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(v)}function a(v){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(j){return h(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":h(j)})(v)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=l(r("../core/main")),x=function(v){if(v&&v.__esModule)return v;if(v===null||a(v)!=="object"&&typeof v!="function")return{default:v};var j=function(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,P)}();if(j&&j.has(v))return j.get(v);var T,C={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in v){var R;Object.prototype.hasOwnProperty.call(v,T)&&((R=L?Object.getOwnPropertyDescriptor(v,T):null)&&(R.get||R.set)?Object.defineProperty(C,T,R):C[T]=v[T])}return C.default=v,j&&j.set(v,C),C}(r("../core/constants")),S=l(r("./color_conversion"));function l(v){return v&&v.__esModule?v:{default:v}}function f(v,j){for(var T=0;T<j.length;T++){var C=j[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}var u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},s=(r=/\s*/,/(\d{1,3})/),d=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,g=new RegExp("".concat(d.source,"%")),_={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",s.source,",",s.source,",",s.source,"\\)$"].join(r.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(r.source),"i"),RGBA:new RegExp(["^rgba\\(",s.source,",",s.source,",",s.source,",",d.source,"\\)$"].join(r.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",d.source,"\\)$"].join(r.source),"i"),HSL:new RegExp(["^hsl\\(",s.source,",",g.source,",",g.source,"\\)$"].join(r.source),"i"),HSLA:new RegExp(["^hsla\\(",s.source,",",g.source,",",g.source,",",d.source,"\\)$"].join(r.source),"i"),HSB:new RegExp(["^hsb\\(",s.source,",",g.source,",",g.source,"\\)$"].join(r.source),"i"),HSBA:new RegExp(["^hsba\\(",s.source,",",g.source,",",g.source,",",d.source,"\\)$"].join(r.source),"i")};c.default.Color=function(){function v(L,R){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(L._colorMode,L._colorMaxes),![x.RGB,x.HSL,x.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=v._parseInputs.apply(this,R),this._calculateLevels()}var j,T,C;return j=v,C=[{key:"_parseInputs",value:function(L,R,P,B){var M,U=arguments.length,V=this.mode,$=this.maxes[V],G=[];if(3<=U){for(G[0]=L/$[0],G[1]=R/$[1],G[2]=P/$[2],G[3]=typeof B=="number"?B/$[3]:1,M=G.length-1;0<=M;--M){var I=G[M];I<0?G[M]=0:1<I&&(G[M]=1)}return V===x.HSL?S.default._hslaToRGBA(G):V===x.HSB?S.default._hsbaToRGBA(G):G}if(U===1&&typeof L=="string"){if(P=L.trim().toLowerCase(),u[P])return v._parseInputs.call(this,u[P]);if(_.HEX3.test(P))return(G=_.HEX3.exec(P).slice(1).map(function(q){return parseInt(q+q,16)/255}))[3]=1,G;if(_.HEX6.test(P))return(G=_.HEX6.exec(P).slice(1).map(function(q){return parseInt(q,16)/255}))[3]=1,G;if(_.HEX4.test(P))return _.HEX4.exec(P).slice(1).map(function(q){return parseInt(q+q,16)/255});if(_.HEX8.test(P))return _.HEX8.exec(P).slice(1).map(function(q){return parseInt(q,16)/255});if(_.RGB.test(P))return(G=_.RGB.exec(P).slice(1).map(function(q){return q/255}))[3]=1,G;if(_.RGB_PERCENT.test(P))return(G=_.RGB_PERCENT.exec(P).slice(1).map(function(q){return parseFloat(q)/100}))[3]=1,G;if(_.RGBA.test(P))return _.RGBA.exec(P).slice(1).map(function(q,Z){return Z===3?parseFloat(q):q/255});if(_.RGBA_PERCENT.test(P))return _.RGBA_PERCENT.exec(P).slice(1).map(function(q,Z){return Z===3?parseFloat(q):parseFloat(q)/100});if(_.HSL.test(P)?(G=_.HSL.exec(P).slice(1).map(function(q,Z){return Z===0?parseInt(q,10)/360:parseInt(q,10)/100}))[3]=1:_.HSLA.test(P)&&(G=_.HSLA.exec(P).slice(1).map(function(q,Z){return Z===0?parseInt(q,10)/360:Z===3?parseFloat(q):parseInt(q,10)/100})),(G=G.map(function(q){return Math.max(Math.min(q,1),0)})).length)return S.default._hslaToRGBA(G);if(_.HSB.test(P)?(G=_.HSB.exec(P).slice(1).map(function(q,Z){return Z===0?parseInt(q,10)/360:parseInt(q,10)/100}))[3]=1:_.HSBA.test(P)&&(G=_.HSBA.exec(P).slice(1).map(function(q,Z){return Z===0?parseInt(q,10)/360:Z===3?parseFloat(q):parseInt(q,10)/100})),G.length){for(M=G.length-1;0<=M;--M)G[M]=Math.max(Math.min(G[M],1),0);return S.default._hsbaToRGBA(G)}G=[1,1,1,1]}else{if(U!==1&&U!==2||typeof L!="number")throw new Error("".concat(arguments,"is not a valid color representation."));G[0]=L/$[2],G[1]=L/$[2],G[2]=L/$[2],G[3]=typeof R=="number"?R/$[3]:1,G=G.map(function(q){return Math.max(Math.min(q,1),0)})}return G}}],(T=[{key:"toString",value:function(L){var R=this.levels,P=this._array,B=P[3];switch(L){case"#rrggbb":return"#".concat(R[0]<16?"0".concat(R[0].toString(16)):R[0].toString(16),R[1]<16?"0".concat(R[1].toString(16)):R[1].toString(16),R[2]<16?"0".concat(R[2].toString(16)):R[2].toString(16));case"#rrggbbaa":return"#".concat(R[0]<16?"0".concat(R[0].toString(16)):R[0].toString(16),R[1]<16?"0".concat(R[1].toString(16)):R[1].toString(16),R[2]<16?"0".concat(R[2].toString(16)):R[2].toString(16),R[3]<16?"0".concat(R[3].toString(16)):R[3].toString(16));case"#rgb":return"#".concat(Math.round(15*P[0]).toString(16),Math.round(15*P[1]).toString(16),Math.round(15*P[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*P[0]).toString(16),Math.round(15*P[1]).toString(16),Math.round(15*P[2]).toString(16),Math.round(15*P[3]).toString(16));case"rgb":return"rgb(".concat(R[0],", ",R[1],", ",R[2],")");case"rgb%":return"rgb(".concat((100*P[0]).toPrecision(3),"%, ",(100*P[1]).toPrecision(3),"%, ",(100*P[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*P[0]).toPrecision(3),"%, ",(100*P[1]).toPrecision(3),"%, ",(100*P[2]).toPrecision(3),"%, ",(100*P[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[x.HSB][0],", ",this.hsba[1]*this.maxes[x.HSB][1],", ",this.hsba[2]*this.maxes[x.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[x.HSB][0],", ",this.hsba[1]*this.maxes[x.HSB][1],", ",this.hsba[2]*this.maxes[x.HSB][2],", ",B,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*B).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[x.HSL][0],", ",this.hsla[1]*this.maxes[x.HSL][1],", ",this.hsla[2]*this.maxes[x.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[x.HSL][0],", ",this.hsla[1]*this.maxes[x.HSL][1],", ",this.hsla[2]*this.maxes[x.HSL][2],", ",B,")");case"hsla%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*B).toPrecision(3),"%)");default:return"rgba(".concat(R[0],",",R[1],",",R[2],",",B,")")}}},{key:"setRed",value:function(L){this._array[0]=L/this.maxes[x.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(L){this._array[1]=L/this.maxes[x.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(L){this._array[2]=L/this.maxes[x.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(L){this._array[3]=L/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var L=this._array,R=this.levels=new Array(L.length),P=L.length-1;0<=P;--P)R[P]=Math.round(255*L[P]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(L,R){this.mode=L,this.maxes=R}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[x.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[x.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[x.RGB][1]}},{key:"_getHue",value:function(){return this.mode===x.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[x.HSB][0]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[x.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[x.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[x.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===x.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[x.HSB][1]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[x.HSL][1])}}])&&f(j.prototype,T),C&&f(j,C),v}(),s=c.default.Color,y.default=s},{"../core/constants":262,"../core/main":273,"./color_conversion":258,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],261:[function(r,E,y){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function a(l){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.fill"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(S=r("../core/main"))&&S.__esModule?S:{default:S},x=function(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var f=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(f&&f.has(l))return f.get(l);var u,s={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var g;Object.prototype.hasOwnProperty.call(l,u)&&((g=d?Object.getOwnPropertyDescriptor(l,u):null)&&(g.get||g.set)?Object.defineProperty(s,u,g):s[u]=l[u])}return s.default=l,f&&f.set(l,s),s}(r("../core/constants"));r("./p5.Color"),c.default.prototype.background=function(){var l;return(l=this._renderer).background.apply(l,arguments),this},c.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},c.default.prototype.colorMode=function(l,f,u,s,d){return c.default._validateParameters("colorMode",arguments),l!==x.RGB&&l!==x.HSB&&l!==x.HSL||(this._colorMode=l,l=this._colorMaxes[l],arguments.length===2?(l[0]=f,l[1]=f,l[2]=f,l[3]=f):arguments.length===4?(l[0]=f,l[1]=u,l[2]=s):arguments.length===5&&(l[0]=f,l[1]=u,l[2]=s,l[3]=d)),this},c.default.prototype.fill=function(){var l;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(l=this._renderer).fill.apply(l,arguments),this},c.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},c.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},c.default.prototype.stroke=function(){var l;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(l=this._renderer).stroke.apply(l,arguments),this},c.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},c.default.prototype.noErase=function(){return this._renderer.noErase(),this};var S=c.default;y.default=S},{"../core/constants":262,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],262:[function(r,E,y){Object.defineProperty(y,"__esModule",{value:!0}),y.QUADRATIC=y.LINEAR=y._CTX_MIDDLE=y._DEFAULT_LEADMULT=y._DEFAULT_TEXT_FILL=y.WORD=y.CHAR=y.BOLDITALIC=y.BOLD=y.ITALIC=y.NORMAL=y.BLUR=y.ERODE=y.DILATE=y.POSTERIZE=y.INVERT=y.OPAQUE=y.GRAY=y.THRESHOLD=y.BURN=y.DODGE=y.SOFT_LIGHT=y.HARD_LIGHT=y.OVERLAY=y.REPLACE=y.SCREEN=y.MULTIPLY=y.EXCLUSION=y.SUBTRACT=y.DIFFERENCE=y.LIGHTEST=y.DARKEST=y.ADD=y.REMOVE=y.BLEND=y.UP_ARROW=y.TAB=y.SHIFT=y.RIGHT_ARROW=y.RETURN=y.OPTION=y.LEFT_ARROW=y.ESCAPE=y.ENTER=y.DOWN_ARROW=y.DELETE=y.CONTROL=y.BACKSPACE=y.ALT=y.AUTO=y.HSL=y.HSB=y.RGB=y.MITER=y.BEVEL=y.ROUND=y.SQUARE=y.PROJECT=y.PIE=y.CHORD=y.OPEN=y.CLOSE=y.TESS=y.QUAD_STRIP=y.QUADS=y.TRIANGLE_STRIP=y.TRIANGLE_FAN=y.TRIANGLES=y.LINE_LOOP=y.LINE_STRIP=y.LINES=y.POINTS=y.BASELINE=y.BOTTOM=y.TOP=y.CENTER=y.LEFT=y.RIGHT=y.RADIUS=y.CORNERS=y.CORNER=y.RAD_TO_DEG=y.DEG_TO_RAD=y.RADIANS=y.DEGREES=y.TWO_PI=y.TAU=y.QUARTER_PI=y.PI=y.HALF_PI=y.WAIT=y.TEXT=y.MOVE=y.HAND=y.CROSS=y.ARROW=y.WEBGL2=y.WEBGL=y.P2D=y.VERSION=void 0,y.RGBA=y.HALF_FLOAT=y.FLOAT=y.UNSIGNED_INT=y.UNSIGNED_BYTE=y.COVER=y.CONTAIN=y.FALLBACK=y.LABEL=y.AXES=y.GRID=y._DEFAULT_FILL=y._DEFAULT_STROKE=y.PORTRAIT=y.LANDSCAPE=y.MIRROR=y.CLAMP=y.REPEAT=y.NEAREST=y.IMAGE=y.IMMEDIATE=y.TEXTURE=y.FILL=y.STROKE=y.CURVE=y.BEZIER=void 0;var h=Math.PI,a=(y.VERSION="1.7.0",y.P2D="p2d",y.WEBGL="webgl",y.WEBGL2="webgl2",y.ARROW="default",y.CROSS="crosshair",y.HAND="pointer",y.MOVE="move",y.TEXT="text",y.WAIT="wait",h/2);y.HALF_PI=a,a=h,y.PI=a,a=h/4,y.QUARTER_PI=a,a=2*h,y.TAU=a,a=2*h,y.TWO_PI=a,y.DEGREES="degrees",y.RADIANS="radians",a=h/180,y.DEG_TO_RAD=a,a=180/h,y.RAD_TO_DEG=a,y.CORNER="corner",y.CORNERS="corners",y.RADIUS="radius",y.RIGHT="right",y.LEFT="left",y.CENTER="center",y.TOP="top",y.BOTTOM="bottom",y.BASELINE="alphabetic",y.POINTS=0,y.LINES=1,y.LINE_STRIP=3,y.LINE_LOOP=2,y.TRIANGLES=4,y.TRIANGLE_FAN=6,y.TRIANGLE_STRIP=5,y.QUADS="quads",y.QUAD_STRIP="quad_strip",y.TESS="tess",y.CLOSE="close",y.OPEN="open",y.CHORD="chord",y.PIE="pie",y.PROJECT="square",y.SQUARE="butt",y.ROUND="round",y.BEVEL="bevel",y.MITER="miter",y.RGB="rgb",y.HSB="hsb",y.HSL="hsl",y.AUTO="auto",y.ALT=18,y.BACKSPACE=8,y.CONTROL=17,y.DELETE=46,y.DOWN_ARROW=40,y.ENTER=13,y.ESCAPE=27,y.LEFT_ARROW=37,y.OPTION=18,y.RETURN=13,y.RIGHT_ARROW=39,y.SHIFT=16,y.TAB=9,y.UP_ARROW=38,y.BLEND="source-over",y.REMOVE="destination-out",y.ADD="lighter",y.DARKEST="darken",y.LIGHTEST="lighten",y.DIFFERENCE="difference",y.SUBTRACT="subtract",y.EXCLUSION="exclusion",y.MULTIPLY="multiply",y.SCREEN="screen",y.REPLACE="copy",y.OVERLAY="overlay",y.HARD_LIGHT="hard-light",y.SOFT_LIGHT="soft-light",y.DODGE="color-dodge",y.BURN="color-burn",y.THRESHOLD="threshold",y.GRAY="gray",y.OPAQUE="opaque",y.INVERT="invert",y.POSTERIZE="posterize",y.DILATE="dilate",y.ERODE="erode",y.BLUR="blur",y.NORMAL="normal",y.ITALIC="italic",y.BOLD="bold",y.BOLDITALIC="bold italic",y.CHAR="CHAR",y.WORD="WORD",y._DEFAULT_TEXT_FILL="#000000",y._DEFAULT_LEADMULT=1.25,y._CTX_MIDDLE="middle",y.LINEAR="linear",y.QUADRATIC="quadratic",y.BEZIER="bezier",y.CURVE="curve",y.STROKE="stroke",y.FILL="fill",y.TEXTURE="texture",y.IMMEDIATE="immediate",y.IMAGE="image",y.NEAREST="nearest",y.REPEAT="repeat",y.CLAMP="clamp",y.MIRROR="mirror",y.LANDSCAPE="landscape",y.PORTRAIT="portrait",y._DEFAULT_STROKE="#000000",y._DEFAULT_FILL="#FFFFFF",y.GRID="grid",y.AXES="axes",y.LABEL="label",y.FALLBACK="fallback",y.CONTAIN="contain",y.COVER="cover",y.UNSIGNED_BYTE="unsigned-byte",y.UNSIGNED_INT="unsigned-int",y.FLOAT="float",y.HALF_FLOAT="half-float",y.RGBA="rgba"},{}],263:[function(r,E,y){function h(s){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(s)}function a(s){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(d){return h(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":h(d)})(s)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.search"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.search"),r("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(x=r("./main"))&&x.__esModule?x:{default:x},x=function(s){if(s&&s.__esModule)return s;if(s===null||a(s)!=="object"&&typeof s!="function")return{default:s};var d=function(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,T)}();if(d&&d.has(s))return d.get(s);var g,_={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in s){var j;Object.prototype.hasOwnProperty.call(s,g)&&((j=v?Object.getOwnPropertyDescriptor(s,g):null)&&(j.get||j.set)?Object.defineProperty(_,g,j):_[g]=s[g])}return _.default=s,d&&d.set(s,_),_}(r("./constants")),S=[x.ARROW,x.CROSS,x.HAND,x.MOVE,x.TEXT,x.WAIT],l=(c.default.prototype._frameRate=0,c.default.prototype._lastFrameTime=window.performance.now(),c.default.prototype._targetFrameRate=60,window.print);function f(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function u(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}c.default.prototype.print=function(){var s;arguments.length?(s=console).log.apply(s,arguments):l()},c.default.prototype.frameCount=0,c.default.prototype.deltaTime=0,c.default.prototype.focused=document.hasFocus(),c.default.prototype.cursor=function(s,d,g){var _,v="auto",j=this._curElement.elt;S.includes(s)?v=s:typeof s=="string"&&(_="",d&&g&&typeof d=="number"&&typeof g=="number"&&(_="".concat(d," ").concat(g)),v=s.substring(0,7)==="http://"||s.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(s)?"url(".concat(s,") ").concat(_,", auto"):s),j.style.cursor=v},c.default.prototype.frameRate=function(s){return c.default._validateParameters("frameRate",arguments),typeof s!="number"||s<0?this._frameRate:(this._setProperty("_targetFrameRate",s),s===0&&this._setProperty("_frameRate",s),this)},c.default.prototype.getFrameRate=function(){return this.frameRate()},c.default.prototype.setFrameRate=function(s){return this.frameRate(s)},c.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},c.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},c.default.prototype.webglVersion=x.P2D,c.default.prototype.displayWidth=screen.width,c.default.prototype.displayHeight=screen.height,c.default.prototype.windowWidth=f(),c.default.prototype.windowHeight=u(),c.default.prototype._onresize=function(s){this._setProperty("windowWidth",f()),this._setProperty("windowHeight",u());var d=this._isGlobal?window:this;typeof d.windowResized!="function"||(d=d.windowResized(s))===void 0||d||s.preventDefault()},c.default.prototype.width=0,c.default.prototype.height=0,c.default.prototype.fullscreen=function(s){if(c.default._validateParameters("fullscreen",arguments),s===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(s){if(s=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},c.default.prototype.pixelDensity=function(s){var d;return c.default._validateParameters("pixelDensity",arguments),typeof s=="number"?(s!==this._pixelDensity&&(this._pixelDensity=s),(d=this).resizeCanvas(this.width,this.height,!0)):d=this._pixelDensity,d},c.default.prototype.displayDensity=function(){return window.devicePixelRatio},c.default.prototype.getURL=function(){return location.href},c.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(s){return s!==""})},c.default.prototype.getURLParams=function(){for(var s,d=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,g={};(s=d.exec(location.search))!=null;)s.index===d.lastIndex&&d.lastIndex++,g[s[1]]=s[2];return g},r=c.default,y.default=r},{"./constants":262,"./main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.search":195,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],264:[function(r,E,y){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.starts-with"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.starts-with"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(l=r("../main"))&&l.__esModule?l:{default:l};function a(f,u){u=u||console.log.bind(console),c||x(),c.some(function(s){var d;if(f.message&&f.message.match("\\W?".concat(s.name,"\\W"))!==null)return d=s.type==="function"?"".concat(s.name,"()"):s.name,u("Did you just try to use p5.js's ".concat(d," ").concat(s.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(S)),!0})}r("../internationalization");var c=null,x=null,S=(h.default._friendlyError=h.default._checkForUserDefinedFunctions=h.default._fesErrorMonitor=function(){},c=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),l=(x=function(){function f(s){return Object.getOwnPropertyNames(s).filter(function(d){return d[0]!=="_"&&!(d in u)&&(u[d]=!0)}).map(function(d){var g=typeof s[d]=="function"?"function":d===d.toUpperCase()?"constant":"variable";return{name:d,type:g}})}var u={};(c=[].concat(f(h.default.prototype),f(r("../constants")))).sort(function(s,d){return d.name.length-s.name.length})},h.default.prototype._helpForMisusedAtTopLevelCode=a,document.readyState!=="complete"&&(window.addEventListener("error",a,!1),window.addEventListener("load",function(){window.removeEventListener("error",a,!1)})),h.default);y.default=l},{"../constants":262,"../internationalization":271,"../main":273,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.function.name":167,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.starts-with":197,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],265:[function(r,E,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(h=r("../main"))&&h.__esModule?h:{default:h};r("../internationalization"),h.default._friendlyFileLoadError=function(){},r=h.default,y.default=r},{"../internationalization":271,"../main":273}],266:[function(r,E,y){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function a(l){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=function(l){return l&&l.__esModule?l:{default:l}}(r("../main"));r("../internationalization"),function(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var f=x();if(f&&f.has(l))return f.get(l);var u,s,d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l)Object.prototype.hasOwnProperty.call(l,u)&&((s=g?Object.getOwnPropertyDescriptor(l,u):null)&&(s.get||s.set)?Object.defineProperty(d,u,s):d[u]=l[u]);d.default=l,f&&f.set(l,d)}(r("../constants"));function x(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,x=function(){return l},l)}c.default._fesCodeReader=function(){};var S=c.default;y.default=S},{"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],267:[function(r,E,y){function h(){var a=/(^|@)\S+:\d+/,c=/^\s*at .*(\S+:\d+|\(native\))/m,x=/^(eval@)?(\[native code])?$/;return{parse:function(S){return S.stacktrace!==void 0||S["opera#sourceloc"]!==void 0?this.parseOpera(S):S.stack&&S.stack.match(c)?this.parseV8OrIE(S):S.stack?this.parseFFOrSafari(S):void 0},extractLocation:function(S){return S.indexOf(":")===-1?[S]:[(S=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(S.replace(/[()]/g,"")))[1],S[2]||void 0,S[3]||void 0]},parseV8OrIE:function(S){return S.stack.split(`
`).filter(function(l){return!!l.match(c)},this).map(function(l){var f=(u=(l=-1<l.indexOf("(eval ")?l.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):l).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),u=(u=f?u.replace(f[0],""):u).split(/\s+/).slice(1);return f=this.extractLocation(f?f[1]:u.pop()),{functionName:u.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(f[0])?void 0:f[0],lineNumber:f[1],columnNumber:f[2],source:l}},this)},parseFFOrSafari:function(S){return S.stack.split(`
`).filter(function(l){return!l.match(x)},this).map(function(l){var f,u;return(l=-1<l.indexOf(" > eval")?l.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):l).indexOf("@")===-1&&l.indexOf(":")===-1?{functionName:l}:{functionName:(u=l.match(f=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&u[1]?u[1]:void 0,fileName:(u=this.extractLocation(l.replace(f,"")))[0],lineNumber:u[1],columnNumber:u[2],source:l}},this)},parseOpera:function(S){return!S.stacktrace||-1<S.message.indexOf(`
`)&&S.message.split(`
`).length>S.stacktrace.split(`
`).length?this.parseOpera9(S):S.stack?this.parseOpera11(S):this.parseOpera10(S)},parseOpera9:function(S){for(var l=/Line (\d+).*script (?:in )?(\S+)/i,f=S.message.split(`
`),u=[],s=2,d=f.length;s<d;s+=2){var g=l.exec(f[s]);g&&u.push({fileName:g[2],lineNumber:g[1],source:f[s]})}return u},parseOpera10:function(S){for(var l=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,f=S.stacktrace.split(`
`),u=[],s=0,d=f.length;s<d;s+=2){var g=l.exec(f[s]);g&&u.push({functionName:g[3]||void 0,fileName:g[2],lineNumber:g[1],source:f[s]})}return u},parseOpera11:function(S){return S.stack.split(`
`).filter(function(l){return!!l.match(a)&&!l.match(/^Error created at/)},this).map(function(l){var f,u=l.split("@"),s=this.extractLocation(u.pop());return{functionName:(u=u.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(f=u.match(/\(([^)]*)\)/)?u.replace(/^[^(]+\(([^)]*)\)$/,"$1"):f)===void 0||f==="[arguments not available]"?void 0:f.split(","),fileName:s[0],lineNumber:s[1],columnNumber:s[2],source:l}},this)}}}r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(r=(r=r("../main"))&&r.__esModule?r:{default:r}).default._getErrorStackParser=function(){return new h},r=r.default,y.default=r},{"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196}],268:[function(r,E,y){function h(x){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(x)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(a=r("../main"))&&a.__esModule?a:{default:a};function c(x){return(c=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(S){return h(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":h(S)})(x)}(function(x){if(!(x&&x.__esModule||x===null||c(x)!=="object"&&typeof x!="function")){var S=function(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,d)}();if(S&&S.has(x))return S.get(x);var l,f={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in x){var s;Object.prototype.hasOwnProperty.call(x,l)&&((s=u?Object.getOwnPropertyDescriptor(x,l):null)&&(s.get||s.set)?Object.defineProperty(f,l,s):f[l]=x[l])}f.default=x,S&&S.set(x,f)}})(r("../constants")),r("../internationalization"),a.default._validateParameters=a.default._clearValidateParamsCache=function(){},r=a.default,y.default=r},{"../../../docs/parameterData.json":void 0,"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.map":168,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],269:[function(r,E,y){function h(x){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(x)}function a(x){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(S){return h(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":h(S)})(x)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=function(x){if(x&&x.__esModule)return x;if(x===null||a(x)!=="object"&&typeof x!="function")return{default:x};var S=function(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,d)}();if(S&&S.has(x))return S.get(x);var l,f={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in x){var s;Object.prototype.hasOwnProperty.call(x,l)&&((s=u?Object.getOwnPropertyDescriptor(x,l):null)&&(s.get||s.set)?Object.defineProperty(f,l,s):f[l]=x[l])}return f.default=x,S&&S.set(x,f),f}(r("./constants"));y.default={modeAdjust:function(x,S,l,f,u){return u===c.CORNER?{x,y:S,w:l,h:f}:u===c.CORNERS?{x,y:S,w:l-x,h:f-S}:u===c.RADIUS?{x:x-l,y:S-f,w:2*l,h:2*f}:u===c.CENTER?{x:x-.5*l,y:S-.5*f,w:l,h:f}:void 0}}},{"./constants":262,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],270:[function(r,E,y){r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var h=(a=r("../core/main"))&&a.__esModule?a:{default:a};r("./internationalization");var a=Promise.resolve();Promise.all([new Promise(function(c,x){document.readyState==="complete"?c():window.addEventListener("load",c,!1)}),a]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!h.default.instance&&new h.default})},{"../core/main":273,"./internationalization":271,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/web.dom-collections.iterator":236}],271:[function(r,E,y){r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.setTranslatorLanguage=y.currentTranslatorLanguage=y.availableTranslatorLanguages=y.initialize=y.translator=void 0;var h,a=x(r("i18next")),c=x(r("i18next-browser-languagedetector"));function x(f){return f&&f.__esModule?f:{default:f}}function S(f,u){for(var s=0;s<u.length;s++){var d=u[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}var l=function(){function f(d,g){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.init(d,g)}var u,s;return u=f,(s=[{key:"fetchWithTimeout",value:function(d,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(d,g),new Promise(function(v,j){return setTimeout(function(){return j(new Error("timeout"))},_)})])}},{key:"init",value:function(d){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=d,this.options=g}},{key:"read",value:function(d,g,_){var v=this.options.loadPath;d===this.options.fallback?_(null,h[d][g]):(void 0).includes(d)?(v=this.services.interpolator.interpolate(v,{lng:d,ns:g}),this.loadUrl(v,_)):_("Not found",!1)}},{key:"loadUrl",value:function(d,g){this.fetchWithTimeout(d).then(function(_){if(_.ok)return _.json();throw new Error("failed loading ".concat(d))},function(){throw new Error("failed loading ".concat(d))}).then(function(_){return g(null,_)}).catch(g)}}])&&S(u.prototype,s),f}();l.type="backend",y.translator=function(f,u){console.debug("p5.js translator called before translations were loaded"),a.default.t(f,u)},y.initialize=function(){return a.default.use(c.default).use(l).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:h}).then(function(f){y.translator=f},function(f){return console.debug("Translations failed to load (".concat(f,")"))})},y.availableTranslatorLanguages=function(){return a.default.languages},y.currentTranslatorLanguage=function(f){return a.default.language},y.setTranslatorLanguage=function(f){return a.default.changeLanguage(f||void 0,function(u){return console.debug("Translations failed to load (".concat(u,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236,i18next:3,"i18next-browser-languagedetector":3}],272:[function(r,E,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(r=(r=r("./main"))&&r.__esModule?r:{default:r}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},r.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},r.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},r.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},r=r.default,y.default=r},{"./main":273}],273:[function(r,E,y){function h(f){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function a(f){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(u){return h(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":h(u)})(f)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,r("./shim");var c=function(f){if(f&&f.__esModule)return f;if(f===null||a(f)!=="object"&&typeof f!="function")return{default:f};var u=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(u&&u.has(f))return u.get(f);var s,d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in f){var _;Object.prototype.hasOwnProperty.call(f,s)&&((_=g?Object.getOwnPropertyDescriptor(f,s):null)&&(_.get||_.set)?Object.defineProperty(d,s,_):d[s]=f[s])}return d.default=f,u&&u.set(f,d),d}(r("./constants"));function x(f,u){for(var s=0;s<u.length;s++){var d=u[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}var S,l=function(){function f(d,g,_){var v=this;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=g,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},g=Object.getOwnPropertyNames(f.prototype._registeredMethods);var j=!0,T=!1,C=void 0;try{for(var L,R=g[Symbol.iterator]();!(j=(L=R.next()).done);j=!0){var P=L.value;this._registeredMethods[P]=f.prototype._registeredMethods[P].slice()}}catch(Z){T=!0,C=Z}finally{try{j||R.return==null||R.return()}finally{if(T)throw C}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){v._userNode&&typeof v._userNode=="string"&&(v._userNode=document.getElementById(v._userNode));var Z=v._isGlobal?window:v;if(Z.preload){var J,ee=document.getElementById(v._loadingScreenId),le=(ee||((ee=document.createElement("div")).innerHTML="Loading...",ee.style.position="absolute",ee.id=v._loadingScreenId,(v._userNode||document.body).appendChild(ee)),v._preloadMethods);for(J in le){le[J]=le[J]||f;var ae=le[J];ae!==f.prototype&&ae!==f||(v._isGlobal&&(window[J]=v._wrapPreload(v,J)),ae=v),v._registeredPreloadMethods[J]=ae[J],ae[J]=v._wrapPreload(ae,J)}Z.preload(),v._runIfPreloadsAreDone()}else v._setup(),v._recording||v._draw()},this._runIfPreloadsAreDone=function(){var Z,J=this._isGlobal?window:this;J._preloadCount===0&&((Z=document.getElementById(J._loadingScreenId))&&Z.parentNode.removeChild(Z),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),J._setup(),this._recording||J._draw()))},this._decrementPreload=function(){var Z=this._isGlobal?window:this;Z._preloadDone||typeof Z.preload!="function"||(Z._setProperty("_preloadCount",Z._preloadCount-1),Z._runIfPreloadsAreDone())},this._wrapPreload=function(Z,J){var ee=this;return function(){ee._incrementPreload();for(var le=arguments.length,ae=new Array(le),fe=0;fe<le;fe++)ae[fe]=arguments[fe];return ee._registeredPreloadMethods[J].apply(Z,ae)}},this._incrementPreload=function(){var Z=this._isGlobal?window:this;Z._preloadDone||Z._setProperty("_preloadCount",Z._preloadCount+1)},this._setup=function(){v.createCanvas(v._defaultCanvasSize.width,v._defaultCanvasSize.height,"p2d");var Z=v._isGlobal?window:v;if(typeof Z.preload=="function")for(var J in v._preloadMethods)Z[J]=v._preloadMethods[J][J],Z[J]&&v&&(Z[J]=Z[J].bind(v));v._millisStart=window.performance.now(),Z._preloadDone=!0,typeof Z.setup=="function"&&Z.setup();var ee=document.getElementsByTagName("canvas"),le=!0,ae=!1,fe=void 0;try{for(var H,X=ee[Symbol.iterator]();!(le=(H=X.next()).done);le=!0){var te=H.value;te.dataset.hidden==="true"&&(te.style.visibility="",delete te.dataset.hidden)}}catch(ue){ae=!0,fe=ue}finally{try{le||X.return==null||X.return()}finally{if(ae)throw fe}}v._lastTargetFrameTime=window.performance.now(),v._lastRealFrameTime=window.performance.now(),v._setupDone=!0,(v._accessibleOutputs.grid||v._accessibleOutputs.text)&&v._updateAccsOutput()},this._draw=function(){var Z=window.performance.now(),J=Z-v._lastTargetFrameTime,ee=1e3/v._targetFrameRate;(!v._loop||ee-5<=J)&&(v.deltaTime=Z-v._lastRealFrameTime,v._setProperty("deltaTime",v.deltaTime),v._frameRate=1e3/v.deltaTime,v.redraw(),v._lastTargetFrameTime=Math.max(v._lastTargetFrameTime+ee,Z),v._lastRealFrameTime=Z,v._updateMouseCoords!==void 0&&(v._updateMouseCoords(),v._setProperty("movedX",0),v._setProperty("movedY",0))),v._loop&&(v._requestAnimId=window.requestAnimationFrame(v._draw))},this._setProperty=function(Z,J){v[Z]=J,v._isGlobal&&(window[Z]=J)},this.remove=function(){if((ee=document.getElementById(v._loadingScreenId))&&(ee.parentNode.removeChild(ee),v._incrementPreload()),v._curElement){for(var Z in v._loop=!1,v._requestAnimId&&window.cancelAnimationFrame(v._requestAnimId),v._events)window.removeEventListener(Z,v._events[Z]);var J=!0,ee=!1,le=void 0;try{for(var ae,fe=v._elements[Symbol.iterator]();!(J=(ae=fe.next()).done);J=!0){var H,X=ae.value;for(H in X.elt&&X.elt.parentNode&&X.elt.parentNode.removeChild(X.elt),X._events)X.elt.removeEventListener(H,X._events[H])}}catch(he){ee=!0,le=he}finally{try{J||fe.return==null||fe.return()}finally{if(ee)throw le}}var te=v;v._registeredMethods.remove.forEach(function(he){he!==void 0&&he.call(te)})}if(v._isGlobal){for(var ue in f.prototype)try{delete window[ue]}catch{window[ue]=void 0}for(var ce in v)if(v.hasOwnProperty(ce))try{delete window[ce]}catch{window[ce]=void 0}f.instance=null}},this._registeredMethods.init.forEach(function(Z){Z!==void 0&&Z.call(this)},this),this._setupPromisePreloads();var B,M,U=this._createFriendlyGlobalFunctionBinder();if(d)d(this),f._checkForUserDefinedFunctions(this);else{for(var V in this._isGlobal=!0,f.instance=this,f.prototype)typeof f.prototype[V]=="function"?(B=V.substring(2),this._events.hasOwnProperty(B)||(Math.hasOwnProperty(V)&&Math[V]===f.prototype[V]?U(V,f.prototype[V]):U(V,f.prototype[V].bind(this)))):U(V,f.prototype[V]);for(var $ in this)this.hasOwnProperty($)&&U($,this[$])}for(M in this._events){var G=this["_on".concat(M)];G&&(G=G.bind(this),window.addEventListener(M,G,{passive:!1}),this._events[M]=G)}function I(){v._setProperty("focused",!0)}function q(){v._setProperty("focused",!1)}window.addEventListener("focus",I),window.addEventListener("blur",q),this.registerMethod("remove",function(){window.removeEventListener("focus",I),window.removeEventListener("blur",q)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var u,s;return u=f,(s=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=c.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(d,g){f.prototype._preloadMethods.hasOwnProperty(d)||(f.prototype._preloadMethods[d]=g)}},{key:"registerMethod",value:function(d,g){var _=this||f.prototype;_._registeredMethods.hasOwnProperty(d)||(_._registeredMethods[d]=[]),_._registeredMethods[d].push(g)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},g=d.globalObject||window;return d.log||console.log.bind(console),function(_,v){f.disableFriendlyErrors,g[_]=v}}}])&&x(u.prototype,s),f}();for(S in l.instance=null,l.disableFriendlyErrors=!1,c)l.prototype[S]=c[S];l.VERSION=c.VERSION,l.prototype._preloadMethods={loadJSON:l.prototype,loadImage:l.prototype,loadStrings:l.prototype,loadXML:l.prototype,loadBytes:l.prototype,loadTable:l.prototype,loadFont:l.prototype,loadModel:l.prototype,loadShader:l.prototype},l.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},l.prototype._registeredPreloadMethods={},y.default=l},{"./constants":262,"./shim":284,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],274:[function(r,E,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("./main"))&&r.__esModule?r:{default:r};function a(c,x){for(var S=0;S<x.length;S++){var l=x[S];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,l.key,l)}}h.default.Element=function(){function c(f,u){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.elt=f,this._pInst=this._pixelsState=u,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var x,S,l;return x=c,l=[{key:"_adjustListener",value:function(f,u,s){return u===!1?h.default.Element._detachListener(f,s):h.default.Element._attachListener(f,u,s),this}},{key:"_attachListener",value:function(f,u,s){s._events[f]&&h.default.Element._detachListener(f,s),u=u.bind(s),s.elt.addEventListener(f,u,!1),s._events[f]=u}},{key:"_detachListener",value:function(f,u){var s=u._events[f];u.elt.removeEventListener(f,s,!1),u._events[f]=null}}],(S=[{key:"parent",value:function(f){return f===void 0?this.elt.parentNode:(typeof f=="string"?(f[0]==="#"&&(f=f.substring(1)),f=document.getElementById(f)):f instanceof h.default.Element&&(f=f.elt),f.appendChild(this.elt),this)}},{key:"id",value:function(f){return f===void 0?this.elt.id:(this.elt.id=f,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(f){return f===void 0?this.elt.className:(this.elt.className=f,this)}},{key:"mousePressed",value:function(f){return h.default.Element._adjustListener("mousedown",function(u){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(u),f.call(this,u)},this),this}},{key:"doubleClicked",value:function(f){return h.default.Element._adjustListener("dblclick",f,this),this}},{key:"mouseWheel",value:function(f){return h.default.Element._adjustListener("wheel",f,this),this}},{key:"mouseReleased",value:function(f){return h.default.Element._adjustListener("mouseup",f,this),this}},{key:"mouseClicked",value:function(f){return h.default.Element._adjustListener("click",f,this),this}},{key:"mouseMoved",value:function(f){return h.default.Element._adjustListener("mousemove",f,this),this}},{key:"mouseOver",value:function(f){return h.default.Element._adjustListener("mouseover",f,this),this}},{key:"mouseOut",value:function(f){return h.default.Element._adjustListener("mouseout",f,this),this}},{key:"touchStarted",value:function(f){return h.default.Element._adjustListener("touchstart",f,this),this}},{key:"touchMoved",value:function(f){return h.default.Element._adjustListener("touchmove",f,this),this}},{key:"touchEnded",value:function(f){return h.default.Element._adjustListener("touchend",f,this),this}},{key:"dragOver",value:function(f){return h.default.Element._adjustListener("dragover",f,this),this}},{key:"dragLeave",value:function(f){return h.default.Element._adjustListener("dragleave",f,this),this}},{key:"_setProperty",value:function(f,u){this[f]=u}}])&&a(x.prototype,S),l&&a(x,l),c}(),r=h.default.Element,y.default=r},{"./main":273}],275:[function(r,E,y){function h(_){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(_)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(g=r("./main"))&&g.__esModule?g:{default:g},c=function(_){if(_&&_.__esModule)return _;if(_===null||x(_)!=="object"&&typeof _!="function")return{default:_};var v=function(){var R;return typeof WeakMap!="function"?null:(R=new WeakMap,R)}();if(v&&v.has(_))return v.get(_);var j,T={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in _){var L;Object.prototype.hasOwnProperty.call(_,j)&&((L=C?Object.getOwnPropertyDescriptor(_,j):null)&&(L.get||L.set)?Object.defineProperty(T,j,L):T[j]=_[j])}return T.default=_,v&&v.set(_,T),T}(r("./constants"));function x(_){return(x=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(v){return h(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":h(v)})(_)}function S(_,v){for(var j=0;j<v.length;j++){var T=v[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function l(_,v){return(l=Object.setPrototypeOf||function(j,T){return j.__proto__=T,j})(_,v)}function f(_){return function(){var v,j=d(_);return u(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(v=d(this).constructor,Reflect.construct(j,arguments,v)):j.apply(this,arguments))}}function u(_,v){return!v||x(v)!=="object"&&typeof v!="function"?s(_):v}function s(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function d(_){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(_)}a.default.Graphics=function(_){var v=T;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),_&&l(v,_);var j=f(T);function T(C,L,R,P,B){var M;if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");V=B||document.createElement("canvas"),(M=j.call(this,V,P)).canvas=V;var U,V=R||c.P2D;R=P._userNode||document.body;for(U in B||R.appendChild(M.canvas),a.default.prototype)M[U]||(typeof a.default.prototype[U]=="function"?M[U]=a.default.prototype[U].bind(s(M)):M[U]=a.default.prototype[U]);return a.default.prototype._initializeInstanceVariables.apply(s(M)),M.width=C,M.height=L,M._pixelDensity=P._pixelDensity,V===c.WEBGL?M._renderer=new a.default.RendererGL(M.canvas,s(M),!1):M._renderer=new a.default.Renderer2D(M.canvas,s(M),!1),P._elements.push(s(M)),Object.defineProperty(s(M),"deltaTime",{get:function(){return this._pInst.deltaTime}}),M._renderer.resize(C,L),M._renderer._applyDefaults(),u(M,s(M))}return v=T,(_=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var C,L=this._pInst._elements.indexOf(this);for(C in L!==-1&&this._pInst._elements.splice(L,1),this._events)this.elt.removeEventListener(C,this._events[C])}},{key:"createFramebuffer",value:function(C){return new a.default.Framebuffer(this,C)}}])&&S(v.prototype,_),T}(a.default.Element);var g=a.default.Graphics;y.default=g},{"./constants":262,"./main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],276:[function(r,E,y){function h(_){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(_)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(d=r("./main"))&&d.__esModule?d:{default:d},c=function(_){if(_&&_.__esModule)return _;if(_===null||x(_)!=="object"&&typeof _!="function")return{default:_};var v=function(){var R;return typeof WeakMap!="function"?null:(R=new WeakMap,R)}();if(v&&v.has(_))return v.get(_);var j,T={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in _){var L;Object.prototype.hasOwnProperty.call(_,j)&&((L=C?Object.getOwnPropertyDescriptor(_,j):null)&&(L.get||L.set)?Object.defineProperty(T,j,L):T[j]=_[j])}return T.default=_,v&&v.set(_,T),T}(r("../core/constants"));function x(_){return(x=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(v){return h(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":h(v)})(_)}function S(_,v){for(var j=0;j<v.length;j++){var T=v[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function l(_,v){return(l=Object.setPrototypeOf||function(j,T){return j.__proto__=T,j})(_,v)}function f(_){return function(){var v,j,T=s(_);return v=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(v=s(this).constructor,Reflect.construct(T,arguments,v)):T.apply(this,arguments),T=this,!(j=v)||x(j)!=="object"&&typeof j!="function"?u(T):j}}function u(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function s(_){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(_)}var d=function(_){var v=T;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),_&&l(v,_);var j=f(T);function T(C,L,R){var P;if(this instanceof T)return(P=j.call(this,C,L)).canvas=C,P._pixelsState=L,R?(P._isMainCanvas=!0,P._pInst._setProperty("_curElement",u(P)),P._pInst._setProperty("canvas",P.canvas),P._pInst._setProperty("width",P.width),P._pInst._setProperty("height",P.height)):(P.canvas.style.display="none",P._styles=[]),P._textSize=12,P._textLeading=15,P._textFont="sans-serif",P._textStyle=c.NORMAL,P._textAscent=null,P._textDescent=null,P._textAlign=c.LEFT,P._textBaseline=c.BASELINE,P._textWrap=c.WORD,P._rectMode=c.CORNER,P._ellipseMode=c.CENTER,P._curveTightness=0,P._imageMode=c.CORNER,P._tint=null,P._doStroke=!0,P._doFill=!0,P._strokeSet=!1,P._fillSet=!1,P._leadingSet=!1,P;throw new TypeError("Cannot call a class as a function")}return v=T,(_=[{key:"push",value:function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(C){C.properties&&Object.assign(this,C.properties)}},{key:"resize",value:function(C,L){this.width=C,this.height=L,this.elt.width=C*this._pInst._pixelDensity,this.elt.height=L*this._pInst._pixelDensity,this.elt.style.width="".concat(C,"px"),this.elt.style.height="".concat(L,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(C,L,R,P){var B=this._pixelsState,M=B._pixelDensity,U=this.canvas;if(C===void 0&&L===void 0)C=L=0,R=B.width,P=B.height;else if(C*=M,L*=M,R===void 0&&P===void 0)return C<0||L<0||C>=U.width||L>=U.height?[0,0,0,0]:this._getPixel(C,L);return(B=new a.default.Image(R,P)).canvas.getContext("2d").drawImage(U,C,L,R*M,P*M,0,0,R,P),B}},{key:"textLeading",value:function(C){return typeof C=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",C),this._pInst):this._textLeading}},{key:"textStyle",value:function(C){return C?(C!==c.NORMAL&&C!==c.ITALIC&&C!==c.BOLD&&C!==c.BOLDITALIC||this._setProperty("_textStyle",C),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(C,L){return C!==void 0?(this._setProperty("_textAlign",C),L!==void 0&&this._setProperty("_textBaseline",L),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(C){return this._setProperty("_textWrap",C),this._textWrap}},{key:"text",value:function(C,L,R,P,B){var M,U,V,$,G=this._pInst,I=this._textWrap,q=Number.MAX_VALUE,Z=R;if((this._doFill||this._doStroke)&&C!==void 0){if(M=(C=(C=typeof C!="string"?C.toString():C).replace(/(\t)/g,"  ")).split(`
`),P!==void 0){switch(this._rectMode===c.CENTER&&(L-=P/2),this._textAlign){case c.CENTER:L+=P/2;break;case c.RIGHT:L+=P}if(B!==void 0){this._rectMode===c.CENTER&&(R-=B/2,Z-=B/2),C=R;var J=G.textAscent();switch(this._textBaseline){case c.BOTTOM:$=R+B,R=Math.max($,R),Z+=J;break;case c.CENTER:$=R+B/2,R=Math.max($,R),Z+=J/2}q=R+B-J,this._textBaseline===c.CENTER&&(q=C+B-J/2)}else this._textBaseline!==c.BOTTOM&&this._textBaseline!==c.CENTER||(Z=R-(C=G.textSize()*this._textLeading)/2,q=R+C/2);if(I===c.WORD){for(var ee=[],le=0;le<M.length;le++){for(var ae="",fe=M[le].split(" "),H=0;H<fe.length;H++)U="".concat(ae+fe[H])+" ",ae=P<(V=this.textWidth(U))&&0<ae.length?(ee.push(ae),"".concat(fe[H])+" "):U;ee.push(ae)}var X=0;this._textBaseline===c.CENTER?X=(ee.length-1)*G.textLeading()/2:this._textBaseline===c.BOTTOM&&(X=(ee.length-1)*G.textLeading());for(var te=0;te<M.length;te++){ae="",fe=M[te].split(" ");for(var ue=0;ue<fe.length;ue++)U="".concat(ae+fe[ue])+" ",P<(V=this.textWidth(U))&&0<ae.length?(this._renderText(G,ae.trim(),L,R-X,q,Z),ae="".concat(fe[ue])+" ",R+=G.textLeading()):ae=U;this._renderText(G,ae.trim(),L,R-X,q,Z),R+=G.textLeading()}}else{for(var ce=[],he=0;he<M.length;he++)for(var ne=M[he].split(ae=""),me=0;me<ne.length;me++)U="".concat(ae+ne[me]),(V=this.textWidth(U))<=P?ae+=ne[me]:P<V&&0<ae.length&&(ce.push(ae),ae="".concat(ne[me]));ce.push(ae);var _e=0;this._textBaseline===c.CENTER?_e=(ce.length-1)*G.textLeading()/2:this._textBaseline===c.BOTTOM&&(_e=(ce.length-1)*G.textLeading());for(var Te=0;Te<M.length;Te++){ne=M[Te].split(ae="");for(var ve=0;ve<ne.length;ve++)U="".concat(ae+ne[ve]),(V=this.textWidth(U))<=P?ae+=ne[ve]:P<V&&0<ae.length&&(this._renderText(G,ae.trim(),L,R-_e,q,Z),R+=G.textLeading(),ae="".concat(ne[ve]))}this._renderText(G,ae.trim(),L,R-_e,q,Z),R+=G.textLeading()}}else{var je=0;this._textBaseline===c.CENTER?je=(M.length-1)*G.textLeading()/2:this._textBaseline===c.BOTTOM&&(je=(M.length-1)*G.textLeading());for(var Ae=0;Ae<M.length;Ae++)this._renderText(G,M[Ae],L,R-je,q,Z-je),R+=G.textLeading()}return G}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var C=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return x(C)==="object"&&C.font&&C.font.supported}},{key:"_updateTextMetrics",value:function(){var C,L,R,P,B,M;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((C=document.createElement("span")).style.fontFamily=this._textFont,C.style.fontSize="".concat(this._textSize,"px"),C.innerHTML="ABCjgq|",(M=document.createElement("div")).style.display="inline-block",M.style.width="1px",M.style.height="0px",(L=document.createElement("div")).appendChild(C),L.appendChild(M),L.style.height="0px",L.style.overflow="hidden",document.body.appendChild(L),M.style.verticalAlign="baseline",P=g(M),B=g(C),R=P[1]-B[1],M.style.verticalAlign="bottom",P=g(M),B=g(C),M=P[1]-B[1]-R,document.body.removeChild(L),this._setProperty("_textAscent",R),this._setProperty("_textDescent",M)),this}}])&&S(v.prototype,_),T}(a.default.Element);function g(_){var v=0,j=0;if(_.offsetParent)for(;v+=_.offsetLeft,j+=_.offsetTop,_=_.offsetParent;);else v+=_.offsetLeft,j+=_.offsetTop;return[v,j]}d.prototype.textSize=function(_){return typeof _=="number"?(this._setProperty("_textSize",_),this._leadingSet||this._setProperty("_textLeading",_*c._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},a.default.Renderer=d,r=a.default.Renderer,y.default=r},{"../core/constants":262,"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],277:[function(r,E,y){function h(g){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(g)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.reflect.get"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.reflect.get"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(d=r("./main"))&&d.__esModule?d:{default:d},c=function(g){if(g&&g.__esModule)return g;if(g===null||x(g)!=="object"&&typeof g!="function")return{default:g};var _=function(){var L;return typeof WeakMap!="function"?null:(L=new WeakMap,L)}();if(_&&_.has(g))return _.get(g);var v,j={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in g){var C;Object.prototype.hasOwnProperty.call(g,v)&&((C=T?Object.getOwnPropertyDescriptor(g,v):null)&&(C.get||C.set)?Object.defineProperty(j,v,C):j[v]=g[v])}return j.default=g,_&&_.set(g,j),j}(r("./constants"));function x(g){return(x=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(_){return h(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":h(_)})(g)}function S(g,_){for(var v=0;v<_.length;v++){var j=_[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(g,j.key,j)}}function l(g,_,v){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(j,T,C){if(j=function(L,R){for(;!Object.prototype.hasOwnProperty.call(L,R)&&(L=u(L))!==null;);return L}(j,T))return(j=Object.getOwnPropertyDescriptor(j,T)).get?j.get.call(C):j.value})(g,_,v||g)}function f(g,_){return(f=Object.setPrototypeOf||function(v,j){return v.__proto__=j,v})(g,_)}function u(g){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(g)}r("./p5.Renderer");var s="rgba(0,0,0,0)",d=function(g){var _=j;if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),g&&f(_,g);var v=function(T){return function(){var C,L=u(T);if(C=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(C=u(this).constructor,Reflect.construct(L,arguments,C)):L.apply(this,arguments),L=this,!C||x(C)!=="object"&&typeof C!="function"){if(L!==void 0)return L;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return C}}(j);function j(T,C,L){if(this instanceof j)return(T=v.call(this,T,C,L)).drawingContext=T.canvas.getContext("2d"),T._pInst._setProperty("drawingContext",T.drawingContext),T;throw new TypeError("Cannot call a class as a function")}return _=j,(g=[{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(T,C){l(u(j.prototype),"resize",this).call(this,T,C),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var T,C;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof a.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(T=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(T,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(T=this._getFill(),C=(C=this._pInst).color.apply(C,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(C.levels),C=C.toString(),this._setFill(C),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(T),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var T=(T=this._pInst).color.apply(T,arguments);this._setFill(T.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",T.levels)}},{key:"stroke",value:function(){var T=(T=this._pInst).color.apply(T,arguments);this._setStroke(T.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",T.levels)}},{key:"erase",value:function(T,C){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,T=this._pInst.color(255,T).toString(),this.drawingContext.fillStyle=T,this._cachedStrokeStyle=this.drawingContext.strokeStyle,T=this._pInst.color(255,C).toString(),this.drawingContext.strokeStyle=T,C=this._cachedBlendMode,this.blendMode(c.REMOVE),this._cachedBlendMode=C,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"image",value:function(T,C,L,R,P,B,M,U,V){T.gifProperties&&T._animateGif(this._pInst);try{a.default.MediaElement&&T instanceof a.default.MediaElement&&T._ensureCanvas();var $=($=this._tint&&T.canvas?this._getTintedImageCanvas(T):$)||T.canvas||T.elt,G=1;T.width&&0<T.width&&(G=$.width/T.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage($,G*C,G*L,G*R,G*P,B,M,U,V),this._isErasing&&this._pInst.erase()}catch(I){if(I.name!=="NS_ERROR_NOT_AVAILABLE")throw I}}},{key:"_getTintedImageCanvas",value:function(T){if(!T.canvas)return T;T.tintCanvas||(T.tintCanvas=document.createElement("canvas")),T.tintCanvas.width!==T.canvas.width&&(T.tintCanvas.width=T.canvas.width),T.tintCanvas.height!==T.canvas.height&&(T.tintCanvas.height=T.canvas.height);var C=T.tintCanvas.getContext("2d");return C.save(),C.clearRect(0,0,T.canvas.width,T.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(C.drawImage(T.canvas,0,0),C.globalCompositeOperation="luminosity",C.drawImage(T.canvas,0,0),C.globalCompositeOperation="color",C.drawImage(T.canvas,0,0),C.globalCompositeOperation="multiply",C.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),C.fillRect(0,0,T.canvas.width,T.canvas.height),C.globalCompositeOperation="destination-in"),C.globalAlpha=this._tint[3]/255,C.drawImage(T.canvas,0,0),C.restore(),T.tintCanvas}},{key:"blendMode",value:function(T){if(T===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(T!==c.BLEND&&T!==c.REMOVE&&T!==c.DARKEST&&T!==c.LIGHTEST&&T!==c.DIFFERENCE&&T!==c.MULTIPLY&&T!==c.EXCLUSION&&T!==c.SCREEN&&T!==c.REPLACE&&T!==c.OVERLAY&&T!==c.HARD_LIGHT&&T!==c.SOFT_LIGHT&&T!==c.DODGE&&T!==c.BURN&&T!==c.ADD)throw new Error("Mode ".concat(T," not recognized."));this._cachedBlendMode=T,this.drawingContext.globalCompositeOperation=T}}},{key:"blend",value:function(){for(var T=this.drawingContext.globalCompositeOperation,C=arguments.length,L=new Array(C),R=0;R<C;R++)L[R]=arguments[R];var P=L[L.length-1],B=Array.prototype.slice.call(L,0,L.length-1);this.drawingContext.globalCompositeOperation=P,a.default.prototype.copy.apply(this,B),this.drawingContext.globalCompositeOperation=T}},{key:"_getPixel",value:function(T,C){return[(T=this.drawingContext.getImageData(T,C,1,1).data)[0],T[1],T[2],T[3]]}},{key:"loadPixels",value:function(){var T=this._pixelsState,C=T._pixelDensity,L=this.width*C;C=this.height*C,L=this.drawingContext.getImageData(0,0,L,C),T._setProperty("imageData",L),T._setProperty("pixels",L.data)}},{key:"set",value:function(T,C,L){T=Math.floor(T),C=Math.floor(C);var R=this._pixelsState;if(L instanceof a.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(R._pixelDensity,R._pixelDensity),this.drawingContext.clearRect(T,C,L.width,L.height),this.drawingContext.drawImage(L.canvas,T,C),this.drawingContext.restore();else{var P=0,B=0,M=0,U=0,V=4*(C*R._pixelDensity*(this.width*R._pixelDensity)+T*R._pixelDensity);if(R.imageData||R.loadPixels.call(R),typeof L=="number")V<R.pixels.length&&(M=B=P=L,U=255);else if(L instanceof Array){if(L.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");V<R.pixels.length&&(P=L[0],B=L[1],M=L[2],U=L[3])}else L instanceof a.default.Color&&V<R.pixels.length&&(P=L.levels[0],B=L.levels[1],M=L.levels[2],U=L.levels[3]);for(var $=0;$<R._pixelDensity;$++)for(var G=0;G<R._pixelDensity;G++)V=4*((C*R._pixelDensity+G)*this.width*R._pixelDensity+(T*R._pixelDensity+$)),R.pixels[V]=P,R.pixels[V+1]=B,R.pixels[V+2]=M,R.pixels[V+3]=U}}},{key:"updatePixels",value:function(T,C,L,R){var P=this._pixelsState,B=P._pixelDensity;T===void 0&&C===void 0&&L===void 0&&R===void 0&&(C=T=0,L=this.width,R=this.height),T*=B,C*=B,L*=B,R*=B,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=P.imageData),this.drawingContext.putImageData(P.imageData,T,C,0,0,L,R)}},{key:"_acuteArcToBezier",value:function(T,C){var L=C/2,R=Math.cos(L),P=Math.sin(L),B=1/Math.tan(L),M=(L=T+L,Math.cos(L)),U=(L=Math.sin(L),(4-R)/3);return P+=(R-U)*B,{ax:Math.cos(T).toFixed(7),ay:Math.sin(T).toFixed(7),bx:(U*M+P*L).toFixed(7),by:(U*L-P*M).toFixed(7),cx:(U*M-P*L).toFixed(7),cy:(U*L+P*M).toFixed(7),dx:Math.cos(T+C).toFixed(7),dy:Math.sin(T+C).toFixed(7)}}},{key:"arc",value:function(T,C,L,R,P,B,M){var U,V=this.drawingContext,$=L/2,G=R/2,I=[];for(T+=$,C+=G;1e-5<=B-P;)U=Math.min(B-P,c.HALF_PI),I.push(this._acuteArcToBezier(P,U)),P+=U;return this._doFill&&(V.beginPath(),I.forEach(function(q,Z){Z===0&&V.moveTo(T+q.ax*$,C+q.ay*G),V.bezierCurveTo(T+q.bx*$,C+q.by*G,T+q.cx*$,C+q.cy*G,T+q.dx*$,C+q.dy*G)}),M!==c.PIE&&M!=null||V.lineTo(T,C),V.closePath(),V.fill()),this._doStroke&&(V.beginPath(),I.forEach(function(q,Z){Z===0&&V.moveTo(T+q.ax*$,C+q.ay*G),V.bezierCurveTo(T+q.bx*$,C+q.by*G,T+q.cx*$,C+q.cy*G,T+q.dx*$,C+q.dy*G)}),M===c.PIE?(V.lineTo(T,C),V.closePath()):M===c.CHORD&&V.closePath(),V.stroke()),this}},{key:"ellipse",value:function(T){var C=this.drawingContext,L=this._doFill,R=this._doStroke,P=parseFloat(T[0]),B=parseFloat(T[1]),M=parseFloat(T[2]);if(T=parseFloat(T[3]),L&&!R){if(this._getFill()===s)return this}else if(!L&&R&&this._getStroke()===s)return this;var U=M/2*.5522847498,V=T/2*.5522847498,$=P+M,G=B+T;M=P+M/2,T=B+T/2,C.beginPath(),C.moveTo(P,T),C.bezierCurveTo(P,T-V,M-U,B,M,B),C.bezierCurveTo(M+U,B,$,T-V,$,T),C.bezierCurveTo($,T+V,M+U,G,M,G),C.bezierCurveTo(M-U,G,P,T+V,P,T),L&&C.fill(),R&&C.stroke()}},{key:"line",value:function(T,C,L,R){var P=this.drawingContext;return this._doStroke&&this._getStroke()!==s&&(P.beginPath(),P.moveTo(T,C),P.lineTo(L,R),P.stroke()),this}},{key:"point",value:function(T,C){var L,R,P=this.drawingContext;return this._doStroke&&this._getStroke()!==s?(L=this._getStroke(),R=this._getFill(),this._setFill(L),P.beginPath(),P.arc(T,C,P.lineWidth/2,0,c.TWO_PI,!1),P.fill(),void this._setFill(R)):this}},{key:"quad",value:function(T,C,L,R,P,B,M,U){var V=this.drawingContext,$=this._doFill,G=this._doStroke;if($&&!G){if(this._getFill()===s)return this}else if(!$&&G&&this._getStroke()===s)return this;return V.beginPath(),V.moveTo(T,C),V.lineTo(L,R),V.lineTo(P,B),V.lineTo(M,U),V.closePath(),$&&V.fill(),G&&V.stroke(),this}},{key:"rect",value:function(T){var C,L,R=T[0],P=T[1],B=T[2],M=T[3],U=T[4],V=T[5],$=T[6],G=(T=T[7],this.drawingContext),I=this._doFill,q=this._doStroke;if(I&&!q){if(this._getFill()===s)return this}else if(!I&&q&&this._getStroke()===s)return this;return G.beginPath(),U===void 0?G.rect(R,P,B,M):(V===void 0&&(V=U),$===void 0&&($=V),T===void 0&&(T=$),q=(I=Math.abs(B))/2,L=(C=Math.abs(M))/2,C<2*(U=I<2*U?q:U)&&(U=L),C<2*(V=I<2*V?q:V)&&(V=L),C<2*($=I<2*$?q:$)&&($=L),C<2*(T=I<2*T?q:T)&&(T=L),G.beginPath(),G.moveTo(R+U,P),G.arcTo(R+B,P,R+B,P+M,V),G.arcTo(R+B,P+M,R,P+M,$),G.arcTo(R,P+M,R,P,T),G.arcTo(R,P,R+B,P,U),G.closePath()),this._doFill&&G.fill(),this._doStroke&&G.stroke(),this}},{key:"triangle",value:function(T){var C=this.drawingContext,L=this._doFill,R=this._doStroke,P=T[0],B=T[1],M=T[2],U=T[3],V=T[4];if(T=T[5],L&&!R){if(this._getFill()===s)return this}else if(!L&&R&&this._getStroke()===s)return this;C.beginPath(),C.moveTo(P,B),C.lineTo(M,U),C.lineTo(V,T),C.closePath(),L&&C.fill(),R&&C.stroke()}},{key:"endShape",value:function(T,C,L,R,P,B,M){if(C.length!==0&&(this._doStroke||this._doFill)){var U,V,$,G=T===c.CLOSE,I=(G&&!B&&C.push(C[0]),C.length);if(!L||M!==c.POLYGON&&M!==null)if(!R||M!==c.POLYGON&&M!==null)if(!P||M!==c.POLYGON&&M!==null)if(M===c.POINTS)for(V=0;V<I;V++)U=C[V],this._doStroke&&this._pInst.stroke(U[6]),this._pInst.point(U[0],U[1]);else if(M===c.LINES)for(V=0;V+1<I;V+=2)U=C[V],this._doStroke&&this._pInst.stroke(C[V+1][6]),this._pInst.line(U[0],U[1],C[V+1][0],C[V+1][1]);else if(M===c.TRIANGLES)for(V=0;V+2<I;V+=3)U=C[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(C[V+1][0],C[V+1][1]),this.drawingContext.lineTo(C[V+2][0],C[V+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(C[V+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(C[V+2][6]),this.drawingContext.stroke());else if(M===c.TRIANGLE_STRIP)for(V=0;V+1<I;V++)U=C[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(C[V+1][0],C[V+1][1]),this.drawingContext.lineTo(U[0],U[1]),this._doStroke&&this._pInst.stroke(C[V+1][6]),this._doFill&&this._pInst.fill(C[V+1][5]),V+2<I&&(this.drawingContext.lineTo(C[V+2][0],C[V+2][1]),this._doStroke&&this._pInst.stroke(C[V+2][6]),this._doFill&&this._pInst.fill(C[V+2][5])),this._doFillStrokeClose(G);else if(M===c.TRIANGLE_FAN){if(2<I){for(this.drawingContext.beginPath(),V=2;V<I;V++)U=C[V],this.drawingContext.moveTo(C[0][0],C[0][1]),this.drawingContext.lineTo(C[V-1][0],C[V-1][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(C[0][0],C[0][1]),V<I-1&&(this._doFill&&U[5]!==C[V+1][5]||this._doStroke&&U[6]!==C[V+1][6])&&(this._doFill&&(this._pInst.fill(U[5]),this.drawingContext.fill(),this._pInst.fill(C[V+1][5])),this._doStroke&&(this._pInst.stroke(U[6]),this.drawingContext.stroke(),this._pInst.stroke(C[V+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(G)}}else if(M===c.QUADS)for(V=0;V+3<I;V+=4){for(U=C[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),$=1;$<4;$++)this.drawingContext.lineTo(C[V+$][0],C[V+$][1]);this.drawingContext.lineTo(U[0],U[1]),this._doFill&&this._pInst.fill(C[V+3][5]),this._doStroke&&this._pInst.stroke(C[V+3][6]),this._doFillStrokeClose(G)}else if(M===c.QUAD_STRIP){if(3<I)for(V=0;V+1<I;V+=2)U=C[V],this.drawingContext.beginPath(),V+3<I?(this.drawingContext.moveTo(C[V+2][0],C[V+2][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(C[V+1][0],C[V+1][1]),this.drawingContext.lineTo(C[V+3][0],C[V+3][1]),this._doFill&&this._pInst.fill(C[V+3][5]),this._doStroke&&this._pInst.stroke(C[V+3][6])):(this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(C[V+1][0],C[V+1][1])),this._doFillStrokeClose(G)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(C[0][0],C[0][1]),V=1;V<I;V++)(U=C[V]).isVert&&(U.moveTo?this.drawingContext.moveTo(U[0],U[1]):this.drawingContext.lineTo(U[0],U[1]));this._doFillStrokeClose(G)}else{for(this.drawingContext.beginPath(),V=0;V<I;V++)C[V].isVert?C[V].moveTo?this.drawingContext.moveTo(C[V][0],C[V][1]):this.drawingContext.lineTo(C[V][0],C[V][1]):this.drawingContext.quadraticCurveTo(C[V][0],C[V][1],C[V][2],C[V][3]);this._doFillStrokeClose(G)}else{for(this.drawingContext.beginPath(),V=0;V<I;V++)C[V].isVert?C[V].moveTo?this.drawingContext.moveTo(C[V][0],C[V][1]):this.drawingContext.lineTo(C[V][0],C[V][1]):this.drawingContext.bezierCurveTo(C[V][0],C[V][1],C[V][2],C[V][3],C[V][4],C[V][5]);this._doFillStrokeClose(G)}else if(3<I){var q=[],Z=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(C[1][0],C[1][1]),V=1;V+2<I;V++)U=C[V],q[0]=[U[0],U[1]],q[1]=[U[0]+(Z*C[V+1][0]-Z*C[V-1][0])/6,U[1]+(Z*C[V+1][1]-Z*C[V-1][1])/6],q[2]=[C[V+1][0]+(Z*C[V][0]-Z*C[V+2][0])/6,C[V+1][1]+(Z*C[V][1]-Z*C[V+2][1])/6],q[3]=[C[V+1][0],C[V+1][1]],this.drawingContext.bezierCurveTo(q[1][0],q[1][1],q[2][0],q[2][1],q[3][0],q[3][1]);G&&this.drawingContext.lineTo(C[V+1][0],C[V+1][1]),this._doFillStrokeClose(G)}B=P=R=L=!1,G&&C.pop()}return this}},{key:"strokeCap",value:function(T){return T!==c.ROUND&&T!==c.SQUARE&&T!==c.PROJECT||(this.drawingContext.lineCap=T),this}},{key:"strokeJoin",value:function(T){return T!==c.ROUND&&T!==c.BEVEL&&T!==c.MITER||(this.drawingContext.lineJoin=T),this}},{key:"strokeWeight",value:function(T){return this.drawingContext.lineWidth=T===void 0||T===0?1e-4:T,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(T){T!==this._cachedFillStyle&&(this.drawingContext.fillStyle=T,this._cachedFillStyle=T)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(T){T!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=T,this._cachedStrokeStyle=T)}},{key:"bezier",value:function(T,C,L,R,P,B,M,U){return this._pInst.beginShape(),this._pInst.vertex(T,C),this._pInst.bezierVertex(L,R,P,B,M,U),this._pInst.endShape(),this}},{key:"curve",value:function(T,C,L,R,P,B,M,U){return this._pInst.beginShape(),this._pInst.curveVertex(T,C),this._pInst.curveVertex(L,R),this._pInst.curveVertex(P,B),this._pInst.curveVertex(M,U),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(T){T&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(T,C,L,R,P,B){this.drawingContext.transform(T,C,L,R,P,B)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(T){this.drawingContext.rotate(T)}},{key:"scale",value:function(T,C){return this.drawingContext.scale(T,C),this}},{key:"translate",value:function(T,C){return T instanceof a.default.Vector&&(C=T.y,T=T.x),this.drawingContext.translate(T,C),this}},{key:"_renderText",value:function(T,C,L,R,P,B){if(!(R<B||P<=R))return T.push(),this._isOpenType()?this._textFont._renderPath(C,L,R,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(C,L,R),this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(C,L,R))),T.pop(),T}},{key:"textWidth",value:function(T){return this._isOpenType()?this._textFont._textWidth(T,this._textSize):this.drawingContext.measureText(T).width}},{key:"_applyTextProperties",value:function(){var T,C=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),T=this._textFont,this._isOpenType()&&(T=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(T||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,C}},{key:"push",value:function(){return this.drawingContext.save(),l(u(j.prototype),"push",this).call(this)}},{key:"pop",value:function(T){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,l(u(j.prototype),"pop",this).call(this,T)}}])&&S(_.prototype,g),j}(a.default.Renderer);d.prototype.text=function(g,_,v,j,T){j!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(C=!0,this.drawingContext.textBaseline=c.TOP);var C;return j=a.default.Renderer.prototype.text.apply(this,arguments),C&&(this.drawingContext.textBaseline=c.BASELINE),j},a.default.Renderer2D=d,r=a.default.Renderer2D,y.default=r},{"./constants":262,"./main":273,"./p5.Renderer":276,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],278:[function(r,E,y){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var h=(r=r("./main"))&&r.__esModule?r:{default:r};function a(){return{}}h.default.prototype._promisePreloads=[];var c=!(h.default.prototype.registerPromisePreload=function(x){h.default.prototype._promisePreloads.push(x)});h.default.prototype._setupPromisePreloads=function(){var x=!0,S=!1,l=void 0;try{for(var f,u=this._promisePreloads[Symbol.iterator]();!(x=(f=u.next()).done);x=!0){var s=f.value,d=this,g=s.method,_=s.addCallbacks,v=s.legacyPreloadSetup,j=s.target||this,T=j[g].bind(j);if(j===h.default.prototype){if(c)continue;d=null,T=j[g]}j[g]=this._wrapPromisePreload(d,T,_),v&&(j[v.method]=this._legacyPreloadGenerator(d,v,j[g]))}}catch(C){S=!0,l=C}finally{try{x||u.return==null||u.return()}finally{if(S)throw l}}c=!0},h.default.prototype._wrapPromisePreload=function(x,S,l){var f=function(){for(var u=this,s=(this._incrementPreload(),null),d=null,g=arguments.length,_=new Array(g),v=0;v<g;v++)_[v]=arguments[v];if(l)for(var j=_.length-1;0<=j&&!d&&typeof _[j]=="function";j--)d=s,s=_.pop();var T=Promise.resolve(S.apply(this,_));return s&&T.then(s),d&&T.catch(d),T.then(function(){return u._decrementPreload()}),T};return x?f.bind(x):f},h.default.prototype._legacyPreloadGenerator=function(x,S,l){var f=S.createBaseObject||a;return S=function(){var u=this;this._incrementPreload();for(var s=arguments.length,d=new Array(s),g=0;g<s;g++)d[g]=arguments[g];var _=f.apply(this,d);return l.apply(this,d).then(function(v){Object.assign(_,v),u._decrementPreload()}),_},x?S.bind(x):S}},{"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],279:[function(r,E,y){function h(f){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(l=r("./main"))&&l.__esModule?l:{default:l},c=function(f){if(f&&f.__esModule)return f;if(f===null||x(f)!=="object"&&typeof f!="function")return{default:f};var u=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(u&&u.has(f))return u.get(f);var s,d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in f){var _;Object.prototype.hasOwnProperty.call(f,s)&&((_=g?Object.getOwnPropertyDescriptor(f,s):null)&&(_.get||_.set)?Object.defineProperty(d,s,_):d[s]=f[s])}return d.default=f,u&&u.set(f,d),d}(r("./constants"));function x(f){return(x=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(u){return h(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":h(u)})(f)}r("./p5.Graphics"),r("./p5.Renderer2D"),r("../webgl/p5.RendererGL");var S="defaultCanvas0",l=(a.default.prototype.createCanvas=function(f,u,s,d){var g,_,v;if(a.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(s=c.P2D,d=arguments[2]):g=s||c.P2D,d)(v=document.getElementById(S))&&v.parentNode.removeChild(v),v=d,this._defaultGraphicsCreated=!1;else{if(g===c.WEBGL)(v=document.getElementById(S))&&(v.parentNode.removeChild(v),_=this._renderer,this._elements=this._elements.filter(function(T){return T!==_})),(v=document.createElement("canvas")).id=S,v.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)v=this.canvas;else{v=d||document.createElement("canvas");for(var j=0;document.getElementById("defaultCanvas".concat(j));)j++;S="defaultCanvas".concat(j),v.id=S,v.classList.add("p5Canvas")}this._setupDone||(v.dataset.hidden=!0,v.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(s=document.createElement("main"),document.body.appendChild(s)),document.getElementsByTagName("main")[0])).appendChild(v)}return g===c.WEBGL?(this._setProperty("_renderer",new a.default.RendererGL(v,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new a.default.Renderer2D(v,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(f,u),this._renderer._applyDefaults(),this._renderer},a.default.prototype.resizeCanvas=function(f,u,s){if(a.default._validateParameters("resizeCanvas",arguments),this._renderer){var d,g,_={};for(d in this.drawingContext){var v=this.drawingContext[d];x(v)!=="object"&&typeof v!="function"&&(_[d]=v)}for(g in this.width=f,this.height=u,this._renderer.resize(f,u),_)try{this.drawingContext[g]=_[g]}catch{}s||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},a.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},a.default.prototype.createGraphics=function(f,u,s,d){return arguments[2]instanceof HTMLCanvasElement&&(s=c.P2D,d=arguments[2]),a.default._validateParameters("createGraphics",arguments),new a.default.Graphics(f,u,s,this,d)},a.default.prototype.createFramebuffer=function(f){return new a.default.Framebuffer(this,f)},a.default.prototype.blendMode=function(f){a.default._validateParameters("blendMode",arguments),f===c.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),f=c.BLEND),this._renderer.blendMode(f)},a.default);y.default=l},{"../webgl/p5.RendererGL":328,"./constants":262,"./main":273,"./p5.Graphics":275,"./p5.Renderer2D":277,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],280:[function(r,E,y){function h(u){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}function a(u){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(s){return h(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":h(s)})(u)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=l(r("../main")),x=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var s=function(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,j)}();if(s&&s.has(u))return s.get(u);var d,g={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in u){var v;Object.prototype.hasOwnProperty.call(u,d)&&((v=_?Object.getOwnPropertyDescriptor(u,d):null)&&(v.get||v.set)?Object.defineProperty(g,d,v):g[d]=u[d])}return g.default=u,s&&s.set(u,g),g}(r("../constants")),S=l(r("../helpers"));function l(u){return u&&u.__esModule?u:{default:u}}function f(u){return function(s){if(Array.isArray(s)){for(var d=0,g=new Array(s.length);d<s.length;d++)g[d]=s[d];return g}}(u)||function(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r("../friendly_errors/fes_core"),r("../friendly_errors/file_errors"),r("../friendly_errors/validate_params"),c.default.prototype._normalizeArcAngles=function(u,s,d,g,_){var v;return u-=x.TWO_PI*Math.floor(u/x.TWO_PI),s-=x.TWO_PI*Math.floor(s/x.TWO_PI),v=Math.min(Math.abs(u-s),x.TWO_PI-Math.abs(u-s)),_&&(u=u<=x.HALF_PI?Math.atan(d/g*Math.tan(u)):u>x.HALF_PI&&u<=3*x.HALF_PI?Math.atan(d/g*Math.tan(u))+x.PI:Math.atan(d/g*Math.tan(u))+x.TWO_PI,s=s<=x.HALF_PI?Math.atan(d/g*Math.tan(s)):s>x.HALF_PI&&s<=3*x.HALF_PI?Math.atan(d/g*Math.tan(s))+x.PI:Math.atan(d/g*Math.tan(s))+x.TWO_PI),s<u&&(s+=x.TWO_PI),{start:u,stop:s,correspondToSamePoint:v<1e-5}},c.default.prototype.arc=function(u,s,d,g,_,v,j,T){return c.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&_!==v&&(_=this._toRadians(_),v=this._toRadians(v),d=Math.abs(d),g=Math.abs(g),u=S.default.modeAdjust(u,s,d,g,this._renderer._ellipseMode),(s=this._normalizeArcAngles(_,v,u.w,u.h,!0)).correspondToSamePoint?this._renderer.ellipse([u.x,u.y,u.w,u.h,T]):(this._renderer.arc(u.x,u.y,u.w,u.h,s.start,s.stop,j,T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[u.x,u.y,u.w,u.h,s.start,s.stop,j]))),this},c.default.prototype.ellipse=function(u,s,d,g,_){return c.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},c.default.prototype.circle=function(){c.default._validateParameters("circle",arguments);var u=Array.prototype.slice.call(arguments,0,2);return u.push(arguments[2]),u.push(arguments[2]),this._renderEllipse.apply(this,f(u))},c.default.prototype._renderEllipse=function(u,s,d,g,_){return(this._renderer._doStroke||this._renderer._doFill)&&(d<0&&(d=Math.abs(d)),g===void 0?g=d:g<0&&(g=Math.abs(g)),u=S.default.modeAdjust(u,s,d,g,this._renderer._ellipseMode),this._renderer.ellipse([u.x,u.y,u.w,u.h,_]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[u.x,u.y,u.w,u.h])),this},c.default.prototype.line=function(){for(var u,s=arguments.length,d=new Array(s),g=0;g<s;g++)d[g]=arguments[g];return c.default._validateParameters("line",d),this._renderer._doStroke&&(u=this._renderer).line.apply(u,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",d),this},c.default.prototype.point=function(){for(var u,s=arguments.length,d=new Array(s),g=0;g<s;g++)d[g]=arguments[g];return c.default._validateParameters("point",d),this._renderer._doStroke&&(d.length===1&&d[0]instanceof c.default.Vector?this._renderer.point.call(this._renderer,d[0].x,d[0].y,d[0].z):((u=this._renderer).point.apply(u,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",d))),this},c.default.prototype.quad=function(){for(var u,s=arguments.length,d=new Array(s),g=0;g<s;g++)d[g]=arguments[g];return c.default._validateParameters("quad",d),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&d.length<12?this._renderer.quad.call(this._renderer,d[0],d[1],0,d[2],d[3],0,d[4],d[5],0,d[6],d[7],0,d[8],d[9]):((u=this._renderer).quad.apply(u,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",d))),this},c.default.prototype.rect=function(){for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return c.default._validateParameters("rect",s),this._renderRect.apply(this,s)},c.default.prototype.square=function(u,s,d,g,_,v,j){return c.default._validateParameters("square",arguments),this._renderRect.call(this,u,s,d,d,g,_,v,j)},c.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var u=S.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),s=[u.x,u.y,u.w,u.h],d=4;d<arguments.length;d++)s[d]=arguments[d];this._renderer.rect(s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[u.x,u.y,u.w,u.h])}return this},c.default.prototype.triangle=function(){for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return c.default._validateParameters("triangle",s),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",s),this},r=c.default,y.default=r},{"../constants":262,"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../helpers":269,"../main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],281:[function(r,E,y){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function a(l){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(S=r("../main"))&&S.__esModule?S:{default:S},x=function(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var f=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(f&&f.has(l))return f.get(l);var u,s={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var g;Object.prototype.hasOwnProperty.call(l,u)&&((g=d?Object.getOwnPropertyDescriptor(l,u):null)&&(g.get||g.set)?Object.defineProperty(s,u,g):s[u]=l[u])}return s.default=l,f&&f.set(l,s),s}(r("../constants"));c.default.prototype.ellipseMode=function(l){return c.default._validateParameters("ellipseMode",arguments),l!==x.CORNER&&l!==x.CORNERS&&l!==x.RADIUS&&l!==x.CENTER||(this._renderer._ellipseMode=l),this},c.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},c.default.prototype.rectMode=function(l){return c.default._validateParameters("rectMode",arguments),l!==x.CORNER&&l!==x.CORNERS&&l!==x.RADIUS&&l!==x.CENTER||(this._renderer._rectMode=l),this},c.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},c.default.prototype.strokeCap=function(l){return c.default._validateParameters("strokeCap",arguments),l!==x.ROUND&&l!==x.SQUARE&&l!==x.PROJECT||this._renderer.strokeCap(l),this},c.default.prototype.strokeJoin=function(l){return c.default._validateParameters("strokeJoin",arguments),l!==x.ROUND&&l!==x.BEVEL&&l!==x.MITER||this._renderer.strokeJoin(l),this},c.default.prototype.strokeWeight=function(l){return c.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(l),this};var S=c.default;y.default=S},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],282:[function(r,E,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(a=r("../main"))&&a.__esModule?a:{default:a};r("../friendly_errors/fes_core"),r("../friendly_errors/file_errors"),r("../friendly_errors/validate_params"),h.default.prototype.bezier=function(){for(var c,x=arguments.length,S=new Array(x),l=0;l<x;l++)S[l]=arguments[l];return h.default._validateParameters("bezier",S),(this._renderer._doStroke||this._renderer._doFill)&&(c=this._renderer).bezier.apply(c,S),this},h.default.prototype.bezierDetail=function(c){return h.default._validateParameters("bezierDetail",arguments),this._bezierDetail=c,this},h.default.prototype.bezierPoint=function(c,x,S,l,f){h.default._validateParameters("bezierPoint",arguments);var u=1-f;return Math.pow(u,3)*c+3*Math.pow(u,2)*f*x+3*u*Math.pow(f,2)*S+Math.pow(f,3)*l},h.default.prototype.bezierTangent=function(c,x,S,l,f){h.default._validateParameters("bezierTangent",arguments);var u=1-f;return 3*l*Math.pow(f,2)-3*S*Math.pow(f,2)+6*S*u*f-6*x*u*f+3*x*Math.pow(u,2)-3*c*Math.pow(u,2)},h.default.prototype.curve=function(){for(var c,x=arguments.length,S=new Array(x),l=0;l<x;l++)S[l]=arguments[l];return h.default._validateParameters("curve",S),this._renderer._doStroke&&(c=this._renderer).curve.apply(c,S),this},h.default.prototype.curveDetail=function(c){return h.default._validateParameters("curveDetail",arguments),this._curveDetail=c<3?3:c,this},h.default.prototype.curveTightness=function(c){return h.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=c,this},h.default.prototype.curvePoint=function(c,x,S,l,f){h.default._validateParameters("curvePoint",arguments);var u=this._renderer._curveTightness,s=f*f*f,d=f*f;return c*((u-1)/2*s+(1-u)*d+(u-1)/2*f)+x*((u+3)/2*s+(-5-u)/2*d+1)+S*((-3-u)/2*s+(u+2)*d+(1-u)/2*f)+l*((1-u)/2*s+(u-1)/2*d)},h.default.prototype.curveTangent=function(c,x,S,l,f){h.default._validateParameters("curveTangent",arguments);var u=this._renderer._curveTightness,s=f*f*3;return c*((u-1)/2*s+(1-u)*(f=2*f)+(u-1)/2)+x*((u+3)/2*s+(-5-u)/2*f)+S*((-3-u)/2*s+(u+2)*f+(1-u)/2)+l*((1-u)/2*s+(u-1)/2*f)};var a=h.default;y.default=a},{"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../main":273}],283:[function(r,E,y){function h(j){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(j)}function a(j){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(T){return h(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":h(T)})(j)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(v=r("../main"))&&v.__esModule?v:{default:v},x=function(j){if(j&&j.__esModule)return j;if(j===null||a(j)!=="object"&&typeof j!="function")return{default:j};var T=function(){var B;return typeof WeakMap!="function"?null:(B=new WeakMap,B)}();if(T&&T.has(j))return T.get(j);var C,L={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in j){var P;Object.prototype.hasOwnProperty.call(j,C)&&((P=R?Object.getOwnPropertyDescriptor(j,C):null)&&(P.get||P.set)?Object.defineProperty(L,C,P):L[C]=j[C])}return L.default=j,T&&T.set(j,L),L}(r("../constants")),S=null,l=[],f=[],u=!1,s=!1,d=!1,g=!1,_=!0,v=(c.default.prototype.beginContour=function(){return f=[],g=!0,this},c.default.prototype.beginShape=function(j){var T;return c.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(T=this._renderer).beginShape.apply(T,arguments):(S=j===x.POINTS||j===x.LINES||j===x.TRIANGLES||j===x.TRIANGLE_FAN||j===x.TRIANGLE_STRIP||j===x.QUADS||j===x.QUAD_STRIP?j:null,l=[],f=[]),this},c.default.prototype.bezierVertex=function(){for(var j,T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];if(c.default._validateParameters("bezierVertex",C),this._renderer.isP3D)(j=this._renderer).bezierVertex.apply(j,C);else if(l.length===0)c.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{u=!0;for(var R=[],P=0;P<C.length;P++)R[P]=C[P];R.isVert=!1,(g?f:l).push(R)}return this},c.default.prototype.curveVertex=function(){for(var j,T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];return c.default._validateParameters("curveVertex",C),this._renderer.isP3D?(j=this._renderer).curveVertex.apply(j,C):(s=!0,this.vertex(C[0],C[1])),this},c.default.prototype.endContour=function(){var j=f[0].slice();j.isVert=f[0].isVert,j.moveTo=!1,f.push(j),_&&(l.push(l[0]),_=!1);for(var T=0;T<f.length;T++)l.push(f[T]);return this},c.default.prototype.endShape=function(j){if(c.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(j,s,u,d,g,S);else{if(l.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var T=j===x.CLOSE;T&&!g&&l.push(l[0]),this._renderer.endShape(j,l,s,u,d,g,S),_=!(g=d=u=s=!1),T&&l.pop()}return this},c.default.prototype.quadraticVertex=function(){for(var j,T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];if(c.default._validateParameters("quadraticVertex",C),this._renderer.isP3D)(j=this._renderer).quadraticVertex.apply(j,C);else{if(this._contourInited)return(j={}).x=C[0],j.y=C[1],j.x3=C[2],j.y3=C[3],j.type=x.QUADRATIC,this._contourVertices.push(j),this;if(0<l.length){d=!0;for(var R=[],P=0;P<C.length;P++)R[P]=C[P];R.isVert=!1,(g?f:l).push(R)}else c.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},c.default.prototype.vertex=function(j,T,C,L,R){var P;return this._renderer.isP3D?(P=this._renderer).vertex.apply(P,arguments):((P=[]).isVert=!0,P[0]=j,P[1]=T,P[2]=0,P[3]=0,P[4]=0,P[5]=this._renderer._getFill(),P[6]=this._renderer._getStroke(),C&&(P.moveTo=C),(g?(f.length===0&&(P.moveTo=!0),f):l).push(P)),this},c.default.prototype.normal=function(j,T,C){var L;return this._assert3d("normal"),c.default._validateParameters("normal",arguments),(L=this._renderer).normal.apply(L,arguments),this},c.default);y.default=v},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],284:[function(r,E,y){function h(f){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function a(f){return function(u){if(Array.isArray(u)){for(var s=0,d=new Array(u.length);s<u.length;s++)d[s]=u[s];return d}}(f)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(f){return(c=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(u){return h(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":h(u)})(f)}var x,S,l;r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(f,u){window.setTimeout(f,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(x=Object.keys,r=Object.defineProperty,S=typeof Symbol=="function"&&c(Symbol())==="symbol",l=Object.prototype.propertyIsEnumerable,r(Object,"assign",{value:function(f,u){if(f==null)throw new TypeError("target must be an object");for(var s,d=Object(f),g=1;g<arguments.length;++g){var _=Object(arguments[g]),v=x(_);for(S&&Object.getOwnPropertySymbols&&v.push.apply(v,a(Object.getOwnPropertySymbols(_).filter(function(j){return function(T){return l.call(j,T)}}(_)))),s=0;s<v.length;++s)d[v[s]]=_[v[s]]}return d},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/web.dom-collections.iterator":236}],285:[function(r,E,y){r("core-js/modules/es.array.for-each"),r("core-js/modules/es.object.assign"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.object.assign"),r("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(r=(r=r("./main"))&&r.__esModule?r:{default:r}).default.prototype.noLoop=function(){this._loop=!1},r.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},r.default.prototype.isLooping=function(){return this._loop},r.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},r.default.prototype.pop=function(){var h=this._styles.pop();h?(this._renderer.pop(h.renderer),Object.assign(this,h.props)):console.warn("pop() was called without matching push()")},r.default.prototype.redraw=function(h){if(!this._inUserDraw&&this._setupDone){var a=parseInt(h),c=((isNaN(a)||a<1)&&(a=1),this._isGlobal?window:this);if(typeof c.draw=="function"){c.setup===void 0&&c.scale(c._pixelDensity,c._pixelDensity);for(var x=function(l){l.call(c)},S=0;S<a;S++){c.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),c._renderer.isP3D&&c._renderer._update(),c._setProperty("frameCount",c.frameCount+1),c._registeredMethods.pre.forEach(x),this._inUserDraw=!0;try{c.draw()}finally{this._inUserDraw=!1}c._registeredMethods.post.forEach(x)}}}},r=r.default,y.default=r},{"./main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.object.assign":174,"core-js/modules/web.dom-collections.for-each":235}],286:[function(r,E,y){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("./main"))&&r.__esModule?r:{default:r};function a(c){return function(x){if(Array.isArray(x)){for(var S=0,l=new Array(x.length);S<x.length;S++)l[S]=x[S];return l}}(c)||function(x){if(Symbol.iterator in Object(x)||Object.prototype.toString.call(x)==="[object Arguments]")return Array.from(x)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}h.default.prototype.applyMatrix=function(){var c=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||c?(c=this._renderer).applyMatrix.apply(c,a(arguments.length<=0?void 0:arguments[0])):(c=this._renderer).applyMatrix.apply(c,arguments),this},h.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},h.default.prototype.rotate=function(c,x){return h.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(c),x),this},h.default.prototype.rotateX=function(c){return this._assert3d("rotateX"),h.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(c)),this},h.default.prototype.rotateY=function(c){return this._assert3d("rotateY"),h.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(c)),this},h.default.prototype.rotateZ=function(c){return this._assert3d("rotateZ"),h.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(c)),this},h.default.prototype.scale=function(c,x,S){var l;return h.default._validateParameters("scale",arguments),c instanceof h.default.Vector?(c=(l=c).x,x=l.y,S=l.z):c instanceof Array&&(c=(l=c)[0],x=l[1],S=l[2]||1),isNaN(x)?x=S=c:isNaN(S)&&(S=1),this._renderer.scale.call(this._renderer,c,x,S),this},h.default.prototype.shearX=function(c){return h.default._validateParameters("shearX",arguments),c=this._toRadians(c),this._renderer.applyMatrix(1,0,Math.tan(c),1,0,0),this},h.default.prototype.shearY=function(c){return h.default._validateParameters("shearY",arguments),c=this._toRadians(c),this._renderer.applyMatrix(1,Math.tan(c),0,1,0,0),this},h.default.prototype.translate=function(c,x,S){return h.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(c,x,S):this._renderer.translate(c,x),this},r=h.default,y.default=r},{"./main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236}],287:[function(r,E,y){function h(S){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(S)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};function c(S){return function(l){if(Array.isArray(l)){for(var f=0,u=new Array(l.length);f<l.length;f++)u[f]=l[f];return u}}(S)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(S){return(x=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(l){return h(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":h(l)})(S)}a.default.prototype.storeItem=function(S,l){typeof S!="string"&&console.log("The argument that you passed to storeItem() - ".concat(S," is not a string.")),S.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(S," must not end with 'p5TypeID'.")),l===void 0&&console.log("You cannot store undefined variables using storeItem().");var f=x(l);switch(f){case"number":case"boolean":l=l.toString();break;case"object":l instanceof a.default.Color?f="p5.Color":l instanceof a.default.Vector&&(f="p5.Vector",l=[l.x,l.y,l.z]),l=JSON.stringify(l)}localStorage.setItem(S,l),S="".concat(S,"p5TypeID"),localStorage.setItem(S,f)},a.default.prototype.getItem=function(S){var l=localStorage.getItem(S),f=localStorage.getItem("".concat(S,"p5TypeID"));if(f===void 0)console.log("Unable to determine type of item stored under ".concat(S,"in local storage. Did you save the item with something other than setItem()?"));else if(l!==null)switch(f){case"number":l=parseFloat(l);break;case"boolean":l=l==="true";break;case"object":l=JSON.parse(l);break;case"p5.Color":l=JSON.parse(l),l=this.color.apply(this,c(l.levels));break;case"p5.Vector":l=JSON.parse(l),l=this.createVector.apply(this,c(l))}return l},a.default.prototype.clearStorage=function(){localStorage.clear()},a.default.prototype.removeItem=function(S){typeof S!="string"&&console.log("The argument that you passed to removeItem() - ".concat(S," is not a string.")),localStorage.removeItem(S),localStorage.removeItem("".concat(S,"p5TypeID"))}},{"../core/main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],288:[function(r,E,y){function h(d){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};function c(d){return(c=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(g){return h(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":h(g)})(d)}function x(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),g&&function(_,v){(Object.setPrototypeOf||function(j,T){return j.__proto__=T,j})(_,v)}(d,g)}function S(d){return function(){var g,_=l(d);if(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=l(this).constructor,Reflect.construct(_,arguments,g)):_.apply(this,arguments),_=this,!g||c(g)!=="object"&&typeof g!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}function l(d){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(d)}function f(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function u(d,g){for(var _=0;_<g.length;_++){var v=g[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}function s(d,g,_){g&&u(d.prototype,g)}a.default.prototype.createStringDict=function(d,g){return a.default._validateParameters("createStringDict",arguments),new a.default.StringDict(d,g)},a.default.prototype.createNumberDict=function(d,g){return a.default._validateParameters("createNumberDict",arguments),new a.default.NumberDict(d,g)},a.default.TypedDict=function(){function d(g,_){return f(this,d),g instanceof Object?this.data=g:(this.data={},this.data[g]=_),this}return s(d,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(g){return this.data.hasOwnProperty(g)}},{key:"get",value:function(g){if(this.data.hasOwnProperty(g))return this.data[g];console.log("".concat(g," does not exist in this Dictionary"))}},{key:"set",value:function(g,_){this._validate(_)?this.data[g]=_:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(g){for(var _ in g)this.set(_,g[_])}},{key:"create",value:function(g,_){g instanceof Object&&_===void 0?this._addObj(g):g!==void 0?this.set(g,_):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(g){if(!this.data.hasOwnProperty(g))throw new Error("".concat(g," does not exist in this Dictionary"));delete this.data[g]}},{key:"print",value:function(){for(var g in this.data)console.log("key:".concat(g," value:").concat(this.data[g]))}},{key:"saveTable",value:function(g){var _,v="";for(_ in this.data)v+="".concat(_,",").concat(this.data[_],`
`);var j=new Blob([v],{type:"text/csv"});a.default.prototype.downloadFile(j,g||"mycsv","csv")}},{key:"saveJSON",value:function(g,_){a.default.prototype.saveJSON(this.data,g,_)}},{key:"_validate",value:function(g){return!0}}]),d}(),a.default.StringDict=function(){x(g,a.default.TypedDict);var d=S(g);function g(){f(this,g);for(var _=arguments.length,v=new Array(_),j=0;j<_;j++)v[j]=arguments[j];return d.call.apply(d,[this].concat(v))}return s(g,[{key:"_validate",value:function(_){return typeof _=="string"}}]),g}(),a.default.NumberDict=function(){x(g,a.default.TypedDict);var d=S(g);function g(){f(this,g);for(var _=arguments.length,v=new Array(_),j=0;j<_;j++)v[j]=arguments[j];return d.call.apply(d,[this].concat(v))}return s(g,[{key:"_validate",value:function(_){return typeof _=="number"}},{key:"add",value:function(_,v){this.data.hasOwnProperty(_)?this.data[_]+=v:console.log("The key - ".concat(_," does not exist in this dictionary."))}},{key:"sub",value:function(_,v){this.add(_,-v)}},{key:"mult",value:function(_,v){this.data.hasOwnProperty(_)?this.data[_]*=v:console.log("The key - ".concat(_," does not exist in this dictionary."))}},{key:"div",value:function(_,v){this.data.hasOwnProperty(_)?this.data[_]/=v:console.log("The key - ".concat(_," does not exist in this dictionary."))}},{key:"_valueTest",value:function(_){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var v,j=this.data[Object.keys(this.data)[0]];for(v in this.data)this.data[v]*_<j*_&&(j=this.data[v]);return j}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(_){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var v=Object.keys(this.data)[0],j=1;j<Object.keys(this.data).length;j++)Object.keys(this.data)[j]*_<v*_&&(v=Object.keys(this.data)[j]);return v}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),g}(),r=a.default.TypedDict,y.default=r},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],289:[function(r,E,y){function h(j){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(j)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(r=r("../core/main"))&&r.__esModule?r:{default:r};function c(j,T){for(var C=0;C<T.length;C++){var L=T[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(j,L.key,L)}}function x(j,T,C){T&&c(j.prototype,T),C&&c(j,C)}function S(j,T){return(S=Object.setPrototypeOf||function(C,L){return C.__proto__=L,C})(j,T)}function l(j){return function(){var T,C,L=u(j);return T=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(T=u(this).constructor,Reflect.construct(L,arguments,T)):L.apply(this,arguments),L=this,!(C=T)||d(C)!=="object"&&typeof C!="function"?f(L):C}}function f(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function u(j){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(j)}function s(j,T){if(!(j instanceof T))throw new TypeError("Cannot call a class as a function")}function d(j){return(d=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(T){return h(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":h(T)})(j)}function g(j,T,C){return(T._userNode||document.body).appendChild(j),C=new(C?a.default.MediaElement:a.default.Element)(j,T),T._elements.push(C),C}function _(j,T,C,L){var R=document.createElement(T),P=(typeof(C=C||"")=="string"&&(C=[C]),!0),B=(T=!1,void 0);try{for(var M,U=C[Symbol.iterator]();!(P=(M=U.next()).done);P=!0){var V=M.value,$=document.createElement("source");$.setAttribute("src",V),R.appendChild($)}}catch(I){T=!0,B=I}finally{try{P||U.return==null||U.return()}finally{if(T)throw B}}typeof L=="function"&&R.addEventListener("canplaythrough",function I(){L(),R.removeEventListener("canplaythrough",I)});var G=g(R,j,!0);return G.loadedmetadata=!1,R.addEventListener("loadedmetadata",function(){G.width=R.videoWidth,G.height=R.videoHeight,G.elt.width===0&&(G.elt.width=R.videoWidth),G.elt.height===0&&(G.elt.height=R.videoHeight),G.presetPlaybackRate&&(G.elt.playbackRate=G.presetPlaybackRate,delete G.presetPlaybackRate),G.loadedmetadata=!0}),G}function v(j,T,C,L){s(this,v),this.callback=j,this.time=T,this.id=C,this.val=L}a.default.prototype.select=function(j,T){return a.default._validateParameters("select",arguments),(T=this._getContainer(T).querySelector(j))?this._wrapElement(T):null},a.default.prototype.selectAll=function(j,T){a.default._validateParameters("selectAll",arguments);var C=[],L=this._getContainer(T).querySelectorAll(j);if(L)for(var R=0;R<L.length;R++){var P=this._wrapElement(L[R]);C.push(P)}return C},a.default.prototype._getContainer=function(j){var T=document;return typeof j=="string"?T=document.querySelector(j)||document:j instanceof a.default.Element?T=j.elt:j instanceof HTMLElement&&(T=j),T},a.default.prototype._wrapElement=function(j){var T,C=Array.prototype.slice.call(j.children);return j.tagName==="INPUT"&&j.type==="checkbox"?((T=new a.default.Element(j,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},T):j.tagName==="VIDEO"||j.tagName==="AUDIO"?new a.default.MediaElement(j,this):j.tagName==="SELECT"?this.createSelect(new a.default.Element(j,this)):0<C.length&&C.every(function(L){return L.tagName==="INPUT"||L.tagName==="LABEL"})?this.createRadio(new a.default.Element(j,this)):new a.default.Element(j,this)},a.default.prototype.removeElements=function(j){a.default._validateParameters("removeElements",arguments),this._elements.filter(function(T){return!(T.elt instanceof HTMLCanvasElement)}).map(function(T){return T.remove()})},a.default.Element.prototype.changed=function(j){return a.default.Element._adjustListener("change",j,this),this},a.default.Element.prototype.input=function(j){return a.default.Element._adjustListener("input",j,this),this},a.default.prototype.createDiv=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=document.createElement("div");return T.innerHTML=j,g(T,this)},a.default.prototype.createP=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=document.createElement("p");return T.innerHTML=j,g(T,this)},a.default.prototype.createSpan=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=document.createElement("span");return T.innerHTML=j,g(T,this)},a.default.prototype.createImg=function(){a.default._validateParameters("createImg",arguments);var j,T=document.createElement("img"),C=arguments;return 1<C.length&&typeof C[1]=="string"&&(T.alt=C[1]),2<C.length&&typeof C[2]=="string"&&(T.crossOrigin=C[2]),T.src=C[0],j=g(T,this),T.addEventListener("load",function(){j.width=T.offsetWidth||T.width,j.height=T.offsetHeight||T.height;var L=C[C.length-1];typeof L=="function"&&L(j)}),j},a.default.prototype.createA=function(j,T,C){a.default._validateParameters("createA",arguments);var L=document.createElement("a");return L.href=j,L.innerHTML=T,C&&(L.target=C),g(L,this)},a.default.prototype.createSlider=function(j,T,C,L){a.default._validateParameters("createSlider",arguments);var R=document.createElement("input");return R.type="range",R.min=j,R.max=T,L===0?R.step=1e-18:L&&(R.step=L),typeof C=="number"&&(R.value=C),g(R,this)},a.default.prototype.createButton=function(j,T){a.default._validateParameters("createButton",arguments);var C=document.createElement("button");return C.innerHTML=j,T&&(C.value=T),g(C,this)},a.default.prototype.createCheckbox=function(){for(var j=arguments.length,T=new Array(j),C=0;C<j;C++)T[C]=arguments[C];a.default._validateParameters("createCheckbox",T);var L=document.createElement("div"),R=document.createElement("input"),P=(R.type="checkbox",document.createElement("label")),B=(P.appendChild(R),L.appendChild(P),g(L,this));return B.checked=function(){var M=B.elt.firstElementChild.getElementsByTagName("input")[0];if(M){if(arguments.length===0)return M.checked;M.checked=!(arguments.length<=0||!arguments[0])}return B},this.value=function(M){return B.value=M,this},T[0]&&(B.value(T[0]),(L=document.createElement("span")).innerHTML=T[0],P.appendChild(L)),T[1]&&(R.checked=!0),B},a.default.prototype.createSelect=function(){for(var j,T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];a.default._validateParameters("createSelect",C);var R,P=C[0];return P instanceof a.default.Element&&P.elt instanceof HTMLSelectElement?this.elt=(j=P).elt:P instanceof HTMLSelectElement?(j=g(P,this),this.elt=P):(R=document.createElement("select"),P&&typeof P=="boolean"&&R.setAttribute("multiple","true"),j=g(R,this),this.elt=R),j.option=function(B,M){var U;if(B!==void 0){for(var V,$=0;$<this.elt.length;$+=1)if(this.elt[$].textContent===B){U=$;break}U!==void 0?M===!1?this.elt.remove(U):this.elt[U].value=M:((V=document.createElement("option")).textContent=B,V.value=M===void 0?B:M,this.elt.appendChild(V),this._pInst._elements.push(V))}},j.selected=function(B){if(B!==void 0){for(var M=0;M<this.elt.length;M+=1)this.elt[M].value.toString()===B.toString()&&(this.elt.selectedIndex=M);return this}if(this.elt.getAttribute("multiple")){var U=[],V=!0,$=!1,G=void 0;try{for(var I,q=this.elt.selectedOptions[Symbol.iterator]();!(V=(I=q.next()).done);V=!0){var Z=I.value;U.push(Z.value)}}catch(J){$=!0,G=J}finally{try{V||q.return==null||q.return()}finally{if($)throw G}}return U}return this.elt.value},j.disable=function(B){if(typeof B=="string")for(var M=0;M<this.elt.length;M++)this.elt[M].value.toString()===B&&(this.elt[M].disabled=!0,this.elt[M].selected=!1);else this.elt.disabled=!0;return this},j.enable=function(B){if(typeof B=="string")for(var M=0;M<this.elt.length;M++)this.elt[M].value.toString()===B&&(this.elt[M].disabled=!1,this.elt[M].selected=!1);else{this.elt.disabled=!1;for(var U=0;U<this.elt.length;U++)this.elt[U].disabled=!1,this.elt[U].selected=!1}return this},j},a.default.prototype.createRadio=function(){function j(B){return B instanceof HTMLInputElement&&B.type==="radio"}function T(B){return B instanceof HTMLLabelElement}var C,L,R,P=arguments.length<=0?void 0:arguments[0];return P instanceof a.default.Element&&(P.elt instanceof HTMLDivElement||P.elt instanceof HTMLSpanElement)?(C=P,this.elt=P.elt):P instanceof HTMLDivElement||P instanceof HTMLSpanElement?(C=g(P,this),L=this.elt=P,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(R=arguments.length<=1?void 0:arguments[1])):(typeof P=="string"&&(R=P),L=document.createElement("div"),C=g(L,this),this.elt=L),C._name=R||"radioOption",C._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(B){return j(B)||T(B)&&j(B.firstElementChild)}).map(function(B){return j(B)?B:B.firstElementChild})},C.option=function(B,M){var U,V,$,G=!0,I=!1,q=void 0;try{for(var Z,J=C._getOptionsArray()[Symbol.iterator]();!(G=(Z=J.next()).done);G=!0){var ee=Z.value;if(ee.value===B){U=ee;break}}}catch(le){I=!0,q=le}finally{try{G||J.return==null||J.return()}finally{if(I)throw q}}return U===void 0&&((U=document.createElement("input")).setAttribute("type","radio"),U.setAttribute("value",B)),U.setAttribute("name",C._name),T(U.parentElement)?V=U.parentElement:(V=document.createElement("label")).insertAdjacentElement("afterbegin",U),V.lastElementChild instanceof HTMLSpanElement?$=V.lastElementChild:($=document.createElement("span"),U.insertAdjacentElement("afterend",$)),$.innerHTML=M===void 0?B:M,this.elt.appendChild(V),U},C.remove=function(B){var M=!0,U=!1,V=void 0;try{for(var $,G=C._getOptionsArray()[Symbol.iterator]();!(M=($=G.next()).done);M=!0){var I=$.value;if(I.value===B)return void(T(I.parentElement)?I.parentElement:I).remove()}}catch(q){U=!0,V=q}finally{try{M||G.return==null||G.return()}finally{if(U)throw V}}},C.value=function(){var B="",M=!0,U=!1,V=void 0;try{for(var $,G=C._getOptionsArray()[Symbol.iterator]();!(M=($=G.next()).done);M=!0){var I=$.value;if(I.checked){B=I.value;break}}}catch(q){U=!0,V=q}finally{try{M||G.return==null||G.return()}finally{if(U)throw V}}return B},C.selected=function(B){var M=null;if(B===void 0){var U=!0,V=!1,$=void 0;try{for(var G,I=C._getOptionsArray()[Symbol.iterator]();!(U=(G=I.next()).done);U=!0){var q=G.value;if(q.checked){M=q;break}}}catch(ae){V=!0,$=ae}finally{try{U||I.return==null||I.return()}finally{if(V)throw $}}}else{C._getOptionsArray().forEach(function(ae){ae.checked=!1,ae.removeAttribute("checked")});var Z=!0;V=!1,$=void 0;try{for(var J,ee=C._getOptionsArray()[Symbol.iterator]();!(Z=(J=ee.next()).done);Z=!0){var le=J.value;le.value===B&&(le.setAttribute("checked",!0),le.checked=!0,M=le)}}catch(ae){V=!0,$=ae}finally{try{Z||ee.return==null||ee.return()}finally{if(V)throw $}}}return M},C.disable=function(){var B=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],M=!0,U=!1,V=void 0;try{for(var $,G=C._getOptionsArray()[Symbol.iterator]();!(M=($=G.next()).done);M=!0)$.value.setAttribute("disabled",B)}catch(I){U=!0,V=I}finally{try{M||G.return==null||G.return()}finally{if(U)throw V}}},C},a.default.prototype.createColorPicker=function(j){a.default._validateParameters("createColorPicker",arguments);var T=document.createElement("input");return T.type="color",j?j instanceof a.default.Color?T.value=j.toString("#rrggbb"):(a.default.prototype._colorMode="rgb",a.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},T.value=a.default.prototype.color(j).toString("#rrggbb")):T.value="#000000",(T=g(T,this)).color=function(){return j&&(j.mode&&(a.default.prototype._colorMode=j.mode),j.maxes&&(a.default.prototype._colorMaxes=j.maxes)),a.default.prototype.color(this.elt.value)},T},a.default.prototype.createInput=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",C=(a.default._validateParameters("createInput",arguments),document.createElement("input"));return C.setAttribute("value",j),C.setAttribute("type",T),g(C,this)},a.default.prototype.createFileInput=function(j){var T,C=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(a.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(T=document.createElement("input")).setAttribute("type","file"),C&&T.setAttribute("multiple",!0),T.addEventListener("change",function(L){var R=!0,P=!1,B=void 0;try{for(var M,U=L.target.files[Symbol.iterator]();!(R=(M=U.next()).done);R=!0){var V=M.value;a.default.File._load(V,j)}}catch($){P=!0,B=$}finally{try{R||U.return==null||U.return()}finally{if(P)throw B}}},!1),g(T,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},a.default.prototype.createVideo=function(j,T){return a.default._validateParameters("createVideo",arguments),_(this,"video",j,T)},a.default.prototype.createAudio=function(j,T){return a.default._validateParameters("createAudio",arguments),_(this,"audio",j,T)},a.default.prototype.VIDEO="video",a.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(j){var T=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return T?new Promise(function(C,L){T.call(navigator,j,C,L)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),a.default.prototype.createCapture=function(){for(var j=arguments.length,T=new Array(j),C=0;C<j;C++)T[C]=arguments[C];if(a.default._validateParameters("createCapture",T),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var L,R=!0,P=!0,B=0,M=T;B<M.length;B++){var U=M[B];U===a.default.prototype.VIDEO?P=!1:U===a.default.prototype.AUDIO?R=!1:d(U)==="object"?V=U:typeof U=="function"&&(L=U)}var V=V||{video:R,audio:P},$=document.createElement("video"),G=($.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(V).then(function(I){try{"srcObject"in $?$.srcObject=I:$.src=window.URL.createObjectURL(I)}catch{$.src=I}},console.log),g($,this,!0));return G.loadedmetadata=!1,$.addEventListener("loadedmetadata",function(){$.play(),$.width?(G.width=$.width,G.height=$.height):(G.width=G.elt.width=$.videoWidth,G.height=G.elt.height=$.videoHeight),G.loadedmetadata=!0,L&&L($.srcObject)}),G},a.default.prototype.createElement=function(j,T){return a.default._validateParameters("createElement",arguments),j=document.createElement(j),T!==void 0&&(j.innerHTML=T),g(j,this)},a.default.Element.prototype.addClass=function(j){return this.elt.className?this.hasClass(j)||(this.elt.className=this.elt.className+" "+j):this.elt.className=j,this},a.default.Element.prototype.removeClass=function(j){return this.elt.classList.remove(j),this},a.default.Element.prototype.hasClass=function(j){return this.elt.classList.contains(j)},a.default.Element.prototype.toggleClass=function(j){return this.elt.classList.contains(j)?this.elt.classList.remove(j):this.elt.classList.add(j),this},a.default.Element.prototype.child=function(j){return j===void 0?this.elt.childNodes:(typeof j=="string"?(j[0]==="#"&&(j=j.substring(1)),j=document.getElementById(j)):j instanceof a.default.Element&&(j=j.elt),j instanceof HTMLElement&&this.elt.appendChild(j),this)},a.default.Element.prototype.center=function(j){var T=this.elt.style.display,C=this.elt.style.display==="none",L=this.parent().style.display==="none",R={x:this.elt.offsetLeft,y:this.elt.offsetTop},P=(C&&this.show(),L&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),B=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return j==="both"||j===void 0?this.position(P/2+this.parent().offsetLeft,B/2+this.parent().offsetTop):j==="horizontal"?this.position(P/2+this.parent().offsetLeft,R.y):j==="vertical"&&this.position(R.x,B/2+this.parent().offsetTop),this.style("display",T),C&&this.hide(),L&&this.parent().hide(),this},a.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},a.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},a.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var j="";return this.elt.style.transform&&(j=(j=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=j,this},a.default.Element.prototype._rotate=function(){var j="";return this.elt.style.transform&&(j=(j=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=j,this},a.default.Element.prototype.style=function(j,T){if((T=T instanceof a.default.Color?"rgba("+T.levels[0]+","+T.levels[1]+","+T.levels[2]+","+T.levels[3]/255+")":T)===void 0){if(j.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(j);for(var C=j.split(";"),L=0;L<C.length;L++){var R=C[L].split(":");R[0]&&R[1]&&(this.elt.style[R[0].trim()]=R[1].trim())}}else this.elt.style[j]=T,j!=="width"&&j!=="height"&&j!=="left"&&j!=="top"||(T=window.getComputedStyle(this.elt).getPropertyValue(j).replace(/[^\d.]/g,""),this[j]=Math.round(parseFloat(T,10)));return this},a.default.Element.prototype.attribute=function(j,T){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return T===void 0?this.elt.getAttribute(j):(this.elt.setAttribute(j,T),this);if(T===void 0)return this.elt.firstChild.getAttribute(j);for(var C=0;C<this.elt.childNodes.length;C++)this.elt.childNodes[C].setAttribute(j,T)},a.default.Element.prototype.removeAttribute=function(j){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var T=0;T<this.elt.childNodes.length;T++)this.elt.childNodes[T].removeAttribute(j);return this.elt.removeAttribute(j),this},a.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},a.default.Element.prototype.show=function(){return this.elt.style.display="block",this},a.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},a.default.Element.prototype.size=function(j,T){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var C=j,L=T,R=a.default.prototype.AUTO;if(C!==R||L!==R){if(C===R?C=T*this.width/this.height:L===R&&(L=j*this.height/this.width),this.elt instanceof HTMLCanvasElement){var P,B={},M=this.elt.getContext("2d");for(P in M)B[P]=M[P];for(P in this.elt.setAttribute("width",C*this._pInst._pixelDensity),this.elt.setAttribute("height",L*this._pInst._pixelDensity),this.elt.style.width=C+"px",this.elt.style.height=L+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),B)this.elt.getContext("2d")[P]=B[P]}else this.elt.style.width=C+"px",this.elt.style.height=L+"px",this.elt.width=C,this.elt.height=L;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},a.default.Element.prototype.remove=function(){this instanceof a.default.MediaElement&&(this.stop(),(T=this.elt.srcObject)!==null&&T.getTracks().forEach(function(C){C.stop()}));var j,T=this._pInst._elements.indexOf(this);for(j in T!==-1&&this._pInst._elements.splice(T,1),this._events)this.elt.removeEventListener(j,this._events[j]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},a.default.Element.prototype.drop=function(j,T){var C;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",C=function(L){L.preventDefault()}),this.elt.addEventListener("dragleave",C)),a.default.Element._attachListener("drop",function(L){L.preventDefault(),typeof T=="function"&&T.call(this,L),L=L.dataTransfer.files;var R=!0,P=!1,B=void 0;try{for(var M,U=L[Symbol.iterator]();!(R=(M=U.next()).done);R=!0){var V=M.value;a.default.File._load(V,j)}}catch($){P=!0,B=$}finally{try{R||U.return==null||U.return()}finally{if(P)throw B}}},this)):console.log("The File APIs are not fully supported in this browser."),this},r=function(j){var T=L;if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(j&&j.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),j&&S(T,j);var C=l(L);function L(R,P){s(this,L);var B=f(P=C.call(this,R,P));return P.elt.crossOrigin="anonymous",P._prevTime=0,P._cueIDCounter=0,P._cues=[],P.pixels=[],P._pixelsState=f(P),P._pixelDensity=1,P._modified=!1,P._frameOnCanvas=-1,Object.defineProperty(B,"src",{get:function(){var M=B.elt.children[0].src,U=B.elt.src===window.location.href?"":B.elt.src;return M===window.location.href?U:M},set:function(M){for(var U=0;U<B.elt.children.length;U++)B.elt.removeChild(B.elt.children[U]);var V=document.createElement("source");V.src=M,R.appendChild(V),B.elt.src=M,B.modified=!0}}),B._onended=function(){},B.elt.onended=function(){B._onended(B)},P}return x(L,[{key:"play",value:function(){var R;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(R=this.elt.play())&&R.catch&&R.catch(function(P){P.name==="NotAllowedError"?console.error(P):console.error("Media play method encountered an unexpected error",P)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var R=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(R)},{passive:!0,once:!0})}},{key:"autoplay",value:function(R){var P=this,B=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",R),R&&!B&&(R=function(){return P._setupAutoplayFailDetection()},this.elt.readyState===4?R():this.elt.addEventListener("canplay",R,{passive:!0,once:!0})),this}},{key:"volume",value:function(R){if(R===void 0)return this.elt.volume;this.elt.volume=R}},{key:"speed",value:function(R){if(R===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=R:this.presetPlaybackRate=R}},{key:"time",value:function(R){return R===void 0?this.elt.currentTime:(this.elt.currentTime=R,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var R=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&R&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var R=arguments.length,P=new Array(R),B=0;B<R;B++)P[B]=arguments[B];return a.default.Renderer2D.prototype.loadPixels.apply(this,P)}},{key:"updatePixels",value:function(R,P,B,M){return this.loadedmetadata&&(this._ensureCanvas(),a.default.Renderer2D.prototype.updatePixels.call(this,R,P,B,M)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var R=arguments.length,P=new Array(R),B=0;B<R;B++)P[B]=arguments[B];return a.default.Renderer2D.prototype.get.apply(this,P)}},{key:"_getPixel",value:function(){this.loadPixels();for(var R=arguments.length,P=new Array(R),B=0;B<R;B++)P[B]=arguments[B];return a.default.Renderer2D.prototype._getPixel.apply(this,P)}},{key:"set",value:function(R,P,B){this.loadedmetadata&&(this._ensureCanvas(),a.default.Renderer2D.prototype.set.call(this,R,P,B),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var R=arguments.length,P=new Array(R),B=0;B<R;B++)P[B]=arguments[B];a.default.prototype.copy.apply(this,P)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var R=arguments.length,P=new Array(R),B=0;B<R;B++)P[B]=arguments[B];a.default.Image.prototype.mask.apply(this,P)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(R){this._modified=R}},{key:"onended",value:function(R){return this._onended=R,this}},{key:"connect",value:function(R){var P,B;if(typeof a.default.prototype.getAudioContext=="function")P=a.default.prototype.getAudioContext(),B=a.default.soundOut.input;else try{B=(P=R.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=P.createMediaElementSource(this.elt),this.audioSourceNode.connect(B)),R?R.input?this.audioSourceNode.connect(R.input):this.audioSourceNode.connect(R):this.audioSourceNode.connect(B)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(R,P,B){var M=this._cueIDCounter++;return P=new v(P,R,M,B),this._cues.push(P),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),M}},{key:"removeCue",value:function(R){for(var P=0;P<this._cues.length;P++)this._cues[P].id===R&&(console.log(R),this._cues.splice(P,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var R=this.time(),P=0;P<this._cues.length;P++){var B=this._cues[P].time,M=this._cues[P].val;this._prevTime<B&&B<=R&&this._cues[P].callback(M)}this._prevTime=R}}]),L}(a.default.Element),a.default.MediaElement=r,r=function(){function j(T,C){s(this,j),this.file=T,this._pInst=C,C=T.type.split("/"),this.type=C[0],this.subtype=C[1],this.name=T.name,this.size=T.size,this.data=void 0}return x(j,null,[{key:"_createLoader",value:function(T,C){var L=new FileReader;return L.onload=function(R){var P,B=new a.default.File(T);B.file.type==="application/json"?B.data=JSON.parse(R.target.result):B.file.type==="text/xml"?(P=new DOMParser().parseFromString(R.target.result,"text/xml"),B.data=new a.default.XML(P.documentElement)):B.data=R.target.result,C(B)},L}},{key:"_load",value:function(T,C){var L;/^text\//.test(T.type)||T.type==="application/json"?a.default.File._createLoader(T,C).readAsText(T):/^(video|audio)\//.test(T.type)?((L=new a.default.File(T)).data=URL.createObjectURL(T),C(L)):a.default.File._createLoader(T,C).readAsDataURL(T)}}]),j}(),a.default.File=r,r=a.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238}],290:[function(r,E,y){function h(j){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(j)}function a(j){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(T){return h(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":h(T)})(j)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(v=r("../core/main"))&&v.__esModule?v:{default:v},x=function(j){if(j&&j.__esModule)return j;if(j===null||a(j)!=="object"&&typeof j!="function")return{default:j};var T=function(){var B;return typeof WeakMap!="function"?null:(B=new WeakMap,B)}();if(T&&T.has(j))return T.get(j);var C,L={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in j){var P;Object.prototype.hasOwnProperty.call(j,C)&&((P=R?Object.getOwnPropertyDescriptor(j,C):null)&&(P.get||P.set)?Object.defineProperty(L,C,P):L[C]=j[C])}return L.default=j,T&&T.set(j,L),L}(r("../core/constants"));c.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",c.default.prototype.accelerationX=0,c.default.prototype.accelerationY=0,c.default.prototype.accelerationZ=0,c.default.prototype.pAccelerationX=0,c.default.prototype.pAccelerationY=0,c.default.prototype.pAccelerationZ=0,c.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},c.default.prototype.rotationX=0,c.default.prototype.rotationY=0,c.default.prototype.rotationZ=0,c.default.prototype.pRotationX=0,c.default.prototype.pRotationY=0;var S=c.default.prototype.pRotationZ=0,l=0,f=0,u="clockwise",s="clockwise",d="clockwise",g=(c.default.prototype.pRotateDirectionX=void 0,c.default.prototype.pRotateDirectionY=void 0,c.default.prototype.pRotateDirectionZ=void 0,c.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},c.default.prototype.turnAxis=void 0,.5),_=30,v=(c.default.prototype.setMoveThreshold=function(j){c.default._validateParameters("setMoveThreshold",arguments),g=j},c.default.prototype.setShakeThreshold=function(j){c.default._validateParameters("setShakeThreshold",arguments),_=j},c.default.prototype._ondeviceorientation=function(j){this._updatePRotations(),this._angleMode===x.radians&&(j.beta=j.beta*(_PI/180),j.gamma=j.gamma*(_PI/180),j.alpha=j.alpha*(_PI/180)),this._setProperty("rotationX",j.beta),this._setProperty("rotationY",j.gamma),this._setProperty("rotationZ",j.alpha),this._handleMotion()},c.default.prototype._ondevicemotion=function(j){this._updatePAccelerations(),this._setProperty("accelerationX",2*j.acceleration.x),this._setProperty("accelerationY",2*j.acceleration.y),this._setProperty("accelerationZ",2*j.acceleration.z),this._handleMotion()},c.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var j,T,C,L,R,P=this._isGlobal?window:this;typeof P.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>g||Math.abs(this.accelerationY-this.pAccelerationY)>g||Math.abs(this.accelerationZ-this.pAccelerationZ)>g)&&P.deviceMoved(),typeof P.deviceTurned=="function"&&(T=this.rotationX+180,j=this.pRotationX+180,C=S+180,0<T-j&&T-j<270||T-j<-270?u="clockwise":(T-j<0||270<T-j)&&(u="counter-clockwise"),u!==this.pRotateDirectionX&&(C=T),90<Math.abs(T-C)&&Math.abs(T-C)<270&&(C=T,this._setProperty("turnAxis","X"),P.deviceTurned()),this.pRotateDirectionX=u,S=C-180,j=this.rotationY+180,T=this.pRotationY+180,C=l+180,0<j-T&&j-T<270||j-T<-270?s="clockwise":(j-T<0||270<j-this.pRotationY)&&(s="counter-clockwise"),s!==this.pRotateDirectionY&&(C=j),90<Math.abs(j-C)&&Math.abs(j-C)<270&&(C=j,this._setProperty("turnAxis","Y"),P.deviceTurned()),this.pRotateDirectionY=s,l=C-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?d="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(d="counter-clockwise"),d!==this.pRotateDirectionZ&&(f=this.rotationZ),90<Math.abs(this.rotationZ-f)&&Math.abs(this.rotationZ-f)<270&&(f=this.rotationZ,this._setProperty("turnAxis","Z"),P.deviceTurned()),this.pRotateDirectionZ=d,this._setProperty("turnAxis",void 0)),typeof P.deviceShaken=="function"&&(this.pAccelerationX!==null&&(L=Math.abs(this.accelerationX-this.pAccelerationX),R=Math.abs(this.accelerationY-this.pAccelerationY)),_<L+R&&P.deviceShaken())},c.default);y.default=v},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],291:[function(r,E,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};h.default.prototype.isKeyPressed=!1,h.default.prototype.keyIsPressed=!1,h.default.prototype.key="",h.default.prototype.keyCode=0,h.default.prototype._onkeydown=function(a){var c;this._downKeys[a.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",a.which),this._downKeys[a.which]=!0,this._setProperty("key",a.key||String.fromCharCode(a.which)||a.which),typeof(c=this._isGlobal?window:this).keyPressed!="function"||a.charCode||c.keyPressed(a)===!1&&a.preventDefault())},h.default.prototype._onkeyup=function(a){this._downKeys[a.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",a.key||String.fromCharCode(a.which)||a.which),this._setProperty("keyCode",a.which);var c=this._isGlobal?window:this;typeof c.keyReleased=="function"&&c.keyReleased(a)===!1&&a.preventDefault()},h.default.prototype._onkeypress=function(a){var c;a.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",a.which),this._setProperty("key",a.key||String.fromCharCode(a.which)||a.which),typeof(c=this._isGlobal?window:this).keyTyped=="function"&&c.keyTyped(a)===!1&&a.preventDefault())},h.default.prototype._onblur=function(a){this._downKeys={}},h.default.prototype.keyIsDown=function(a){return h.default._validateParameters("keyIsDown",arguments),this._downKeys[a]||!1},h.default.prototype._areDownKeys=function(){for(var a in this._downKeys)if(this._downKeys.hasOwnProperty(a)&&this._downKeys[a]===!0)return!0;return!1},r=h.default,y.default=r},{"../core/main":273}],292:[function(r,E,y){function h(S){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(S)}function a(S){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(l){return h(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":h(l)})(S)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(c=r("../core/main"))&&c.__esModule?c:{default:c},x=function(S){if(S&&S.__esModule)return S;if(S===null||a(S)!=="object"&&typeof S!="function")return{default:S};var l=function(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,g)}();if(l&&l.has(S))return l.get(S);var f,u={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in S){var d;Object.prototype.hasOwnProperty.call(S,f)&&((d=s?Object.getOwnPropertyDescriptor(S,f):null)&&(d.get||d.set)?Object.defineProperty(u,f,d):u[f]=S[f])}return u.default=S,l&&l.set(S,u),u}(r("../core/constants"));c.default.prototype.movedX=0,c.default.prototype.movedY=0,c.default.prototype._hasMouseInteracted=!1,c.default.prototype.mouseX=0,c.default.prototype.mouseY=0,c.default.prototype.pmouseX=0,c.default.prototype.pmouseY=0,c.default.prototype.winMouseX=0,c.default.prototype.winMouseY=0,c.default.prototype.pwinMouseX=0,c.default.prototype.pwinMouseY=0,c.default.prototype.mouseButton=0,c.default.prototype.mouseIsPressed=!1,c.default.prototype._updateNextMouseCoords=function(S){var l,f,u,s,d;this._curElement!==null&&(!S.touches||0<S.touches.length)&&(l=this._curElement.elt,f=this.width,u=this.height,(s=S)&&!s.clientX&&(s.touches?s=s.touches[0]:s.changedTouches&&(s=s.changedTouches[0])),d=l.getBoundingClientRect(),f=l.scrollWidth/f||1,l=l.scrollHeight/u||1,u={x:(s.clientX-d.left)/f,y:(s.clientY-d.top)/l,winX:s.clientX,winY:s.clientY,id:s.identifier},this._setProperty("movedX",S.movementX),this._setProperty("movedY",S.movementY),this._setProperty("mouseX",u.x),this._setProperty("mouseY",u.y),this._setProperty("winMouseX",u.winX),this._setProperty("winMouseY",u.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},c.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},c.default.prototype._setMouseButton=function(S){S.button===1?this._setProperty("mouseButton",x.CENTER):S.button===2?this._setProperty("mouseButton",x.RIGHT):this._setProperty("mouseButton",x.LEFT)},c.default.prototype._onmousemove=function(S){var l=this._isGlobal?window:this;this._updateNextMouseCoords(S),this.mouseIsPressed?typeof l.mouseDragged=="function"?l.mouseDragged(S)===!1&&S.preventDefault():typeof l.touchMoved=="function"&&l.touchMoved(S)===!1&&S.preventDefault():typeof l.mouseMoved=="function"&&l.mouseMoved(S)===!1&&S.preventDefault()},c.default.prototype._onmousedown=function(S){var l=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(S),this._updateNextMouseCoords(S),typeof l.mousePressed=="function"?l.mousePressed(S)===!1&&S.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof l.touchStarted=="function"&&l.touchStarted(S)===!1&&S.preventDefault()},c.default.prototype._onmouseup=function(S){var l=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof l.mouseReleased=="function"?l.mouseReleased(S)===!1&&S.preventDefault():typeof l.touchEnded=="function"&&l.touchEnded(S)===!1&&S.preventDefault()},c.default.prototype._ondragend=c.default.prototype._onmouseup,c.default.prototype._ondragover=c.default.prototype._onmousemove,c.default.prototype._onclick=function(S){var l=this._isGlobal?window:this;typeof l.mouseClicked=="function"&&l.mouseClicked(S)===!1&&S.preventDefault()},c.default.prototype._ondblclick=function(S){var l=this._isGlobal?window:this;typeof l.doubleClicked=="function"&&l.doubleClicked(S)===!1&&S.preventDefault()},c.default.prototype._mouseWheelDeltaY=0,c.default.prototype._pmouseWheelDeltaY=0,c.default.prototype._onwheel=function(S){var l=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",S.deltaY),typeof l.mouseWheel=="function"&&(S.delta=S.deltaY,l.mouseWheel(S)===!1&&S.preventDefault())},c.default.prototype.requestPointerLock=function(){var S=this._curElement.elt;return S.requestPointerLock=S.requestPointerLock||S.mozRequestPointerLock,S.requestPointerLock?(S.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},c.default.prototype.exitPointerLock=function(){document.exitPointerLock()},r=c.default,y.default=r},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],293:[function(r,E,y){r("core-js/modules/es.array.includes"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.touches=[],r.default.prototype._updateTouchCoords=function(h){if(this._curElement!==null){for(var a=[],c=0;c<h.touches.length;c++)a[c]=function(x,S,l,f){var u=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=x.getBoundingClientRect();return S=x.scrollWidth/S||1,x=x.scrollHeight/l||1,{x:((l=f.touches[u]||f.changedTouches[u]).clientX-s.left)/S,y:(l.clientY-s.top)/x,winX:l.clientX,winY:l.clientY,id:l.identifier}}(this._curElement.elt,this.width,this.height,h,c);this._setProperty("touches",a)}},r.default.prototype._ontouchstart=function(h){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(h),this._updateNextMouseCoords(h),this._updateMouseCoords(),typeof a.touchStarted=="function"?a.touchStarted(h)===!1&&h.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof a.mousePressed=="function"&&a.mousePressed(h)===!1&&h.preventDefault()},r.default.prototype._ontouchmove=function(h){var a=this._isGlobal?window:this;this._updateTouchCoords(h),this._updateNextMouseCoords(h),typeof a.touchMoved=="function"?a.touchMoved(h)===!1&&h.preventDefault():typeof a.mouseDragged=="function"&&a.mouseDragged(h)===!1&&h.preventDefault()},r.default.prototype._ontouchend=function(h){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(h),this._updateNextMouseCoords(h);var a=this._isGlobal?window:this;typeof a.touchEnded=="function"?a.touchEnded(h)===!1&&h.preventDefault():typeof a.mouseReleased=="function"&&a.mouseReleased(h)===!1&&h.preventDefault()},r=r.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.string.includes":189}],294:[function(r,E,y){r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.int32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.int32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h,a,c,x,S={_toPixels:function(l){var f,u;return l instanceof ImageData?l.data:l.getContext("2d")?l.getContext("2d").getImageData(0,0,l.width,l.height).data:l.getContext("webgl")?(u=(f=l.getContext("webgl")).drawingBufferWidth*f.drawingBufferHeight*4,u=new Uint8Array(u),f.readPixels(0,0,l.width,l.height,f.RGBA,f.UNSIGNED_BYTE,u),u):void 0},_getARGB:function(l,f){return l[3+(f*=4)]<<24&4278190080|l[f]<<16&16711680|l[1+f]<<8&65280|255&l[2+f]},_setPixels:function(l,f){for(var u,s=0,d=l.length;s<d;s++)l[0+(u=4*s)]=(16711680&f[s])>>>16,l[1+u]=(65280&f[s])>>>8,l[2+u]=255&f[s],l[3+u]=(4278190080&f[s])>>>24},_toImageData:function(l){return l instanceof ImageData?l:l.getContext("2d").getImageData(0,0,l.width,l.height)},_createImageData:function(l,f){return S._tmpCanvas=document.createElement("canvas"),S._tmpCtx=S._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(l,f)},apply:function(l,f,u){var s=l.getContext("2d"),d=s.getImageData(0,0,l.width,l.height);(f=f(d,u))instanceof ImageData?s.putImageData(f,0,0,0,0,l.width,l.height):s.putImageData(d,0,0,0,0,l.width,l.height)},threshold:function(l,f){for(var u=S._toPixels(l),s=(f===void 0&&(f=.5),Math.floor(255*f)),d=0;d<u.length;d+=4){var g=s<=.2126*u[d]+.7152*u[d+1]+.0722*u[d+2]?255:0;u[d]=u[d+1]=u[d+2]=g}},gray:function(l){for(var f=S._toPixels(l),u=0;u<f.length;u+=4){var s=f[u],d=f[u+1],g=f[u+2];f[u]=f[u+1]=f[u+2]=.2126*s+.7152*d+.0722*g}},opaque:function(l){for(var f=S._toPixels(l),u=0;u<f.length;u+=4)f[u+3]=255;return f},invert:function(l){for(var f=S._toPixels(l),u=0;u<f.length;u+=4)f[u]=255-f[u],f[u+1]=255-f[u+1],f[u+2]=255-f[u+2]},posterize:function(l,f){var u=S._toPixels(l);if(f<2||255<f)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var s=f-1,d=0;d<u.length;d+=4){var g=u[d],_=u[d+1],v=u[d+2];u[d]=255*(g*f>>8)/s,u[d+1]=255*(_*f>>8)/s,u[d+2]=255*(v*f>>8)/s}},dilate:function(l){for(var f,u,s,d,g,_,v,j,T,C=S._toPixels(l),L=0,R=C.length?C.length/4:0,P=new Int32Array(R);L<R;)for(u=(f=L)+l.width;L<u;)d=s=S._getARGB(C,L),(T=L-1)<f&&(T=L),u<=(j=L+1)&&(j=L),(g=L-l.width)<0&&(g=0),R<=(_=L+l.width)&&(_=L),g=S._getARGB(C,g),T=S._getARGB(C,T),_=S._getARGB(C,_),(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(v=77*(T>>16&255)+151*(T>>8&255)+28*(255&T))&&(s=T,d=v),d<(v=77*((T=S._getARGB(C,j))>>16&255)+151*(T>>8&255)+28*(255&T))&&(s=T,d=v),d<(j=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(s=g,d=j),d<(T=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))&&(s=_,d=T),P[L++]=s;S._setPixels(C,P)},erode:function(l){for(var f,u,s,d,g,_,v,j,T,C=S._toPixels(l),L=0,R=C.length?C.length/4:0,P=new Int32Array(R);L<R;)for(u=(f=L)+l.width;L<u;)d=s=S._getARGB(C,L),(T=L-1)<f&&(T=L),u<=(j=L+1)&&(j=L),(g=L-l.width)<0&&(g=0),R<=(_=L+l.width)&&(_=L),g=S._getARGB(C,g),T=S._getARGB(C,T),_=S._getARGB(C,_),(v=77*(T>>16&255)+151*(T>>8&255)+28*(255&T))<(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(s=T,d=v),(v=77*((T=S._getARGB(C,j))>>16&255)+151*(T>>8&255)+28*(255&T))<d&&(s=T,d=v),(j=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<d&&(s=g,d=j),(T=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))<d&&(s=_,d=T),P[L++]=s;S._setPixels(C,P)},blur:function(l,f){for(var u,s,d,g,_,v,j,T,C,L,R=S._toPixels(l),P=l.width,B=l.height,M=P*B,U=new Int32Array(M),V=0;V<M;V++)U[V]=S._getARGB(R,V);var $,G,I,q,Z,J,ee,le,ae=new Int32Array(M),fe=new Int32Array(M),H=new Int32Array(M),X=new Int32Array(M),te=0,ue=3.5*f|0;if(h!==(ue=ue<1?1:ue<248?ue:248)){a=1+(h=ue)<<1,c=new Int32Array(a),x=new Array(a);for(var ce=0;ce<a;ce++)x[ce]=new Int32Array(256);for(var he=1,ne=ue-1;he<ue;he++){c[ue+he]=c[ne]=J=ne*ne,ee=x[ue+he],le=x[ne--];for(var me=0;me<256;me++)ee[me]=le[me]=J*me}Z=c[ue]=ue*ue,ee=x[ue];for(var _e=0;_e<256;_e++)ee[_e]=Z*_e}for(G=0;G<B;G++){for($=0;$<P;$++){if(g=d=s=_=u=0,(v=$-h)<0)L=-v,v=0;else{if(P<=v)break;L=0}for(I=L;I<a&&!(P<=v);I++){var Te=U[v+te];_+=(q=x[I])[(-16777216&Te)>>>24],s+=q[(16711680&Te)>>16],d+=q[(65280&Te)>>8],g+=q[255&Te],u+=c[I],v++}ae[j=te+$]=_/u,fe[j]=s/u,H[j]=d/u,X[j]=g/u}te+=P}for(C=(T=-h)*P,G=te=0;G<B;G++){for($=0;$<P;$++){if(g=d=s=_=u=0,T<0)L=j=-T,v=$;else{if(B<=T)break;L=0,j=T,v=$+C}for(I=L;I<a&&!(B<=j);I++)_+=(q=x[I])[ae[v]],s+=q[fe[v]],d+=q[H[v]],g+=q[X[v]],u+=c[I],j++,v+=P;U[$+te]=_/u<<24|s/u<<16|d/u<<8|g/u}te+=P,C+=P,T++}S._setPixels(R,U)}};y.default=S},{"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int32-array":215,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232}],295:[function(r,E,y){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=c(r("../core/main")),a=c(r("omggif"));function c(S){return S&&S.__esModule?S:{default:S}}function x(S){return function(l){if(Array.isArray(l)){for(var f=0,u=new Array(l.length);f<l.length;f++)u[f]=l[f];return u}}(S)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}h.default.prototype.createImage=function(S,l){return h.default._validateParameters("createImage",arguments),new h.default.Image(S,l)},h.default.prototype.saveCanvas=function(){h.default._validateParameters("saveCanvas",arguments);var S,l,f,u,s=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(S=arguments[0],s.shift()):arguments[0]instanceof h.default.Element?(S=arguments[0].elt,s.shift()):S=this._curElement&&this._curElement.elt,1<=s.length&&(l=s[0]),f=(f=2<=s.length?s[1]:f)||h.default.prototype._checkFileExtension(l,f)[1]||"png"){default:u="image/png";break;case"jpeg":case"jpg":u="image/jpeg"}S.toBlob(function(d){h.default.prototype.downloadFile(d,l,f)},u)},h.default.prototype.encodeAndDownloadGif=function(S,l){for(var f=S.gifProperties,u=((ee=f.loopLimit)===1?ee=null:ee===null&&(ee=0),new Uint8Array(S.width*S.height*f.numFrames)),s=[],d={},g=0;g<f.numFrames;g++){for(var _=new Set,v=f.frames[g].image.data,j=v.length,T=new Uint32Array(S.width*S.height),C=0,L=0;C<j;C+=4,L++){var R=v[C+0]<<16|v[C+1]<<8|v[C+2]<<0;_.add(R),T[L]=R}var P=x(_).sort().toString();d[P]===void 0?d[P]={freq:1,frames:[g]}:(d[P].freq+=1,d[P].frames.push(g)),s.push(T)}for(var B=[],M=Object.keys(d).sort(function(H,X){return d[X].freq-d[H].freq}),U=M[0].split(",").map(function(H){return parseInt(H)}),V=(B=B.concat(d[U].frames),new Set(U)),$=1;$<M.length;$++){var G=M[$].split(",").map(function(H){return parseInt(H)}).filter(function(H){return!V.has(H)});if(U.length+G.length<=256){for(var I=0;I<G.length;I++)U.push(G[I]),V.add(G[I]);B=B.concat(d[M[$]].frames)}}B=new Set(B);for(var q={},Z=0;Z<U.length;Z++)q[U[Z]]||(q[U[Z]]=Z);for(var J=1;J<U.length;)J<<=1;U.length=J;for(var ee={loop:ee,palette:new Uint32Array(U)},le=new a.default.GifWriter(u,S.width,S.height,ee),ae={},fe=0;fe<f.numFrames;fe++)(function(H){var X=!B.has(H),te=X?[]:U,ue=new Uint8Array(S.width*S.height),ce={},he=new Set,ne=(s[H].forEach(function(je,Ae){X?(ce[je]===void 0&&(ce[je]=te.length,te.push(je)),ue[Ae]=ce[je]):ue[Ae]=q[je],0<H&&s[H-1][Ae]!==je&&he.add(je)}),{});if(0<(me=te.filter(function(je){return!he.has(je)})).length){var me=me[0],_e=(X?ce:q)[me];if(0<H){for(var Te=0;Te<s[H].length;Te++)s[H-1][Te]===s[H][Te]&&(ue[Te]=_e);ne.transparent=_e,ae.frameOpts.disposal=1}}if(ne.delay=f.frames[H].delay/10,X){for(var ve=1;ve<te.length;)ve<<=1;te.length=ve,ne.palette=new Uint32Array(te)}0<H&&le.addFrame(0,0,S.width,S.height,ae.pixelPaletteIndex,ae.frameOpts),ae={pixelPaletteIndex:ue,frameOpts:ne}})(fe);ae.frameOpts.disposal=1,le.addFrame(0,0,S.width,S.height,ae.pixelPaletteIndex,ae.frameOpts),ee=new Blob([u.slice(0,le.end())],{type:"image/gif"}),h.default.prototype.downloadFile(ee,l,"gif")},h.default.prototype.saveFrames=function(S,l,f,u,s){h.default._validateParameters("saveFrames",arguments),f=h.default.prototype.constrain(f=f||3,0,15),f*=1e3,u=h.default.prototype.constrain(u||15,0,22);var d=0,g=h.default.prototype._makeFrame,_=this._curElement.elt,v=[],j=setInterval(function(){v.push(g(S+d,l,_)),d++},1e3/u);setTimeout(function(){if(clearInterval(j),s)s(v);else{var T=!0,C=!1,L=void 0;try{for(var R,P=v[Symbol.iterator]();!(T=(R=P.next()).done);T=!0){var B=R.value;h.default.prototype.downloadFile(B.imageData,B.filename,B.ext)}}catch(M){C=!0,L=M}finally{try{T||P.return==null||P.return()}finally{if(C)throw L}}}v=[]},.01+f)},h.default.prototype._makeFrame=function(S,l,f){var u;if(f=this?this._curElement.elt:f,l)switch(l.toLowerCase()){case"png":u="image/png";break;case"jpeg":case"jpg":u="image/jpeg";break;default:u="image/png"}else l="png",u="image/png";f=(f=f.toDataURL(u)).replace(u,"image/octet-stream");var s={};return s.imageData=f,s.filename=S,s.ext=l,s},r=h.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,omggif:246}],296:[function(r,E,y){function h(_){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(_)}function a(_){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(v){return h(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":h(v)})(_)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,r("regenerator-runtime/runtime");var c=u(r("../core/main")),x=u(r("../core/helpers")),S=function(_){if(_&&_.__esModule)return _;if(_===null||a(_)!=="object"&&typeof _!="function")return{default:_};var v=function(){var R;return typeof WeakMap!="function"?null:(R=new WeakMap,R)}();if(v&&v.has(_))return v.get(_);var j,T={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in _){var L;Object.prototype.hasOwnProperty.call(_,j)&&((L=C?Object.getOwnPropertyDescriptor(_,j):null)&&(L.get||L.set)?Object.defineProperty(T,j,L):T[j]=_[j])}return T.default=_,v&&v.set(_,T),T}(r("../core/constants")),l=u(r("omggif")),f=r("gifenc");function u(_){return _&&_.__esModule?_:{default:_}}function s(_,v,j,T,C,L,R){try{var P=_[L](R),B=P.value}catch(M){return void j(M)}P.done?v(B):Promise.resolve(B).then(T,C)}function d(_,v,j,T,C,L,R,P,B,M,U){var V,$,G,I,q,Z,J,ee,le;return _===S.COVER&&(V=v,G=j,J=L,ee=R,Z=P,le=B,$=M,I=U,J/=q=Math.max(J/$,ee/I),ee/=q,q=Z,Z=le,V===S.CENTER?q+=($-J)/2:V===S.RIGHT&&(q+=$-J),G===S.CENTER?Z+=(I-ee)/2:G===S.BOTTOM&&(Z+=I-ee),P=(le={x:q,y:Z,w:J,h:ee}).x,B=le.y,M=le.w,U=le.h),_===S.CONTAIN&&(V=v,$=j,G=T,I=C,q=L,Z=R,J=M,ee=U,J/=le=Math.max(J/q,ee/Z),ee/=le,le=G,G=I,V===S.CENTER?le+=(q-J)/2:V===S.RIGHT&&(le+=q-J),$===S.CENTER?G+=(Z-ee)/2:$===S.BOTTOM&&(G+=Z-ee),T=(_={x:le,y:G,w:J,h:ee}).x,C=_.y,L=_.w,R=_.h),{sx:P,sy:B,sw:M,sh:U,dx:T,dy:C,dw:L,dh:R}}function g(_,v){return 0<_&&_<v?_:v}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),c.default.prototype.loadImage=function(_,v,j){c.default._validateParameters("loadImage",arguments);var T=new c.default.Image(1,1,this),C=this,L=new Request(_,{method:"GET",mode:"cors"});return fetch(_,L).then(function(R){var P,B=R.headers.get("content-type");B===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),B&&B.includes("image/gif")?R.arrayBuffer().then(function(M){if(M){M=new Uint8Array(M);for(var U=T,V=v,$=j,G=(function(H){C._decrementPreload()}).bind(C),I=new l.default.GifReader(M),q=(U.width=U.canvas.width=I.width,U.height=U.canvas.height=I.height,[]),Z=I.numFrames(),J=new Uint8ClampedArray(U.width*U.height*4),ee=0;ee<Z;ee++){var le=I.frameInfo(ee),ae=U.drawingContext.getImageData(0,0,U.width,U.height),fe=(J=ae.data.slice(),function(H,X){try{X.decodeAndBlitFrameRGBA(H,J)}catch(te){c.default._friendlyFileLoadError(8,U.src),typeof $=="function"?$(te):console.error(te)}}(ee,I),new ImageData(J,U.width,U.height));(fe=(U.drawingContext.putImageData(fe,0,0),le.delay))===0&&(fe=10),q.push({image:U.drawingContext.getImageData(0,0,U.width,U.height),delay:10*fe}),le.disposal===2?U.drawingContext.clearRect(le.x,le.y,le.width,le.height):le.disposal===3&&U.drawingContext.putImageData(ae,0,0,le.x,le.y,le.width,le.height)}(M=I.loopCount())===null?M=1:M===0&&(M=null),U.drawingContext.putImageData(q[0].image,0,0),1<q.length&&(U.gifProperties={displayIndex:0,loopLimit:M,loopCount:0,frames:q,numFrames:Z,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof V=="function"&&V(U),G()}},function(M){typeof j=="function"?(j(M),C._decrementPreload()):console.error(M)}):((P=new Image).onload=function(){T.width=T.canvas.width=P.width,T.height=T.canvas.height=P.height,T.drawingContext.drawImage(P,0,0),T.modified=!0,typeof v=="function"&&v(T),C._decrementPreload()},P.onerror=function(M){c.default._friendlyFileLoadError(0,P.src),typeof j=="function"?(j(M),C._decrementPreload()):console.error(M)},_.indexOf("data:image/")!==0&&(P.crossOrigin="Anonymous"),P.src=_),T.modified=!0}).catch(function(R){c.default._friendlyFileLoadError(0,_),typeof j=="function"?(j(R),C._decrementPreload()):console.error(R)}),T},c.default.prototype.saveGif=function(){_=regeneratorRuntime.mark(function j(T,C){var L,R,P,B,M,U,V,$,G,I,q,Z,J,ee,le,ae,fe,H,X,te,ue,ce,he,ne,me,_e,Te=arguments;return regeneratorRuntime.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(L=2<Te.length&&Te[2]!==void 0?Te[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof T!="string")throw TypeError("fileName parameter must be a string");ve.next=3;break;case 3:if(typeof C!="number")throw TypeError("Duration parameter must be a number");ve.next=5;break;case 5:if(R=L&&L.delay||0,P=L&&L.units||"seconds",B=L&&L.silent||!1,M=L&&L.notificationDuration||0,U=L&&L.notificationID||"progressBar",typeof R!="number")throw TypeError("Delay parameter must be a number");ve.next=12;break;case 12:if(P!=="seconds"&&P!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');ve.next=14;break;case 14:if(typeof B!="boolean")throw TypeError("Silent parameter must be a boolean");ve.next=16;break;case 16:if(typeof M!="number")throw TypeError("Notification duration parameter must be a number");ve.next=18;break;case 18:if(typeof U!="string")throw TypeError("Notification ID parameter must be a string");ve.next=20;break;case 20:return this._recording=!0,I=this._targetFrameRate,V=(V=1/(I=I!==1/0&&I!==void 0&&I!==0?I:60)*1e3)<20?20:V,G=($=P==="seconds"?C*I:C)+(I=P==="seconds"?R*I:R),I=I,this.frameCount=I,q=this._pixelDensity,this.pixelDensity(1),Z=[],document.getElementById(U)!==null&&document.getElementById(U).remove(),B||((J=this.createP("")).id(U),J.style("font-size","16px"),J.style("font-family","Montserrat"),J.style("background-color","#ffffffa0"),J.style("padding","8px"),J.style("border-radius","10px"),J.position(0,0)),this._renderer instanceof c.default.RendererGL&&(le=this.drawingContext,ee=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4)),this.noLoop(),ve.next=39,Promise.resolve();case 39:if(I<G)return this.redraw(),ne=void 0,ne=this._renderer instanceof c.default.RendererGL?(ee=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4),le.readPixels(0,0,le.drawingBufferWidth,le.drawingBufferHeight,le.RGBA,le.UNSIGNED_BYTE,ee),function(je){for(var Ae=parseInt(height/2),Ve=4*width,De=new Uint8Array(4*width),He=0;He<Ae;++He){var tt=He*Ve,rt=(height-He-1)*Ve;De.set(je.subarray(tt,tt+Ve)),je.copyWithin(tt,rt,rt+Ve),je.set(De,rt)}return je}(ee)):this.drawingContext.getImageData(0,0,this.width,this.height).data,Z.push(ne),I++,B||J.html("Saved frame <b>"+Z.length.toString()+"</b> out of "+$.toString()),ve.next=48,new Promise(function(je){return setTimeout(je,0)});ve.next=50;break;case 48:ve.next=39;break;case 50:B||J.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(q),ae=(0,f.GIFEncoder)(),fe=function(je){for(var Ae=new Uint8Array(je.length*je[0].length),Ve=0;Ve<je.length;Ve++)Ae.set(je[Ve],Ve*je[0].length);var De=(0,f.quantize)(Ae,256,{format:"rgba4444",oneBitAlpha:!0});return De.length===256?De[De.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:De.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),De}(Z),H={},X=function(je){for(var Ae=je.length/4,Ve=new Uint8Array(Ae),De=0;De<Ae;De++){var He=je[4*De]<<24|je[4*De+1]<<16|je[4*De+2]<<8|je[4*De+3];H[He]===void 0&&(H[He]=(0,f.nearestColorIndex)(fe,je.slice(4*De,4*(De+1)))),Ve[De]=H[He]}return Ve},te=fe.length-1,ue=[],ce=0;case 60:if(!(ce<Z.length)){ve.next=71;break}if(he=X(Z[ce]),ne=he.slice(),ce===0)ae.writeFrame(he,this.width,this.height,{palette:fe,delay:V,dispose:1});else{for(me=0;me<he.length;me++)he[me]===ue[me]&&(he[me]=te);ae.writeFrame(he,this.width,this.height,{delay:V,transparent:!0,transparentIndex:te,dispose:1})}return ue=ne,B||J.html("Rendered frame <b>"+ce.toString()+"</b> out of "+$.toString()),ve.next=68,new Promise(function(je){return setTimeout(je,0)});case 68:ce++,ve.next=60;break;case 71:ae.finish(),_e=ae.bytesView(),_e=new Blob([_e],{type:"image/gif"}),Z=[],this._recording=!1,this.loop(),B||(J.html("Done. Downloading your gif!"),0<M&&setTimeout(function(){return J.remove()},1e3*M)),c.default.prototype.downloadFile(_e,T,"gif");case 80:case"end":return ve.stop()}},j,this)});var _,v=function(){var j=this,T=arguments;return new Promise(function(C,L){var R=_.apply(j,T);function P(M){s(R,C,L,P,B,"next",M)}function B(M){s(R,C,L,P,B,"throw",M)}P(void 0)})};return function(j,T){return v.apply(this,arguments)}}(),c.default.prototype.image=function(_,v,j,T,C,L,R,P,B,M,U,V){c.default._validateParameters("image",arguments);var $=_.width,G=_.height,I=(V=V||S.CENTER,U=U||S.CENTER,_.elt&&_.elt.videoWidth&&!_.canvas&&($=_.elt.videoWidth,G=_.elt.videoHeight),T||$);C=C||G,L=L||0,R=R||0,P=g(P||$,$),$=g(B||G,G),B=1,_.elt&&!_.canvas&&_.elt.style.width&&(B=_.elt.videoWidth&&!T?_.elt.videoWidth:_.elt.width,B/=parseInt(_.elt.style.width,10)),L*=B,R*=B,$*=B,P*=B,G=d(M,U,V,(G=x.default.modeAdjust(v,j,I,C,this._renderer._imageMode)).x,G.y,G.w,G.h,L,R,P,$),this._renderer.image(_,G.sx,G.sy,G.sw,G.sh,G.dx,G.dy,G.dw,G.dh)},c.default.prototype.tint=function(){for(var _=arguments.length,v=new Array(_),j=0;j<_;j++)v[j]=arguments[j];c.default._validateParameters("tint",v);var T=this.color.apply(this,v);this._renderer._tint=T.levels},c.default.prototype.noTint=function(){this._renderer._tint=null},c.default.prototype._getTintedImageCanvas=c.default.Renderer2D.prototype._getTintedImageCanvas,c.default.prototype.imageMode=function(_){c.default._validateParameters("imageMode",arguments),_!==S.CORNER&&_!==S.CORNERS&&_!==S.CENTER||(this._renderer._imageMode=_)},r=c.default,y.default=r},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/helpers":269,"../core/main":273,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,gifenc:243,omggif:246,"regenerator-runtime/runtime":250}],297:[function(r,E,y){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=c(r("../core/main")),a=c(r("./filters"));function c(S){return S&&S.__esModule?S:{default:S}}function x(S,l){for(var f=0;f<l.length;f++){var u=l[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(S,u.key,u)}}h.default.Image=function(){function S(u,s){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");this.width=u,this.height=s,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var l,f;return l=S,(f=[{key:"_animateGif",value:function(u){var s,d=this.gifProperties;u=u._lastRealFrameTime,d.lastChangeTime===0&&(d.lastChangeTime=u),d.playing&&(d.timeDisplayed=u-d.lastChangeTime,s=d.frames[d.displayIndex].delay,d.timeDisplayed>=s&&(s=Math.floor(d.timeDisplayed/s),d.timeDisplayed=0,d.lastChangeTime=u,d.displayIndex+=s,d.loopCount=Math.floor(d.displayIndex/d.numFrames),d.loopLimit!==null&&d.loopCount>=d.loopLimit?d.playing=!1:(u=d.displayIndex%d.numFrames,this.drawingContext.putImageData(d.frames[u].image,0,0),d.displayIndex=u,this.setModified(!0))))}},{key:"_setProperty",value:function(u,s){this[u]=s,this.setModified(!0)}},{key:"loadPixels",value:function(){h.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(u,s,d,g){h.default.Renderer2D.prototype.updatePixels.call(this,u,s,d,g),this.setModified(!0)}},{key:"get",value:function(u,s,d,g){return h.default._validateParameters("p5.Image.get",arguments),h.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return h.default.Renderer2D.prototype._getPixel.apply(this,s)}},{key:"set",value:function(u,s,d){h.default.Renderer2D.prototype.set.call(this,u,s,d),this.setModified(!0)}},{key:"resize",value:function(u,s){u===0&&s===0?(u=this.canvas.width,s=this.canvas.height):u===0?u=this.canvas.width*s/this.canvas.height:s===0&&(s=this.canvas.height*u/this.canvas.width),u=Math.floor(u),s=Math.floor(s);var d=document.createElement("canvas");if(d.width=u,d.height=s,this.gifProperties)for(var g=this.gifProperties,_=0;_<g.numFrames;_++){for(var v=this.drawingContext.createImageData(u,s),j=(P=P=R=L=C=void 0,g.frames[_].image),T=v,C=0,L=0;L<T.height;L++)for(var R=0;R<T.width;R++){var P=Math.floor(R*j.width/T.width);P=4*(Math.floor(L*j.height/T.height)*j.width+P),T.data[C++]=j.data[P++],T.data[C++]=j.data[P++],T.data[C++]=j.data[P++],T.data[C++]=j.data[+P]}g.frames[_].image=v}d.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,d.width,d.height),this.canvas.width=this.width=u,this.canvas.height=this.height=s,this.drawingContext.drawImage(d,0,0,u,s,0,0,u,s),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];h.default.prototype.copy.apply(this,s)}},{key:"mask",value:function(u){var s=this.drawingContext.globalCompositeOperation,d=1,g=[u=u===void 0?this:u,0,0,(d=u instanceof h.default.Renderer?u._pInst._pixelDensity:d)*u.width,d*u.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var _=0;_<this.gifProperties.frames.length;_++)this.drawingContext.putImageData(this.gifProperties.frames[_].image,0,0),this.copy.apply(this,g),this.gifProperties.frames[_].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,g);this.drawingContext.globalCompositeOperation=s,this.setModified(!0)}},{key:"filter",value:function(u,s){a.default.apply(this.canvas,a.default[u],s),this.setModified(!0)}},{key:"blend",value:function(){for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];h.default._validateParameters("p5.Image.blend",arguments),h.default.prototype.blend.apply(this,s),this.setModified(!0)}},{key:"setModified",value:function(u){this._modified=u}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(u,s){this.gifProperties?h.default.prototype.encodeAndDownloadGif(this,u):h.default.prototype.saveCanvas(this.canvas,u,s)}},{key:"reset",value:function(){var u;this.gifProperties&&((u=this.gifProperties).playing=!0,u.timeSinceStart=0,u.timeDisplayed=0,u.lastChangeTime=0,u.loopCount=0,u.displayIndex=0,this.drawingContext.putImageData(u.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var u;if(this.gifProperties)return(u=this.gifProperties).displayIndex%u.numFrames}},{key:"setFrame",value:function(u){var s;this.gifProperties&&(u<(s=this.gifProperties).numFrames&&0<=u?(s.timeDisplayed=0,s.lastChangeTime=0,s.displayIndex=u,this.drawingContext.putImageData(s.frames[u].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(u,s){if(this.gifProperties){var d=this.gifProperties;if(s<d.numFrames&&0<=s)d.frames[s].delay=u;else{var g=!0,_=(s=!1,void 0);try{for(var v,j=d.frames[Symbol.iterator]();!(g=(v=j.next()).done);g=!0)v.value.delay=u}catch(T){s=!0,_=T}finally{try{g||j.return==null||j.return()}finally{if(s)throw _}}}}}}])&&x(l.prototype,f),S}(),r=h.default.Image,y.default=r},{"../core/main":273,"./filters":294,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],298:[function(r,E,y){r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.filter"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=c(r("../core/main")),a=c(r("./filters"));function c(x){return x&&x.__esModule?x:{default:x}}r("../color/p5.Color"),h.default.prototype.pixels=[],h.default.prototype.blend=function(){for(var x,S=arguments.length,l=new Array(S),f=0;f<S;f++)l[f]=arguments[f];h.default._validateParameters("blend",l),this._renderer?(x=this._renderer).blend.apply(x,l):h.default.Renderer2D.prototype.blend.apply(this,l)},h.default.prototype.copy=function(){for(var x,S,l,f,u,s,d,g,_,v=arguments.length,j=new Array(v),T=0;T<v;T++)j[T]=arguments[T];if(h.default._validateParameters("copy",j),j.length===9)x=j[0],S=j[1],l=j[2],f=j[3],u=j[4],s=j[5],d=j[6],g=j[7],_=j[8];else{if(j.length!==8)throw new Error("Signature not supported");x=this,S=j[0],l=j[1],f=j[2],u=j[3],s=j[4],d=j[5],g=j[6],_=j[7]}h.default.prototype._copyHelper(this,x,S,l,f,u,s,d,g,_)},h.default.prototype._copyHelper=function(x,S,l,f,u,s,d,g,_,v){S.loadPixels();var j=S.canvas.width/S.width,T=0,C=0;S._renderer&&S._renderer.isP3D&&(T=S.width/2,C=S.height/2),x._renderer&&x._renderer.isP3D?h.default.RendererGL.prototype.image.call(x._renderer,S,l+T,f+C,u,s,d,g,_,v):x.drawingContext.drawImage(S.canvas,j*(l+T),j*(f+C),j*u,j*s,d,g,_,v)},h.default.prototype.filter=function(x,S){h.default._validateParameters("filter",arguments),this.canvas!==void 0?a.default.apply(this.canvas,a.default[x],S):a.default.apply(this.elt,a.default[x],S)},h.default.prototype.get=function(x,S,l,f){var u;return h.default._validateParameters("get",arguments),(u=this._renderer).get.apply(u,arguments)},h.default.prototype.loadPixels=function(){for(var x=arguments.length,S=new Array(x),l=0;l<x;l++)S[l]=arguments[l];h.default._validateParameters("loadPixels",S),this._renderer.loadPixels()},h.default.prototype.set=function(x,S,l){this._renderer.set(x,S,l)},h.default.prototype.updatePixels=function(x,S,l,f){h.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(x,S,l,f)},r=h.default,y.default=r},{"../color/p5.Color":260,"../core/main":273,"./filters":294,"core-js/modules/es.array.filter":155}],299:[function(r,E,y){function h(s){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(s)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=S(r("../core/main")),c=(r("whatwg-fetch"),r("es6-promise/auto"),S(r("fetch-jsonp"))),x=S(r("file-saver"));function S(s){return s&&s.__esModule?s:{default:s}}function l(s){return(l=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(d){return h(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":h(d)})(s)}function f(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function u(s,d){d&&d!==!0&&d!=="true"||(d="");var g="";return(s=s||"untitled")&&s.includes(".")&&(g=s.split(".").pop()),d&&g!==d&&(g=d,s="".concat(s,".").concat(g)),[s,g]}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),a.default.prototype.loadJSON=function(){for(var s=arguments.length,d=new Array(s),g=0;g<s;g++)d[g]=arguments[g];a.default._validateParameters("loadJSON",d);for(var _,v,j,T=d[0],C={},L="json",R=1;R<d.length;R++){var P=d[R];typeof P=="string"?P!=="jsonp"&&P!=="json"||(L=P):typeof P=="function"?_?v=P:_=P:l(P)==="object"&&(P.hasOwnProperty("jsonpCallback")||P.hasOwnProperty("jsonpCallbackFunction"))&&(L="jsonp",j=P)}var B=this;return this.httpDo(T,"GET",j,L,function(M){for(var U in M)C[U]=M[U];_!==void 0&&_(M),B._decrementPreload()},function(M){if(a.default._friendlyFileLoadError(5,T),!v)throw M;v(M)}),C},a.default.prototype.loadStrings=function(){for(var s=arguments.length,d=new Array(s),g=0;g<s;g++)d[g]=arguments[g];a.default._validateParameters("loadStrings",d);for(var _,v,j=[],T=1;T<d.length;T++){var C=d[T];typeof C=="function"&&(_===void 0?_=C:v===void 0&&(v=C))}var L=this;return a.default.prototype.httpDo.call(this,d[0],"GET","text",function(R){for(var P=R.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),B=0,M=P.length;B<M;B+=32768)Array.prototype.push.apply(j,P.slice(B,Math.min(B+32768,M)));_!==void 0&&_(j),L._decrementPreload()},function(R){if(a.default._friendlyFileLoadError(3,R),!v)throw R;v(R)}),j},a.default.prototype.loadTable=function(s){var d,g,_,v=!1,j=s.substring(s.lastIndexOf(".")+1,s.length);j==="csv"?_=",":j==="ssv"?_=";":j==="tsv"&&(_="	");for(var T=1;T<arguments.length;T++)typeof arguments[T]=="function"?d===void 0?d=arguments[T]:g===void 0&&(g=arguments[T]):typeof arguments[T]=="string"&&(arguments[T]==="header"&&(v=!0),arguments[T]==="csv"?_=",":arguments[T]==="ssv"?_=";":arguments[T]==="tsv"&&(_="	"));var C=new a.default.Table,L=this;return this.httpDo(s,"GET","table",function(R){for(var P,B,M={},U=[],V=0,$=null,G=function(){M.currentState=0,M.token=""},I=function(){$.push(M.token),G()},q=function(){M.currentState=4,U.push($),$=null};;){if((P=R[V++])==null){if(M.escaped)throw new Error("Unclosed quote in file.");if($){I(),q();break}}if($===null&&(M.escaped=!1,$=[],G()),M.currentState===0){if(P==='"'){M.escaped=!0,M.currentState=1;continue}M.currentState=1}if(M.currentState===1&&M.escaped)if(P==='"')R[V]==='"'?(M.token+='"',V++):(M.escaped=!1,M.currentState=2);else{if(P==="\r")continue;M.token+=P}else P==="\r"?(R[V]===`
`&&V++,I(),q()):P===`
`?(I(),q()):P===_?I():M.currentState===1&&(M.token+=P)}if(v)C.columns=U.shift();else for(var Z=0;Z<U[0].length;Z++)C.columns[Z]="null";for(var J=0;J<U.length;J++)(U[J].length!==1||U[J][0]!=="undefined"&&U[J][0]!=="")&&((B=new a.default.TableRow).arr=U[J],B.obj=function(ee,le){if((le=le||[])===void 0)for(var ae=0;ae<ee.length;ae++)le[ae.toString()]=ae;return Object.fromEntries(le.map(function(fe,H){return[fe,ee[H]]}))}(U[J],C.columns),C.addRow(B));typeof d=="function"&&d(C),L._decrementPreload()},function(R){a.default._friendlyFileLoadError(2,s),g?g(R):console.error(R)}),C},a.default.prototype.loadXML=function(){for(var s=arguments.length,d=new Array(s),g=0;g<s;g++)d[g]=arguments[g];for(var _,v,j=new a.default.XML,T=1;T<d.length;T++){var C=d[T];typeof C=="function"&&(_===void 0?_=C:v===void 0&&(v=C))}var L=this;return this.httpDo(d[0],"GET","xml",function(R){for(var P in R)j[P]=R[P];_!==void 0&&_(j),L._decrementPreload()},function(R){if(a.default._friendlyFileLoadError(1,R),!v)throw R;v(R)}),j},a.default.prototype.loadBytes=function(s,d,g){var _={},v=this;return this.httpDo(s,"GET","arrayBuffer",function(j){_.bytes=new Uint8Array(j),typeof d=="function"&&d(_),v._decrementPreload()},function(j){if(a.default._friendlyFileLoadError(6,s),!g)throw j;g(j)}),_},a.default.prototype.httpGet=function(){a.default._validateParameters("httpGet",arguments);var s=Array.prototype.slice.call(arguments);return s.splice(1,0,"GET"),a.default.prototype.httpDo.apply(this,s)},a.default.prototype.httpPost=function(){a.default._validateParameters("httpPost",arguments);var s=Array.prototype.slice.call(arguments);return s.splice(1,0,"POST"),a.default.prototype.httpDo.apply(this,s)},a.default.prototype.httpDo=function(){for(var s,d,g,_={},v=0,j="text/plain",T=arguments.length-1;0<T&&typeof(T<0||arguments.length<=T?void 0:arguments[T])=="function";T--)v++;var C=arguments.length<=0?void 0:arguments[0];if((U=arguments.length-v)==2&&typeof C=="string"&&l(arguments.length<=1?void 0:arguments[1])==="object")V=new Request(C,arguments.length<=1?void 0:arguments[1]),d=arguments.length<=2?void 0:arguments[2],g=arguments.length<=3?void 0:arguments[3];else{for(var L,R="GET",P=1;P<arguments.length;P++){var B=P<0||arguments.length<=P?void 0:arguments[P];if(typeof B=="string")B==="GET"||B==="POST"||B==="PUT"||B==="DELETE"?R=B:B==="json"||B==="jsonp"||B==="binary"||B==="arrayBuffer"||B==="xml"||B==="text"||B==="table"?s=B:L=B;else if(typeof B=="number")L=B.toString();else if(l(B)==="object")if(B.hasOwnProperty("jsonpCallback")||B.hasOwnProperty("jsonpCallbackFunction"))for(var M in B)_[M]=B[M];else j=B instanceof a.default.XML?(L=B.serialize(),"application/xml"):(L=JSON.stringify(B),"application/json");else typeof B=="function"&&(d?g=B:d=B)}var U=R==="GET"?new Headers:new Headers({"Content-Type":j}),V=new Request(C,{method:R,mode:"cors",body:L,headers:U})}return(U=(U=(s=s||(C.includes("json")?"json":C.includes("xml")?"xml":"text"))==="jsonp"?(0,c.default)(C,_):fetch(V)).then(function($){if(!$.ok)throw(G=new Error($.body)).status=$.status,G.ok=!1,G;var G=0;switch((G=s!=="jsonp"?$.headers.get("content-length"):G)&&64e6<G&&a.default._friendlyFileLoadError(7,C),s){case"json":case"jsonp":return $.json();case"binary":return $.blob();case"arrayBuffer":return $.arrayBuffer();case"xml":return $.text().then(function(I){return I=new DOMParser().parseFromString(I,"text/xml"),new a.default.XML(I.documentElement)});default:return $.text()}})).then(d||function(){}),U.catch(g||console.error),U},window.URL=window.URL||window.webkitURL,a.default.prototype._pWriters=[],a.default.prototype.createWriter=function(s,d){var g,_;for(_ in a.default.prototype._pWriters)if(a.default.prototype._pWriters[_].name===s)return g=new a.default.PrintWriter(s+this.millis(),d),a.default.prototype._pWriters.push(g),g;return g=new a.default.PrintWriter(s,d),a.default.prototype._pWriters.push(g),g},a.default.PrintWriter=function(s,d){var g=this;this.name=s,this.content="",this.write=function(_){this.content+=_},this.print=function(_){this.content+="".concat(_,`
`)},this.clear=function(){this.content=""},this.close=function(){var _,v=[];for(_ in v.push(this.content),a.default.prototype.writeFile(v,s,d),a.default.prototype._pWriters)a.default.prototype._pWriters[_].name===this.name&&a.default.prototype._pWriters.splice(_,1);g.clear(),g={}}},a.default.prototype.save=function(s,d,g){var _=arguments,v=(this._curElement||this).elt;if(_.length===0)a.default.prototype.saveCanvas(v);else if(_[0]instanceof a.default.Renderer||_[0]instanceof a.default.Graphics)a.default.prototype.saveCanvas(_[0].elt,_[1],_[2]);else if(_.length===1&&typeof _[0]=="string")a.default.prototype.saveCanvas(v,_[0]);else switch(u(_[1],_[2])[1]){case"json":return void a.default.prototype.saveJSON(_[0],_[1],_[2]);case"txt":return void a.default.prototype.saveStrings(_[0],_[1],_[2]);default:_[0]instanceof Array?a.default.prototype.saveStrings(_[0],_[1],_[2]):_[0]instanceof a.default.Table?a.default.prototype.saveTable(_[0],_[1],_[2]):_[0]instanceof a.default.Image?a.default.prototype.saveCanvas(_[0].canvas,_[1]):_[0]instanceof a.default.SoundFile&&a.default.prototype.saveSound(_[0],_[1],_[2],_[3])}},a.default.prototype.saveJSON=function(s,d,g){a.default._validateParameters("saveJSON",arguments),g=g?JSON.stringify(s):JSON.stringify(s,void 0,2),this.saveStrings(g.split(`
`),d,"json")},a.default.prototype.saveJSONObject=a.default.prototype.saveJSON,a.default.prototype.saveJSONArray=a.default.prototype.saveJSON,a.default.prototype.saveStrings=function(s,d,g,_){a.default._validateParameters("saveStrings",arguments);for(var v=this.createWriter(d,g||"txt"),j=0;j<s.length;j++)_?v.write(s[j]+`\r
`):v.write(s[j]+`
`);v.close(),v.clear()},a.default.prototype.saveTable=function(s,d,g){a.default._validateParameters("saveTable",arguments),_=g===void 0?d.substring(d.lastIndexOf(".")+1,d.length):g;var _,v=this.createWriter(d,_),j=s.columns,T=_==="tsv"?"	":",";if(_!=="html"){if(j[0]!=="0"){for(var C=0;C<j.length;C++)C<j.length-1?v.write(j[C]+T):v.write(j[C]);v.write(`
`)}for(var L=0;L<s.rows.length;L++){var R=void 0;for(R=0;R<s.rows[L].arr.length;R++)R<s.rows[L].arr.length-1?_==="csv"&&String(s.rows[L].arr[R]).includes(",")?v.write('"'+s.rows[L].arr[R]+'"'+T):v.write(s.rows[L].arr[R]+T):_==="csv"&&String(s.rows[L].arr[R]).includes(",")?v.write('"'+s.rows[L].arr[R]+'"'):v.write(s.rows[L].arr[R]);v.write(`
`)}}else{if(v.print("<html>"),v.print("<head>"),v.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),v.print("</head>"),v.print("<body>"),v.print("  <table>"),j[0]!=="0"){v.print("    <tr>");for(var P=0;P<j.length;P++){var B=f(j[P]);v.print("      <td>".concat(B)),v.print("      </td>")}v.print("    </tr>")}for(var M=0;M<s.rows.length;M++){v.print("    <tr>");for(var U=0;U<s.columns.length;U++){var V=f(s.rows[M].getString(U));v.print("      <td>".concat(V)),v.print("      </td>")}v.print("    </tr>")}v.print("  </table>"),v.print("</body>"),v.print("</html>")}v.close(),v.clear()},a.default.prototype.writeFile=function(s,d,g){var _="application/octet-stream";a.default.prototype._isSafari()&&(_="text/plain"),s=new Blob(s,{type:_}),a.default.prototype.downloadFile(s,d,g)},a.default.prototype.downloadFile=function(s,d,g){var _;g=(d=u(d,g))[0],s instanceof Blob?x.default.saveAs(s,g):((_=document.createElement("a")).href=s,_.download=g,_.onclick=function(v){document.body.removeChild(v.target),v.stopPropagation()},_.style.display="none",document.body.appendChild(_),a.default.prototype._isSafari()&&(s=(s=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(d[1],'"'),alert(s)),_.click())},a.default.prototype._checkFileExtension=u,a.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},r=a.default,y.default=r},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238,"es6-promise/auto":239,"fetch-jsonp":241,"file-saver":242,"whatwg-fetch":251}],300:[function(r,E,y){r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(c,x){for(var S=0;S<x.length;S++){var l=x[S];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,l.key,l)}}h.default.Table=function(){function c(l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var x,S;return x=c,(S=[{key:"addRow",value:function(l){if((l=l||new h.default.TableRow).arr===void 0||l.obj===void 0)throw new Error("invalid TableRow: ".concat(l));return(l.table=this).rows.push(l),l}},{key:"removeRow",value:function(l){this.rows[l].table=null,l=this.rows.splice(l+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(l)}},{key:"getRow",value:function(l){return this.rows[l]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(l,f){if(typeof f=="string"){for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[f]===l)return this.rows[u]}else for(var s=0;s<this.rows.length;s++)if(this.rows[s].arr[f]===l)return this.rows[s];return null}},{key:"findRows",value:function(l,f){var u=[];if(typeof f=="string")for(var s=0;s<this.rows.length;s++)this.rows[s].obj[f]===l&&u.push(this.rows[s]);else for(var d=0;d<this.rows.length;d++)this.rows[d].arr[f]===l&&u.push(this.rows[d]);return u}},{key:"matchRow",value:function(l,f){if(typeof f=="number"){for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[f].match(l))return this.rows[u]}else for(var s=0;s<this.rows.length;s++)if(this.rows[s].obj[f].match(l))return this.rows[s];return null}},{key:"matchRows",value:function(l,f){var u=[];if(typeof f=="number")for(var s=0;s<this.rows.length;s++)this.rows[s].arr[f].match(l)&&u.push(this.rows[s]);else for(var d=0;d<this.rows.length;d++)this.rows[d].obj[f].match(l)&&u.push(this.rows[d]);return u}},{key:"getColumn",value:function(l){var f=[];if(typeof l=="string")for(var u=0;u<this.rows.length;u++)f.push(this.rows[u].obj[l]);else for(var s=0;s<this.rows.length;s++)f.push(this.rows[s].arr[l]);return f}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(l){this.columns.push(l||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(l,f){for(var u=[],s=0;s<l.length;s++)u.push(l.charAt(s).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var d=new RegExp(u.join("|"),"g");if(f===void 0)for(var g=0;g<this.columns.length;g++)for(var _=0;_<this.rows.length;_++){var v=(v=this.rows[_].arr[g]).replace(d,"");this.rows[_].arr[g]=v,this.rows[_].obj[this.columns[g]]=v}else if(typeof f=="string")for(var j=0;j<this.rows.length;j++){var T=(T=this.rows[j].obj[f]).replace(d,""),C=(this.rows[j].obj[f]=T,this.columns.indexOf(f));this.rows[j].arr[C]=T}else for(var L=0;L<this.rows.length;L++){var R=(R=this.rows[L].arr[f]).replace(d,"");this.rows[L].arr[f]=R,this.rows[L].obj[this.columns[f]]=R}}},{key:"trim",value:function(l){var f=new RegExp(" ","g");if(l===void 0)for(var u=0;u<this.columns.length;u++)for(var s=0;s<this.rows.length;s++){var d=(d=this.rows[s].arr[u]).replace(f,"");this.rows[s].arr[u]=d,this.rows[s].obj[this.columns[u]]=d}else if(typeof l=="string")for(var g=0;g<this.rows.length;g++){var _=(_=this.rows[g].obj[l]).replace(f,""),v=(this.rows[g].obj[l]=_,this.columns.indexOf(l));this.rows[g].arr[v]=_}else for(var j=0;j<this.rows.length;j++){var T=(T=this.rows[j].arr[l]).replace(f,"");this.rows[j].arr[l]=T,this.rows[j].obj[this.columns[l]]=T}}},{key:"removeColumn",value:function(l){typeof l=="string"?u=this.columns.indexOf(f=l):f=this.columns[u=l];var f,u;l=this.columns.splice(u+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(l);for(var s=0;s<this.rows.length;s++){var d=this.rows[s].arr,g=d.splice(u+1,d.length);d.pop(),this.rows[s].arr=d.concat(g),delete this.rows[s].obj[f]}}},{key:"set",value:function(l,f,u){this.rows[l].set(f,u)}},{key:"setNum",value:function(l,f,u){this.rows[l].setNum(f,u)}},{key:"setString",value:function(l,f,u){this.rows[l].setString(f,u)}},{key:"get",value:function(l,f){return this.rows[l].get(f)}},{key:"getNum",value:function(l,f){return this.rows[l].getNum(f)}},{key:"getString",value:function(l,f){return this.rows[l].getString(f)}},{key:"getObject",value:function(l){for(var f,u={},s=0;s<this.rows.length;s++)if(f=this.rows[s].obj,typeof l=="string"){if(!(0<=this.columns.indexOf(l)))throw new Error('This table has no column named "'.concat(l,'"'));u[f[l]]=f}else u[s]=this.rows[s].obj;return u}},{key:"getArray",value:function(){for(var l=[],f=0;f<this.rows.length;f++)l.push(this.rows[f].arr);return l}}])&&a(x.prototype,S),c}(),r=h.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.splice":166,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194}],301:[function(r,E,y){function h(a,c){for(var x=0;x<c.length;x++){var S=c[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(a,S.key,S)}}r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.TableRow=function(){function a(S,l){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var f=[];S&&(f=S.split(l=l||",")),this.arr=f,this.obj=Object.fromEntries(f.entries()),this.table=null}var c,x;return c=a,(x=[{key:"set",value:function(S,l){if(typeof S=="string"){var f=this.table.columns.indexOf(S);if(!(0<=f))throw new Error('This table has no column named "'.concat(S,'"'));this.obj[S]=l,this.arr[f]=l}else{if(!(S<this.table.columns.length))throw new Error("Column #".concat(S," is out of the range of this table"));this.arr[S]=l,f=this.table.columns[S],this.obj[f]=l}}},{key:"setNum",value:function(S,l){l=parseFloat(l),this.set(S,l)}},{key:"setString",value:function(S,l){l=l.toString(),this.set(S,l)}},{key:"get",value:function(S){return(typeof S=="string"?this.obj:this.arr)[S]}},{key:"getNum",value:function(S){var l=parseFloat(typeof S=="string"?this.obj[S]:this.arr[S]);if(l.toString()==="NaN")throw"Error: ".concat(this.obj[S]," is NaN (Not a Number)");return l}},{key:"getString",value:function(S){return(typeof S=="string"?this.obj:this.arr)[S].toString()}}])&&h(c.prototype,x),a}(),r=r.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236}],302:[function(r,E,y){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(c,x){for(var S=0;S<x.length;S++){var l=x[S];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,l.key,l)}}h.default.XML=function(){function c(l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var x,S;return x=c,(S=[{key:"getParent",value:function(){return new h.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var f=this.DOM.innerHTML,u=this.DOM.attributes,s=document.implementation.createDocument(null,"default").createElement(l);s.innerHTML=f;for(var d=0;d<u.length;d++)s.setAttribute(u[d].nodeName,u.nodeValue);this.DOM=s}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],f=0;f<this.DOM.childNodes.length;f++)l.push(this.DOM.childNodes[f].nodeName);return l}},{key:"getChildren",value:function(l){return function(f){for(var u=[],s=0;s<f.length;s++)u.push(new h.default.XML(f[s]));return u}(l?this.DOM.getElementsByTagName(l):this.DOM.children)}},{key:"getChild",value:function(l){if(typeof l!="string")return new h.default.XML(this.DOM.children[l]);var f=!0,u=!1,s=void 0;try{for(var d,g=this.DOM.children[Symbol.iterator]();!(f=(d=g.next()).done);f=!0){var _=d.value;if(_.tagName===l)return new h.default.XML(_)}}catch(v){u=!0,s=v}finally{try{f||g.return==null||g.return()}finally{if(u)throw s}}}},{key:"addChild",value:function(l){l instanceof h.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var f=-1;if(typeof l=="string"){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===l){f=u;break}}else f=l;f!==-1&&this.DOM.removeChild(this.DOM.children[f])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],f=!0,u=!1,s=void 0;try{for(var d,g=this.DOM.attributes[Symbol.iterator]();!(f=(d=g.next()).done);f=!0){var _=d.value;l.push(_.nodeName)}}catch(v){u=!0,s=v}finally{try{f||g.return==null||g.return()}finally{if(u)throw s}}return l}},{key:"hasAttribute",value:function(l){var f={},u=!0,s=!1,d=void 0;try{for(var g,_=this.DOM.attributes[Symbol.iterator]();!(u=(g=_.next()).done);u=!0){var v=g.value;f[v.nodeName]=v.nodeValue}}catch(j){s=!0,d=j}finally{try{u||_.return==null||_.return()}finally{if(s)throw d}}return!!f[l]}},{key:"getNum",value:function(l,f){var u={},s=!0,d=!1,g=void 0;try{for(var _,v=this.DOM.attributes[Symbol.iterator]();!(s=(_=v.next()).done);s=!0){var j=_.value;u[j.nodeName]=j.nodeValue}}catch(T){d=!0,g=T}finally{try{s||v.return==null||v.return()}finally{if(d)throw g}}return Number(u[l])||f||0}},{key:"getString",value:function(l,f){var u={},s=!0,d=!1,g=void 0;try{for(var _,v=this.DOM.attributes[Symbol.iterator]();!(s=(_=v.next()).done);s=!0){var j=_.value;u[j.nodeName]=j.nodeValue}}catch(T){d=!0,g=T}finally{try{s||v.return==null||v.return()}finally{if(d)throw g}}return u[l]?String(u[l]):f||null}},{key:"setAttribute",value:function(l,f){this.DOM.setAttribute(l,f)}},{key:"getContent",value:function(l){var f=this.DOM.textContent;return(f=f.replace(/\s\s+/g,","))||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&a(x.prototype,S),c}(),r=h.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],303:[function(r,E,y){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var c=arguments.length,x=[],S=0,l=0;l<c;l++){var f=arguments[l];if((f=+f)==1/0||f===-1/0)return 1/0;S<(f=Math.abs(f))&&(S=f),x[l]=f}S===0&&(S=1);for(var u=0,s=0,d=0;d<c;d++){var g,_=u+(g=(g=x[d]/S)*g-s);s=_-u-g,u=_}return Math.sqrt(u)*S}h.default.prototype.abs=Math.abs,h.default.prototype.ceil=Math.ceil,h.default.prototype.constrain=function(c,x,S){return h.default._validateParameters("constrain",arguments),Math.max(Math.min(c,S),x)},h.default.prototype.dist=function(){for(var c=arguments.length,x=new Array(c),S=0;S<c;S++)x[S]=arguments[S];return h.default._validateParameters("dist",x),x.length===4?a(x[2]-x[0],x[3]-x[1]):x.length===6?a(x[3]-x[0],x[4]-x[1],x[5]-x[2]):void 0},h.default.prototype.exp=Math.exp,h.default.prototype.floor=Math.floor,h.default.prototype.lerp=function(c,x,S){return h.default._validateParameters("lerp",arguments),S*(x-c)+c},h.default.prototype.log=Math.log,h.default.prototype.mag=function(c,x){return h.default._validateParameters("mag",arguments),a(c,x)},h.default.prototype.map=function(c,x,S,l,f,u){return h.default._validateParameters("map",arguments),c=(c-x)/(S-x)*(f-l)+l,u?l<f?this.constrain(c,l,f):this.constrain(c,f,l):c},h.default.prototype.max=function(){for(var c=function(f){var u=-1/0,s=!0,d=!1,g=void 0;try{for(var _,v=f[Symbol.iterator]();!(s=(_=v.next()).done);s=!0){var j=_.value;u=u<j?j:u}}catch(T){d=!0,g=T}finally{try{s||v.return==null||v.return()}finally{if(d)throw g}}return u},x=arguments.length,S=new Array(x),l=0;l<x;l++)S[l]=arguments[l];return S[0]instanceof Array?c(S[0]):c(S)},h.default.prototype.min=function(){for(var c=function(f){var u=1/0,s=!0,d=!1,g=void 0;try{for(var _,v=f[Symbol.iterator]();!(s=(_=v.next()).done);s=!0){var j=_.value;u=j<u?j:u}}catch(T){d=!0,g=T}finally{try{s||v.return==null||v.return()}finally{if(d)throw g}}return u},x=arguments.length,S=new Array(x),l=0;l<x;l++)S[l]=arguments[l];return S[0]instanceof Array?c(S[0]):c(S)},h.default.prototype.norm=function(c,x,S){return h.default._validateParameters("norm",arguments),this.map(c,x,S,0,1)},h.default.prototype.pow=Math.pow,h.default.prototype.round=function(c,x){return x?(x=Math.pow(10,x),Math.round(c*x)/x):Math.round(c)},h.default.prototype.sq=function(c){return c*c},h.default.prototype.sqrt=Math.sqrt,h.default.prototype.fract=function(c){h.default._validateParameters("fract",arguments);var x,S=0;return c=Number(c),isNaN(c)||Math.abs(c)===1/0?c:(c<0&&(c=-c,S=1),String(c).includes(".")&&!String(c).includes("e")?(x=String(c),x=+("0"+x.slice(x.indexOf("."))),Math.abs(S-x)):c<1?Math.abs(S-c):0)},r=h.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],304:[function(r,E,y){r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(x,S,l){return(a=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(f,u,s){var d=[null];return d.push.apply(d,u),u=new(Function.bind.apply(f,d)),s&&c(u,s.prototype),u}).apply(null,arguments)}function c(x,S){return(c=Object.setPrototypeOf||function(l,f){return l.__proto__=f,l})(x,S)}h.default.prototype.createVector=function(x,S,l){return this instanceof h.default?a(h.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new h.default.Vector(x,S,l)},r=h.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186}],305:[function(r,E,y){function h(l){return .5*(1-Math.cos(l*Math.PI))}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,r=(r=r("../core/main"))&&r.__esModule?r:{default:r};var a,c=4095,x=4,S=.5;r.default.prototype.noise=function(l){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(a==null){a=new Array(4096);for(var s=0;s<4096;s++)a[s]=Math.random()}l<0&&(l=-l),f<0&&(f=-f),u<0&&(u=-u);for(var d,g,_=Math.floor(l),v=Math.floor(f),j=Math.floor(u),T=l-_,C=f-v,L=u-j,R=0,P=.5,B=0;B<x;B++){var M=_+(v<<4)+(j<<8),U=h(T),V=h(C),$=a[M&c];$+=U*(a[M+1&c]-$),d=a[M+16&c],$+=V*((d+=U*(a[M+16+1&c]-d))-$),d=a[(M+=256)&c],d+=U*(a[M+1&c]-d),g=a[M+16&c],d+=V*((g+=U*(a[M+16+1&c]-g))-d),R+=($+=h(L)*(d-$))*P,P*=S,_<<=1,v<<=1,j<<=1,1<=(T*=2)&&(_++,T--),1<=(C*=2)&&(v++,C--),1<=(L*=2)&&(j++,L--)}return R},r.default.prototype.noiseDetail=function(l,f){0<l&&(x=l),0<f&&(S=f)},r.default.prototype.noiseSeed=function(l){u=4294967296;var f,u,s=function(){return(f=(1664525*f+1013904223)%u)/u};(function(g){f=(g??Math.random()*u)>>>0})(l),a=new Array(4096);for(var d=0;d<4096;d++)a[d]=s()},r=r.default,y.default=r},{"../core/main":273}],306:[function(r,E,y){function h(s){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(s)}function a(s){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(d){return h(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":h(d)})(s)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.number.is-finite"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.number.is-finite"),r("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(u=r("../core/main"))&&u.__esModule?u:{default:u},x=function(s){if(s&&s.__esModule)return s;if(s===null||a(s)!=="object"&&typeof s!="function")return{default:s};var d=function(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,T)}();if(d&&d.has(s))return d.get(s);var g,_={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in s){var j;Object.prototype.hasOwnProperty.call(s,g)&&((j=v?Object.getOwnPropertyDescriptor(s,g):null)&&(j.get||j.set)?Object.defineProperty(_,g,j):_[g]=s[g])}return _.default=s,d&&d.set(s,_),_}(r("../core/constants"));function S(s,d){for(var g=0;g<d.length;g++){var _=d[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(s,_.key,_)}}function l(s,d){return s!==0&&(this.x=this.x%s),d!==0&&(this.y=this.y%d),this}function f(s,d,g){return s!==0&&(this.x=this.x%s),d!==0&&(this.y=this.y%d),g!==0&&(this.z=this.z%g),this}c.default.Vector=function(){function s(){var v=s;if(!((C=this)instanceof v))throw new TypeError("Cannot call a class as a function");var j,T,C=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],j=(arguments.length<=2?void 0:arguments[2])||0,T=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(j=(arguments.length<=0?void 0:arguments[0])||0,T=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=j,this.y=T,this.z=C}var d,g,_;return d=s,_=[{key:"fromAngle",value:function(v,j){return new c.default.Vector((j=j===void 0?1:j)*Math.cos(v),j*Math.sin(v),0)}},{key:"fromAngles",value:function(v,j,T){T===void 0&&(T=1);var C=Math.cos(j),L=(j=Math.sin(j),Math.cos(v));return v=Math.sin(v),new c.default.Vector(T*v*j,-T*L,T*v*C)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*x.TWO_PI)}},{key:"random3D",value:function(){var v=Math.random()*x.TWO_PI,j=2*Math.random()-1,T=(C=Math.sqrt(1-j*j))*Math.cos(v),C=C*Math.sin(v);return new c.default.Vector(T,C,j)}},{key:"copy",value:function(v){return v.copy(v)}},{key:"add",value:function(v,j,T){return T?T.set(v):(T=v.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),T.add(j),T}},{key:"rem",value:function(v,j){if(v instanceof c.default.Vector&&j instanceof c.default.Vector)return(v=v.copy()).rem(j),v}},{key:"sub",value:function(v,j,T){return T?T.set(v):(T=v.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),T.sub(j),T}},{key:"mult",value:function(v,j,T){return T?T.set(v):(T=v.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),T.mult(j),T}},{key:"rotate",value:function(v,j,T){return arguments.length===2?T=v.copy():(T instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),T.set(v)),T.rotate(j),T}},{key:"div",value:function(v,j,T){return T?T.set(v):(T=v.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),T.div(j),T}},{key:"dot",value:function(v,j){return v.dot(j)}},{key:"cross",value:function(v,j){return v.cross(j)}},{key:"dist",value:function(v,j){return v.dist(j)}},{key:"lerp",value:function(v,j,T,C){return C?C.set(v):(C=v.copy(),arguments.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),C.lerp(j,T),C}},{key:"slerp",value:function(v,j,T,C){return C?C.set(v):(C=v.copy(),arguments.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),C.slerp(j,T),C}},{key:"mag",value:function(v){return v.mag()}},{key:"magSq",value:function(v){return v.magSq()}},{key:"normalize",value:function(v,j){return arguments.length<2?j=v.copy():(j instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),j.set(v)),j.normalize()}},{key:"limit",value:function(v,j,T){return arguments.length<3?T=v.copy():(T instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),T.set(v)),T.limit(j)}},{key:"setMag",value:function(v,j,T){return arguments.length<3?T=v.copy():(T instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),T.set(v)),T.setMag(j)}},{key:"heading",value:function(v){return v.heading()}},{key:"angleBetween",value:function(v,j){return v.angleBetween(j)}},{key:"reflect",value:function(v,j,T){return arguments.length<3?T=v.copy():(T instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),T.set(v)),T.reflect(j)}},{key:"array",value:function(v){return v.array()}},{key:"equals",value:function(v,j){var T;return v instanceof c.default.Vector?T=v:v instanceof Array?T=new c.default.Vector().set(v):c.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),T.equals(j)}}],(g=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(v,j,T){return v instanceof c.default.Vector?(this.x=v.x||0,this.y=v.y||0,this.z=v.z||0):Array.isArray(v)?(this.x=v[0]||0,this.y=v[1]||0,this.z=v[2]||0):(this.x=v||0,this.y=j||0,this.z=T||0),this}},{key:"copy",value:function(){return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new c.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(v,j,T){return v instanceof c.default.Vector?(this.x+=v.x||0,this.y+=v.y||0,this.z+=v.z||0):Array.isArray(v)?(this.x+=v[0]||0,this.y+=v[1]||0,this.z+=v[2]||0):(this.x+=v||0,this.y+=j||0,this.z+=T||0),this}},{key:"rem",value:function(v,j,T){var C;if(v instanceof c.default.Vector){if([v.x,v.y,v.z].every(Number.isFinite))return L=parseFloat(v.x),R=parseFloat(v.y),C=parseFloat(v.z),f.call(this,L,R,C)}else if(Array.isArray(v)){if(v.every(function(P){return Number.isFinite(P)}))return v.length===2?l.call(this,v[0],v[1]):v.length===3?f.call(this,v[0],v[1],v[2]):void 0}else if(arguments.length===1){if(Number.isFinite(v)&&v!==0)return this.x=this.x%v,this.y=this.y%v,this.z=this.z%v,this}else if(arguments.length===2){var L=Array.prototype.slice.call(arguments);if(L.every(function(P){return Number.isFinite(P)})&&L.length===2)return l.call(this,L[0],L[1])}else if(arguments.length===3){var R=Array.prototype.slice.call(arguments);if(R.every(function(P){return Number.isFinite(P)})&&R.length===3)return f.call(this,R[0],R[1],R[2])}}},{key:"sub",value:function(v,j,T){return v instanceof c.default.Vector?(this.x-=v.x||0,this.y-=v.y||0,this.z-=v.z||0):Array.isArray(v)?(this.x-=v[0]||0,this.y-=v[1]||0,this.z-=v[2]||0):(this.x-=v||0,this.y-=j||0,this.z-=T||0),this}},{key:"mult",value:function(v,j,T){var C;return v instanceof c.default.Vector?Number.isFinite(v.x)&&Number.isFinite(v.y)&&Number.isFinite(v.z)&&typeof v.x=="number"&&typeof v.y=="number"&&typeof v.z=="number"?(this.x*=v.x,this.y*=v.y,this.z*=v.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(v)?v.every(function(L){return Number.isFinite(L)})&&v.every(function(L){return typeof L=="number"})?v.length===1?(this.x*=v[0],this.y*=v[0],this.z*=v[0]):v.length===2?(this.x*=v[0],this.y*=v[1]):v.length===3&&(this.x*=v[0],this.y*=v[1],this.z*=v[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(C=Array.prototype.slice.call(arguments)).every(function(L){return Number.isFinite(L)})&&C.every(function(L){return typeof L=="number"})?(arguments.length===1&&(this.x*=v,this.y*=v,this.z*=v),arguments.length===2&&(this.x*=v,this.y*=j),arguments.length===3&&(this.x*=v,this.y*=j,this.z*=T)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(v,j,T){if(v instanceof c.default.Vector)if(Number.isFinite(v.x)&&Number.isFinite(v.y)&&Number.isFinite(v.z)&&typeof v.x=="number"&&typeof v.y=="number"&&typeof v.z=="number"){var C=v.z===0&&this.z===0;if(v.x===0||v.y===0||!C&&v.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=v.x,this.y/=v.y,C||(this.z/=v.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(v))if(v.every(function(L){return Number.isFinite(L)})&&v.every(function(L){return typeof L=="number"})){if(v.some(function(L){return L===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;v.length===1?(this.x/=v[0],this.y/=v[0],this.z/=v[0]):v.length===2?(this.x/=v[0],this.y/=v[1]):v.length===3&&(this.x/=v[0],this.y/=v[1],this.z/=v[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((C=Array.prototype.slice.call(arguments)).every(function(L){return Number.isFinite(L)})&&C.every(function(L){return typeof L=="number"})){if(C.some(function(L){return L===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=v,this.y/=v,this.z/=v),arguments.length===2&&(this.x/=v,this.y/=j),arguments.length===3&&(this.x/=v,this.y/=j,this.z/=T)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var v=this.x,j=this.y,T=this.z;return v*v+j*j+T*T}},{key:"dot",value:function(v,j,T){return v instanceof c.default.Vector?this.dot(v.x,v.y,v.z):this.x*(v||0)+this.y*(j||0)+this.z*(T||0)}},{key:"cross",value:function(v){var j=this.y*v.z-this.z*v.y,T=this.z*v.x-this.x*v.z;return v=this.x*v.y-this.y*v.x,this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,j,T,v):new c.default.Vector(j,T,v)}},{key:"dist",value:function(v){return v.copy().sub(this).mag()}},{key:"normalize",value:function(){var v=this.mag();return v!==0&&this.mult(1/v),this}},{key:"limit",value:function(v){var j=this.magSq();return v*v<j&&this.div(Math.sqrt(j)).mult(v),this}},{key:"setMag",value:function(v){return this.normalize().mult(v)}},{key:"heading",value:function(){var v=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(v):v}},{key:"setHeading",value:function(v){this.isPInst&&(v=this._toRadians(v));var j=this.mag();return this.x=j*Math.cos(v),this.y=j*Math.sin(v),this}},{key:"rotate",value:function(v){v=this.heading()+v;var j=(this.isPInst&&(v=this._toRadians(v)),this.mag());return this.x=Math.cos(v)*j,this.y=Math.sin(v)*j,this}},{key:"angleBetween",value:function(v){var j;return this.magSq()*v.magSq()==0?NaN:(j=this.cross(v),v=Math.atan2(j.mag(),this.dot(v))*Math.sign(j.z||1),this.isPInst?this._fromRadians(v):v)}},{key:"lerp",value:function(v,j,T,C){return v instanceof c.default.Vector?this.lerp(v.x,v.y,v.z,j):(this.x+=(v-this.x)*C||0,this.y+=(j-this.y)*C||0,this.z+=(T-this.z)*C||0,this)}},{key:"slerp",value:function(v,j){if(j!==0){if(j===1)return this.set(v);var T=this.mag(),C=v.mag();if(T*C==0)this.mult(1-j).add(v.x*j,v.y*j,v.z*j);else{var L=this.cross(v),R=L.mag(),P=Math.atan2(R,this.dot(v));if(0<R)L.x/=R,L.y/=R,L.z/=R;else{if(P<.5*Math.PI)return this.mult(1-j).add(v.x*j,v.y*j,v.z*j),this;this.z===0&&v.z===0?L.set(0,0,1):this.x!==0?L.set(this.y,-this.x,0).normalize():L.set(1,0,0)}R=L.cross(this),L=(v=1-j+j*C/T)*Math.cos(j*P),C=v*Math.sin(j*P),this.x=this.x*L+R.x*C,this.y=this.y*L+R.y*C,this.z=this.z*L+R.z*C}}return this}},{key:"reflect",value:function(v){return v.normalize(),this.sub(v.mult(2*this.dot(v)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(v,j,T){var C,L;return v=v instanceof c.default.Vector?(C=v.x||0,L=v.y||0,v.z||0):Array.isArray(v)?(C=v[0]||0,L=v[1]||0,v[2]||0):(C=v||0,L=j||0,T||0),this.x===C&&this.y===L&&this.z===v}}])&&S(d.prototype,g),_&&S(d,_),s}();var u=c.default.Vector;y.default=u},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.constructor":171,"core-js/modules/es.number.is-finite":172,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],307:[function(r,E,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r},a="_lcg_random_state",c=4294967296,x=0;h.default.prototype._lcg=function(S){return this[S]=(1664525*this[S]+1013904223)%c,this[S]/c},h.default.prototype._lcgSetSeed=function(S,l){this[S]=(l??Math.random()*c)>>>0},h.default.prototype.randomSeed=function(S){this._lcgSetSeed(a,S),this._gaussian_previous=!1},h.default.prototype.random=function(S,l){var f,u;return h.default._validateParameters("random",arguments),f=this[a]!=null?this._lcg(a):Math.random(),S===void 0?f:l===void 0?S instanceof Array?S[Math.floor(f*S.length)]:f*S:(l<S&&(u=S,S=l,l=u),f*(l-S)+S)},h.default.prototype.randomGaussian=function(S){var l,f,u,s,d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)l=x,this._gaussian_previous=!1;else{for(;1<=(s=(f=this.random(2)-1)*f+(u=this.random(2)-1)*u););l=f*(s=Math.sqrt(-2*Math.log(s)/s)),x=u*s,this._gaussian_previous=!0}return l*d+(S||0)},r=h.default,y.default=r},{"../core/main":273}],308:[function(r,E,y){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function a(l){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(S=r("../core/main"))&&S.__esModule?S:{default:S},x=function(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var f=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(f&&f.has(l))return f.get(l);var u,s={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var g;Object.prototype.hasOwnProperty.call(l,u)&&((g=d?Object.getOwnPropertyDescriptor(l,u):null)&&(g.get||g.set)?Object.defineProperty(s,u,g):s[u]=l[u])}return s.default=l,f&&f.set(l,s),s}(r("../core/constants"));c.default.prototype._angleMode=x.RADIANS,c.default.prototype.acos=function(l){return this._fromRadians(Math.acos(l))},c.default.prototype.asin=function(l){return this._fromRadians(Math.asin(l))},c.default.prototype.atan=function(l){return this._fromRadians(Math.atan(l))},c.default.prototype.atan2=function(l,f){return this._fromRadians(Math.atan2(l,f))},c.default.prototype.cos=function(l){return Math.cos(this._toRadians(l))},c.default.prototype.sin=function(l){return Math.sin(this._toRadians(l))},c.default.prototype.tan=function(l){return Math.tan(this._toRadians(l))},c.default.prototype.degrees=function(l){return l*x.RAD_TO_DEG},c.default.prototype.radians=function(l){return l*x.DEG_TO_RAD},c.default.prototype.angleMode=function(l){if(c.default._validateParameters("angleMode",arguments),l===void 0)return this._angleMode;l!==x.DEGREES&&l!==x.RADIANS||(this._angleMode=l)},c.default.prototype._toRadians=function(l){return this._angleMode===x.DEGREES?l*x.DEG_TO_RAD:l},c.default.prototype._toDegrees=function(l){return this._angleMode===x.RADIANS?l*x.RAD_TO_DEG:l},c.default.prototype._fromRadians=function(l){return this._angleMode===x.DEGREES?l*x.RAD_TO_DEG:l};var S=c.default;y.default=S},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],309:[function(r,E,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};h.default.prototype.textAlign=function(a,c){var x;return h.default._validateParameters("textAlign",arguments),(x=this._renderer).textAlign.apply(x,arguments)},h.default.prototype.textLeading=function(a){var c;return h.default._validateParameters("textLeading",arguments),(c=this._renderer).textLeading.apply(c,arguments)},h.default.prototype.textSize=function(a){var c;return h.default._validateParameters("textSize",arguments),(c=this._renderer).textSize.apply(c,arguments)},h.default.prototype.textStyle=function(a){var c;return h.default._validateParameters("textStyle",arguments),(c=this._renderer).textStyle.apply(c,arguments)},h.default.prototype.textWidth=function(){for(var a,c=arguments.length,x=new Array(c),S=0;S<c;S++)x[S]=arguments[S];return x[0]+="",h.default._validateParameters("textWidth",x),x[0].length===0?0:(a=this._renderer).textWidth.apply(a,x)},h.default.prototype.textAscent=function(){for(var a=arguments.length,c=new Array(a),x=0;x<a;x++)c[x]=arguments[x];return h.default._validateParameters("textAscent",c),this._renderer.textAscent()},h.default.prototype.textDescent=function(){for(var a=arguments.length,c=new Array(a),x=0;x<a;x++)c[x]=arguments[x];return h.default._validateParameters("textDescent",c),this._renderer.textDescent()},h.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},h.default.prototype.textWrap=function(a){if(a!=="WORD"&&a!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(a)},r=h.default,y.default=r},{"../core/main":273}],310:[function(r,E,y){function h(s){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(s)}function a(s){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(d){return h(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":h(d)})(s)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(u=r("../core/main"))&&u.__esModule?u:{default:u},x=f(r("../core/constants")),S=f(r("opentype.js"));function l(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,l=function(){return s},s)}function f(s){if(s&&s.__esModule)return s;if(s===null||a(s)!=="object"&&typeof s!="function")return{default:s};var d=l();if(d&&d.has(s))return d.get(s);var g,_,v={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in s)Object.prototype.hasOwnProperty.call(s,g)&&((_=j?Object.getOwnPropertyDescriptor(s,g):null)&&(_.get||_.set)?Object.defineProperty(v,g,_):v[g]=s[g]);return v.default=s,d&&d.set(s,v),v}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),c.default.prototype.loadFont=function(s,d,g){c.default._validateParameters("loadFont",arguments);var _=new c.default.Font(this),v=this;return S.load(s,function(j,T){if(j)return c.default._friendlyFileLoadError(4,s),g!==void 0?g(j):void console.error(j,s);_.font=T,d!==void 0&&d(_),v._decrementPreload();var C=(T=(j=s.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:j.slice(T+1);["ttf","otf","woff","woff2"].includes(C)&&(C=j.slice(0,T!==-1?T:0),(j=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(C,`;
src: url(`).concat(s,`);
}
`))),document.head.appendChild(j))}),_},c.default.prototype.text=function(s,d,g,_,v){var j;return c.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(j=this._renderer).text.apply(j,arguments):this},c.default.prototype.textFont=function(s,d){if(c.default._validateParameters("textFont",arguments),arguments.length){if(s)return this._renderer._setProperty("_textFont",s),d&&(this._renderer._setProperty("_textSize",d),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",d*x._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var u=c.default;y.default=u},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,"opentype.js":247}],311:[function(r,E,y){function h(R){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(R)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(a=r("../core/main"))&&a.__esModule?a:{default:a},c=function(R){if(R&&R.__esModule)return R;if(R===null||x(R)!=="object"&&typeof R!="function")return{default:R};var P=function(){var $;return typeof WeakMap!="function"?null:($=new WeakMap,$)}();if(P&&P.has(R))return P.get(R);var B,M={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(B in R){var V;Object.prototype.hasOwnProperty.call(R,B)&&((V=U?Object.getOwnPropertyDescriptor(R,B):null)&&(V.get||V.set)?Object.defineProperty(M,B,V):M[B]=R[B])}return M.default=R,P&&P.set(R,M),M}(r("../core/constants"));function x(R){return(x=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(P){return h(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":h(P)})(R)}function S(R,P){for(var B=0;B<P.length;B++){var M=P[B];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(R,M.key,M)}}function l(R,P){var B=R.length;return R[P<0?P%B+B:P%B]}function f(R,P,B,M){var U,V,$;return M?(f.tmpPoint1===void 0&&(f.tmpPoint1=[],f.tmpPoint2=[]),V=f.tmpPoint1,$=f.tmpPoint2,V.x=P.x-R.x,V.y=P.y-R.y,$.x=B.x-P.x,$.y=B.y-P.y,U=V.x*$.x+V.y*$.y,V=Math.sqrt(V.x*V.x+V.y*V.y),$=Math.sqrt($.x*$.x+$.y*$.y),Math.acos(U/(V*$))<M):(P[0]-R[0])*(B[1]-R[1])-(B[0]-R[0])*(P[1]-R[1])==0}function u(R,P,B,M,U,V,$,G,I){var q=1-I,Z=(J=Math.pow(q,3))*R+3*(ee=Math.pow(q,2))*I*B+3*q*I*I*U+(le=(fe=I*I)*I)*$,J=J*P+3*ee*I*M+3*q*I*I*V+le*G,ee=R+2*I*(B-R)+fe*(U-2*B+R),le=P+2*I*(M-P)+fe*(V-2*M+P),ae=B+2*I*(U-B)+fe*($-2*U+B),fe=M+2*I*(V-M)+fe*(G-2*V+M);return R=q*R+I*B,B=q*P+I*M,P=q*U+I*$,M=q*V+I*G,U=90-180*Math.atan2(ee-ae,le-fe)/Math.PI,(ae<ee||le<fe)&&(U+=180),{x:Z,y:J,m:{x:ee,y:le},n:{x:ae,y:fe},start:{x:R,y:B},end:{x:P,y:M},alpha:U}}function s(R,P,B,M,U,V,$,G,I){return I==null?C(R,P,B,M,U,V,$,G):u(R,P,B,M,U,V,$,G,function(q,Z,J,ee,le,ae,fe,H,X){if(!(X<0||C(q,Z,J,ee,le,ae,fe,H)<X)){var te,ue=.5,ce=1-ue;for(te=C(q,Z,J,ee,le,ae,fe,H,ce);.01<Math.abs(te-X);)te=C(q,Z,J,ee,le,ae,fe,H,ce+=(te<X?1:-1)*(ue/=2));return ce}}(R,P,B,M,U,V,$,G,I))}function d(R,P,B){for(var M,U,V,$,G,I=0,q=0,Z=(R=function(J,ee){function le(je,Ae,Ve){var De,He;if(!je)return["C",Ae.x,Ae.y,Ae.x,Ae.y,Ae.x,Ae.y];switch(je[0]in{T:1,Q:1}||(Ae.qx=Ae.qy=null),je[0]){case"M":Ae.X=je[1],Ae.Y=je[2];break;case"A":je=["C"].concat(_.apply(0,[Ae.x,Ae.y].concat(je.slice(1))));break;case"S":He=Ve==="C"||Ve==="S"?(De=2*Ae.x-Ae.bx,2*Ae.y-Ae.by):(De=Ae.x,Ae.y),je=["C",De,He].concat(je.slice(1));break;case"T":Ve==="Q"||Ve==="T"?(Ae.qx=2*Ae.x-Ae.qx,Ae.qy=2*Ae.y-Ae.qy):(Ae.qx=Ae.x,Ae.qy=Ae.y),je=["C"].concat(T(Ae.x,Ae.y,Ae.qx,Ae.qy,je[1],je[2]));break;case"Q":Ae.qx=je[1],Ae.qy=je[2],je=["C"].concat(T(Ae.x,Ae.y,je[1],je[2],je[3],je[4]));break;case"L":je=["C"].concat(j(Ae.x,Ae.y,je[1],je[2]));break;case"H":je=["C"].concat(j(Ae.x,Ae.y,je[1],Ae.y));break;case"V":je=["C"].concat(j(Ae.x,Ae.y,Ae.x,je[1]));break;case"Z":je=["C"].concat(j(Ae.x,Ae.y,Ae.X,Ae.Y))}return je}function ae(je,Ae){if(7<je[Ae].length){je[Ae].shift();for(var Ve=je[Ae];Ve.length;)he[Ae]="A",je.splice(Ae++,0,["C"].concat(Ve.splice(0,6)));je.splice(Ae,1),H=Math.max(X.length,0)}}function fe(je,Ae,Ve,De,He){je&&Ae&&je[He][0]==="M"&&Ae[He][0]!=="M"&&(Ae.splice(He,0,["M",De.x,De.y]),Ve.bx=0,Ve.by=0,Ve.x=je[He][1],Ve.y=je[He][2],H=Math.max(X.length,0))}var H,X=g(J),te=ee,ue={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ce={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},he=[],ne="",me="";H=Math.max(X.length,0);for(var _e=0;_e<H;_e++){(ne=X[_e]?X[_e][0]:ne)!=="C"&&(he[_e]=ne,_e&&(me=he[_e-1])),X[_e]=le(X[_e],ue,me),he[_e]!=="A"&&ne==="C"&&(he[_e]="C"),ae(X,_e),fe(X,te,ue,ce,_e),fe(te,X,ce,ue,_e);var Te=X[_e],ve=Te.length;ue.x=Te[ve-2],ue.y=Te[ve-1],ue.bx=parseFloat(Te[ve-4])||ue.x,ue.by=parseFloat(Te[ve-3])||ue.y,ce.bx=te,ce.by=te,ce.x=te,ce.y=te}return te?[X,te]:X}(R)).length;q<Z;q++){if((V=R[q])[0]==="M")M=+V[1],U=+V[2];else{if(P<I+($=s(M,U,V[1],V[2],V[3],V[4],V[5],V[6]))&&!B)return{x:(G=s(M,U,V[1],V[2],V[3],V[4],V[5],V[6],P-I)).x,y:G.y,alpha:G.alpha};I+=$,M=+V[5],U=+V[6]}V.shift()}return(G=B?I:u(M,U,V[0],V[1],V[2],V[3],V[4],V[5],1)).alpha?{x:G.x,y:G.y,alpha:G.alpha}:G}function g(R){var P=[],B=0,M=0,U=0,V=0,$=0;if(R){R[0][0]==="M"&&(U=B=+R[0][1],V=M=+R[0][2],$++,P[0]=["M",B,M]);for(var G,I,q=R.length===3&&R[0][0]==="M"&&R[1][0].toUpperCase()==="R"&&R[2][0].toUpperCase()==="Z",Z=$,J=R.length;Z<J;Z++){if(P.push(G=[]),(I=R[Z])[0]!==String.prototype.toUpperCase.call(I[0]))switch(G[0]=String.prototype.toUpperCase.call(I[0]),G[0]){case"A":G[1]=I[1],G[2]=I[2],G[3]=I[3],G[4]=I[4],G[5]=I[5],G[6]=+(I[6]+B),G[7]=+(I[7]+M);break;case"V":G[1]=+I[1]+M;break;case"H":G[1]=+I[1]+B;break;case"R":for(var ee,le=2,ae=(ee=[B,M].concat(I.slice(1))).length;le<ae;le++)ee[le]=+ee[le]+B,ee[++le]=+ee[le]+M;P.pop(),P=P.concat(v(ee,q));break;case"M":U=+I[1]+B,V=+I[2]+M;break;default:for(var fe=1,H=I.length;fe<H;fe++)G[fe]=+I[fe]+(fe%2?B:M)}else if(I[0]==="R")ee=[B,M].concat(I.slice(1)),P.pop(),P=P.concat(v(ee,q)),G=["R"].concat(I.slice(-2));else for(var X=0,te=I.length;X<te;X++)G[X]=I[X];switch(G[0]){case"Z":B=U,M=V;break;case"H":B=G[1];break;case"V":M=G[1];break;case"M":U=G[G.length-2],V=G[G.length-1];break;default:B=G[G.length-2],M=G[G.length-1]}}}return P}function _(R,P,B,M,U,V,$,G,I,q){function Z(ve,je,Ae){return{x:ve*Math.cos(Ae)-je*Math.sin(Ae),y:ve*Math.sin(Ae)+je*Math.cos(Ae)}}var J,ee=120*(X=Math.PI)/180,le=X/180*(+U||0),ae=[],fe=(q?(ne=q[0],J=q[1],ce=q[2],he=q[3]):(R=(te=Z(R,P,-le)).x,P=te.y,1<(fe=(H=(R-(G=(te=Z(G,I,-le)).x))/2)*H/(B*B)+(te=(P-(I=te.y))/2)*te/(M*M))&&(B*=fe=Math.sqrt(fe),M*=fe),fe=B*B,ue=M*M,ce=(V=(V===$?-1:1)*Math.sqrt(Math.abs((fe*ue-fe*te*te-ue*H*H)/(fe*te*te+ue*H*H))))*B*te/M+(R+G)/2,he=V*-M*H/B+(P+I)/2,ne=Math.asin(((P-he)/M).toFixed(9)),J=Math.asin(((I-he)/M).toFixed(9)),(ne=R<ce?X-ne:ne)<0&&(ne=2*X+ne),(J=G<ce?X-J:J)<0&&(J=2*X+J),$&&J<ne&&(ne-=2*X),!$&&ne<J&&(J-=2*X)),J-ne),H=(Math.abs(fe)>ee&&(ue=J,te=G,V=I,J=ne+ee*($&&ne<J?1:-1),ae=_(G=ce+B*Math.cos(J),I=he+M*Math.sin(J),B,M,U,0,$,te,V,[J,ue,ce,he])),fe=J-ne,Math.cos(ne)),X=Math.sin(ne),te=(ee=Math.cos(J),U=Math.sin(J),4/3*B*($=Math.tan(fe/4))),ue=[R,P],ce=[R+te*X,P-(V=4/3*M*$)*H],he=[G+te*U,I-V*ee],ne=[G,I];if(ce[0]=2*ue[0]-ce[0],ce[1]=2*ue[1]-ce[1],q)return[ce,he,ne].concat(ae);for(var me=[],_e=0,Te=(ae=[ce,he,ne].concat(ae).join().split(",")).length;_e<Te;_e++)me[_e]=_e%2?Z(ae[_e-1],ae[_e],le).y:Z(ae[_e],ae[_e+1],le).x;return me}function v(R,P){for(var B=[],M=0,U=R.length;M<U-2*!P;M+=2){var V=[{x:+R[M-2],y:+R[M-1]},{x:+R[M],y:+R[M+1]},{x:+R[M+2],y:+R[M+3]},{x:+R[M+4],y:+R[M+5]}];P?M?U-4===M?V[3]={x:+R[0],y:+R[1]}:U-2===M&&(V[2]={x:+R[0],y:+R[1]},V[3]={x:+R[2],y:+R[3]}):V[0]={x:+R[U-2],y:+R[U-1]}:U-4===M?V[3]=V[2]:M||(V[0]={x:+R[M],y:+R[M+1]}),B.push(["C",(-V[0].x+6*V[1].x+V[2].x)/6,(-V[0].y+6*V[1].y+V[2].y)/6,(V[1].x+6*V[2].x-V[3].x)/6,(V[1].y+6*V[2].y-V[3].y)/6,V[2].x,V[2].y])}return B}function j(R,P,B,M){return[R,P,B,M,B,M]}function T(R,P,B,M,U,V){return[1/3*R+2/3*B,1/3*P+2/3*M,1/3*U+2/3*B,1/3*V+2/3*M,U,V]}function C(R,P,B,M,U,V,$,G,I){for(var q=(I=1<(I=I??1)?1:I<0?0:I)/2,Z=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],J=0,ee=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],le=0;le<12;le++){var ae=L(fe=q*Z[le]+q,R,B,U,$),fe=L(fe,P,M,V,G);J+=ee[le]*Math.sqrt(ae*ae+fe*fe)}return q*J}function L(R,P,B,M,U){return R*(R*(-3*P+9*B-9*M+3*U)+6*P-12*B+6*M)-3*P+3*B}a.default.Font=function(){function R(M){if(!(this instanceof R))throw new TypeError("Cannot call a class as a function");this.parent=M,this.cache={},this.font=void 0}var P,B;return P=R,(B=[{key:"textBounds",value:function(M){var U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,V=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,$=3<arguments.length?arguments[3]:void 0,G=4<arguments.length?arguments[4]:void 0,I=G&&G.renderer&&G.renderer._pInst||this.parent;if((ue=I._renderer.drawingContext).textAlign||c.LEFT,ue.textBaseline||c.BASELINE,$=$||I._renderer._textSize,!ce){for(var q=[],Z=[],J=[],ee=(J[0]=[],[]),le=this._scale($),ae=I._renderer.textLeading(),fe=0,H=(this.font.forEachGlyph(M,U,V,$,G,function(he,ne,me,_e){var Te=he.getMetrics();he.index===0||he.index===10?J[fe+=1]=[]:(J[fe].push(ne+Te.xMin*le),J[fe].push(ne+Te.xMax*le),ee.push(me+fe*ae+-Te.yMin*le),ee.push(me+fe*ae+-Te.yMax*le))}),0<J[fe].length&&(q[fe]=Math.min.apply(null,J[fe]),Z[fe]=Math.max.apply(null,J[fe])),0),X=0;X<=fe;X++){q[X]=Math.min.apply(null,J[X]),Z[X]=Math.max.apply(null,J[X]);var te=Z[X]-q[X];H<te&&(H=te)}var ue,ce={x:ue=Math.min.apply(null,q),y:V=Math.min.apply(null,ee),h:Math.max.apply(null,ee)-V,w:H,advance:ue-U};$=this._handleAlignment(I._renderer,M,ce.x,ce.y,ce.w+ce.advance),ce.x=$.x,ce.y=$.y}return ce}},{key:"textToPoints",value:function(M,U,V,$,G){var I=0,q=[],Z=this._getGlyphs(M);$=$||this.parent._renderer._textSize;for(var J,ee=0;ee<Z.length;ee++){if(!(Z[J=ee].name&&Z[J].name==="space"||M.length===Z.length&&M[J]===" "))for(var le=function(X){for(var te,ue=[],ce=0;ce<X.length;ce++)X[ce].type==="M"&&(te&&ue.push(te),te=[]),te.push(function(he){var ne=[he.type];return he.type==="M"||he.type==="L"?ne.push(he.x,he.y):he.type==="C"?ne.push(he.x1,he.y1,he.x2,he.y2,he.x,he.y):he.type==="Q"&&ne.push(he.x1,he.y1,he.x,he.y),ne}(X[ce]));return ue.push(te),ue}(Z[ee].getPath(U,V,$).commands),ae=0;ae<le.length;ae++)for(var fe=function(X,te){te=function(me,_e){if(x(me)!=="object")me=_e;else for(var Te in _e)me[Te]===void 0&&(me[Te]=_e[Te]);return me}(te,{sampleFactor:.1,simplifyThreshold:0});for(var ue=d(X,0,1),ce=ue/(ue*te.sampleFactor),he=[],ne=0;ne<ue;ne+=ce)he.push(d(X,ne));return te.simplifyThreshold&&function(me){for(var _e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Te=me.length-1;3<me.length&&0<=Te;--Te)f(l(me,Te-1),l(me,Te),l(me,Te+1),_e)&&me.splice(Te%me.length,1)}(he,te.simplifyThreshold),he}(le[ae],G),H=0;H<fe.length;H++)fe[H].x+=I,q.push(fe[H]);I+=Z[ee].advanceWidth*this._scale($)}return q}},{key:"_getGlyphs",value:function(M){return this.font.stringToGlyphs(M)}},{key:"_getPath",value:function(M,U,V,$){var G=($&&$.renderer&&$.renderer._pInst||this.parent)._renderer;return U=this._handleAlignment(G,M,U,V),this.font.getPath(M,U.x,U.y,G._textSize,$)}},{key:"_getPathData",value:function(M,U,V,$){var G=3;return typeof M=="string"&&2<arguments.length?M=this._getPath(M,U,V,$):x(U)==="object"&&($=U),$&&typeof $.decimals=="number"&&(G=$.decimals),M.toPathData(G)}},{key:"_getSVG",value:function(M,U,V,$){var G=3;return typeof M=="string"&&2<arguments.length?M=this._getPath(M,U,V,$):x(U)==="object"&&($=U),$&&(typeof $.decimals=="number"&&(G=$.decimals),typeof $.strokeWidth=="number"&&(M.strokeWidth=$.strokeWidth),$.fill!==void 0&&(M.fill=$.fill),$.stroke!==void 0&&(M.stroke=$.stroke)),M.toSVG(G)}},{key:"_renderPath",value:function(M,U,V,$){var G=$&&$.renderer||this.parent._renderer,I=G.drawingContext,q=(M=(x(M)==="object"&&M.commands?M:this._getPath(M,U,V,$)).commands,I.beginPath(),!0);U=!1,V=void 0;try{for(var Z,J=M[Symbol.iterator]();!(q=(Z=J.next()).done);q=!0){var ee=Z.value;ee.type==="M"?I.moveTo(ee.x,ee.y):ee.type==="L"?I.lineTo(ee.x,ee.y):ee.type==="C"?I.bezierCurveTo(ee.x1,ee.y1,ee.x2,ee.y2,ee.x,ee.y):ee.type==="Q"?I.quadraticCurveTo(ee.x1,ee.y1,ee.x,ee.y):ee.type==="Z"&&I.closePath()}}catch(le){U=!0,V=le}finally{try{q||J.return==null||J.return()}finally{if(U)throw V}}return G._doStroke&&G._strokeSet&&I.stroke(),G._doFill&&(G._fillSet||G._setFill(c._DEFAULT_TEXT_FILL),I.fill()),this}},{key:"_textWidth",value:function(M,U){return this.font.getAdvanceWidth(M,U)}},{key:"_textAscent",value:function(M){return this.font.ascender*this._scale(M)}},{key:"_textDescent",value:function(M){return-this.font.descender*this._scale(M)}},{key:"_scale",value:function(M){return 1/this.font.unitsPerEm*(M||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(M,U,V,$,G){var I=M._textSize;switch(G===void 0&&(G=this._textWidth(U,I)),M._textAlign){case c.CENTER:V-=G/2;break;case c.RIGHT:V-=G}switch(M._textBaseline){case c.TOP:$+=this._textAscent(I);break;case c.CENTER:$+=this._textAscent(I)/2;break;case c.BOTTOM:$-=this._textDescent(I)}return{x:V,y:$}}}])&&S(P.prototype,B),R}(),r=a.default,y.default=r},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],312:[function(r,E,y){r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.object.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.append=function(h,a){return h.push(a),h},r.default.prototype.arrayCopy=function(h,a,c,x,S){var l,f;h=S!==void 0?(f=Math.min(S,h.length),l=x,h.slice(a,f+a)):(f=c!==void 0?(f=c,Math.min(f,h.length)):h.length,c=a,h.slice(l=0,f)),Array.prototype.splice.apply(c,[l,f].concat(h))},r.default.prototype.concat=function(h,a){return h.concat(a)},r.default.prototype.reverse=function(h){return h.reverse()},r.default.prototype.shorten=function(h){return h.pop(),h},r.default.prototype.shuffle=function(h,a){for(var c,x,S=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(h),l=(h=a||S?h:h.slice()).length;1<l;)c=this.random(0,1)*l|0,x=h[--l],h[l]=h[c],h[c]=x;return h},r.default.prototype.sort=function(h,a){var c=a?h.slice(0,Math.min(a,h.length)):h;return a=a?h.slice(Math.min(a,h.length)):[],(c=typeof c[0]=="string"?c.sort():c.sort(function(x,S){return x-S})).concat(a)},r.default.prototype.splice=function(h,a,c){return Array.prototype.splice.apply(h,[c,0].concat(a)),h},r.default.prototype.subset=function(h,a,c){return c!==void 0?h.slice(a,a+c):h.slice(a,h.length)},r=r.default,y.default=r},{"../core/main":273,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180}],313:[function(r,E,y){r("core-js/modules/es.array.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.repeat"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.repeat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};h.default.prototype.float=function(a){return a instanceof Array?a.map(parseFloat):parseFloat(a)},h.default.prototype.int=function(a){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return a===1/0||a==="Infinity"?1/0:a===-1/0||a==="-Infinity"?-1/0:typeof a=="string"?parseInt(a,c):typeof a=="number"?0|a:typeof a=="boolean"?a?1:0:a instanceof Array?a.map(function(x){return h.default.prototype.int(x,c)}):void 0},h.default.prototype.str=function(a){return a instanceof Array?a.map(h.default.prototype.str):String(a)},h.default.prototype.boolean=function(a){return typeof a=="number"?a!==0:typeof a=="string"?a.toLowerCase()==="true":typeof a=="boolean"?a:a instanceof Array?a.map(h.default.prototype.boolean):void 0},h.default.prototype.byte=function(a){return typeof(a=h.default.prototype.int(a,10))=="number"?(a+128)%256-128:a instanceof Array?a.map(h.default.prototype.byte):void 0},h.default.prototype.char=function(a){return typeof a!="number"||isNaN(a)?a instanceof Array?a.map(h.default.prototype.char):typeof a=="string"?h.default.prototype.char(parseInt(a,10)):void 0:String.fromCharCode(a)},h.default.prototype.unchar=function(a){return typeof a=="string"&&a.length===1?a.charCodeAt(0):a instanceof Array?a.map(h.default.prototype.unchar):void 0},h.default.prototype.hex=function(a,c){if(c=c??8,a instanceof Array)return a.map(function(S){return h.default.prototype.hex(S,c)});if(a===1/0||a===-1/0)return(a===1/0?"F":"0").repeat(c);if(typeof a=="number"){a<0&&(a=4294967295+a+1);for(var x=Number(a).toString(16).toUpperCase();x.length<c;)x="0".concat(x);return x.length>=c?x.substring(x.length-c,x.length):x}},h.default.prototype.unhex=function(a){return a instanceof Array?a.map(h.default.prototype.unhex):parseInt("0x".concat(a),16)},r=h.default,y.default=r},{"../core/main":273,"core-js/modules/es.array.map":163,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.repeat":193}],314:[function(r,E,y){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.pad-start"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.pad-start"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(f=r("../core/main"))&&f.__esModule?f:{default:f};function a(u,s){return function(d){if(Array.isArray(d))return d}(u)||function(d,g){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]"){var _=[],v=!0,j=!1,T=void 0;try{for(var C,L=d[Symbol.iterator]();!(v=(C=L.next()).done)&&(_.push(C.value),!g||_.length!==g);v=!0);}catch(R){j=!0,T=R}finally{try{v||L.return==null||L.return()}finally{if(j)throw T}}return _}}(u,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(u,s,d){var g=(_=a(u.toString().split("."),2))[0],_=_[1];return d===void 0?(g=g.padStart(s,"0"),_?g+"."+_:g):(g=(u=a(u.toFixed(d).toString().split("."),2))[0],_=u[1],(g=g.padStart(s,"0"))+"."+_)}function x(u,s){var d=(u=u.toString()).indexOf("."),g=d!==-1?u.substring(d):"";if(u=(u=d!==-1?u.substring(0,d):u).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),s===0)g="";else if(s!==void 0)if(s>g.length)for(var _=s-(g+=d===-1?".":"").length+1,v=0;v<_;v++)g+="0";else g=g.substring(0,s+1);return u+g}function S(u){return 0<parseFloat(u)?"+".concat(u.toString()):u.toString()}function l(u){return 0<=parseFloat(u)?" ".concat(u.toString()):u.toString()}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),h.default.prototype.join=function(u,s){return h.default._validateParameters("join",arguments),u.join(s)},h.default.prototype.match=function(u,s){return h.default._validateParameters("match",arguments),u.match(s)},h.default.prototype.matchAll=function(u,s){h.default._validateParameters("matchAll",arguments);for(var d=new RegExp(s,"g"),g=d.exec(u),_=[];g!==null;)_.push(g),g=d.exec(u);return _},h.default.prototype.nf=function(u,s,d){return h.default._validateParameters("nf",arguments),u instanceof Array?u.map(function(g){return c(g,s,d)}):Object.prototype.toString.call(u)==="[object Arguments]"?u.length===3?this.nf(u[0],u[1],u[2]):u.length===2?this.nf(u[0],u[1]):this.nf(u[0]):c(u,s,d)},h.default.prototype.nfc=function(u,s){return h.default._validateParameters("nfc",arguments),u instanceof Array?u.map(function(d){return x(d,s)}):x(u,s)},h.default.prototype.nfp=function(){for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];h.default._validateParameters("nfp",s);var g=h.default.prototype.nf.apply(this,s);return g instanceof Array?g.map(S):S(g)},h.default.prototype.nfs=function(){for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];h.default._validateParameters("nfs",s);var g=h.default.prototype.nf.apply(this,s);return g instanceof Array?g.map(l):l(g)},h.default.prototype.split=function(u,s){return h.default._validateParameters("split",arguments),u.split(s)},h.default.prototype.splitTokens=function(u,s){var d,g;return h.default._validateParameters("splitTokens",arguments),g=s!==void 0?(g=/\]/g.exec(s=s),(d=/\[/g.exec(s))&&g?(s=s.slice(0,g.index)+s.slice(g.index+1),d=/\[/g.exec(s),s=s.slice(0,d.index)+s.slice(d.index+1),new RegExp("[\\[".concat(s,"\\]]"),"g")):g?(s=s.slice(0,g.index)+s.slice(g.index+1),new RegExp("[".concat(s,"\\]]"),"g")):d?(s=s.slice(0,d.index)+s.slice(d.index+1),new RegExp("[".concat(s,"\\[]"),"g")):new RegExp("[".concat(s,"]"),"g")):/\s/g,u.split(g).filter(function(_){return _})},h.default.prototype.trim=function(u){return h.default._validateParameters("trim",arguments),u instanceof Array?u.map(this.trim):u.trim()};var f=h.default;y.default=f},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.pad-start":192,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],315:[function(r,E,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.day=function(){return new Date().getDate()},r.default.prototype.hour=function(){return new Date().getHours()},r.default.prototype.minute=function(){return new Date().getMinutes()},r.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},r.default.prototype.month=function(){return new Date().getMonth()+1},r.default.prototype.second=function(){return new Date().getSeconds()},r.default.prototype.year=function(){return new Date().getFullYear()},r=r.default,y.default=r},{"../core/main":273}],316:[function(r,E,y){function h(f){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function a(f){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(u){return h(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":h(u)})(f)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(l=r("../core/main"))&&l.__esModule?l:{default:l},x=(r("./p5.Geometry"),function(f){if(f&&f.__esModule)return f;if(f===null||a(f)!=="object"&&typeof f!="function")return{default:f};var u=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(u&&u.has(f))return u.get(f);var s,d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in f){var _;Object.prototype.hasOwnProperty.call(f,s)&&((_=g?Object.getOwnPropertyDescriptor(f,s):null)&&(_.get||_.set)?Object.defineProperty(d,s,_):d[s]=f[s])}return d.default=f,u&&u.set(f,d),d}(r("../core/constants")));function S(f,u,s,d,g,_,v){f=f<=0?1:f,u=u<0?0:u,s=s<=0?f:s,d=d<3?3:d;for(var j,T,C=(_=_===void 0||_)?-2:0,L=(g=g<1?1:g)+((v=v===void 0?u!==0:v)?2:0),R=Math.atan2(f-u,s),P=Math.sin(R),B=Math.cos(R),M=C;M<=L;++M){var U=M/g,V=s*U,$=void 0;for($=M<0?(U=V=0,f):g<M?(V=s,U=1,u):f+(u-f)*U,M!==-2&&M!==g+2||($=0),V-=s/2,j=0;j<d;++j){var G=j/(d-1),I=2*Math.PI*G,q=Math.sin(I),Z=(I=Math.cos(I),this.vertices.push(new c.default.Vector(q*$,V,I*$)));Z=M<0?new c.default.Vector(0,-1,0):g<M&&u?new c.default.Vector(0,1,0):new c.default.Vector(q*B,P,I*B),this.vertexNormals.push(Z),this.uvs.push(G,U)}}var J=0;if(_){for(T=0;T<d;++T)this.faces.push([J+T,J+d+(T+1)%d,J+d+T]);J+=2*d}for(M=0;M<g;++M){for(j=0;j<d;++j){var ee=(j+1)%d;this.faces.push([J+j,J+ee,J+d+ee]),this.faces.push([J+j,J+d+ee,J+d+j])}J+=d}if(v)for(J+=d,j=0;j<d;++j)this.faces.push([J+j,J+(j+1)%d,J+d])}c.default.prototype.plane=function(f,u,s,d){this._assert3d("plane"),c.default._validateParameters("plane",arguments),f===void 0&&(f=50),u===void 0&&(u=f),d===void 0&&(d=1);var g,_="plane|".concat(s=s===void 0?1:s,"|").concat(d);return this._renderer.geometryInHash(_)||((g=new c.default.Geometry(s,d,function(){for(var v,j,T=0;T<=this.detailY;T++)for(var C=T/this.detailY,L=0;L<=this.detailX;L++)v=L/this.detailX,j=new c.default.Vector(v-.5,C-.5,0),this.vertices.push(j),this.uvs.push(v,C)})).computeFaces().computeNormals(),s<=1&&d<=1?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(_,g)),this._renderer.drawBuffersScaled(_,f,u,1),this},c.default.prototype.box=function(f,u,s,d,g){this._assert3d("box"),c.default._validateParameters("box",arguments),f===void 0&&(f=50),u===void 0&&(u=f),s===void 0&&(s=u);var _,v=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return g===void 0&&(g=v?1:4),v="box|".concat(d=d===void 0?v?1:4:d,"|").concat(g),this._renderer.geometryInHash(v)||((_=new c.default.Geometry(d,g,function(){var j=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(T,C){C*=4;for(var L=0;L<4;L++){var R=T[L];R=new c.default.Vector((2*(1&R)-1)/2,((2&R)-1)/2,((4&R)/2-1)/2),j.vertices.push(R),j.uvs.push(1&L,(2&L)/2)}j.faces.push([C,1+C,2+C]),j.faces.push([2+C,1+C,3+C])})})).computeNormals(),d<=4&&g<=4?_._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(v,_)),this._renderer.drawBuffersScaled(v,f,u,s),this},c.default.prototype.sphere=function(f,u,s){return this._assert3d("sphere"),c.default._validateParameters("sphere",arguments),this.ellipsoid(f=f===void 0?50:f,f,f,u=u===void 0?24:u,s=s===void 0?16:s),this},c.default.prototype.cylinder=function(f,u,s,d,g,_){this._assert3d("cylinder"),c.default._validateParameters("cylinder",arguments),f===void 0&&(f=50),u===void 0&&(u=f),d===void 0&&(d=1),_===void 0&&(_=!0),g===void 0&&(g=!0);var v,j="cylinder|".concat(s=s===void 0?24:s,"|").concat(d,"|").concat(g,"|").concat(_);return this._renderer.geometryInHash(j)||(v=new c.default.Geometry(s,d),S.call(v,1,1,1,s,d,g,_),s<=24&&d<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(j,v)),this._renderer.drawBuffersScaled(j,f,u,f),this},c.default.prototype.cone=function(f,u,s,d,g){this._assert3d("cone"),c.default._validateParameters("cone",arguments),f===void 0&&(f=50),u===void 0&&(u=f),d===void 0&&(d=1),g===void 0&&(g=!0);var _,v="cone|".concat(s=s===void 0?24:s,"|").concat(d,"|").concat(g);return this._renderer.geometryInHash(v)||(_=new c.default.Geometry(s,d),S.call(_,1,0,1,s,d,g,!1),s<=24&&d<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,_)),this._renderer.drawBuffersScaled(v,f,u,f),this},c.default.prototype.ellipsoid=function(f,u,s,d,g){this._assert3d("ellipsoid"),c.default._validateParameters("ellipsoid",arguments),f===void 0&&(f=50),u===void 0&&(u=f),s===void 0&&(s=f),g===void 0&&(g=16);var _,v="ellipsoid|".concat(d=d===void 0?24:d,"|").concat(g);return this._renderer.geometryInHash(v)||((_=new c.default.Geometry(d,g,function(){for(var j=0;j<=this.detailY;j++)for(var T=j/this.detailY,C=Math.PI*T-Math.PI/2,L=Math.cos(C),R=Math.sin(C),P=0;P<=this.detailX;P++){var B=P/this.detailX,M=2*Math.PI*B,U=Math.cos(M);M=Math.sin(M),M=new c.default.Vector(L*M,R,L*U),this.vertices.push(M),this.vertexNormals.push(M),this.uvs.push(B,T)}})).computeFaces(),d<=24&&g<=24?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(v,_)),this._renderer.drawBuffersScaled(v,f,u,s),this},c.default.prototype.torus=function(f,u,s,d){if(this._assert3d("torus"),c.default._validateParameters("torus",arguments),f===void 0)f=50;else if(!f)return;if(u===void 0)u=10;else if(!u)return;s===void 0&&(s=24),d===void 0&&(d=16);var g,_=(u/f).toPrecision(4);return u="torus|".concat(_,"|").concat(s,"|").concat(d),this._renderer.geometryInHash(u)||((g=new c.default.Geometry(s,d,function(){for(var v=0;v<=this.detailY;v++)for(var j=v/this.detailY,T=2*Math.PI*j,C=Math.cos(T),L=Math.sin(T),R=1+_*C,P=0;P<=this.detailX;P++){var B=P/this.detailX,M=2*Math.PI*B,U=Math.cos(M),V=(M=Math.sin(M),new c.default.Vector(R*U,R*M,_*L));U=new c.default.Vector(C*U,C*M,L),this.vertices.push(V),this.vertexNormals.push(U),this.uvs.push(B,j)}})).computeFaces(),s<=24&&d<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(u,g)),this._renderer.drawBuffersScaled(u,f,f,f),this},c.default.RendererGL.prototype.point=function(f,u,s){var d=[];return d.push(new c.default.Vector(f,u,s=s===void 0?0:s)),this._drawPoints(d,this.immediateMode.buffers.point),this},c.default.RendererGL.prototype.triangle=function(f){var u=f[0],s=f[1],d=f[2],g=f[3],_=f[4],v=(f=f[5],this.geometryInHash("tri")||((v=new c.default.Geometry(1,1,function(){var C=[];C.push(new c.default.Vector(0,0,0)),C.push(new c.default.Vector(1,0,0)),C.push(new c.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=C,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),v.computeNormals(),this.createBuffers("tri",v)),this.uMVMatrix.copy());try{var j=Math.sign(u*g-d*s+d*f-_*g+_*s-u*f),T=new c.default.Matrix([d-u,g-s,0,0,_-u,f-s,0,0,0,0,j,0,u,s,0,1]).mult(this.uMVMatrix);this.uMVMatrix=T,this.drawBuffers("tri")}finally{this.uMVMatrix=v}return this},c.default.RendererGL.prototype.ellipse=function(f){this.arc(f[0],f[1],f[2],f[3],0,x.TWO_PI,x.OPEN,f[4])},c.default.RendererGL.prototype.arc=function(f){var u,s=arguments[1],d=arguments[2],g=arguments[3],_=arguments[4],v=arguments[5],j=arguments[6],T=arguments[7]||25,C=(Math.abs(v-_)>=x.TWO_PI?"".concat(L="ellipse","|"):"".concat(L="arc","|").concat(_,"|").concat(v,"|").concat(j,"|")).concat(T,"|"),L=(this.geometryInHash(C)||((u=new c.default.Geometry(T,1,function(){if(_.toFixed(10)!==v.toFixed(10)){j!==x.PIE&&j!==void 0||(this.vertices.push(new c.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var R=0;R<=T;R++){var P=R/T*(v-_)+_,B=.5+Math.cos(P)/2;P=.5+Math.sin(P)/2,this.vertices.push(new c.default.Vector(B,P,0)),this.uvs.push([B,P]),R<T-1&&(this.faces.push([0,R+1,R+2]),this.edges.push([R+1,R+2]))}switch(j){case x.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case x.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case x.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),T<=50?u._edgesToVertices(u):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(L," with more than 50 detail")),this.createBuffers(C,u)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([f,s,0]),this.uMVMatrix.scale(d,g,1),this.drawBuffers(C)}finally{this.uMVMatrix=L}return this},c.default.RendererGL.prototype.rect=function(f){var u=f[0],s=f[1],d=f[2],g=f[3];if(f[4]===void 0){var _=this._pInst._glAttributes.perPixelLighting,v=f[4]||(_?1:24),j=f[5]||(_?1:16),T=(_="rect|".concat(v,"|").concat(j),this.geometryInHash(_)||((T=new c.default.Geometry(v,j,function(){for(var Z=0;Z<=this.detailY;Z++)for(var J=Z/this.detailY,ee=0;ee<=this.detailX;ee++){var le=ee/this.detailX,ae=new c.default.Vector(le,J,0);this.vertices.push(ae),this.uvs.push(le,J)}0<v&&0<j&&(this.edges=[[0,v],[v,(v+1)*(j+1)-1],[(v+1)*(j+1)-1,(v+1)*j],[(v+1)*j,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(_,T)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([u,s,0]),this.uMVMatrix.scale(d,g,1),this.drawBuffers(_)}finally{this.uMVMatrix=T}}else{_=f[4],T=f[5]===void 0?_:f[5];var C=f[6]===void 0?T:f[6],L=(f=f[7]===void 0?C:f[7],d),R=g,P=((M=((L+=u)<u&&(M=u,u=L,L=M),(R+=s)<s&&(M=s,s=R,R=M),Math.min((L-u)/2,(R-s)/2)))<_&&(_=M),M<T&&(T=M),M<C&&(C=M),M<f&&(f=M),u),B=s,M=L,U=(u=R,this.beginShape(),T!==0?(this.vertex(M-T,B),this.quadraticVertex(M,B,M,B+T)):this.vertex(M,B),C!==0?(this.vertex(M,u-C),this.quadraticVertex(M,u,M-C,u)):this.vertex(M,u),f!==0?(this.vertex(P+f,u),this.quadraticVertex(P,u,P,u-f)):this.vertex(P,u),_!==0?(this.vertex(P,B+_),this.quadraticVertex(P,B,P+_,B)):this.vertex(P,B),!(this.immediateMode.geometry.uvs.length=0));s=!1,L=void 0;try{for(var V,$=this.immediateMode.geometry.vertices[Symbol.iterator]();!(U=(V=$.next()).done);U=!0){var G=V.value,I=(G.x-P)/d,q=(G.y-B)/g;this.immediateMode.geometry.uvs.push(I,q)}}catch(Z){s=!0,L=Z}finally{try{U||$.return==null||$.return()}finally{if(s)throw L}}this.endShape(x.CLOSE)}return this},c.default.RendererGL.prototype.quad=function(f,u,s,d,g,_,v,j,T,C,L,R,P,B){P===void 0&&(P=2),B===void 0&&(B=2);var M="quad|".concat(f,"|").concat(u,"|").concat(s,"|").concat(d,"|").concat(g,"|").concat(_,"|").concat(v,"|").concat(j,"|").concat(T,"|").concat(C,"|").concat(L,"|").concat(R,"|").concat(P,"|").concat(B);if(!this.geometryInHash(M)){var U=new c.default.Geometry(P,B,function(){for(var Z=1/(this.detailX-1),J=1/(this.detailY-1),ee=0;ee<this.detailY;ee++)for(var le=0;le<this.detailX;le++){var ae=le*Z,fe=ee*J;this.vertices.push(new c.default.Vector((1-ae)*((1-fe)*f+fe*C)+ae*((1-fe)*d+fe*v),(1-ae)*((1-fe)*u+fe*L)+ae*((1-fe)*g+fe*j),(1-ae)*((1-fe)*s+fe*R)+ae*((1-fe)*_+fe*T))),this.uvs.push([ae,fe])}});U.faces=[];for(var V=0;V<B-1;V++)for(var $=0;$<P-1;$++){var G=$+V*P,I=$+1+(V+1)*P,q=$+(V+1)*P;U.faces.push([G,$+1+V*P,I]),U.faces.push([G,I,q])}U.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(M,U)}return this.drawBuffers(M),this},c.default.RendererGL.prototype.bezier=function(f,u,s,d,g,_,v,j,T,C,L,R){arguments.length===8&&(L=j,C=v,j=_,v=g,g=d,d=s,s=_=T=R=0);var P=this._pInst._bezierDetail||20;this.beginShape();for(var B=0;B<=P;B++){var M=Math.pow(1-B/P,3),U=B/P*3*Math.pow(1-B/P,2),V=3*Math.pow(B/P,2)*(1-B/P),$=Math.pow(B/P,3);this.vertex(f*M+d*U+v*V+C*$,u*M+g*U+j*V+L*$,s*M+_*U+T*V+R*$)}return this.endShape(),this},c.default.RendererGL.prototype.curve=function(f,u,s,d,g,_,v,j,T,C,L,R){arguments.length===8&&(C=v,L=j,v=g,j=d,g=d=s,s=_=T=R=0);var P=this._pInst._curveDetail;this.beginShape();for(var B=0;B<=P;B++){var M=.5*Math.pow(B/P,3),U=.5*Math.pow(B/P,2),V=B/P*.5;this.vertex(M*(3*d-f-3*v+C)+U*(2*f-5*d+4*v-C)+V*(-f+v)+2*d*.5,M*(3*g-u-3*j+L)+U*(2*u-5*g+4*j-L)+V*(-u+j)+2*g*.5,M*(3*_-s-3*T+R)+U*(2*s-5*_+4*T-R)+V*(-s+T)+2*_*.5)}return this.endShape(),this},c.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(x.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(x.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},c.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var f,u,s,d,g,_,v=[],j=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,L=0,R=1,P=0;L<1;){if(_=parseFloat(L.toFixed(6)),this._lookUpTableBezier[P]=this._bezierCoefficients(_),R.toFixed(6)===C.toFixed(6)){_=parseFloat(R.toFixed(6))+parseFloat(L.toFixed(6)),++P,this._lookUpTableBezier[P]=this._bezierCoefficients(_);break}L+=C,R-=C,++P}}for(var B=this._lookUpTableBezier.length,M=[],U=0;U<4;U++)M.push([]);M[0]=this.immediateMode.geometry.vertexColors.slice(-4),M[3]=this.curFillColor.slice();var V=[];for(U=0;U<4;U++)V.push([]);if(V[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),V[3]=this.curStrokeColor.slice(),T===6){this.isBezier=!0,v=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],j=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var $=Math.hypot(v[0]-v[1],j[0]-j[1]),G=Math.hypot(v[1]-v[2],j[1]-j[2]),I=Math.hypot(v[2]-v[3],j[2]-j[3]);for($/=G=$+G+I,I/=G,g=0;g<4;g++)M[1].push(M[0][g]*(1-$)+M[3][g]*$),M[2].push(M[0][g]*I+M[3][g]*(1-I)),V[1].push(V[0][g]*(1-$)+V[3][g]*$),V[2].push(V[0][g]*I+V[3][g]*(1-I));for(d=0;d<B;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=f=u=0;U<4;U++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[d][U]*M[U][g],this.curStrokeColor[g]+=this._lookUpTableBezier[d][U]*V[U][g];f+=v[U]*this._lookUpTableBezier[d][U],u+=j[U]*this._lookUpTableBezier[d][U]}this.vertex(f,u)}this.curFillColor=M[3],this.curStrokeColor=V[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(T===9){this.isBezier=!0,v=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],j=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var q=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],Z=Math.hypot(v[0]-v[1],j[0]-j[1],q[0]-q[1]),J=(G=Math.hypot(v[1]-v[2],j[1]-j[2],q[1]-q[2]),Math.hypot(v[2]-v[3],j[2]-j[3],q[2]-q[3]));for(Z/=T=Z+G+J,J/=T,g=0;g<4;g++)M[1].push(M[0][g]*(1-Z)+M[3][g]*Z),M[2].push(M[0][g]*J+M[3][g]*(1-J)),V[1].push(V[0][g]*(1-Z)+V[3][g]*Z),V[2].push(V[0][g]*J+V[3][g]*(1-J));for(d=0;d<B;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=f=u=s=0;U<4;U++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[d][U]*M[U][g],this.curStrokeColor[g]+=this._lookUpTableBezier[d][U]*V[U][g];f+=v[U]*this._lookUpTableBezier[d][U],u+=j[U]*this._lookUpTableBezier[d][U],s+=q[U]*this._lookUpTableBezier[d][U]}this.vertex(f,u,s)}this.curFillColor=M[3],this.curStrokeColor=V[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},c.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var f,u,s,d,g,_,v=[],j=[],T=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var C=1/this._lutQuadraticDetail,L=0,R=1,P=0;L<1;){if(_=parseFloat(L.toFixed(6)),this._lookUpTableQuadratic[P]=this._quadraticCoefficients(_),R.toFixed(6)===C.toFixed(6)){_=parseFloat(R.toFixed(6))+parseFloat(L.toFixed(6)),++P,this._lookUpTableQuadratic[P]=this._quadraticCoefficients(_);break}L+=C,R-=C,++P}}for(var B=this._lookUpTableQuadratic.length,M=[],U=0;U<3;U++)M.push([]);M[0]=this.immediateMode.geometry.vertexColors.slice(-4),M[2]=this.curFillColor.slice();var V=[];for(U=0;U<3;U++)V.push([]);if(V[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),V[2]=this.curStrokeColor.slice(),T===4){this.isQuadratic=!0,v=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],j=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var $=Math.hypot(v[0]-v[1],j[0]-j[1]);for($/=$+Math.hypot(v[1]-v[2],j[1]-j[2]),g=0;g<4;g++)M[1].push(M[0][g]*(1-$)+M[2][g]*$),V[1].push(V[0][g]*(1-$)+V[2][g]*$);for(d=0;d<B;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=f=u=0;U<3;U++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[d][U]*M[U][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[d][U]*V[U][g];f+=v[U]*this._lookUpTableQuadratic[d][U],u+=j[U]*this._lookUpTableQuadratic[d][U]}this.vertex(f,u)}this.curFillColor=M[2],this.curStrokeColor=V[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(T===6){this.isQuadratic=!0,v=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],j=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var G=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],I=Math.hypot(v[0]-v[1],j[0]-j[1],G[0]-G[1]);for(I/=I+Math.hypot(v[1]-v[2],j[1]-j[2],G[1]-G[2]),g=0;g<4;g++)M[1].push(M[0][g]*(1-I)+M[2][g]*I),V[1].push(V[0][g]*(1-I)+V[2][g]*I);for(d=0;d<B;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=f=u=s=0;U<3;U++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[d][U]*M[U][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[d][U]*V[U][g];f+=v[U]*this._lookUpTableQuadratic[d][U],u+=j[U]*this._lookUpTableQuadratic[d][U],s+=G[U]*this._lookUpTableQuadratic[d][U]}this.vertex(f,u,s)}this.curFillColor=M[2],this.curStrokeColor=V[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},c.default.RendererGL.prototype.curveVertex=function(){var f,u,s,d,g,_,v=[],j=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,L=0,R=1,P=0;L<1;){if(_=parseFloat(L.toFixed(6)),this._lookUpTableBezier[P]=this._bezierCoefficients(_),R.toFixed(6)===C.toFixed(6)){_=parseFloat(R.toFixed(6))+parseFloat(L.toFixed(6)),++P,this._lookUpTableBezier[P]=this._bezierCoefficients(_);break}L+=C,R-=C,++P}}var B=this._lookUpTableBezier.length;if(T===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),j=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),g=0;g<B;g++)u=v[0]*this._lookUpTableBezier[g][0]+v[1]*this._lookUpTableBezier[g][1]+v[2]*this._lookUpTableBezier[g][2]+v[3]*this._lookUpTableBezier[g][3],s=j[0]*this._lookUpTableBezier[g][0]+j[1]*this._lookUpTableBezier[g][1]+j[2]*this._lookUpTableBezier[g][2]+j[3]*this._lookUpTableBezier[g][3],this.vertex(u,s);for(g=0;g<T;g++)this.immediateMode._curveVertex.shift()}}else if(T===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),j=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),f=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),g=0;g<B;g++)u=v[0]*this._lookUpTableBezier[g][0]+v[1]*this._lookUpTableBezier[g][1]+v[2]*this._lookUpTableBezier[g][2]+v[3]*this._lookUpTableBezier[g][3],s=j[0]*this._lookUpTableBezier[g][0]+j[1]*this._lookUpTableBezier[g][1]+j[2]*this._lookUpTableBezier[g][2]+j[3]*this._lookUpTableBezier[g][3],d=f[0]*this._lookUpTableBezier[g][0]+f[1]*this._lookUpTableBezier[g][1]+f[2]*this._lookUpTableBezier[g][2]+f[3]*this._lookUpTableBezier[g][3],this.vertex(u,s,d);for(g=0;g<T;g++)this.immediateMode._curveVertex.shift()}},c.default.RendererGL.prototype.image=function(f,u,s,d,g,_,v,j,T){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(f),this._pInst.textureMode(x.NORMAL);var C=0,L=(u<=f.width&&(C=u/f.width),1);u+d<=f.width&&(L=(u+d)/f.width),u=0,s<=f.height&&(u=s/f.height),d=1,s+g<=f.height&&(d=(s+g)/f.height),this.beginShape(),this.vertex(_,v,0,C,u),this.vertex(_+j,v,0,L,u),this.vertex(_+j,v+T,0,L,d),this.vertex(_,v+T,0,C,d),this.endShape(x.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(x.REMOVE)};var l=c.default;y.default=l},{"../core/constants":262,"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],317:[function(r,E,y){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(S=r("../core/main"))&&S.__esModule?S:{default:S},c=function(l){if(l&&l.__esModule)return l;if(l===null||x(l)!=="object"&&typeof l!="function")return{default:l};var f=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(f&&f.has(l))return f.get(l);var u,s={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var g;Object.prototype.hasOwnProperty.call(l,u)&&((g=d?Object.getOwnPropertyDescriptor(l,u):null)&&(g.get||g.set)?Object.defineProperty(s,u,g):s[u]=l[u])}return s.default=l,f&&f.set(l,s),s}(r("../core/constants"));function x(l){return(x=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(l)}a.default.prototype.orbitControl=function(l,f,u,s){var d=this,g=(this._assert3d("orbitControl"),a.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);l===void 0&&(l=1),f===void 0&&(f=l),u===void 0&&(u=1),x(s)!=="object"&&(s={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var _=s.disableTouchActions;this.touchActionsDisabled===!0||_!==void 0&&!_||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),s=(_=s.freeRotation)!==void 0&&_;var v,j,T,C=[],L=(_=(this.touches.forEach(function(V){d._renderer.prevTouches.forEach(function($){V.id===$.id&&($={x:V.x,y:V.y,px:$.x,py:$.y},C.push($))})}),this._renderer.prevTouches=this.touches,0),0),R=0,P=0,B=0,M=this.height<this.width?this.height:this.width,U=!1;return 0<C.length?(U=0<C[0].x&&C[0].x<this.width&&0<C[0].y&&C[0].y<this.height,C.length===1?(L=-l*((v=C[0]).x-v.px)/M,R=f*(v.y-v.py)/M):(v=C[0],j=C[1],_=-(Math.hypot(v.x-j.x,v.y-j.y)-Math.hypot(v.px-j.px,v.py-j.py))*u*4e-4,P=.5*(v.x+j.x)-.5*(v.px+j.px),B=.5*(v.y+j.y)-.5*(v.py+j.py)),0<this.touches.length?U&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(U=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(_=Math.sign(this._mouseWheelDeltaY)*u,_*=.01,this._mouseWheelDeltaY=0,U&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(L=-l*this.movedX/M,R=f*this.movedY/M):this.mouseButton===this.RIGHT&&(P=this.movedX,B=this.movedY),U&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),_!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=_),.001<Math.abs(this._renderer.zoomVelocity)?(s?g._orbitFree(0,0,this._renderer.zoomVelocity):g._orbit(0,0,this._renderer.zoomVelocity),g.projMatrix.mat4[15]!==0&&(g.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),g.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=g.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=g.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,L===0&&R===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*L,.6*R),1e-6<this._renderer.rotateVelocity.magSq()?(s?g._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):g._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),P===0&&B===0||!this._renderer.executeRotateAndMove||(v=2*P/this.width,j=2*-B/this.height,this._renderer.moveVelocity.add(.15*v,.15*j)),1e-6<this._renderer.moveVelocity.magSq()?(u=g._getLocalAxes(),l=g.eyeX-g.centerX,f=g.eyeY-g.centerY,M=g.eyeZ-g.centerZ,U=Math.sqrt(l*l+f*f+M*M),_=new a.default.Vector(g.centerX,g.centerY,g.centerZ),_=g.cameraMatrix.multiplyPoint(_),(_=this._renderer.uPMatrix.multiplyAndNormalizePoint(_)).x-=this._renderer.moveVelocity.x,_.y-=this._renderer.moveVelocity.y,R=(L=this._renderer.uPMatrix.mat4)[15]===0?(T=(L[8]+_.x)/L[0]*U,(L[9]+_.y)/L[5]*U):(T=(_.x-L[12])/L[0],(_.y-L[13])/L[5]),g.setPosition(g.eyeX+T*u.x[0]+R*u.y[0],g.eyeY+T*u.x[1]+R*u.y[1],g.eyeZ+T*u.x[2]+R*u.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},a.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var l=arguments.length,f=new Array(l),u=0;u<l;u++)f[u]=arguments[u];a.default._validateParameters("debugMode",f);for(var s=this._registeredMethods.post.length-1;0<=s;s--)this._registeredMethods.post[s].toString()!==this._grid().toString()&&this._registeredMethods.post[s].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(s,1);f[0]===c.GRID?this.registerMethod("post",this._grid.call(this,f[1],f[2],f[3],f[4],f[5])):f[0]===c.AXES?this.registerMethod("post",this._axesIcon.call(this,f[1],f[2],f[3],f[4])):(this.registerMethod("post",this._grid.call(this,f[0],f[1],f[2],f[3],f[4])),this.registerMethod("post",this._axesIcon.call(this,f[5],f[6],f[7],f[8])))},a.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var l=this._registeredMethods.post.length-1;0<=l;l--)this._registeredMethods.post[l].toString()!==this._grid().toString()&&this._registeredMethods.post[l].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(l,1)},a.default.prototype._grid=function(l,f,u,s,d){l===void 0&&(l=this.width/2),f===void 0&&(f=Math.round(l/30)<4?4:Math.round(l/30)),u===void 0&&(u=0),s===void 0&&(s=0),d===void 0&&(d=0);var g=l/f,_=l/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var v=0;v<=f;v++)this.beginShape(this.LINES),this.vertex(-_+u,s,v*g-_+d),this.vertex(_+u,s,v*g-_+d),this.endShape();for(var j=0;j<=f;j++)this.beginShape(this.LINES),this.vertex(j*g-_+u,s,-_+d),this.vertex(j*g-_+u,s,_+d),this.endShape();this.pop()}},a.default.prototype._axesIcon=function(l,f,u,s){return l===void 0&&(l=40<this.width/20?this.width/20:40),f===void 0&&(f=-this.width/4),u===void 0&&(u=f),s===void 0&&(s=f),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(f,u,s),this.vertex(f+l,u,s),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(f,u,s),this.vertex(f,u+l,s),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(f,u,s),this.vertex(f,u,s+l),this.endShape(),this.pop()}};var S=a.default;y.default=S},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],318:[function(r,E,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};h.default.prototype.ambientLight=function(a,c,x,S){this._assert3d("ambientLight"),h.default._validateParameters("ambientLight",arguments);var l=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(l._array[0],l._array[1],l._array[2]),this._renderer._enableLighting=!0,this},h.default.prototype.specularColor=function(a,c,x){this._assert3d("specularColor"),h.default._validateParameters("specularColor",arguments);var S=this.color.apply(this,arguments);return this._renderer.specularColors=[S._array[0],S._array[1],S._array[2]],this},h.default.prototype.directionalLight=function(a,c,x,S,l,f){this._assert3d("directionalLight"),h.default._validateParameters("directionalLight",arguments),a=a instanceof h.default.Color?a:this.color(a,c,x);var u,s;return x=typeof(c=arguments[arguments.length-1])=="number"?(u=arguments[arguments.length-3],s=arguments[arguments.length-2],arguments[arguments.length-1]):(u=c.x,s=c.y,c.z),c=Math.sqrt(u*u+s*s+x*x),this._renderer.directionalLightDirections.push(u/c,s/c,x/c),this._renderer.directionalLightDiffuseColors.push(a._array[0],a._array[1],a._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},h.default.prototype.pointLight=function(a,c,x,S,l,f){this._assert3d("pointLight"),h.default._validateParameters("pointLight",arguments),a=a instanceof h.default.Color?a:this.color(a,c,x);var u,s;return x=typeof(c=arguments[arguments.length-1])=="number"?(u=arguments[arguments.length-3],s=arguments[arguments.length-2],arguments[arguments.length-1]):(u=c.x,s=c.y,c.z),this._renderer.pointLightPositions.push(u,s,x),this._renderer.pointLightDiffuseColors.push(a._array[0],a._array[1],a._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},h.default.prototype.lights=function(){this._assert3d("lights");var a=this.color("rgb(128,128,128)");return this.ambientLight(a),this.directionalLight(a,0,0,-1),this},h.default.prototype.lightFalloff=function(a,c,x){return this._assert3d("lightFalloff"),h.default._validateParameters("lightFalloff",arguments),a<0&&(a=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),x<0&&(x=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),a===0&&c===0&&x===0&&(a=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=a,this._renderer.linearAttenuation=c,this._renderer.quadraticAttenuation=x,this},h.default.prototype.spotLight=function(a,c,x,S,l,f,u,s,d,g,_){this._assert3d("spotLight"),h.default._validateParameters("spotLight",arguments);var v,j,T,C=arguments.length;switch(C){case 11:case 10:v=this.color(a,c,x),j=new h.default.Vector(S,l,f),T=new h.default.Vector(u,s,d);break;case 9:a instanceof h.default.Color?(v=a,j=new h.default.Vector(c,x,S),T=new h.default.Vector(l,f,u),g=s,_=d):S instanceof h.default.Vector?(v=this.color(a,c,x),j=S,T=new h.default.Vector(l,f,u),g=s,_=d):u instanceof h.default.Vector?(v=this.color(a,c,x),j=new h.default.Vector(S,l,f),T=u,g=s,_=d):(v=this.color(a,c,x),j=new h.default.Vector(S,l,f),T=new h.default.Vector(u,s,d));break;case 8:T=a instanceof h.default.Color?(v=a,j=new h.default.Vector(c,x,S),new h.default.Vector(l,f,u)):S instanceof h.default.Vector?(v=this.color(a,c,x),j=S,new h.default.Vector(l,f,u)):(v=this.color(a,c,x),j=new h.default.Vector(S,l,f),u),g=s;break;case 7:a instanceof h.default.Color&&c instanceof h.default.Vector?(v=a,j=c,T=new h.default.Vector(x,S,l),g=f,_=u):a instanceof h.default.Color&&l instanceof h.default.Vector?(v=a,j=new h.default.Vector(c,x,S),T=l,g=f,_=u):S instanceof h.default.Vector&&l instanceof h.default.Vector?(v=this.color(a,c,x),j=S,T=l,g=f,_=u):T=a instanceof h.default.Color?(v=a,j=new h.default.Vector(c,x,S),new h.default.Vector(l,f,u)):S instanceof h.default.Vector?(v=this.color(a,c,x),j=S,new h.default.Vector(l,f,u)):(v=this.color(a,c,x),j=new h.default.Vector(S,l,f),u);break;case 6:S instanceof h.default.Vector&&l instanceof h.default.Vector?(v=this.color(a,c,x),j=S,T=l,g=f):a instanceof h.default.Color&&l instanceof h.default.Vector?(v=a,j=new h.default.Vector(c,x,S),T=l,g=f):a instanceof h.default.Color&&c instanceof h.default.Vector&&(v=a,j=c,T=new h.default.Vector(x,S,l),g=f);break;case 5:a instanceof h.default.Color&&c instanceof h.default.Vector&&x instanceof h.default.Vector?(v=a,j=c,T=x,g=S,_=l):S instanceof h.default.Vector&&l instanceof h.default.Vector?(v=this.color(a,c,x),j=S,T=l):a instanceof h.default.Color&&l instanceof h.default.Vector?(v=a,j=new h.default.Vector(c,x,S),T=l):a instanceof h.default.Color&&c instanceof h.default.Vector&&(v=a,j=c,T=new h.default.Vector(x,S,l));break;case 4:v=a,j=c,T=x,g=S;break;case 3:v=a,j=c,T=x;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(C<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(v._array[0],v._array[1],v._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(j.x,j.y,j.z),T.normalize(),this._renderer.spotLightDirections.push(T.x,T.y,T.z),g===void 0&&(g=Math.PI/3),_!==void 0&&_<1?(_=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):_===void 0&&(_=100),g=this._renderer._pInst._toRadians(g),this._renderer.spotLightAngle.push(Math.cos(g)),this._renderer.spotLightConc.push(_),this._renderer._enableLighting=!0,this},h.default.prototype.noLights=function(){this._assert3d("noLights");for(var a=arguments.length,c=new Array(a),x=0;x<a;x++)c[x]=arguments[x];return h.default._validateParameters("noLights",c),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},r=h.default,y.default=r},{"../core/main":273}],319:[function(r,E,y){r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(a=r("../core/main"))&&a.__esModule?a:{default:a};r("./p5.Geometry"),h.default.prototype.loadModel=function(c){h.default._validateParameters("loadModel",arguments);var x,S,l,f=c.slice(-4),u=(typeof arguments[1]=="boolean"?(x=arguments[1],S=arguments[2],l=arguments[3],arguments[4]!==void 0&&(f=arguments[4])):(x=!1,S=arguments[1],l=arguments[2],arguments[3]!==void 0&&(f=arguments[3])),new h.default.Geometry),s=(u.gid="".concat(c,"|").concat(x),this);return f.match(/\.stl$/i)?this.httpDo(c,"GET","arrayBuffer",function(d){(function(g,_){if(function(v){for(var j=new DataView(v),T=[115,111,108,105,100],C=0;C<5;C++)if(function(L,R,P){for(var B=0,M=L.length;B<M;B++)if(L[B]!==R.getUint8(P+B,!1))return;return 1}(T,j,C))return;return 1}(_))(function(v,j){for(var T,C,L,R,P,B,M,U=new DataView(j),V=U.getUint32(80,!0),$=!1,G=0;G<70;G++)U.getUint32(G,!1)===1129270351&&U.getUint8(G+4)===82&&U.getUint8(G+5)===61&&($=!0,R=[],P=U.getUint8(G+6)/255,B=U.getUint8(G+7)/255,M=U.getUint8(G+8)/255);for(var I=0;I<V;I++){for(var q,Z=84+50*I,J=U.getFloat32(Z,!0),ee=U.getFloat32(4+Z,!0),le=U.getFloat32(8+Z,!0),ae=($&&(L=32768&(q=U.getUint16(48+Z,!0))?(T=P,C=B,M):(T=(31&q)/31,C=(q>>5&31)/31,(q>>10&31)/31)),new h.default.Vector(J,ee,le)),fe=1;fe<=3;fe++){var H=Z+12*fe;H=new h.default.Vector(U.getFloat32(H,!0),U.getFloat32(4+H,!0),U.getFloat32(8+H,!0)),v.vertices.push(H),v.vertexNormals.push(ae),$&&R.push(T,C,L)}v.faces.push([3*I,3*I+1,3*I+2]),v.uvs.push([0,0],[0,0],[0,0])}})(g,_);else{if(_=new DataView(_),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");(function(v,j){for(var T,C,L="",R=[],P=0;P<j.length;++P){for(var B=j[P].trim(),M=B.split(" "),U=0;U<M.length;++U)M[U]===""&&M.splice(U,1);if(M.length!==0)switch(L){case"":if(M[0]!=="solid")return console.error(B),console.error('Invalid state "'.concat(M[0],'", should be "solid"'));L="solid";break;case"solid":if(M[0]!=="facet"||M[1]!=="normal")return console.error(B),console.error('Invalid state "'.concat(M[0],'", should be "facet normal"'));T=new h.default.Vector(parseFloat(M[2]),parseFloat(M[3]),parseFloat(M[4])),v.vertexNormals.push(T,T,T),L="facet normal";break;case"facet normal":if(M[0]!=="outer"||M[1]!=="loop")return console.error(B),console.error('Invalid state "'.concat(M[0],'", should be "outer loop"'));L="vertex";break;case"vertex":if(M[0]==="vertex")C=new h.default.Vector(parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3])),v.vertices.push(C),v.uvs.push([0,0]),R.push(v.vertices.indexOf(C));else{if(M[0]!=="endloop")return console.error(B),console.error('Invalid state "'.concat(M[0],'", should be "vertex" or "endloop"'));v.faces.push(R),R=[],L="endloop"}break;case"endloop":if(M[0]!=="endfacet")return console.error(B),console.error('Invalid state "'.concat(M[0],'", should be "endfacet"'));L="endfacet";break;case"endfacet":if(M[0]!=="endsolid"){if(M[0]!=="facet"||M[1]!=="normal")return console.error(B),console.error('Invalid state "'.concat(M[0],'", should be "endsolid" or "facet normal"'));T=new h.default.Vector(parseFloat(M[2]),parseFloat(M[3]),parseFloat(M[4])),v.vertexNormals.push(T,T,T),L="facet normal"}break;default:console.error('Invalid state "'.concat(L,'"'))}}})(g,_=new TextDecoder("utf-8").decode(_).split(`
`))}})(u,d),x&&u.normalize(),s._decrementPreload(),typeof S=="function"&&S(u)},l):f.match(/\.obj$/i)?this.loadStrings(c,function(d){for(var g=u,_=d,v={v:[],vt:[],vn:[]},j={},T=0;T<_.length;++T){var C=_[T].trim().split(/\b\s+/);if(0<C.length){if(C[0]==="v"||C[0]==="vn"){var L=new h.default.Vector(parseFloat(C[1]),parseFloat(C[2]),parseFloat(C[3]));v[C[0]].push(L)}else if(C[0]==="vt")L=[parseFloat(C[1]),1-parseFloat(C[2])],v[C[0]].push(L);else if(C[0]==="f")for(var R=3;R<C.length;++R){for(var P=[],B=[1,R-1,R],M=0;M<B.length;++M){var U=C[B[M]],V=0;if(j[U]!==void 0)V=j[U];else{for(var $=U.split("/"),G=0;G<$.length;G++)$[G]=parseInt($[G])-1;V=j[U]=g.vertices.length,g.vertices.push(v.v[$[0]].copy()),v.vt[$[1]]?g.uvs.push(v.vt[$[1]].slice()):g.uvs.push([0,0]),v.vn[$[2]]&&g.vertexNormals.push(v.vn[$[2]].copy())}P.push(V)}P[0]!==P[1]&&P[0]!==P[2]&&P[1]!==P[2]&&g.faces.push(P)}}}g.vertexNormals.length===0&&g.computeNormals(),x&&u.normalize(),s._decrementPreload(),typeof S=="function"&&S(u)},l):(h.default._friendlyFileLoadError(3,c),l?l():h.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),u},h.default.prototype.model=function(c){this._assert3d("model"),h.default._validateParameters("model",arguments),0<c.vertices.length&&(this._renderer.geometryInHash(c.gid)||(c.edges.length===0&&c._makeTriangleEdges(),c._edgesToVertices(),this._renderer.createBuffers(c.gid,c)),this._renderer.drawBuffers(c.gid))};var a=h.default;y.default=a},{"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199}],320:[function(r,E,y){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function a(l){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(S=r("../core/main"))&&S.__esModule?S:{default:S},x=function(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var f=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(f&&f.has(l))return f.get(l);var u,s={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var g;Object.prototype.hasOwnProperty.call(l,u)&&((g=d?Object.getOwnPropertyDescriptor(l,u):null)&&(g.get||g.set)?Object.defineProperty(s,u,g):s[u]=l[u])}return s.default=l,f&&f.set(l,s),s}(r("../core/constants"));r("./p5.Texture"),c.default.prototype.loadShader=function(l,f,u,s){function d(){_._decrementPreload(),u&&u(g)}c.default._validateParameters("loadShader",arguments),s=s||console.error;var g=new c.default.Shader,_=this,v=!1,j=!1;return this.loadStrings(l,function(T){g._vertSrc=T.join(`
`),j=!0,v&&d()},s),this.loadStrings(f,function(T){g._fragSrc=T.join(`
`),v=!0,j&&d()},s),g},c.default.prototype.createShader=function(l,f){return this._assert3d("createShader"),c.default._validateParameters("createShader",arguments),new c.default.Shader(this._renderer,l,f)},c.default.prototype.shader=function(l){return this._assert3d("shader"),c.default._validateParameters("shader",arguments),l._renderer===void 0&&(l._renderer=this._renderer),l.init(),l.isStrokeShader()?this._renderer.userStrokeShader=l:(this._renderer.userFillShader=l,this._renderer._useNormalMaterial=!1),this},c.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},c.default.prototype.texture=function(l){return this._assert3d("texture"),c.default._validateParameters("texture",arguments),l.gifProperties&&l._animateGif(this),this._renderer.drawMode=x.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=l,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.textureMode=function(l){l!==x.IMAGE&&l!==x.NORMAL?console.warn("You tried to set ".concat(l," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=l},c.default.prototype.textureWrap=function(l){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:l,u=(this._renderer.textureWrapX=l,this._renderer.textureWrapY=f,!0),s=!1,d=void 0;try{for(var g,_=this._renderer.textures.values()[Symbol.iterator]();!(u=(g=_.next()).done);u=!0)g.value.setWrapMode(l,f)}catch(v){s=!0,d=v}finally{try{u||_.return==null||_.return()}finally{if(s)throw d}}},c.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var l=arguments.length,f=new Array(l),u=0;u<l;u++)f[u]=arguments[u];return c.default._validateParameters("normalMaterial",f),this._renderer.drawMode=x.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},c.default.prototype.ambientMaterial=function(l,f,u){this._assert3d("ambientMaterial"),c.default._validateParameters("ambientMaterial",arguments);var s=c.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=s._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.emissiveMaterial=function(l,f,u,s){this._assert3d("emissiveMaterial"),c.default._validateParameters("emissiveMaterial",arguments);var d=c.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=d._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},c.default.prototype.specularMaterial=function(l,f,u,s){this._assert3d("specularMaterial"),c.default._validateParameters("specularMaterial",arguments);var d=c.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=d._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},c.default.prototype.shininess=function(l){return this._assert3d("shininess"),c.default._validateParameters("shininess",arguments),this._renderer._useShininess=l=l<1?1:l,this},c.default.RendererGL.prototype._applyColorBlend=function(l){var f=this.GL,u=this.drawMode===x.TEXTURE;return(u=this.userFillShader||this.userStrokeShader||this.userPointShader||u||this.curBlendMode!==x.BLEND||l[l.length-1]<1||this._isErasing)!==this._isBlending&&(u||this.curBlendMode!==x.BLEND&&this.curBlendMode!==x.ADD?f.enable(f.BLEND):f.disable(f.BLEND),f.depthMask(!0),this._isBlending=u),this._applyBlendMode(),l},c.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var l=this.GL;switch(this.curBlendMode){case x.BLEND:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA);break;case x.ADD:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE);break;case x.REMOVE:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ZERO,l.ONE_MINUS_SRC_ALPHA);break;case x.MULTIPLY:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.DST_COLOR,l.ONE_MINUS_SRC_ALPHA);break;case x.SCREEN:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_COLOR);break;case x.EXCLUSION:l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.ONE_MINUS_DST_COLOR,l.ONE_MINUS_SRC_COLOR,l.ONE,l.ONE);break;case x.REPLACE:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ZERO);break;case x.SUBTRACT:l.blendEquationSeparate(l.FUNC_REVERSE_SUBTRACT,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE,l.ONE,l.ONE_MINUS_SRC_ALPHA);break;case x.DARKEST:this.blendExt?(l.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE,l.ONE,l.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case x.LIGHTEST:this.blendExt?(l.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE,l.ONE,l.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var S=c.default;y.default=S},{"../core/constants":262,"../core/main":273,"./p5.Texture":330,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],321:[function(r,E,y){r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(c,x){for(var S=0;S<x.length;S++){var l=x[S];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,l.key,l)}}h.default.prototype.camera=function(){var c;this._assert3d("camera");for(var x=arguments.length,S=new Array(x),l=0;l<x;l++)S[l]=arguments[l];return h.default._validateParameters("camera",S),(c=this._renderer._curCamera).camera.apply(c,S),this},h.default.prototype.perspective=function(){var c;this._assert3d("perspective");for(var x=arguments.length,S=new Array(x),l=0;l<x;l++)S[l]=arguments[l];return h.default._validateParameters("perspective",S),(c=this._renderer._curCamera).perspective.apply(c,S),this},h.default.prototype.ortho=function(){var c;this._assert3d("ortho");for(var x=arguments.length,S=new Array(x),l=0;l<x;l++)S[l]=arguments[l];return h.default._validateParameters("ortho",S),(c=this._renderer._curCamera).ortho.apply(c,S),this},h.default.prototype.frustum=function(){var c;this._assert3d("frustum");for(var x=arguments.length,S=new Array(x),l=0;l<x;l++)S[l]=arguments[l];return h.default._validateParameters("frustum",S),(c=this._renderer._curCamera).frustum.apply(c,S),this},h.default.prototype.createCamera=function(){this._assert3d("createCamera");var c=new h.default.Camera(this._renderer);return c._computeCameraDefaultSettings(),c._setDefaultCamera(),this._renderer._curCamera=c},h.default.Camera=function(){function c(l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._renderer=l,this.cameraType="default",this.cameraMatrix=new h.default.Matrix,this.projMatrix=new h.default.Matrix,this.yScale=1}var x,S;return x=c,(S=[{key:"perspective",value:function(l,f,u,s){this.cameraType=0<arguments.length?"custom":"default",l===void 0?(l=this.defaultCameraFOV,this.cameraFOV=l):this.cameraFOV=this._renderer._pInst._toRadians(l),f===void 0&&(f=this.defaultAspectRatio),u===void 0&&(u=this.defaultCameraNear),s===void 0&&(s=this.defaultCameraFar),u<=1e-4&&(u=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),s<u&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=f,this.cameraNear=u,this.cameraFar=s,this.projMatrix=h.default.Matrix.identity(),l=1/Math.tan(this.cameraFOV/2);var d=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(l/f,0,0,0,0,-l*this.yScale,0,0,0,0,(s+u)*d,-1,0,0,2*s*u*d,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(l,f,u,s,d,g){l===void 0&&(l=-this._renderer.width/2),f===void 0&&(f=+this._renderer.width/2),u===void 0&&(u=-this._renderer.height/2),s===void 0&&(s=+this._renderer.height/2),d===void 0&&(d=0),g===void 0&&(g=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=d;var _=f-l,v=s-u,j=(this.cameraFar=g)-d,T=2/_,C=2/v*this.yScale,L=-2/j;f=-(f+l)/_,l=-(s+u)/v,_=-(g+d)/j,this.projMatrix=h.default.Matrix.identity(),this.projMatrix.set(T,0,0,0,0,-C,0,0,0,0,L,0,f,l,_,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(l,f,u,s,d,g){l===void 0&&(l=.05*-this._renderer.width),f===void 0&&(f=.05*+this._renderer.width),u===void 0&&(u=.05*+this._renderer.height),s===void 0&&(s=.05*-this._renderer.height),d===void 0&&(d=this.defaultCameraNear),g===void 0&&(g=this.defaultCameraFar),this.cameraNear=d;var _=f-l,v=s-u,j=(this.cameraFar=g)-d,T=2*d/_,C=2*d/v*this.yScale,L=-2*g*d/j;f=(f+l)/_,l=(s+u)/v,_=-(g+d)/j,this.projMatrix=h.default.Matrix.identity(),this.projMatrix.set(T,0,0,0,0,-C,0,0,f,l,_,-1,0,0,L,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(l,f,u,s){var d=this.centerX,g=this.centerY,_=this.centerZ,v=(d-=this.eyeX,g-=this.eyeY,_-=this.eyeZ,h.default.Matrix.identity(this._renderer._pInst));(l=(v.rotate(this._renderer._pInst._toRadians(l),f,u,s),[d*v.mat4[0]+g*v.mat4[4]+_*v.mat4[8],d*v.mat4[1]+g*v.mat4[5]+_*v.mat4[9],d*v.mat4[2]+g*v.mat4[6]+_*v.mat4[10]]))[0]+=this.eyeX,l[1]+=this.eyeY,l[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,l[0],l[1],l[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(l){var f=this._getLocalAxes();this._rotateView(l,f.y[0],f.y[1],f.y[2])}},{key:"tilt",value:function(l){var f=this._getLocalAxes();this._rotateView(l,f.x[0],f.x[1],f.x[2])}},{key:"lookAt",value:function(l,f,u){this.camera(this.eyeX,this.eyeY,this.eyeZ,l,f,u,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(l,f,u,s,d,g,_,v,j){return l===void 0&&(l=this.defaultEyeX,f=this.defaultEyeY,u=this.defaultEyeZ,s=l,d=f,v=1,j=_=g=0),this.eyeX=l,this.eyeY=f,this.eyeZ=u,s!==void 0&&(this.centerX=s,this.centerY=d,this.centerZ=g),_!==void 0&&(this.upX=_,this.upY=v,this.upZ=j),s=this._getLocalAxes(),this.cameraMatrix.set(s.x[0],s.y[0],s.z[0],0,s.x[1],s.y[1],s.z[1],0,s.x[2],s.y[2],s.z[2],0,0,0,0,1),d=-l,this.cameraMatrix.translate([d,-f,-u]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(l,f,u){l=[(s=this._getLocalAxes()).x[0]*l,s.x[1]*l,s.x[2]*l],f=[s.y[0]*f,s.y[1]*f,s.y[2]*f];var s=[s.z[0]*u,s.z[1]*u,s.z[2]*u];this.camera(this.eyeX+l[0]+f[0]+s[0],this.eyeY+l[1]+f[1]+s[1],this.eyeZ+l[2]+f[2]+s[2],this.centerX+l[0]+f[0]+s[0],this.centerY+l[1]+f[1]+s[1],this.centerZ+l[2]+f[2]+s[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(l,f,u){var s=l-this.eyeX,d=f-this.eyeY,g=u-this.eyeZ;this.camera(l,f,u,this.centerX+s,this.centerY+d,this.centerZ+g,this.upX,this.upY,this.upZ)}},{key:"set",value:function(l){for(var f=0,u=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType"];f<u.length;f++){var s=u[f];this[s]=l[s]}this.cameraMatrix=l.cameraMatrix.copy(),this.projMatrix=l.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(l,f,u){var s,d,g,_,v,j,T,C,L,R,P,B,M,U,V,$,G,I;u===0?this.set(l):u===1?this.set(f):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=l.projMatrix.mat4[0]*Math.pow(f.projMatrix.mat4[0]/l.projMatrix.mat4[0],u),this.projMatrix.mat4[5]=l.projMatrix.mat4[5]*Math.pow(f.projMatrix.mat4[5]/l.projMatrix.mat4[5],u),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),_=new h.default.Vector(l.eyeX,l.eyeY,l.eyeZ),v=new h.default.Vector(f.eyeX,f.eyeY,f.eyeZ),$=new h.default.Vector(l.centerX,l.centerY,l.centerZ),I=new h.default.Vector(f.centerX,f.centerY,f.centerZ),g=h.default.Vector.dist(_,$),s=h.default.Vector.dist(v,I),s=g*Math.pow(s/g,u),g=h.default.Vector.sub(_,v),d=1,1e-6<(G=(U=_.copy().sub(v).sub($).add(I)).magSq())&&(d=h.default.Vector.dot(g,U)/G,d=Math.max(0,Math.min(d,1))),g=h.default.Vector.lerp(h.default.Vector.lerp(_,$,d),h.default.Vector.lerp(v,I,d),u),U=l.cameraMatrix.createSubMatrix3x3(),G=f.cameraMatrix.createSubMatrix3x3(),_=U.column(2),$=G.column(2),v=U.column(1),I=G.column(1),l=new h.default.Vector,f=new h.default.Vector,j=new h.default.Vector,T=new h.default.Vector,1-(C=.5*((U=(G=G.mult3x3(U.copy().transpose3x3())).diagonal())[0]+U[1]+U[2]-1))<1e-7?(l.set(h.default.Vector.lerp(_,$,u)).normalize(),j.set(l).mult(d*s).add(g),T.set(l).mult((d-1)*s).add(g),f.set(h.default.Vector.lerp(v,I,u)).normalize()):($=1/(1-C),I=Math.max(U[0],U[1],U[2]),B=G.mat3[1]+G.mat3[3],M=G.mat3[2]+G.mat3[6],V=G.mat3[5]+G.mat3[7],I=I===U[0]?(R=.5*B*($/=L=Math.sqrt((U[0]-C)*$)),P=.5*M*$,.5*(G.mat3[7]-G.mat3[5])/L):I===U[1]?(P=.5*V*($/=R=Math.sqrt((U[1]-C)*$)),L=.5*B*$,.5*(G.mat3[2]-G.mat3[6])/R):(L=.5*M*($/=P=Math.sqrt((U[2]-C)*$)),R=.5*V*$,.5*(G.mat3[3]-G.mat3[1])/P),B=u*Math.atan2(I,C),M=Math.cos(B),U=Math.sin(B),(I=new h.default.Matrix("mat3",[M+(V=1-M)*L*L,V*($=L*R)-U*P,V*(G=P*L)+U*R,V*$+U*P,M+V*R*R,V*(u=R*P)-U*L,V*G-U*R,V*u+U*L,M+V*P*P])).multiplyVec3(_,l),j.set(l).mult(d*s).add(g),T.set(l).mult((d-1)*s).add(g),I.multiplyVec3(v,f)),this.camera(j.x,j.y,j.z,T.x,T.y,T.z,f.x,f.y,f.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)}},{key:"copy",value:function(){var l=new h.default.Camera(this._renderer);return l.cameraFOV=this.cameraFOV,l.aspectRatio=this.aspectRatio,l.eyeX=this.eyeX,l.eyeY=this.eyeY,l.eyeZ=this.eyeZ,l.centerX=this.centerX,l.centerY=this.centerY,l.centerZ=this.centerZ,l.upX=this.upX,l.upY=this.upY,l.upZ=this.upZ,l.cameraNear=this.cameraNear,l.cameraFar=this.cameraFar,l.cameraType=this.cameraType,l.cameraMatrix=this.cameraMatrix.copy(),l.projMatrix=this.projMatrix.copy(),l}},{key:"_getLocalAxes",value:function(){var l,f=this.eyeX-this.centerX,u=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,d=((d=Math.sqrt(f*f+u*u+s*s))!==0&&(f/=d,u/=d,s/=d),this.upX),g=(j=this.upY)*s-(T=this.upZ)*u,_=-d*s+T*f,v=d*u-j*f,j=(d=u*v-s*_,-f*v+s*g),T=f*_-u*g;return(l=((l=Math.sqrt(g*g+_*_+v*v))!==0&&(g/=l,_/=l,v/=l),Math.sqrt(d*d+j*j+T*T)))!==0&&(d/=l,j/=l,T/=l),{x:[g,_,v],y:[d,j,T],z:[f,u,s]}}},{key:"_orbit",value:function(l,f,u){var s=this.eyeX-this.centerX,d=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,_=Math.hypot(s,d,g),v=(s=new h.default.Vector(s,d,g).normalize(),d=new h.default.Vector(this.upX,this.upY,this.upZ).normalize(),g=new h.default.Vector.cross(d,s).normalize(),new h.default.Vector.cross(g,d));(_=(_*=Math.pow(10,u))<this.cameraNear?this.cameraNear:_)>this.cameraFar&&(_=this.cameraFar),u=Math.acos(Math.max(-1,Math.min(1,h.default.Vector.dot(s,d))))+f,f=l,(u<=0||u>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),d.mult(Math.cos(u)),v.mult(Math.cos(f)*Math.sin(u)),g.mult(Math.sin(f)*Math.sin(u)),s.set(d).add(v).add(g),this.eyeX=_*s.x+this.centerX,this.eyeY=_*s.y+this.centerY,this.eyeZ=_*s.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(l,f,u){var s=this.eyeX-this.centerX,d=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,_=Math.hypot(s,d,g),v=(s=new h.default.Vector(s,d,g).normalize(),d=new h.default.Vector(this.upX,this.upY,this.upZ),g=new h.default.Vector.cross(d,s).normalize(),new h.default.Vector.cross(s,g)),j=Math.atan2(f,l),T=(j=(v.mult(Math.sin(j)),g.mult(Math.cos(j)).add(v),Math.sqrt(l*l+f*f)),v=new h.default.Vector.cross(s,g),l=((_=(_*=Math.pow(10,u))<this.cameraNear?this.cameraNear:_)>this.cameraFar&&(_=this.cameraFar),Math.cos(j)),f=Math.sin(j),(u=d.dot(s))*l+(j=d.dot(g))*f);u=-u*f+j*l,j=d.dot(v),d.x=T*s.x+u*g.x+j*v.x,d.y=T*s.y+u*g.y+j*v.y,d.z=T*s.z+u*g.z+j*v.z,g.mult(-f),s.mult(l).add(g).mult(_),this.camera(s.x+this.centerX,s.y+this.centerY,s.z+this.centerZ,this.centerX,this.centerY,this.centerZ,d.x,d.y,d.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&a(x.prototype,S),c}(),h.default.prototype.setCamera=function(c){this._renderer._curCamera=c,this._renderer.uPMatrix.set(c.projMatrix.mat4[0],c.projMatrix.mat4[1],c.projMatrix.mat4[2],c.projMatrix.mat4[3],c.projMatrix.mat4[4],c.projMatrix.mat4[5],c.projMatrix.mat4[6],c.projMatrix.mat4[7],c.projMatrix.mat4[8],c.projMatrix.mat4[9],c.projMatrix.mat4[10],c.projMatrix.mat4[11],c.projMatrix.mat4[12],c.projMatrix.mat4[13],c.projMatrix.mat4[14],c.projMatrix.mat4[15])},r=h.default.Camera,y.default=r},{"../core/main":273,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.string.sub":198}],322:[function(r,E,y){function h(R){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(R)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.reflect.get"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.reflect.get"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(L=r("../core/main"))&&L.__esModule?L:{default:L},c=function(R){if(R&&R.__esModule)return R;if(R===null||u(R)!=="object"&&typeof R!="function")return{default:R};var P=function(){var $;return typeof WeakMap!="function"?null:($=new WeakMap,$)}();if(P&&P.has(R))return P.get(R);var B,M={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(B in R){var V;Object.prototype.hasOwnProperty.call(R,B)&&((V=U?Object.getOwnPropertyDescriptor(R,B):null)&&(V.get||V.set)?Object.defineProperty(M,B,V):M[B]=R[B])}return M.default=R,P&&P.set(R,M),M}(r("../core/constants")),x=r("./p5.Texture"),S=r("./p5.RendererGL");function l(R,P){return function(B){if(Array.isArray(B))return B}(R)||function(B,M){if(Symbol.iterator in Object(B)||Object.prototype.toString.call(B)==="[object Arguments]"){var U=[],V=!0,$=!1,G=void 0;try{for(var I,q=B[Symbol.iterator]();!(V=(I=q.next()).done)&&(U.push(I.value),!M||U.length!==M);V=!0);}catch(Z){$=!0,G=Z}finally{try{V||q.return==null||q.return()}finally{if($)throw G}}return U}}(R,P)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(R,P,B){return P in R?Object.defineProperty(R,P,{value:B,enumerable:!0,configurable:!0,writable:!0}):R[P]=B,R}function u(R){return(u=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(P){return h(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":h(P)})(R)}function s(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function d(R,P){for(var B=0;B<P.length;B++){var M=P[B];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(R,M.key,M)}}function g(R,P,B){P&&d(R.prototype,P)}function _(R,P,B){return(_=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(M,U,V){if(M=function($,G){for(;!Object.prototype.hasOwnProperty.call($,G)&&($=j($))!==null;);return $}(M,U))return(M=Object.getOwnPropertyDescriptor(M,U)).get?M.get.call(V):M.value})(R,P,B||R)}function v(R,P){return(v=Object.setPrototypeOf||function(B,M){return B.__proto__=M,B})(R,P)}function j(R){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(R)}var T=function(R){var P=M;if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),R&&v(P,R);var B=function(U){return function(){var V,$=j(U);if(V=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(V=j(this).constructor,Reflect.construct($,arguments,V)):$.apply(this,arguments),$=this,!V||u(V)!=="object"&&typeof V!="function"){if($!==void 0)return $;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return V}}(M);function M(U){var V;return s(this,M),(V=B.call(this,U.target._renderer)).fbo=U,V.yScale=-1,V}return g(M,[{key:"_computeCameraDefaultSettings",value:function(){_(j(M.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultEyeZ=this.fbo.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this.fbo.width/this.fbo.height)}}]),M}(a.default.Camera),C=(a.default.FramebufferCamera=T,function(){function R(P,B){s(this,R),this.framebuffer=P,this.property=B}return g(R,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),R}()),L=(a.default.FramebufferTexture=C,function(){function R(P){var B=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(s(this,R),this.target=P,this.target._renderer.framebuffers.add(this),this.pixels=[],this.format=B.format||c.UNSIGNED_BYTE,this.channels=B.channels||(P._renderer._pInst._glAttributes.alpha?c.RGBA:c.RGB),this.useDepth=B.depth===void 0||B.depth,this.depthFormat=B.depthFormat||c.FLOAT,this.textureFiltering=B.textureFiltering||c.LINEAR,B.antialias===void 0?this.antialiasSamples=P._renderer._pInst._glAttributes.antialias?2:0:typeof B.antialias=="number"?this.antialiasSamples=B.antialias:this.antialiasSamples=B.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&P.webglVersion!==c.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),B.width&&B.height?(this.width=B.width,this.height=B.height,this.autoSized=!1):(B.width===void 0!=(B.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=P.width,this.height=P.height,this.autoSized=!0),this.density=B.density||P.pixelDensity(),B=P._renderer.GL,this.gl=B,this._checkIfFormatsAvailable(),this.framebuffer=B.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=B.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),P=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=P}return g(R,[{key:"resize",value:function(P,B){this.autoSized=!1,this.width=P,this.height=B,this._handleResize()}},{key:"pixelDensity",value:function(P){if(!P)return this.density;this.autoSized=!1,this.density=P,this._handleResize()}},{key:"autoSized",value:function(P){if(P===void 0)return this.autoSized;this.autoSized=P,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var P=this.gl;(P=(this.useDepth&&this.target.webglVersion===c.WEBGL&&!P.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===c.WEBGL&&this.depthFormat===c.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),[c.UNSIGNED_BYTE,c.FLOAT,c.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&![c.UNSIGNED_INT,c.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=c.FLOAT),(0,x.checkWebGLCapabilities)(this.target._renderer))).float||this.format!==c.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&!P.float&&this.depthFormat===c.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),P.halfFloat||this.format!==c.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.channels===c.RGB&&[c.FLOAT,c.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=c.RGBA)}},{key:"_recreateTextures",value:function(){var P=this.gl,B=(this._updateSize(),P.getParameter(P.TEXTURE_BINDING_2D)),M=P.getParameter(P.FRAMEBUFFER_BINDING);if(!(V=P.createTexture()))throw new Error("Unable to create color texture");P.bindTexture(P.TEXTURE_2D,V);var U=this._glColorFormat();if(P.texImage2D(P.TEXTURE_2D,0,U.internalFormat,this.width*this.density,this.height*this.density,0,U.format,U.type,null),this.colorTexture=V,P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,V,0),this.useDepth){var V;if(!(V=P.createTexture()))throw new Error("Unable to create depth texture");var $=this._glDepthFormat();P.bindTexture(P.TEXTURE_2D,V),P.texImage2D(P.TEXTURE_2D,0,$.internalFormat,this.width*this.density,this.height*this.density,0,$.format,$.type,null),P.framebufferTexture2D(P.FRAMEBUFFER,P.DEPTH_ATTACHMENT,P.TEXTURE_2D,V,0),this.depthTexture=V}this.antialias&&(this.colorRenderbuffer=P.createRenderbuffer(),P.bindRenderbuffer(P.RENDERBUFFER,this.colorRenderbuffer),P.renderbufferStorageMultisample(P.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,P.getParameter(P.MAX_SAMPLES))),U.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&($=this._glDepthFormat(),this.depthRenderbuffer=P.createRenderbuffer(),P.bindRenderbuffer(P.RENDERBUFFER,this.depthRenderbuffer),P.renderbufferStorageMultisample(P.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,P.getParameter(P.MAX_SAMPLES))),$.internalFormat,this.width*this.density,this.height*this.density)),P.bindFramebuffer(P.FRAMEBUFFER,this.aaFramebuffer),P.framebufferRenderbuffer(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&P.framebufferRenderbuffer(P.FRAMEBUFFER,P.DEPTH_ATTACHMENT,P.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new C(this,"depthTexture"),V=P.NEAREST,this.depthP5Texture=new a.default.Texture(this.target._renderer,this.depth,{minFilter:V,magFilter:V}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new C(this,"colorTexture"),U=this.textureFiltering===c.LINEAR?P.LINEAR:P.NEAREST,this.colorP5Texture=new a.default.Texture(this.target._renderer,this.color,{glMinFilter:U,glMagFilter:U}),this.target._renderer.textures.set(this.color,this.colorP5Texture),P.bindTexture(P.TEXTURE_2D,B),P.bindFramebuffer(P.FRAMEBUFFER,M)}},{key:"_glColorFormat",value:function(){var P,B,M=this.gl,U=this.format===c.FLOAT?M.FLOAT:this.format===c.HALF_FLOAT?this.target.webglVersion===c.WEBGL2?M.HALF_FLOAT:M.getExtension("OES_texture_half_float").HALF_FLOAT_OES:M.UNSIGNED_BYTE,V=this.channels===c.RGBA?M.RGBA:M.RGB;return{internalFormat:this.target.webglVersion===c.WEBGL2?(f(B={},M.FLOAT,f({},M.RGBA,M.RGBA32F)),f(B,M.HALF_FLOAT,f({},M.RGBA,M.RGBA16F)),f(B,M.UNSIGNED_BYTE,(f(P={},M.RGBA,M.RGBA8),f(P,M.RGB,M.RGB8),P)),B[U][V]):this.format===c.HALF_FLOAT?M.RGBA:V,format:V,type:U}}},{key:"_glDepthFormat",value:function(){var P=this.gl,B=this.depthFormat===c.FLOAT?P.FLOAT:P.UNSIGNED_INT,M=P.DEPTH_COMPONENT;return{internalFormat:P=this.target.webglVersion===c.WEBGL2?this.depthFormat===c.FLOAT?P.DEPTH_COMPONENT32F:P.DEPTH_COMPONENT24:P.DEPTH_COMPONENT,format:M,type:B}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var P=this.color,B=this.depth,M=this.colorRenderbuffer,U=this.depthRenderbuffer;this._deleteTexture(P),B&&this._deleteTexture(B),P=this.gl,M&&P.deleteRenderbuffer(M),U&&P.deleteRenderbuffer(U),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var P=new T(this);return P._computeCameraDefaultSettings(),P._setDefaultCamera(),this.target._renderer._curCamera=P}},{key:"_deleteTexture",value:function(P){this.gl.deleteTexture(P.rawTexture()),this.target._renderer.textures.delete(P)}},{key:"remove",value:function(){var P=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),P.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&P.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&P.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&P.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){var P=this.gl;this.prevFramebuffer=P.getParameter(P.FRAMEBUFFER_BINDING),this.antialias?P.bindFramebuffer(P.FRAMEBUFFER,this.aaFramebuffer):P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),this.prevViewport=P.getParameter(P.VIEWPORT),P.viewport(0,0,this.width*this.density,this.height*this.density),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"end",value:function(){var P=this.gl;if(this.antialias){P.bindFramebuffer(P.READ_FRAMEBUFFER,this.aaFramebuffer),P.bindFramebuffer(P.DRAW_FRAMEBUFFER,this.framebuffer);var B=[[P.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]];this.useDepth&&B.push([P.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var M=0,U=B;M<U.length;M++){var V=($=l(U[M],2))[0],$=$[1];P.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,V,$)}}P.bindFramebuffer(P.FRAMEBUFFER,this.prevFramebuffer),P.viewport.apply(P,function(G){return function(I){if(Array.isArray(I)){for(var q=0,Z=new Array(I.length);q<I.length;q++)Z[q]=I[q];return Z}}(G)||function(I){if(Symbol.iterator in Object(I)||Object.prototype.toString.call(I)==="[object Arguments]")return Array.from(I)}(G)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(this.prevViewport)),this.target.pop()}},{key:"draw",value:function(P){this.begin(),P(),this.end()}},{key:"loadPixels",value:function(){var P=this.gl,B=P.getParameter(P.FRAMEBUFFER_BINDING),M=(P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,S.readPixelsWebGL)(this.pixels,P,this.framebuffer,0,0,this.width*this.density,this.height*this.density,M.format,M.type),P.bindFramebuffer(P.FRAMEBUFFER,B)}},{key:"get",value:function(P,B,M,U){a.default._validateParameters("p5.Framebuffer.get",arguments);var V=this._glColorFormat();if(P===void 0&&B===void 0)B=P=0,M=this.width,U=this.height;else if(M===void 0&&U===void 0)return(P<0||B<0||P>=this.width||B>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),P=this.target.constrain(P,0,this.width-1),B=this.target.constrain(B,0,this.height-1)),(0,S.readPixelWebGL)(this.gl,this.framebuffer,P*this.density,B*this.density,V.format,V.type);P=this.target.constrain(P,0,this.width-1),B=this.target.constrain(B,0,this.height-1),M=this.target.constrain(M,1,this.width-P),U=this.target.constrain(U,1,this.height-B);for(var $=(0,S.readPixelsWebGL)(void 0,this.gl,this.framebuffer,P*this.density,B*this.density,M*this.density,U*this.density,V.format,V.type),G=new Uint8ClampedArray(M*U*this.density*this.density*4),I=(G.fill(255),V.type===this.gl.RGB?3:4),q=0;q<U*this.density;q++)for(var Z=0;Z<M*this.density;Z++)for(var J=0;J<4;J++){var ee,le=4*(q*M*this.density+Z)+J;J<I&&(ee=I==4?le:(q*M*this.density+Z)*I+J,G[le]=$[ee])}return(P=new a.default.Image(M*this.density,U*this.density)).imageData=P.canvas.getContext("2d").createImageData(P.width,P.height),P.imageData.data.set(G),P.pixels=P.imageData.data,P.updatePixels(),this.density!==1&&P.resize(M,U),P}},{key:"updatePixels",value:function(){var P=this.gl,B=(this.colorP5Texture.bindTexture(),this._glColorFormat()),M=B.format===P.RGBA?4:3,U=(M=this.width*this.height*this.density*this.density*M,B.type===P.UNSIGNED_BYTE?Uint8Array:Float32Array);if(!(this.pixels instanceof U)||this.pixels.length!==M)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");P.texImage2D(P.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,this.pixels),this.colorP5Texture.unbindTexture(),this.prevFramebuffer=P.getParameter(P.FRAMEBUFFER_BINDING),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(P.clearDepth(1),P.clear(P.DEPTH_BUFFER_BIT)),this.end()):(P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),this.useDepth&&(P.clearDepth(1),P.clear(P.DEPTH_BUFFER_BIT)),P.bindFramebuffer(P.FRAMEBUFFER,this.prevFramebuffer))}}]),R}());r=a.default.Framebuffer=L,y.default=r},{"../core/constants":262,"../core/main":273,"./p5.RendererGL":328,"./p5.Texture":330,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],323:[function(r,E,y){r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(c,x){for(var S=0;S<x.length;S++){var l=x[S];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,l.key,l)}}h.default.Geometry=function(){function c(l,f,u){if(this instanceof c)return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=l!==void 0?l:1,this.detailY=f!==void 0?f:1,this.dirtyFlags={},u instanceof Function&&u.call(this),this;throw new TypeError("Cannot call a class as a function")}var x,S;return x=c,(S=[{key:"reset",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"computeFaces",value:function(){this.faces.length=0;for(var l,f,u,s=this.detailX+1,d=0;d<this.detailY;d++)for(var g=0;g<this.detailX;g++)f=(d+1)*s+g+1,this.faces.push([d*s+g,l=d*s+g+1,u=(d+1)*s+g]),this.faces.push([u,l,f]);return this}},{key:"_getFaceNormal",value:function(l){l=this.faces[l];var f=this.vertices[l[0]],u=this.vertices[l[1]],s=(l=this.vertices[l[2]],u=h.default.Vector.sub(u,f),l=h.default.Vector.sub(l,f),f=h.default.Vector.cross(u,l),h.default.Vector.mag(f));return(u=s/(h.default.Vector.mag(u)*h.default.Vector.mag(l)))===0||isNaN(u)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),f):(1<u&&(u=1),f.mult(Math.asin(u)/s))}},{key:"computeNormals",value:function(){for(var l=this,f=this.vertexNormals,u=this.vertices,s=this.faces,d=f.length=0;d<u.length;++d)f.push(new h.default.Vector);for(s.forEach(function(g,_){for(var v=l._getFaceNormal(_),j=0;j<3;++j){var T=g[j];f[T].add(v)}}),d=0;d<u.length;++d)f[d].normalize();return this}},{key:"averageNormals",value:function(){for(var l=0;l<=this.detailY;l++){var f=this.detailX+1,u=h.default.Vector.add(this.vertexNormals[l*f],this.vertexNormals[l*f+this.detailX]);u=h.default.Vector.div(u,2),this.vertexNormals[l*f]=u,this.vertexNormals[l*f+this.detailX]=u}return this}},{key:"averagePoleNormals",value:function(){for(var l=new h.default.Vector(0,0,0),f=0;f<this.detailX;f++)l.add(this.vertexNormals[f]);l=h.default.Vector.div(l,this.detailX);for(var u=0;u<this.detailX;u++)this.vertexNormals[u]=l;l=new h.default.Vector(0,0,0);for(var s=this.vertices.length-1;s>this.vertices.length-1-this.detailX;s--)l.add(this.vertexNormals[s]);l=h.default.Vector.div(l,this.detailX);for(var d=this.vertices.length-1;d>this.vertices.length-1-this.detailX;d--)this.vertexNormals[d]=l;return this}},{key:"_makeTriangleEdges",value:function(){for(var l=this.edges.length=0;l<this.faces.length;l++)this.edges.push([this.faces[l][0],this.faces[l][1]]),this.edges.push([this.faces[l][1],this.faces[l][2]]),this.edges.push([this.faces[l][2],this.faces[l][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var l,f=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],u=!1,s=0;s<this.edges.length;s++){var d=this.edges[s-1],g=this.edges[s],_=this.vertices[g[0]],v=this.vertices[g[1]],j=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*g[0],4*(g[0]+1)):[0,0,0,0],T=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*g[1],4*(g[1]+1)):[0,0,0,0],C=v.copy().sub(_).normalize(),L=0<C.magSq();L&&this._addSegment(_,v,j,T,C),0<s&&d[1]===g[0]?(l&&L&&C.dot(l)<1-1e-8&&this._addJoin(_,l,C,j),!L||u||f||(this._addCap(_,C.copy().mult(-1),j),u=!0)):(u=!1,L&&(!f||0<s)&&(this._addCap(_,C.copy().mult(-1),j),u=!0),l&&(!f||s<this.edges.length-1)&&(this._addCap(this.vertices[d[1]],l,j),l=void 0)),s===this.edges.length-1&&(f?this._addJoin(v,C,this.vertices[this.edges[0][1]].copy().sub(v).normalize(),T):this._addCap(v,C,T)),L&&(l=C)}return this}},{key:"_addSegment",value:function(l,f,u,s,d){l=l.array(),f=f.array();var g=d.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var _=0,v=[this.lineTangentsIn,this.lineTangentsOut];_<v.length;_++)v[_].push(g,g,g,g,g,g);return this.lineVertices.push(l,l,f,f,l,f),this.lineVertexColors.push(u,u,s,s,u,s),this}},{key:"_addCap",value:function(l,f,u){for(var s=l.array(),d=f.array(),g=[0,0,0],_=0;_<6;_++)this.lineVertices.push(s),this.lineTangentsIn.push(d),this.lineTangentsOut.push(g),this.lineVertexColors.push(u);return this.lineSides.push(-1,-2,2,2,1,-1),this}},{key:"_addJoin",value:function(l,f,u,s){for(var d=l.array(),g=f.array(),_=u.array(),v=0;v<12;v++)this.lineVertices.push(d),this.lineTangentsIn.push(g),this.lineTangentsOut.push(_),this.lineVertexColors.push(s);for(var j=0,T=[-1,1];j<T.length;j++){var C=T[j];this.lineSides.push(C,2*C,3*C,C,3*C,0)}return this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var l=this.vertices[0].copy(),f=this.vertices[0].copy(),u=0;u<this.vertices.length;u++)l.x=Math.max(l.x,this.vertices[u].x),f.x=Math.min(f.x,this.vertices[u].x),l.y=Math.max(l.y,this.vertices[u].y),f.y=Math.min(f.y,this.vertices[u].y),l.z=Math.max(l.z,this.vertices[u].z),f.z=Math.min(f.z,this.vertices[u].z);for(var s=h.default.Vector.lerp(l,f,.5),d=h.default.Vector.sub(l,f),g=200/Math.max(Math.max(d.x,d.y),d.z),_=0;_<this.vertices.length;_++)this.vertices[_].sub(s),this.vertices[_].mult(g)}return this}}])&&a(x.prototype,S),c}(),r=h.default.Geometry,y.default=r},{"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.slice":164,"core-js/modules/es.string.sub":198,"core-js/modules/web.dom-collections.for-each":235}],324:[function(r,E,y){r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(S,l){for(var f=0;f<l.length;f++){var u=l[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(S,u.key,u)}}var c=Array,x=function(S){return Array.isArray(S)};typeof Float32Array<"u"&&(c=Float32Array,x=function(S){return Array.isArray(S)||S instanceof Float32Array}),h.default.Matrix=function(){function S(){var s=this,d=S;if(s instanceof d)return arguments.length&&((s=arguments.length-1)<0||arguments.length<=s?void 0:arguments[s])instanceof h.default&&(this.p5=(d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new c([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new c([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var l,f,u;return l=S,u=[{key:"identity",value:function(s){return new h.default.Matrix(s)}}],(f=[{key:"set",value:function(s){return s instanceof h.default.Matrix?this.mat4=s.mat4:x(s)?this.mat4=s:arguments.length===16&&(this.mat4[0]=s,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new h.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var s;return this.mat3!==void 0?((s=new h.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],s.mat3[1]=this.mat3[1],s.mat3[2]=this.mat3[2],s.mat3[3]=this.mat3[3],s.mat3[4]=this.mat3[4],s.mat3[5]=this.mat3[5],s.mat3[6]=this.mat3[6],s.mat3[7]=this.mat3[7],s.mat3[8]=this.mat3[8]):((s=new h.default.Matrix(this.p5)).mat4[0]=this.mat4[0],s.mat4[1]=this.mat4[1],s.mat4[2]=this.mat4[2],s.mat4[3]=this.mat4[3],s.mat4[4]=this.mat4[4],s.mat4[5]=this.mat4[5],s.mat4[6]=this.mat4[6],s.mat4[7]=this.mat4[7],s.mat4[8]=this.mat4[8],s.mat4[9]=this.mat4[9],s.mat4[10]=this.mat4[10],s.mat4[11]=this.mat4[11],s.mat4[12]=this.mat4[12],s.mat4[13]=this.mat4[13],s.mat4[14]=this.mat4[14],s.mat4[15]=this.mat4[15]),s}},{key:"transpose",value:function(s){var d,g,_,v,j,T;return s instanceof h.default.Matrix?(d=s.mat4[1],g=s.mat4[2],_=s.mat4[3],v=s.mat4[6],j=s.mat4[7],T=s.mat4[11],this.mat4[0]=s.mat4[0],this.mat4[1]=s.mat4[4],this.mat4[2]=s.mat4[8],this.mat4[3]=s.mat4[12],this.mat4[4]=d,this.mat4[5]=s.mat4[5],this.mat4[6]=s.mat4[9],this.mat4[7]=s.mat4[13],this.mat4[8]=g,this.mat4[9]=v,this.mat4[10]=s.mat4[10],this.mat4[11]=s.mat4[14],this.mat4[12]=_,this.mat4[13]=j,this.mat4[14]=T,this.mat4[15]=s.mat4[15]):x(s)&&(d=s[1],g=s[2],_=s[3],v=s[6],j=s[7],T=s[11],this.mat4[0]=s[0],this.mat4[1]=s[4],this.mat4[2]=s[8],this.mat4[3]=s[12],this.mat4[4]=d,this.mat4[5]=s[5],this.mat4[6]=s[9],this.mat4[7]=s[13],this.mat4[8]=g,this.mat4[9]=v,this.mat4[10]=s[10],this.mat4[11]=s[14],this.mat4[12]=_,this.mat4[13]=j,this.mat4[14]=T,this.mat4[15]=s[15]),this}},{key:"invert",value:function(s){s instanceof h.default.Matrix?(d=s.mat4[0],g=s.mat4[1],_=s.mat4[2],v=s.mat4[3],j=s.mat4[4],T=s.mat4[5],C=s.mat4[6],L=s.mat4[7],R=s.mat4[8],P=s.mat4[9],B=s.mat4[10],M=s.mat4[11],U=s.mat4[12],V=s.mat4[13],$=s.mat4[14],G=s.mat4[15]):x(s)&&(d=s[0],g=s[1],_=s[2],v=s[3],j=s[4],T=s[5],C=s[6],L=s[7],R=s[8],P=s[9],B=s[10],M=s[11],U=s[12],V=s[13],$=s[14],G=s[15]);var d,g,_,v,j,T,C,L,R,P,B,M,U,V,$,G,I=d*C-_*j,q=d*L-v*j,Z=g*C-_*T,J=g*L-v*T,ee=_*L-v*C,le=R*V-P*U,ae=R*$-B*U,fe=R*G-M*U,H=P*$-B*V,X=P*G-M*V,te=B*G-M*$,ue=(s=d*T-g*j)*te-I*X+q*H+Z*fe-J*ae+ee*le;return ue?(this.mat4[0]=(T*te-C*X+L*H)*(ue=1/ue),this.mat4[1]=(_*X-g*te-v*H)*ue,this.mat4[2]=(V*ee-$*J+G*Z)*ue,this.mat4[3]=(B*J-P*ee-M*Z)*ue,this.mat4[4]=(C*fe-j*te-L*ae)*ue,this.mat4[5]=(d*te-_*fe+v*ae)*ue,this.mat4[6]=($*q-U*ee-G*I)*ue,this.mat4[7]=(R*ee-B*q+M*I)*ue,this.mat4[8]=(j*X-T*fe+L*le)*ue,this.mat4[9]=(g*fe-d*X-v*le)*ue,this.mat4[10]=(U*J-V*q+G*s)*ue,this.mat4[11]=(P*q-R*J-M*s)*ue,this.mat4[12]=(T*ae-j*H-C*le)*ue,this.mat4[13]=(d*H-g*ae+_*le)*ue,this.mat4[14]=(V*I-U*Z-$*s)*ue,this.mat4[15]=(R*Z-P*I+B*s)*ue,this):null}},{key:"invert3x3",value:function(){var s=this.mat3[0],d=this.mat3[1],g=this.mat3[2],_=this.mat3[3],v=this.mat3[4],j=this.mat3[5],T=this.mat3[6],C=this.mat3[7],L=this.mat3[8],R=L*v-j*C,P=-L*_+j*T,B=C*_-v*T,M=s*R+d*P+g*B;return M?(this.mat3[0]=R*(M=1/M),this.mat3[1]=(-L*d+g*C)*M,this.mat3[2]=(j*d-g*v)*M,this.mat3[3]=P*M,this.mat3[4]=(L*s-g*T)*M,this.mat3[5]=(-j*s+g*_)*M,this.mat3[6]=B*M,this.mat3[7]=(-C*s+d*T)*M,this.mat3[8]=(v*s-d*_)*M,this):null}},{key:"transpose3x3",value:function(s){var d=(s=s===void 0?this.mat3:s)[1],g=s[2],_=s[5];return this.mat3[0]=s[0],this.mat3[1]=s[3],this.mat3[2]=s[6],this.mat3[3]=d,this.mat3[4]=s[4],this.mat3[5]=s[7],this.mat3[6]=g,this.mat3[7]=_,this.mat3[8]=s[8],this}},{key:"inverseTranspose",value:function(s){if(s=s.mat4,this.mat3===void 0?h.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=s[0],this.mat3[1]=s[1],this.mat3[2]=s[2],this.mat3[3]=s[4],this.mat3[4]=s[5],this.mat3[5]=s[6],this.mat3[6]=s[8],this.mat3[7]=s[9],this.mat3[8]=s[10]),s=this.invert3x3())s.transpose3x3(this.mat3);else for(var d=0;d<9;d++)this.mat3[d]=0;return this}},{key:"determinant",value:function(){var s=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],d=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],g=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],_=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],v=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],j=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],T=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],C=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],L=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],R=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],P=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return s*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-d*P+g*R+_*L-v*C+j*T}},{key:"mult",value:function(s){var d;if(s===this||s===this.mat4)d=this.copy().mat4;else if(s instanceof h.default.Matrix)d=s.mat4;else if(x(s))d=s;else{if(arguments.length!==16)return;d=arguments}s=this.mat4[0];var g=this.mat4[1],_=this.mat4[2],v=this.mat4[3];return this.mat4[0]=s*d[0]+g*d[4]+_*d[8]+v*d[12],this.mat4[1]=s*d[1]+g*d[5]+_*d[9]+v*d[13],this.mat4[2]=s*d[2]+g*d[6]+_*d[10]+v*d[14],this.mat4[3]=s*d[3]+g*d[7]+_*d[11]+v*d[15],s=this.mat4[4],g=this.mat4[5],_=this.mat4[6],v=this.mat4[7],this.mat4[4]=s*d[0]+g*d[4]+_*d[8]+v*d[12],this.mat4[5]=s*d[1]+g*d[5]+_*d[9]+v*d[13],this.mat4[6]=s*d[2]+g*d[6]+_*d[10]+v*d[14],this.mat4[7]=s*d[3]+g*d[7]+_*d[11]+v*d[15],s=this.mat4[8],g=this.mat4[9],_=this.mat4[10],v=this.mat4[11],this.mat4[8]=s*d[0]+g*d[4]+_*d[8]+v*d[12],this.mat4[9]=s*d[1]+g*d[5]+_*d[9]+v*d[13],this.mat4[10]=s*d[2]+g*d[6]+_*d[10]+v*d[14],this.mat4[11]=s*d[3]+g*d[7]+_*d[11]+v*d[15],s=this.mat4[12],g=this.mat4[13],_=this.mat4[14],v=this.mat4[15],this.mat4[12]=s*d[0]+g*d[4]+_*d[8]+v*d[12],this.mat4[13]=s*d[1]+g*d[5]+_*d[9]+v*d[13],this.mat4[14]=s*d[2]+g*d[6]+_*d[10]+v*d[14],this.mat4[15]=s*d[3]+g*d[7]+_*d[11]+v*d[15],this}},{key:"apply",value:function(s){var d;if(s===this||s===this.mat4)d=this.copy().mat4;else if(s instanceof h.default.Matrix)d=s.mat4;else if(x(s))d=s;else{if(arguments.length!==16)return;d=arguments}var g=(s=this.mat4)[0],_=s[4],v=s[8],j=s[12];return s[0]=d[0]*g+d[1]*_+d[2]*v+d[3]*j,s[4]=d[4]*g+d[5]*_+d[6]*v+d[7]*j,s[8]=d[8]*g+d[9]*_+d[10]*v+d[11]*j,s[12]=d[12]*g+d[13]*_+d[14]*v+d[15]*j,g=s[1],_=s[5],v=s[9],j=s[13],s[1]=d[0]*g+d[1]*_+d[2]*v+d[3]*j,s[5]=d[4]*g+d[5]*_+d[6]*v+d[7]*j,s[9]=d[8]*g+d[9]*_+d[10]*v+d[11]*j,s[13]=d[12]*g+d[13]*_+d[14]*v+d[15]*j,g=s[2],_=s[6],v=s[10],j=s[14],s[2]=d[0]*g+d[1]*_+d[2]*v+d[3]*j,s[6]=d[4]*g+d[5]*_+d[6]*v+d[7]*j,s[10]=d[8]*g+d[9]*_+d[10]*v+d[11]*j,s[14]=d[12]*g+d[13]*_+d[14]*v+d[15]*j,g=s[3],_=s[7],v=s[11],j=s[15],s[3]=d[0]*g+d[1]*_+d[2]*v+d[3]*j,s[7]=d[4]*g+d[5]*_+d[6]*v+d[7]*j,s[11]=d[8]*g+d[9]*_+d[10]*v+d[11]*j,s[15]=d[12]*g+d[13]*_+d[14]*v+d[15]*j,this}},{key:"scale",value:function(s,d,g){return s instanceof h.default.Vector?(d=s.y,g=s.z,s=s.x):s instanceof Array&&(d=s[1],g=s[2],s=s[0]),this.mat4[0]*=s,this.mat4[1]*=s,this.mat4[2]*=s,this.mat4[3]*=s,this.mat4[4]*=d,this.mat4[5]*=d,this.mat4[6]*=d,this.mat4[7]*=d,this.mat4[8]*=g,this.mat4[9]*=g,this.mat4[10]*=g,this.mat4[11]*=g,this}},{key:"rotate",value:function(s,d,g,_){d instanceof h.default.Vector?(g=d.y,_=d.z,d=d.x):d instanceof Array&&(g=d[1],_=d[2],d=d[0]);var v=(d*=1/(v=Math.sqrt(d*d+g*g+_*_)),g*=1/v,_*=1/v,this.mat4[0]),j=this.mat4[1],T=this.mat4[2],C=this.mat4[3],L=this.mat4[4],R=this.mat4[5],P=this.mat4[6],B=this.mat4[7],M=this.mat4[8],U=this.mat4[9],V=this.mat4[10],$=this.mat4[11],G=Math.sin(s),I=1-(s=Math.cos(s)),q=d*d*I+s,Z=g*d*I+_*G,J=_*d*I-g*G,ee=d*g*I-_*G,le=g*g*I+s,ae=_*g*I+d*G,fe=d*_*I+g*G;return g=g*_*I-d*G,d=_*_*I+s,this.mat4[0]=v*q+L*Z+M*J,this.mat4[1]=j*q+R*Z+U*J,this.mat4[2]=T*q+P*Z+V*J,this.mat4[3]=C*q+B*Z+$*J,this.mat4[4]=v*ee+L*le+M*ae,this.mat4[5]=j*ee+R*le+U*ae,this.mat4[6]=T*ee+P*le+V*ae,this.mat4[7]=C*ee+B*le+$*ae,this.mat4[8]=v*fe+L*g+M*d,this.mat4[9]=j*fe+R*g+U*d,this.mat4[10]=T*fe+P*g+V*d,this.mat4[11]=C*fe+B*g+$*d,this}},{key:"translate",value:function(s){var d=s[0],g=s[1];s=s[2]||0,this.mat4[12]+=this.mat4[0]*d+this.mat4[4]*g+this.mat4[8]*s,this.mat4[13]+=this.mat4[1]*d+this.mat4[5]*g+this.mat4[9]*s,this.mat4[14]+=this.mat4[2]*d+this.mat4[6]*g+this.mat4[10]*s,this.mat4[15]+=this.mat4[3]*d+this.mat4[7]*g+this.mat4[11]*s}},{key:"rotateX",value:function(s){this.rotate(s,1,0,0)}},{key:"rotateY",value:function(s){this.rotate(s,0,1,0)}},{key:"rotateZ",value:function(s){this.rotate(s,0,0,1)}},{key:"perspective",value:function(s,d,g,_){s=1/Math.tan(s/2);var v=1/(g-_);return this.mat4[0]=s/d,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=s,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(_+g)*v,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*_*g*v,this.mat4[15]=0,this}},{key:"ortho",value:function(s,d,g,_,v,j){var T=1/(s-d),C=1/(g-_),L=1/(v-j);return this.mat4[0]=-2*T,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*C,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*L,this.mat4[11]=0,this.mat4[12]=(s+d)*T,this.mat4[13]=(_+g)*C,this.mat4[14]=(j+v)*L,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(s,d,g,_){var v=new Array(4),j=this.mat4;return v[0]=j[0]*s+j[4]*d+j[8]*g+j[12]*_,v[1]=j[1]*s+j[5]*d+j[9]*g+j[13]*_,v[2]=j[2]*s+j[6]*d+j[10]*g+j[14]*_,v[3]=j[3]*s+j[7]*d+j[11]*g+j[15]*_,v}},{key:"multiplyPoint",value:function(s){var d=s.x,g=s.y;return s=s.z,d=this.multiplyVec4(d,g,s,1),new h.default.Vector(d[0],d[1],d[2])}},{key:"multiplyAndNormalizePoint",value:function(s){var d=s.x,g=s.y;return s=s.z,(d=this.multiplyVec4(d,g,s,1))[0]/=d[3],d[1]/=d[3],d[2]/=d[3],new h.default.Vector(d[0],d[1],d[2])}},{key:"multiplyDirection",value:function(s){var d=s.x,g=s.y;return s=s.z,d=this.multiplyVec4(d,g,s,0),new h.default.Vector(d[0],d[1],d[2])}},{key:"mult3x3",value:function(s){var d;if(s===this||s===this.mat3)d=this.copy().mat3;else if(s instanceof h.default.Matrix)d=s.mat3;else if(x(s))d=s;else{if(arguments.length!==9)return;d=arguments}s=this.mat3[0];var g=this.mat3[1],_=this.mat3[2];return this.mat3[0]=s*d[0]+g*d[3]+_*d[6],this.mat3[1]=s*d[1]+g*d[4]+_*d[7],this.mat3[2]=s*d[2]+g*d[5]+_*d[8],s=this.mat3[3],g=this.mat3[4],_=this.mat3[5],this.mat3[3]=s*d[0]+g*d[3]+_*d[6],this.mat3[4]=s*d[1]+g*d[4]+_*d[7],this.mat3[5]=s*d[2]+g*d[5]+_*d[8],s=this.mat3[6],g=this.mat3[7],_=this.mat3[8],this.mat3[6]=s*d[0]+g*d[3]+_*d[6],this.mat3[7]=s*d[1]+g*d[4]+_*d[7],this.mat3[8]=s*d[2]+g*d[5]+_*d[8],this}},{key:"column",value:function(s){return new h.default.Vector(this.mat3[s],this.mat3[s+3],this.mat3[s+6])}},{key:"row",value:function(s){return new h.default.Vector(this.mat3[3*s],this.mat3[3*s+1],this.mat3[3*s+2])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(s,d){return(d=d===void 0?s.copy():d).x=this.row(0).dot(s),d.y=this.row(1).dot(s),d.z=this.row(2).dot(s),d}},{key:"createSubMatrix3x3",value:function(){var s=new h.default.Matrix("mat3");return s.mat3[0]=this.mat4[0],s.mat3[1]=this.mat4[1],s.mat3[2]=this.mat4[2],s.mat3[3]=this.mat4[4],s.mat3[4]=this.mat4[5],s.mat3[5]=this.mat4[6],s.mat3[6]=this.mat4[8],s.mat3[7]=this.mat4[9],s.mat3[8]=this.mat4[10],s}}])&&a(l.prototype,f),u&&a(l,u),S}(),r=h.default.Matrix,y.default=r},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229}],325:[function(r,E,y){function h(a,c){for(var x=0;x<c.length;x++){var S=c[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(a,S.key,S)}}r("core-js/modules/es.array.map"),r("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.RenderBuffer=function(){function a(S,l,f,u,s,d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.size=S,this.src=l,this.dst=f,this.attr=u,this._renderer=s,this.map=d}var c,x;return c=a,(x=[{key:"_prepareBuffer",value:function(S,l){var f,u,s,d=l.attributes,g=this._renderer.GL,_=S.model||S;(d=d[this.attr])&&(f=S[this.dst],0<(u=_[this.src]).length?((s=!f)&&(S[this.dst]=f=g.createBuffer()),g.bindBuffer(g.ARRAY_BUFFER,f),!s&&_.dirtyFlags[this.src]===!1||(s=(S=this.map)?S(u):u,this._renderer._bindBuffer(f,g.ARRAY_BUFFER,s),_.dirtyFlags[this.src]=!1),l.enableAttrib(d,this.size)):(S=d.location)!==-1&&this._renderer.registerEnabled[S]&&(g.disableVertexAttribArray(S),this._renderer.registerEnabled[S]=!1))}}])&&h(c.prototype,x),a}(),r=r.default.RenderBuffer,y.default=r},{"../core/main":273,"core-js/modules/es.array.map":163}],326:[function(r,E,y){function h(u){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}function a(u){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(s){return h(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":h(s)})(u)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(f=r("../core/main"))&&f.__esModule?f:{default:f},x=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var s=function(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,j)}();if(s&&s.has(u))return s.get(u);var d,g={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in u){var v;Object.prototype.hasOwnProperty.call(u,d)&&((v=_?Object.getOwnPropertyDescriptor(u,d):null)&&(v.get||v.set)?Object.defineProperty(g,d,v):g[d]=u[d])}return g.default=u,s&&s.set(u,g),g}(r("../core/constants"));function S(u){return function(s){if(Array.isArray(s)){for(var d=0,g=new Array(s.length);d<s.length;d++)g[d]=s[d];return g}}(u)||function(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r("./p5.RenderBuffer"),c.default.RendererGL.prototype.beginShape=function(u){return this.immediateMode.shapeMode=u!==void 0?u:x.TESS,this.immediateMode.geometry.reset(),this};var l={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},f=(c.default.RendererGL.prototype.vertex=function(u,s){if(this.immediateMode.shapeMode===x.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var d in l){var g=l[d];(d=this.immediateMode.geometry[d]).push.apply(d,S(d.slice(d.length-3*g,d.length-2*g)).concat(S(d.slice(d.length-g,d.length))))}var _,v,j=_=v=0,T=(arguments.length===3?j=arguments[2]:arguments.length===4?(_=arguments[2],v=arguments[3]):arguments.length===5&&(j=arguments[2],_=arguments[3],v=arguments[4]),new c.default.Vector(u,s,j));return this.immediateMode.geometry.vertices.push(T),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),T=this.curFillColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexColors.push(T[0],T[1],T[2],T[3]),T=this.curStrokeColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexStrokeColors.push(T[0],T[1],T[2],T[3]),this.textureMode===x.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(_/=this._tex.width,v/=this._tex.height):!this.isProcessingVertices&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(_,v),this.immediateMode._bezierVertex[0]=u,this.immediateMode._bezierVertex[1]=s,this.immediateMode._bezierVertex[2]=j,this.immediateMode._quadraticVertex[0]=u,this.immediateMode._quadraticVertex[1]=s,this.immediateMode._quadraticVertex[2]=j,this},c.default.RendererGL.prototype.normal=function(u,s,d){return u instanceof c.default.Vector?this._currentNormal=u:this._currentNormal=new c.default.Vector(u,s,d),this},c.default.RendererGL.prototype.endShape=function(u,s,d,g,_,v){return this.immediateMode.shapeMode===x.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},c.default.RendererGL.prototype._processVertices=function(u){var s;this.immediateMode.geometry.vertices.length!==0&&(s=this._doStroke,u=u===x.CLOSE,s&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,u),this.immediateMode.geometry._edgesToVertices()),s=this.immediateMode.shapeMode===x.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||s)&&this.immediateMode.shapeMode!==x.LINES&&this._tesselateShape())},c.default.RendererGL.prototype._calculateEdges=function(u,s,d){var g=[],_=0;switch(u){case x.TRIANGLE_STRIP:for(_=0;_<s.length-2;_++)g.push([_,_+1]),g.push([_,_+2]);g.push([_,_+1]);break;case x.TRIANGLE_FAN:for(_=1;_<s.length-1;_++)g.push([0,_]),g.push([_,_+1]);g.push([0,s.length-1]);break;case x.TRIANGLES:for(_=0;_<s.length-2;_+=3)g.push([_,_+1]),g.push([_+1,_+2]),g.push([_+2,_]);break;case x.LINES:for(_=0;_<s.length-1;_+=2)g.push([_,_+1]);break;case x.QUADS:for(_=0;_<s.length-5;_+=6)g.push([_,_+1]),g.push([_+1,_+2]),g.push([_+3,_+5]),g.push([_+4,_+5]);break;case x.QUAD_STRIP:for(_=0;_<s.length-2;_+=2)g.push([_,_+1]),g.push([_,_+2]),g.push([_+1,_+3]);g.push([_,_+1]);break;default:for(_=0;_<s.length-1;_++)g.push([_,_+1])}return d&&g.push([s.length-1,0]),g},c.default.RendererGL.prototype._tesselateShape=function(){for(var u=this,s=(this.immediateMode.shapeMode=x.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(j,T){return[j.x,j.y,j.z,u.immediateMode.geometry.uvs[2*T],u.immediateMode.geometry.uvs[2*T+1],u.immediateMode.geometry.vertexColors[4*T],u.immediateMode.geometry.vertexColors[4*T+1],u.immediateMode.geometry.vertexColors[4*T+2],u.immediateMode.geometry.vertexColors[4*T+3],u.immediateMode.geometry.vertexNormals[T].x,u.immediateMode.geometry.vertexNormals[T].y,u.immediateMode.geometry.vertexNormals[T].z]}))]),d=this._triangulate(s),g=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),_=0,v=d.length;_<v;_+=c.default.RendererGL.prototype.tessyVertexSize)g.push.apply(g,S(d.slice(_+5,_+9))),this.normal.apply(this,S(d.slice(_+9,_+12))),this.vertex.apply(this,S(d.slice(_,_+5)));this.immediateMode.geometry.vertexColors=g},c.default.RendererGL.prototype._drawImmediateFill=function(){var u=this.GL,s=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),d=(this._setFillUniforms(s),!0),g=!1,_=void 0;try{for(var v,j=this.immediateMode.buffers.fill[Symbol.iterator]();!(d=(v=j.next()).done);d=!0)v.value._prepareBuffer(this.immediateMode.geometry,s)}catch(T){g=!0,_=T}finally{try{d||j.return==null||j.return()}finally{if(g)throw _}}this.immediateMode.shapeMode!==x.LINE_STRIP&&this.immediateMode.shapeMode!==x.LINES||(this.immediateMode.shapeMode=x.TRIANGLE_FAN),this.immediateMode.shapeMode===x.QUADS?this.immediateMode.shapeMode=x.TRIANGLES:this.immediateMode.shapeMode===x.QUAD_STRIP&&(this.immediateMode.shapeMode=x.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),u.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),s.unbindShader()},c.default.RendererGL.prototype._drawImmediateStroke=function(){var u=this.GL,s=u.isEnabled(u.CULL_FACE),d=(u.disable(u.CULL_FACE),this._getImmediateStrokeShader()),g=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(d),!0),_=!1,v=void 0;try{for(var j,T=this.immediateMode.buffers.stroke[Symbol.iterator]();!(g=(j=T.next()).done);g=!0)j.value._prepareBuffer(this.immediateMode.geometry,d)}catch(C){_=!0,v=C}finally{try{g||T.return==null||T.return()}finally{if(_)throw v}}this._applyColorBlend(this.curStrokeColor),u.drawArrays(u.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),s&&u.enable(u.CULL_FACE),d.unbindShader()},c.default.RendererGL);y.default=f},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],327:[function(r,E,y){function h(f){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function a(f){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(u){return h(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":h(u)})(f)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.some"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.some"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(l=r("../core/main"))&&l.__esModule?l:{default:l},x=(r("./p5.RendererGL"),r("./p5.RenderBuffer"),function(f){if(f&&f.__esModule)return f;if(f===null||a(f)!=="object"&&typeof f!="function")return{default:f};var u=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(u&&u.has(f))return u.get(f);var s,d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in f){var _;Object.prototype.hasOwnProperty.call(f,s)&&((_=g?Object.getOwnPropertyDescriptor(f,s):null)&&(_.get||_.set)?Object.defineProperty(d,s,_):d[s]=f[s])}return d.default=f,u&&u.set(f,d),d}(r("../core/constants"))),S=0,l=(c.default.RendererGL.prototype._initBufferDefaults=function(f){var u;return this._freeBuffers(f),1e3<++S&&(u=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[u],S--),this.retainedMode.geometry[f]={}},c.default.RendererGL.prototype._freeBuffers=function(f){var u,s=this.retainedMode.geometry[f];function d(g){var _=!0,v=!1,j=void 0;try{for(var T,C=g[Symbol.iterator]();!(_=(T=C.next()).done);_=!0){var L=T.value;s[L.dst]&&(u.deleteBuffer(s[L.dst]),s[L.dst]=null)}}catch(R){v=!0,j=R}finally{try{_||C.return==null||C.return()}finally{if(v)throw j}}}s&&(delete this.retainedMode.geometry[f],S--,u=this.GL,s.indexBuffer&&u.deleteBuffer(s.indexBuffer),d(this.retainedMode.buffers.stroke),d(this.retainedMode.buffers.fill))},c.default.RendererGL.prototype.createBuffers=function(f,u){var s,d,g,_=this.GL,v=((f=this._initBufferDefaults(f)).model=u,f.indexBuffer);return u.faces.length?(v=v||(f.indexBuffer=_.createBuffer()),g=(d=(s=c.default.RendererGL.prototype._flatten(u.faces)).some(function(j){return 65535<j}))?Uint32Array:Uint16Array,this._bindBuffer(v,_.ELEMENT_ARRAY_BUFFER,s,g),f.indexBufferType=d?_.UNSIGNED_INT:_.UNSIGNED_SHORT,f.vertexCount=3*u.faces.length):(v&&(_.deleteBuffer(v),f.indexBuffer=null),f.vertexCount=u.vertices?u.vertices.length:0),f.lineVertexCount=u.lineVertices?u.lineVertices.length:0,f},c.default.RendererGL.prototype.drawBuffers=function(f){var u=this.GL,s=this.retainedMode.geometry[f];if(this._doFill){this._useVertexColor=0<s.model.vertexColors.length;var d=this._getRetainedFillShader(),g=(this._setFillUniforms(d),!0),_=!1,v=void 0;try{for(var j,T=this.retainedMode.buffers.fill[Symbol.iterator]();!(g=(j=T.next()).done);g=!0)j.value._prepareBuffer(s,d)}catch(M){_=!0,v=M}finally{try{g||T.return==null||T.return()}finally{if(_)throw v}}s.indexBuffer&&this._bindBuffer(s.indexBuffer,u.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(u.TRIANGLES,f),d.unbindShader()}if(this._doStroke&&0<s.lineVertexCount){_=u.isEnabled(u.CULL_FACE);var C=(u.disable(u.CULL_FACE),this._getRetainedStrokeShader()),L=(this._useLineColor=0<s.model.vertexStrokeColors.length,this._setStrokeUniforms(C),!0),R=(v=!1,void 0);try{for(var P,B=this.retainedMode.buffers.stroke[Symbol.iterator]();!(L=(P=B.next()).done);L=!0)P.value._prepareBuffer(s,C)}catch(M){v=!0,R=M}finally{try{L||B.return==null||B.return()}finally{if(v)throw R}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(u.TRIANGLES,f),_&&u.enable(u.CULL_FACE),C.unbindShader()}return this},c.default.RendererGL.prototype.drawBuffersScaled=function(f,u,s,d){var g=this.uMVMatrix.copy();try{this.uMVMatrix.scale(u,s,d),this.drawBuffers(f)}finally{this.uMVMatrix=g}},c.default.RendererGL.prototype._drawArrays=function(f,u){return this.GL.drawArrays(f,0,this.retainedMode.geometry[u].lineVertexCount),this},c.default.RendererGL.prototype._drawElements=function(f,u){u=this.retainedMode.geometry[u];var s=this.GL;if(u.indexBuffer){if(this._pInst.webglVersion!==x.WEBGL2&&u.indexBufferType===s.UNSIGNED_INT&&!s.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");s.drawElements(s.TRIANGLES,u.vertexCount,u.indexBufferType,0)}else s.drawArrays(f||s.TRIANGLES,0,u.vertexCount)},c.default.RendererGL.prototype._drawPoints=function(f,u){var s=this.GL,d=this._getImmediatePointShader();this._setPointUniforms(d),this._bindBuffer(u,s.ARRAY_BUFFER,this._vToNArray(f),Float32Array,s.STATIC_DRAW),d.enableAttrib(d.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),s.drawArrays(s.Points,0,f.length),d.unbindShader()},c.default.RendererGL);y.default=l},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"./p5.RendererGL":328,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.some":165,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],328:[function(r,E,y){function h(U){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(U)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.map"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.float64-array"),r("core-js/modules/es.typed-array.int16-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.map"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.float64-array"),r("core-js/modules/es.typed-array.int16-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.readPixelsWebGL=B,y.readPixelWebGL=M,y.default=void 0;var a=S(r("../core/main")),c=function(U){if(U&&U.__esModule)return U;if(U===null||l(U)!=="object"&&typeof U!="function")return{default:U};var V=function(){var Z;return typeof WeakMap!="function"?null:(Z=new WeakMap,Z)}();if(V&&V.has(U))return V.get(U);var $,G={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in U){var q;Object.prototype.hasOwnProperty.call(U,$)&&((q=I?Object.getOwnPropertyDescriptor(U,$):null)&&(q.get||q.set)?Object.defineProperty(G,$,q):G[$]=U[$])}return G.default=U,V&&V.set(U,G),G}(r("../core/constants")),x=S(r("libtess"));function S(U){return U&&U.__esModule?U:{default:U}}function l(U){return(l=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(V){return h(V)}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":h(V)})(U)}function f(U){return function(V){if(Array.isArray(V)){for(var $=0,G=new Array(V.length);$<V.length;$++)G[$]=V[$];return G}}(U)||function(V){if(Symbol.iterator in Object(V)||Object.prototype.toString.call(V)==="[object Arguments]")return Array.from(V)}(U)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(U,V){for(var $=0;$<V.length;$++){var G=V[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(U,G.key,G)}}function s(U,V){return(s=Object.setPrototypeOf||function($,G){return $.__proto__=G,$})(U,V)}function d(U){return function(){var V,$,G=_(U);return V=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(V=_(this).constructor,Reflect.construct(G,arguments,V)):G.apply(this,arguments),G=this,!($=V)||l($)!=="object"&&typeof $!="function"?g(G):$}}function g(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function _(U){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)})(U)}function v(U,V){L+="#define STROKE_CAP_".concat(U," ").concat(V,`
`),T[c[U]]=V}function j(U,V){L+="#define STROKE_JOIN_".concat(U," ").concat(V,`
`),C[c[U]]=V}r("./p5.Shader"),r("./p5.Camera"),r("../core/p5.Renderer"),r("./p5.Matrix"),r("path");var T={},C={},L="",R=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`,P={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;
varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:(r=(v("ROUND",0),v("PROJECT",1),v("SQUARE",2),j("ROUND",0),j("MITER",1),j("BEVEL",2),`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`))+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? texture2D(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    gl_FragColor = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:r+`// include lighting.glsl
precision highp float;
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? texture2D(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  gl_FragColor = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:R+`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec2 pixelScale = vec2(
    1. / uModelViewMatrix[0][0],
    1. / uModelViewMatrix[1][1]
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:R+`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:L+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump float;
precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

attribute vec4 aPosition;
attribute vec3 aTangentIn;
attribute vec3 aTangentOut;
attribute float aSide;
attribute vec4 aVertexColor;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5 * curPerspScale;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset / curPerspScale;

  gl_Position.xy = p.xy + offset.xy;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:L+`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`};function B(U,V,$,G,I,q,Z,J,ee,le){var ae=V.getParameter(V.FRAMEBUFFER_BINDING),fe=q*Z*($=(V.bindFramebuffer(V.FRAMEBUFFER,$),J===V.RGBA?4:3)),H=ee===V.UNSIGNED_BYTE?Uint8Array:Float32Array;if(U instanceof H&&U.length===fe||(U=new H(fe)),V.readPixels(G,le?le-I-Z:I,q,Z,J,ee,U),V.bindFramebuffer(V.FRAMEBUFFER,ae),le)for(var X=Math.floor(Z/2),te=new H(q*$),ue=0;ue<X;ue++){var ce=ue*q*4,he=(Z-ue-1)*q*4;te.set(U.subarray(ce,ce+4*q)),U.copyWithin(ce,he,he+4*q),U.set(te,he)}return U}function M(U,V,$,G,I,q,Z){var J=U.getParameter(U.FRAMEBUFFER_BINDING);return U.bindFramebuffer(U.FRAMEBUFFER,V),V=I===U.RGBA?4:3,V=new(q===U.UNSIGNED_BYTE?Uint8Array:Float32Array)(V),U.readPixels($,Z?Z-G-1:G,1,1,I,q,V),U.bindFramebuffer(U.FRAMEBUFFER,J),Array.from(V)}a.default.prototype.setAttributes=function(U,V){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var $=!0;if(V!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[U]!==V&&(this._glAttributes[U]=V,$=!1)):U instanceof Object&&this._glAttributes!==U&&(this._glAttributes=U,$=!1),this._renderer.isP3D&&!$){if(!this._setupDone){for(var G in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(G))return void a.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},a.default.RendererGL=function(U){var V=G;if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(U&&U.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),U&&s(V,U);var $=d(G);function G(I,q,Z,J){if(this instanceof G)return(I=$.call(this,I,q,Z))._setAttributeDefaults(q),I._initContext(),I.isP3D=!0,I.GL=I.drawingContext,I._pInst._setProperty("drawingContext",I.drawingContext),I._isErasing=!1,I._enableLighting=!1,I.ambientLightColors=[],I.specularColors=[1,1,1],I.directionalLightDirections=[],I.directionalLightDiffuseColors=[],I.directionalLightSpecularColors=[],I.pointLightPositions=[],I.pointLightDiffuseColors=[],I.pointLightSpecularColors=[],I.spotLightPositions=[],I.spotLightDirections=[],I.spotLightDiffuseColors=[],I.spotLightSpecularColors=[],I.spotLightAngle=[],I.spotLightConc=[],I.drawMode=c.FILL,I.curFillColor=I._cachedFillStyle=[1,1,1,1],I.curAmbientColor=I._cachedFillStyle=[1,1,1,1],I.curSpecularColor=I._cachedFillStyle=[0,0,0,0],I.curEmissiveColor=I._cachedFillStyle=[0,0,0,0],I.curStrokeColor=I._cachedStrokeStyle=[0,0,0,1],I.curBlendMode=c.BLEND,I._cachedBlendMode=void 0,I.webglVersion===c.WEBGL2?I.blendExt=I.GL:I.blendExt=I.GL.getExtension("EXT_blend_minmax"),I._isBlending=!1,I._hasSetAmbient=!1,I._useSpecularMaterial=!1,I._useEmissiveMaterial=!1,I._useNormalMaterial=!1,I._useShininess=1,I._useLineColor=!1,I._useVertexColor=!1,I.registerEnabled=[],I._tint=[255,255,255,255],I.constantAttenuation=1,I.linearAttenuation=0,I.quadraticAttenuation=0,I.uMVMatrix=new a.default.Matrix,I.uPMatrix=new a.default.Matrix,I.uNMatrix=new a.default.Matrix("mat3"),I._currentNormal=new a.default.Vector(0,0,1),I._curCamera=new a.default.Camera(g(I)),I._curCamera._computeCameraDefaultSettings(),I._curCamera._setDefaultCamera(),I.prevTouches=[],I.zoomVelocity=0,I.rotateVelocity=new a.default.Vector(0,0),I.moveVelocity=new a.default.Vector(0,0),I.executeZoom=!1,I.executeRotateAndMove=!1,I._defaultLightShader=void 0,I._defaultImmediateModeShader=void 0,I._defaultNormalShader=void 0,I._defaultColorShader=void 0,I._defaultPointShader=void 0,I.userFillShader=void 0,I.userStrokeShader=void 0,I.userPointShader=void 0,I.retainedMode={geometry:{},buffers:{stroke:[new a.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",g(I),I._flatten),new a.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",g(I),I._flatten),new a.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",g(I),I._flatten),new a.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",g(I),I._flatten),new a.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",g(I))],fill:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",g(I),I._vToNArray),new a.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",g(I),I._vToNArray),new a.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",g(I)),new a.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",g(I)),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",g(I),I._flatten)],text:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",g(I),I._vToNArray),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",g(I),I._flatten)]}},I.immediateMode={geometry:new a.default.Geometry,shapeMode:c.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",g(I),I._vToNArray),new a.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",g(I),I._vToNArray),new a.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",g(I)),new a.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",g(I)),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",g(I),I._flatten)],stroke:[new a.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",g(I),I._flatten),new a.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",g(I),I._flatten),new a.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",g(I),I._flatten),new a.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",g(I),I._flatten),new a.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",g(I))],point:I.GL.createBuffer()}},I.pointSize=5,I.curStrokeWeight=1,I.curStrokeCap=c.ROUND,I.curStrokeJoin=c.ROUND,I.textures=new Map,I.framebuffers=new Set,I.textureMode=c.IMAGE,I.textureWrapX=c.CLAMP,I.textureWrapY=c.CLAMP,I._tex=null,I._curveTightness=6,I._lookUpTableBezier=[],I._lookUpTableQuadratic=[],I._lutBezierDetail=0,I._lutQuadraticDetail=0,I.isProcessingVertices=!1,I._tessy=I._initTessy(),I.fontInfos={},I._curShader=void 0,I;throw new TypeError("Cannot call a class as a function")}return V=G,(U=[{key:"_setAttributeDefaults",value:function(I){var q={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};I._glAttributes===null?I._glAttributes=q:I._glAttributes=Object.assign(q,I._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?c.WEBGL2:c.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var I=this.drawingContext;I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL),I.viewport(0,0,I.drawingBufferWidth,I.drawingBufferHeight),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(I,q){var Z,J=this.width,ee=this.height,le=this.canvas.id,ae=this._pInst instanceof a.default.Graphics;ae?((Z=this._pInst).canvas.parentNode.removeChild(Z.canvas),Z.canvas=document.createElement("canvas"),(Z._pInst._userNode||document.body).appendChild(Z.canvas),a.default.Element.call(Z,Z.canvas,Z._pInst),Z.width=J,Z.height=ee):((Z=this.canvas)&&Z.parentNode.removeChild(Z),(Z=document.createElement("canvas")).id=le,(this._pInst._userNode||document.body).appendChild(Z),this._pInst.canvas=Z,this.canvas=Z),le=new a.default.RendererGL(this._pInst.canvas,this._pInst,!ae),this._pInst._setProperty("_renderer",le),le.resize(J,ee),le._applyDefaults(),ae||this._pInst._elements.push(le),typeof q=="function"&&setTimeout(function(){q.apply(window._renderer,I)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"background",value:function(){var I=(J=(J=this._pInst).color.apply(J,arguments)).levels[0]/255,q=J.levels[1]/255,Z=J.levels[2]/255,J=J.levels[3]/255;this.clear(I,q,Z,J)}},{key:"fill",value:function(I,q,Z,J){var ee=a.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ee._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(I,q,Z,J){var ee=a.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ee._array}},{key:"strokeCap",value:function(I){this.curStrokeCap=I}},{key:"strokeJoin",value:function(I){this.curStrokeJoin=I}},{key:"filter",value:function(I){a.default._friendlyError("filter() does not work in WEBGL mode")}},{key:"blendMode",value:function(I){I===c.DARKEST||I===c.LIGHTEST||I===c.ADD||I===c.BLEND||I===c.SUBTRACT||I===c.SCREEN||I===c.EXCLUSION||I===c.REPLACE||I===c.MULTIPLY||I===c.REMOVE?this.curBlendMode=I:I!==c.BURN&&I!==c.OVERLAY&&I!==c.HARD_LIGHT&&I!==c.SOFT_LIGHT&&I!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(I,q){this._isErasing||(this._applyBlendMode(c.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,I/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,q/255])}},{key:"noErase",value:function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))}},{key:"strokeWeight",value:function(I){this.curStrokeWeight!==I&&(this.pointSize=I,this.curStrokeWeight=I)}},{key:"_getPixel",value:function(I,q){var Z=this.GL;return M(Z,null,I,q,Z.RGBA,Z.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var I,q,Z=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(I=this._pInst._pixelDensity,q=this.GL,Z._setProperty("pixels",B(Z.pixels,q,null,0,0,this.width*I,this.height*I,q.RGBA,q.UNSIGNED_BYTE,this.height*I)))}},{key:"updatePixels",value:function(){var I=this._getTempFramebuffer();I.pixels=this._pixelsState.pixels,I.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(c.CENTER),this._pInst.image(I,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:c.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:c.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(I){return this.retainedMode.geometry[I]!==void 0}},{key:"resize",value:function(I,q){a.default.Renderer.prototype.resize.call(this,I,q),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var Z=((I=this._pixelsState).pixels!==void 0&&I._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);q=!1,I=void 0;try{for(var J,ee=this.framebuffers[Symbol.iterator]();!(Z=(J=ee.next()).done);Z=!0)J.value._canvasSizeChanged()}catch(le){q=!0,I=le}finally{try{Z||ee.return==null||ee.return()}finally{if(q)throw I}}}},{key:"clear",value:function(){var I=(arguments.length<=0?void 0:arguments[0])||0,q=(arguments.length<=1?void 0:arguments[1])||0,Z=(arguments.length<=2?void 0:arguments[2])||0,J=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(I*J,q*J,Z*J,J),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(I,q,Z,J,ee,le){arguments.length===16?a.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([I,q,0,0,Z,J,0,0,0,0,1,0,ee,le,0,1])}},{key:"translate",value:function(I,q,Z){return I instanceof a.default.Vector&&(Z=I.z,q=I.y,I=I.x),this.uMVMatrix.translate([I,q,Z]),this}},{key:"scale",value:function(I,q,Z){return this.uMVMatrix.scale(I,q,Z),this}},{key:"rotate",value:function(I,q){return q===void 0?this.rotateZ(I):(a.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(I){return this.rotate(I,1,0,0),this}},{key:"rotateY",value:function(I){return this.rotate(I,0,1,0),this}},{key:"rotateZ",value:function(I){return this.rotate(I,0,0,1),this}},{key:"push",value:function(){var I=a.default.Renderer.prototype.push.apply(this),q=I.properties;return q.uMVMatrix=this.uMVMatrix.copy(),q.uPMatrix=this.uPMatrix.copy(),q._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),q.ambientLightColors=this.ambientLightColors.slice(),q.specularColors=this.specularColors.slice(),q.directionalLightDirections=this.directionalLightDirections.slice(),q.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),q.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),q.pointLightPositions=this.pointLightPositions.slice(),q.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),q.pointLightSpecularColors=this.pointLightSpecularColors.slice(),q.spotLightPositions=this.spotLightPositions.slice(),q.spotLightDirections=this.spotLightDirections.slice(),q.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),q.spotLightSpecularColors=this.spotLightSpecularColors.slice(),q.spotLightAngle=this.spotLightAngle.slice(),q.spotLightConc=this.spotLightConc.slice(),q.userFillShader=this.userFillShader,q.userStrokeShader=this.userStrokeShader,q.userPointShader=this.userPointShader,q.pointSize=this.pointSize,q.curStrokeWeight=this.curStrokeWeight,q.curStrokeColor=this.curStrokeColor,q.curFillColor=this.curFillColor,q.curAmbientColor=this.curAmbientColor,q.curSpecularColor=this.curSpecularColor,q.curEmissiveColor=this.curEmissiveColor,q._hasSetAmbient=this._hasSetAmbient,q._useSpecularMaterial=this._useSpecularMaterial,q._useEmissiveMaterial=this._useEmissiveMaterial,q._useShininess=this._useShininess,q.constantAttenuation=this.constantAttenuation,q.linearAttenuation=this.linearAttenuation,q.quadraticAttenuation=this.quadraticAttenuation,q._enableLighting=this._enableLighting,q._useNormalMaterial=this._useNormalMaterial,q._tex=this._tex,q.drawMode=this.drawMode,q._currentNormal=this._currentNormal,q.curBlendMode=this.curBlendMode,I}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var I=this.userStrokeShader;return I&&I.isStrokeShader()?I:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var I=this.userFillShader;if(this._useNormalMaterial&&(!I||!I.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!I||!I.isLightShader())return this._getLightShader()}else if(this._tex){if(!I||!I.isTextureShader())return this._getLightShader()}else if(!I)return this._getImmediateModeShader();return I}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var I=this.userFillShader;if(this._enableLighting){if(!I||!I.isLightShader())return this._getLightShader()}else if(this._tex){if(!I||!I.isTextureShader())return this._getLightShader()}else if(!I)return this._getColorShader();return I}},{key:"_getImmediatePointShader",value:function(){var I=this.userPointShader;return I&&I.isPointShader()?I:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new a.default.Shader(this,P.phongVert,P.phongFrag):this._defaultLightShader=new a.default.Shader(this,P.lightVert,P.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new a.default.Shader(this,P.immediateVert,P.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new a.default.Shader(this,P.normalVert,P.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new a.default.Shader(this,P.normalVert,P.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new a.default.Shader(this,P.pointVert,P.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new a.default.Shader(this,P.lineVert,P.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===c.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+P.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+P.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(I,q){var Z="";return this.webglVersion===c.WEBGL2&&(Z+=`#version 300 es
#define WEBGL2
`),I==="vert"?Z+=`#define VERTEX_SHADER
`:I==="frag"&&(Z+=`#define FRAGMENT_SHADER
`),q&&(Z+="precision ".concat(q,` float;
`)),Z}},{key:"_getEmptyTexture",value:function(){var I;return this._emptyTexture||((I=new a.default.Image(1,1)).set(0,0,255),this._emptyTexture=new a.default.Texture(this,I)),this._emptyTexture}},{key:"getTexture",value:function(I){I instanceof a.default.Framebuffer&&(I=I.color);var q=this.textures.get(I);return q||(q=new a.default.Texture(this,I),this.textures.set(I,q),q)}},{key:"createFramebuffer",value:function(I){return new a.default.Framebuffer(this,I)}},{key:"_setStrokeUniforms",value:function(I){I.bindShader(),I.setUniform("uUseLineColor",this._useLineColor),I.setUniform("uMaterialColor",this.curStrokeColor),I.setUniform("uStrokeWeight",this.curStrokeWeight),I.setUniform("uStrokeCap",T[this.curStrokeCap]),I.setUniform("uStrokeJoin",C[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(I){I.bindShader(),I.setUniform("uUseVertexColor",this._useVertexColor),I.setUniform("uMaterialColor",this.curFillColor),I.setUniform("isTexture",!!this._tex),this._tex&&I.setUniform("uSampler",this._tex),I.setUniform("uTint",this._tint),I.setUniform("uHasSetAmbient",this._hasSetAmbient),I.setUniform("uAmbientMatColor",this.curAmbientColor),I.setUniform("uSpecularMatColor",this.curSpecularColor),I.setUniform("uEmissiveMatColor",this.curEmissiveColor),I.setUniform("uSpecular",this._useSpecularMaterial),I.setUniform("uEmissive",this._useEmissiveMaterial),I.setUniform("uShininess",this._useShininess),I.setUniform("uUseLighting",this._enableLighting);var q=this.pointLightDiffuseColors.length/3;I.setUniform("uPointLightCount",q),I.setUniform("uPointLightLocation",this.pointLightPositions),I.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),I.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),q=this.directionalLightDiffuseColors.length/3,I.setUniform("uDirectionalLightCount",q),I.setUniform("uLightingDirection",this.directionalLightDirections),I.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),I.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),q=this.ambientLightColors.length/3,I.setUniform("uAmbientLightCount",q),I.setUniform("uAmbientColor",this.ambientLightColors),q=this.spotLightDiffuseColors.length/3,I.setUniform("uSpotLightCount",q),I.setUniform("uSpotLightAngle",this.spotLightAngle),I.setUniform("uSpotLightConc",this.spotLightConc),I.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),I.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),I.setUniform("uSpotLightLocation",this.spotLightPositions),I.setUniform("uSpotLightDirection",this.spotLightDirections),I.setUniform("uConstantAttenuation",this.constantAttenuation),I.setUniform("uLinearAttenuation",this.linearAttenuation),I.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),I.bindTextures()}},{key:"_setPointUniforms",value:function(I){I.bindShader(),I.setUniform("uMaterialColor",this.curStrokeColor),I.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(I,q,Z,J,ee){q=q||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(q,I),Z!==void 0&&(I=new(J||Float32Array)(Z),this.GL.bufferData(q,I,ee||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(I,q){return I.length===q.length&&I.every(function(Z,J){return Z===q[J]})}},{key:"_isTypedArray",value:function(I){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(q){return I instanceof q})}},{key:"_flatten",value:function(I){if(I.length===0)return[];var q;if(2e4<I.length){for(var Z=[],J=I.slice(),ee=J.pop();Array.isArray(ee)?J.push.apply(J,f(ee)):Z.push(ee),J.length&&(ee=J.pop())!==void 0;);return Z.reverse(),Z}return(q=[]).concat.apply(q,f(I))}},{key:"_vToNArray",value:function(I){var q=[],Z=!0,J=!1,ee=void 0;try{for(var le,ae=I[Symbol.iterator]();!(Z=(le=ae.next()).done);Z=!0){var fe=le.value;q.push(fe.x,fe.y,fe.z)}}catch(H){J=!0,ee=H}finally{try{Z||ae.return==null||ae.return()}finally{if(J)throw ee}}return q}},{key:"_bezierCoefficients",value:function(I){var q=I*I,Z=1-I,J=Z*Z;return[J*Z,3*J*I,3*Z*q,q*I]}},{key:"_quadraticCoefficients",value:function(I){var q=1-I;return[q*q,2*q*I,I*I]}},{key:"_bezierToCatmull",value:function(I){return[I[1],I[1]+(I[2]-I[0])/this._curveTightness,I[2]-(I[3]-I[1])/this._curveTightness,I[2]]}},{key:"_initTessy",value:function(){var I=new x.default.GluTesselator;return I.gluTessCallback(x.default.gluEnum.GLU_TESS_VERTEX_DATA,function(q,Z){for(var J=0;J<q.length;J++)Z.push(q[J])}),I.gluTessCallback(x.default.gluEnum.GLU_TESS_BEGIN,function(q){q!==x.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(q))}),I.gluTessCallback(x.default.gluEnum.GLU_TESS_ERROR,function(q){console.log("error callback"),console.log("error number: ".concat(q))}),I.gluTessCallback(x.default.gluEnum.GLU_TESS_COMBINE,function(q,Z,J){for(var ee=new Array(a.default.RendererGL.prototype.tessyVertexSize).fill(0),le=0;le<J.length;le++)for(var ae=0;ae<ee.length;ae++)J[le]!==0&&Z[le]&&(ee[ae]+=Z[le][ae]*J[le]);return ee}),I.gluTessCallback(x.default.gluEnum.GLU_TESS_EDGE_FLAG,function(q){}),I}},{key:"_triangulate",value:function(I){var q=I[0]?I[0][2]:void 0,Z=!0,J=!0,ee=!1,le=void 0;try{for(var ae,fe=I[Symbol.iterator]();!(J=(ae=fe.next()).done);J=!0)for(var H=ae.value,X=0;X<H.length;X+=a.default.RendererGL.prototype.tessyVertexSize)if(H[X+2]!==q){Z=!1;break}}catch(Te){ee=!0,le=Te}finally{try{J||fe.return==null||fe.return()}finally{if(ee)throw le}}Z?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0),ee=[];var te=(this._tessy.gluTessBeginPolygon(ee),!0),ue=(le=!1,void 0);try{for(var ce,he=I[Symbol.iterator]();!(te=(ce=he.next()).done);te=!0){var ne=ce.value;this._tessy.gluTessBeginContour();for(var me=0;me<ne.length;me+=a.default.RendererGL.prototype.tessyVertexSize){var _e=ne.slice(me,me+a.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(_e,_e)}this._tessy.gluTessEndContour()}}catch(Te){le=!0,ue=Te}finally{try{te||he.return==null||he.return()}finally{if(le)throw ue}}return this._tessy.gluTessEndPolygon(),ee}}])&&u(V.prototype,U),G}(a.default.Renderer),a.default.prototype._assert3d=function(U){if(!this._renderer.isP3D)throw new Error("".concat(U,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},a.default.RendererGL.prototype.tessyVertexSize=12,r=a.default.RendererGL,y.default=r},{"../core/constants":262,"../core/main":273,"../core/p5.Renderer":276,"./p5.Camera":321,"./p5.Matrix":324,"./p5.Shader":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.map":168,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.float64-array":210,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int16-array":214,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,libtess:245,path:248}],329:[function(r,E,y){r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};function a(c,x){for(var S=0;S<x.length;S++){var l=x[S];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,l.key,l)}}h.default.Shader=function(){function c(l,f,u){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._renderer=l,this._vertSrc=f,this._fragSrc=u,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var x,S;return x=c,(S=[{key:"init",value:function(){if(this._glProgram===0){var l=this._renderer.GL;if(this._vertShader=l.createShader(l.VERTEX_SHADER),l.shaderSource(this._vertShader,this._vertSrc),l.compileShader(this._vertShader),!l.getShaderParameter(this._vertShader,l.COMPILE_STATUS))return h.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(l.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=l.createShader(l.FRAGMENT_SHADER),l.shaderSource(this._fragShader,this._fragSrc),l.compileShader(this._fragShader),!l.getShaderParameter(this._fragShader,l.COMPILE_STATUS))return h.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(l.getShaderInfoLog(this._fragShader))),null;this._glProgram=l.createProgram(),l.attachShader(this._glProgram,this._vertShader),l.attachShader(this._glProgram,this._fragShader),l.linkProgram(this._glProgram),l.getProgramParameter(this._glProgram,l.LINK_STATUS)||h.default._friendlyError("Snap! Error linking shader program: ".concat(l.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var l=this._renderer.GL,f=l.getProgramParameter(this._glProgram,l.ACTIVE_ATTRIBUTES),u=0;u<f;++u){var s=l.getActiveAttrib(this._glProgram,u),d=s.name,g=l.getAttribLocation(this._glProgram,d),_={};_.name=d,_.location=g,_.index=u,_.type=s.type,_.size=s.size,this.attributes[d]=_}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var l=this._renderer.GL,f=l.getProgramParameter(this._glProgram,l.ACTIVE_UNIFORMS),u=0,s=0;s<f;++s){var d=l.getActiveUniform(this._glProgram,s),g={},_=(g.location=l.getUniformLocation(this._glProgram,d.name),g.size=d.size,d.name);1<d.size&&(_=_.substring(0,_.indexOf("[0]"))),g.name=_,g.type=d.type,g._cachedData=void 0,g.type===l.SAMPLER_2D&&(g.samplerIndex=u,u++,this.samplers.push(g)),g.isArray=1<d.size||g.type===l.FLOAT_MAT3||g.type===l.FLOAT_MAT4||g.type===l.FLOAT_VEC2||g.type===l.FLOAT_VEC3||g.type===l.FLOAT_VEC4||g.type===l.INT_VEC2||g.type===l.INT_VEC4||g.type===l.INT_VEC3,this.uniforms[_]=g}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var l=this._renderer.GL,f=!0,u=!1,s=void 0;try{for(var d,g=this.samplers[Symbol.iterator]();!(f=(d=g.next()).done);f=!0){var _=d.value,v=_.texture;v===void 0&&(v=this._renderer._getEmptyTexture()),l.activeTexture(l.TEXTURE0+_.samplerIndex),v.bindTexture(),v.update(),l.uniform1i(_.location,_.samplerIndex)}}catch(j){u=!0,s=j}finally{try{f||g.return==null||g.return()}finally{if(u)throw s}}}},{key:"updateTextures",value:function(){var l=!0,f=!1,u=void 0;try{for(var s,d=this.samplers[Symbol.iterator]();!(l=(s=d.next()).done);l=!0){var g=s.value.texture;g&&g.update()}}catch(_){f=!0,u=_}finally{try{l||d.return==null||d.return()}finally{if(f)throw u}}}},{key:"unbindTextures",value:function(){var l=!0,f=!1,u=void 0;try{for(var s,d=this.samplers[Symbol.iterator]();!(l=(s=d.next()).done);l=!0){var g=s.value;this.setUniform(g.name,this._renderer._getEmptyTexture())}}catch(_){f=!0,u=_}finally{try{l||d.return==null||d.return()}finally{if(f)throw u}}}},{key:"_setMatrixUniforms",value:function(){var l=this._renderer._curCamera.cameraMatrix,f=this._renderer.uPMatrix,u=this._renderer.uMVMatrix,s=u.copy();s.mult(f),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",l.mat4),this.setUniform("uProjectionMatrix",f.mat4),this.setUniform("uModelViewMatrix",u.mat4),this.setUniform("uModelViewProjectionMatrix",s.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var l=this._renderer.GL;return this._renderer._curShader!==this&&(l.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(l,f){var u=this.uniforms[l];if(u){var s=this._renderer.GL;if(u.isArray){if(u._cachedData&&this._renderer._arraysEqual(u._cachedData,f))return;u._cachedData=f.slice(0)}else{if(u._cachedData&&u._cachedData===f)return;Array.isArray(f)?u._cachedData=f.slice(0):u._cachedData=f}var d=u.location;switch(this.useProgram(),u.type){case s.BOOL:f===!0?s.uniform1i(d,1):s.uniform1i(d,0);break;case s.INT:1<u.size?f.length&&s.uniform1iv(d,f):s.uniform1i(d,f);break;case s.FLOAT:1<u.size?f.length&&s.uniform1fv(d,f):s.uniform1f(d,f);break;case s.FLOAT_MAT3:s.uniformMatrix3fv(d,!1,f);break;case s.FLOAT_MAT4:s.uniformMatrix4fv(d,!1,f);break;case s.FLOAT_VEC2:1<u.size?f.length&&s.uniform2fv(d,f):s.uniform2f(d,f[0],f[1]);break;case s.FLOAT_VEC3:1<u.size?f.length&&s.uniform3fv(d,f):s.uniform3f(d,f[0],f[1],f[2]);break;case s.FLOAT_VEC4:1<u.size?f.length&&s.uniform4fv(d,f):s.uniform4f(d,f[0],f[1],f[2],f[3]);break;case s.INT_VEC2:1<u.size?f.length&&s.uniform2iv(d,f):s.uniform2i(d,f[0],f[1]);break;case s.INT_VEC3:1<u.size?f.length&&s.uniform3iv(d,f):s.uniform3i(d,f[0],f[1],f[2]);break;case s.INT_VEC4:1<u.size?f.length&&s.uniform4iv(d,f):s.uniform4i(d,f[0],f[1],f[2],f[3]);break;case s.SAMPLER_2D:s.activeTexture(s.TEXTURE0+u.samplerIndex),u.texture=f instanceof h.default.Texture?f:this._renderer.getTexture(f),s.uniform1i(d,u.samplerIndex),u.texture.src.gifProperties&&u.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(l,f,u,s,d,g){var _;return l&&(l=l.location)!==-1&&(_=this._renderer.GL,this._renderer.registerEnabled[l]||(_.enableVertexAttribArray(l),this._renderer.registerEnabled[l]=!0),this._renderer.GL.vertexAttribPointer(l,f,u||_.FLOAT,s||!1,d||0,g||0)),this}}])&&a(x.prototype,S),c}(),r=h.default.Shader,y.default=r},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],330:[function(r,E,y){function h(u){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}function a(u){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(s){return h(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":h(s)})(u)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.checkWebGLCapabilities=l,y.default=void 0;var c=(f=r("../core/main"))&&f.__esModule?f:{default:f},x=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var s=function(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,j)}();if(s&&s.has(u))return s.get(u);var d,g={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in u){var v;Object.prototype.hasOwnProperty.call(u,d)&&((v=_?Object.getOwnPropertyDescriptor(u,d):null)&&(v.get||v.set)?Object.defineProperty(g,d,v):g[d]=u[d])}return g.default=u,s&&s.set(u,g),g}(r("../core/constants"));function S(u,s){for(var d=0;d<s.length;d++){var g=s[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function l(u){var s=u.GL,d=(u=u.webglVersion)===x.WEBGL2?s.getExtension("EXT_color_buffer_float")&&s.getExtension("EXT_float_blend"):s.getExtension("OES_texture_float");return{float:d,floatLinear:d&&s.getExtension("OES_texture_float_linear"),halfFloat:u=u===x.WEBGL2?s.getExtension("EXT_color_buffer_float"):s.getExtension("OES_texture_half_float"),halfFloatLinear:u&&s.getExtension("OES_texture_half_float_linear")}}c.default.Texture=function(){function u(g,_,v){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._renderer=g;var j=this._renderer.GL;return v=v||{},this.src=_,this.glTex=void 0,this.glTarget=j.TEXTURE_2D,this.glFormat=v.format||j.RGBA,this.mipmaps=!1,this.glMinFilter=v.minFilter||j.LINEAR,this.glMagFilter=v.magFilter||j.LINEAR,this.glWrapS=v.wrapS||j.CLAMP_TO_EDGE,this.glWrapT=v.wrapT||j.CLAMP_TO_EDGE,this.glDataType=v.dataType||j.UNSIGNED_BYTE,v=l(g),this.glFormat!==j.HALF_FLOAT||v.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=j.FLOAT),this.glFormat!==j.HALF_FLOAT||this.glMinFilter!==j.LINEAR&&this.glMagFilter!==j.LINEAR||v.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===j.LINEAR&&(this.glMinFilter=j.NEAREST),this.glMagFilter===j.LINEAR&&(this.glMagFilter=j.NEAREST)),this.glFormat!==j.FLOAT||v.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=j.UNSIGNED_BYTE),this.glFormat!==j.FLOAT||this.glMinFilter!==j.LINEAR&&this.glMagFilter!==j.LINEAR||v.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===j.LINEAR&&(this.glMinFilter=j.NEAREST),this.glMagFilter===j.LINEAR&&(this.glMagFilter=j.NEAREST)),this.isSrcMediaElement=c.default.MediaElement!==void 0&&_ instanceof c.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=c.default.Element!==void 0&&_ instanceof c.default.Element&&!(_ instanceof c.default.Graphics)&&!(_ instanceof c.default.Renderer),this.isSrcP5Image=_ instanceof c.default.Image,this.isSrcP5Graphics=_ instanceof c.default.Graphics,this.isSrcP5Renderer=_ instanceof c.default.Renderer,this.isImageData=typeof ImageData<"u"&&_ instanceof ImageData,this.isFramebufferTexture=_ instanceof c.default.FramebufferTexture,g=this._getTextureDataFromSource(),this.width=g.width,this.height=g.height,this.init(g),this}var s,d;return s=u,(d=[{key:"_getTextureDataFromSource",value:function(){var g;return this.isFramebufferTexture?g=this.src.rawTexture():this.isSrcP5Image?g=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?g=this.src.elt:this.isImageData&&(g=this.src),g}},{key:"init",value:function(g){var _,v=this._renderer.GL;this.isFramebufferTexture||(this.glTex=v.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,this.glMagFilter),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(_=new Uint8Array([1,1,1,1]),v.texImage2D(this.glTarget,0,v.RGBA,1,1,0,this.glFormat,this.glDataType,_)):v.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,g))}},{key:"update",value:function(){var g,_,v,j=this.src;return j.width!==0&&j.height!==0&&!this.isFramebufferTexture&&(g=this._getTextureDataFromSource(),_=!1,v=this._renderer.GL,g.width!==this.width||g.height!==this.height?(_=!0,this.width=g.width||j.width,this.height=g.height||j.height,this.isSrcP5Image?j.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&j.setModified(!0)):this.isSrcP5Image?j.isModified()&&j.setModified(!(_=!0)):this.isSrcMediaElement?j.isModified()?j.setModified(!(_=!0)):j.loadedmetadata&&this._videoPrevUpdateTime!==j.time()&&(this._videoPrevUpdateTime=j.time(),_=!0):this.isImageData?j._dirty&&(_=!(j._dirty=!1)):_=!0,_&&(this.bindTexture(),v.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,g)),_)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(g,_){var v=this._renderer.GL;g===x.NEAREST?this.glMinFilter=v.NEAREST:this.glMinFilter=v.LINEAR,_===x.NEAREST?this.glMagFilter=v.NEAREST:this.glMagFilter=v.LINEAR,this.bindTexture(),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,this.glMinFilter),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"setWrapMode",value:function(g,_){function v(L){return(L&L-1)==0}var j=this._renderer.GL,T=(T=this._getTextureDataFromSource()).naturalWidth&&T.naturalHeight?(C=T.naturalWidth,T.naturalHeight):(C=this.width,this.height),C=v(C);T=v(T),g===x.REPEAT?this._renderer.webglVersion===x.WEBGL2||C&&T?this.glWrapS=j.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=j.CLAMP_TO_EDGE):g===x.MIRROR?this._renderer.webglVersion===x.WEBGL2||C&&T?this.glWrapS=j.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=j.CLAMP_TO_EDGE):this.glWrapS=j.CLAMP_TO_EDGE,_===x.REPEAT?this._renderer.webglVersion===x.WEBGL2||C&&T?this.glWrapT=j.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=j.CLAMP_TO_EDGE):_===x.MIRROR?this._renderer.webglVersion===x.WEBGL2||C&&T?this.glWrapT=j.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=j.CLAMP_TO_EDGE):this.glWrapT=j.CLAMP_TO_EDGE,this.bindTexture(),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,this.glWrapS),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}])&&S(s.prototype,d),u}();var f=c.default.Texture;y.default=f},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],331:[function(r,E,y){function h(v){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(v)}function a(v){return(a=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(j){return h(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":h(j)})(v)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.iterator");var c,x=(c=r("../core/main"))&&c.__esModule?c:{default:c},S=function(v){if(v&&v.__esModule)return v;if(v===null||a(v)!=="object"&&typeof v!="function")return{default:v};var j=function(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,P)}();if(j&&j.has(v))return j.get(v);var T,C={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in v){var R;Object.prototype.hasOwnProperty.call(v,T)&&((R=L?Object.getOwnPropertyDescriptor(v,T):null)&&(R.get||R.set)?Object.defineProperty(C,T,R):C[T]=v[T])}return C.default=v,j&&j.set(v,C),C}(r("../core/constants"));function l(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function f(v,j){for(var T=0;T<j.length;T++){var C=j[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}function u(v,j,T){j&&f(v.prototype,j)}r("./p5.Shader"),r("./p5.RendererGL.Retained"),x.default.RendererGL.prototype._applyTextProperties=function(){},x.default.RendererGL.prototype.textWidth=function(v){return this._isOpenType()?this._textFont._textWidth(v,this._textSize):0};var s=function(){function v(j,T){l(this,v),this.width=j,this.height=T,this.infos=[]}return u(v,[{key:"findImage",value:function(j){var T,C,L=this.width*this.height;if(L<j)throw new Error("font is too complex to render in 3D");for(var R=this.infos.length-1;0<=R;--R){var P=this.infos[R];if(P.index+j<L){C=(T=P).imageData;break}}if(!T){try{C=new ImageData(this.width,this.height)}catch{var B=document.getElementsByTagName("canvas")[0],M=!B,U=(B||((B=document.createElement("canvas")).style.display="none",document.body.appendChild(B)),B.getContext("2d"));U&&(C=U.createImageData(this.width,this.height)),M&&document.body.removeChild(B)}this.infos.push(T={index:0,imageData:C})}return U=T.index,T.index+=j,C._dirty=!0,{imageData:C,index:U}}}]),v}();function d(v,j,T,C,L){var R=v.imageData.data;v=4*v.index++,R[v++]=j,R[v++]=T,R[v++]=C,R[+v]=L}var g=Math.sqrt(3),_=function(){function v(j){l(this,v),this.font=j,this.strokeImageInfos=new s(64,64),this.colDimImageInfos=new s(64,64),this.rowDimImageInfos=new s(64,64),this.colCellImageInfos=new s(64,64),this.rowCellImageInfos=new s(64,64),this.glyphInfos={}}return u(v,[{key:"getGlyphInfo",value:function(j){var T=this.glyphInfos[j.index];if(!T){var C=j.getBoundingBox(),L=C.x1,R=C.y1,P=C.x2-L,B=C.y2-R,M=j.path.commands;if(P==0||B==0||!M.length)return this.glyphInfos[j.index]={};for(var U=[],V=[],$=[],G=8;0<=G;--G)$.push([]);for(G=8;0<=G;--G)V.push([]);var I,q,Z,J,ee=function(){function ge(Ne,Fe,Xe,ot){l(this,ge),this.p0=Ne,this.c0=Fe,this.c1=Xe,this.p1=ot}return u(ge,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return x.default.Vector.sub(x.default.Vector.sub(this.p1,this.p0),x.default.Vector.mult(x.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ne){var Fe=x.default.Vector.lerp(this.p0,this.c0,Ne),Xe=x.default.Vector.lerp(this.c0,this.c1,Ne),ot=x.default.Vector.lerp(Fe,Xe,Ne);return this.c1=x.default.Vector.lerp(this.c1,this.p1,Ne),this.c0=x.default.Vector.lerp(Xe,this.c1,Ne),Xe=x.default.Vector.lerp(ot,this.c0,Ne),Ne=new ge(this.p0,Fe,ot,Xe),this.p0=Xe,Ne}},{key:"splitInflections",value:function(){var Ne=x.default.Vector.sub(this.c0,this.p0),Fe=x.default.Vector.sub(x.default.Vector.sub(this.c1,this.c0),Ne),Xe=x.default.Vector.sub(x.default.Vector.sub(x.default.Vector.sub(this.p1,this.c1),Ne),x.default.Vector.mult(Fe,2)),ot=[],gt=Fe.x*Xe.y-Fe.y*Xe.x;return gt!==0&&0<=(Ne=(Xe=Ne.x*Xe.y-Ne.y*Xe.x)*Xe-4*gt*(Ne.x*Fe.y-Ne.y*Fe.x))&&(gt<0&&(gt=-gt,Xe=-Xe),Ne=(-Xe+(Fe=Math.sqrt(Ne)))/(2*gt),0<(Xe=(-Xe-Fe)/(2*gt))&&Xe<1&&(ot.push(this.split(Xe)),Ne=1-(1-Ne)/(1-Xe)),0<Ne&&Ne<1&&ot.push(this.split(Ne))),ot.push(this),ot}}]),ge}(),le=!0,ae=!1,fe=void 0;try{for(var H,X=M[Symbol.iterator]();!(le=(H=X.next()).done);le=!0){var te=H.value,ue=(te.x-L)/P,ce=(te.y-R)/B;if(!wt(I,q,ue,ce)){switch(te.type){case"M":Z=ue,J=ce;break;case"L":rt(I,q,ue,ce);break;case"Q":var he=(te.x1-L)/P,ne=(te.y1-R)/B;He([I,ue,he],[q,ce,ne],{x:I,y:q,cx:he,cy:ne});break;case"Z":wt(I,q,Z,J)?U.push({x:I,y:q}):(rt(I,q,Z,J),U.push({x:Z,y:J}));break;case"C":for(var me=function(ge,Ne,Fe,Xe,ot,gt,ut,at){ge=new ee(new x.default.Vector(ge,Ne),new x.default.Vector(Fe,Xe),new x.default.Vector(ot,gt),new x.default.Vector(ut,at)).splitInflections();var ie=[],re=30/g,se=!0;Ne=!1,Fe=void 0;try{for(var pe,Ee=ge[Symbol.iterator]();!(se=(pe=Ee.next()).done);se=!0){for(var Be=pe.value,Qe=[],Ye=void 0;!(.125<=(Ye=re/Be.quadError()));){var Pe=Math.pow(Ye,.3333333333333333),et=Be.split(Pe),ft=Be.split(1-Pe/(1-Pe));ie.push(et),Qe.push(Be),Be=ft}Ye<1&&ie.push(Be.split(.5)),ie.push(Be),Array.prototype.push.apply(ie,Qe.reverse())}}catch(Pt){Ne=!0,Fe=Pt}finally{try{se||Ee.return==null||Ee.return()}finally{if(Ne)throw Fe}}return ie}(I,q,(te.x1-L)/P,(te.y1-R)/B,(te.x2-L)/P,(te.y2-R)/B,ue,ce),_e=0;_e<me.length;_e++){var Te=me[_e].toQuadratic();He([Te.x,Te.x1,Te.cx],[Te.y,Te.y1,Te.cy],Te)}break;default:throw new Error("unknown command type: ".concat(te.type))}I=ue,q=ce}}}catch(ge){ae=!0,fe=ge}finally{try{le||X.return==null||X.return()}finally{if(ae)throw fe}}for(var ve=U.length,je=this.strokeImageInfos.findImage(ve),Ae=je.index,Ve=0;Ve<ve;++Ve){var De=U[Ve];d(je,tt(De.x),tt(De.y),tt(De.cx),tt(De.cy))}(T=this.glyphInfos[j.index]={glyph:j,uGlyphRect:[C.x1,-C.y1,C.x2,-C.y2],strokeImageInfo:je,strokes:U,colInfo:st($,this.colDimImageInfos,this.colCellImageInfos),rowInfo:st(V,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[T.colInfo.dimOffset,T.rowInfo.dimOffset]}return T;function He(ge,Ne,Fe){var Xe=U.length;function ot(re,se,pe){for(var Ee=re.length;0<Ee--;){var Be=re[Ee];Be<se&&(se=Be),pe<Be&&(pe=Be)}return{min:se,max:pe}}U.push(Fe),Fe=ot(ge,1,0),ge=Math.max(Math.floor(9*Fe.min-.5),0);for(var gt=Math.min(Math.ceil(9*Fe.max+.5),9),ut=ge;ut<gt;++ut)$[ut].push(Xe);Fe=ot(Ne,1,0),ge=Math.max(Math.floor(9*Fe.min-.5),0);for(var at=Math.min(Math.ceil(9*Fe.max+.5),9),ie=ge;ie<at;++ie)V[ie].push(Xe)}function tt(ge){return(ge=255*ge)<0?0:255<ge?255:ge}function rt(ge,Ne,Fe,Xe){He([ge,Fe],[Ne,Xe],{x:ge,y:Ne,cx:(ge+Fe)/2,cy:(Ne+Xe)/2})}function wt(ge,Ne,Fe,Xe){return Math.abs(Fe-ge)<1e-5&&Math.abs(Xe-Ne)<1e-5}function st(ge,Ne,Fe){for(var Xe=ge.length,ot=Ne.findImage(Xe),gt=(Ne=ot.index,0),ut=0;ut<Xe;++ut)gt+=ge[ut].length;for(var at=Fe.findImage(gt),ie=0;ie<Xe;++ie){var re=ge[ie],se=re.length,pe=at.index;d(ot,pe>>7,127&pe,se>>7,127&se);for(var Ee=0;Ee<se;++Ee){var Be=re[Ee]+Ae;d(at,Be>>7,127&Be,0,0)}}return{cellImageInfo:at,dimOffset:Ne,dimImageInfo:ot}}}}]),v}();x.default.RendererGL.prototype._renderText=function(v,j,T,C,L){if(this._textFont&&typeof this._textFont!="string"){if(!(L<=C)&&this._doFill){if(this._isOpenType()){v.push(),L=this._doStroke;var R=this.drawMode,P=(this._doStroke=!1,this.drawMode=S.TEXTURE,this._textFont.font),B=(B=this._textFont._fontInfo)||(this._textFont._fontInfo=new _(P)),M=(T=this._textFont._handleAlignment(this,j,T,C),C=this._textSize/P.unitsPerEm,this.translate(T.x,T.y,0),this.scale(C,C,1),this.GL),U=(T=!this._defaultFontShader,this._getFontShader()),V=(U.init(),U.bindShader(),T&&(U.setUniform("uGridImageSize",[64,64]),U.setUniform("uCellsImageSize",[64,64]),U.setUniform("uStrokeImageSize",[64,64]),U.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),$=(V||((C=this._textGeom=new x.default.Geometry(1,1,function(){for(var he=0;he<=1;he++)for(var ne=0;ne<=1;ne++)this.vertices.push(new x.default.Vector(ne,he,0)),this.uvs.push(ne,he)})).computeFaces().computeNormals(),V=this.createBuffers("glyph",C)),!0);T=!1,C=void 0;try{for(var G,I=this.retainedMode.buffers.text[Symbol.iterator]();!($=(G=I.next()).done);$=!0)G.value._prepareBuffer(V,U)}catch(he){T=!0,C=he}finally{try{$||I.return==null||I.return()}finally{if(T)throw C}}this._bindBuffer(V.indexBuffer,M.ELEMENT_ARRAY_BUFFER),U.setUniform("uMaterialColor",this.curFillColor),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var q=0,Z=null,J=P.stringToGlyphs(j),ee=!0,le=!1,ae=void 0;try{for(var fe,H=J[Symbol.iterator]();!(ee=(fe=H.next()).done);ee=!0){var X,te,ue=fe.value,ce=(Z&&(q+=P.getKerningValue(Z,ue)),B.getGlyphInfo(ue));ce.uGlyphRect&&(X=ce.rowInfo,te=ce.colInfo,U.setUniform("uSamplerStrokes",ce.strokeImageInfo.imageData),U.setUniform("uSamplerRowStrokes",X.cellImageInfo.imageData),U.setUniform("uSamplerRows",X.dimImageInfo.imageData),U.setUniform("uSamplerColStrokes",te.cellImageInfo.imageData),U.setUniform("uSamplerCols",te.dimImageInfo.imageData),U.setUniform("uGridOffset",ce.uGridOffset),U.setUniform("uGlyphRect",ce.uGlyphRect),U.setUniform("uGlyphOffset",q),U.bindTextures(),M.drawElements(M.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),q+=ue.advanceWidth,Z=ue}}catch(he){le=!0,ae=he}finally{try{ee||H.return==null||H.return()}finally{if(le)throw ae}}}finally{U.unbindShader(),this._doStroke=L,this.drawMode=R,M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),v.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return v}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":262,"../core/main":273,"./p5.RendererGL.Retained":327,"./p5.Shader":329,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}]},{},[257])(257)})}).call(this,m(3))},function(i,p,m){m.r(p),m.d(p,"p5Events",function(){return f}),m.d(p,"default",function(){return u});var w=m(0),r=m.n(w),E=m(1),y=m.n(E);function h(s){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(s)}function a(s,d){for(var g=0;g<d.length;g++){var _=d[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(s,(v=_.key,j=void 0,j=function(T,C){if(h(T)!=="object"||T===null)return T;var L=T[Symbol.toPrimitive];if(L!==void 0){var R=L.call(T,C||"default");if(h(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(T)}(v,"string"),h(j)==="symbol"?j:String(j)),_)}var v,j}function c(s,d){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,_){return g.__proto__=_,g})(s,d)}function x(s){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,_=l(s);if(d){var v=l(this).constructor;g=Reflect.construct(_,arguments,v)}else g=_.apply(this,arguments);return S(this,g)}}function S(s,d){if(d&&(h(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(s)}function l(s){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)})(s)}typeof window<"u"&&(window.p5=y.a);var f=["draw","windowResized","preload","mouseClicked","doubleClicked","mouseMoved","mousePressed","mouseWheel","mouseDragged","mouseReleased","keyPressed","keyReleased","keyTyped","touchStarted","touchMoved","touchEnded","deviceMoved","deviceTurned","deviceShaken"],u=function(s){(function(j,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(T&&T.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),T&&c(j,T)})(v,s);var d,g,_=x(v);function v(j){var T;return function(C,L){if(!(C instanceof L))throw new TypeError("Cannot call a class as a function")}(this,v),(T=_.call(this,j)).canvasParentRef=r.a.createRef(),T}return d=v,(g=[{key:"componentDidMount",value:function(){var j=this;this.sketch=new y.a(function(T){T.setup=function(){j.props.setup(T,j.canvasParentRef.current)},f.forEach(function(C){j.props[C]&&(T[C]=function(){for(var L,R=arguments.length,P=new Array(R),B=0;B<R;B++)P[B]=arguments[B];(L=j.props)[C].apply(L,[T].concat(P))})})})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this.sketch.remove()}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.canvasParentRef,className:this.props.className||"react-p5","data-testid":"react-p5",style:this.props.style||{}})}}])&&a(d.prototype,g),Object.defineProperty(d,"prototype",{writable:!1}),v}(r.a.Component)},function(i,p){var m;m=function(){return this}();try{m=m||new Function("return this")()}catch{typeof window=="object"&&(m=window)}i.exports=m}]).default})})(B_);var mE=B_.exports;const gi=Up(mE),gp="/bati-portfolio/assets/horse-DXslsaez.png",yE="/bati-portfolio/assets/face-WT9rJM2A.png",gE="/bati-portfolio/assets/flan-B4AsSsIW.png",vE="/bati-portfolio/assets/feel-BV_yCJgU.png",bE="/bati-portfolio/assets/stars-EFDig_Kt.png",_E="/bati-portfolio/assets/dolphines-C5k_tJqr.png",xE=({drawImage:t,setDrawImage:n,userImage:o,setUserImage:i,showInstructions:p,setShowInstructions:m,showSecondInstruction:w,setShowSecondInstruction:r,printedFirstImage:E,setPrintedFirstImage:y,size:h,setSize:a,imgRef:c,imagesHistory:x,handleKeyTyped:S,handleButtonClick:l,handleImageClick:f,handleImageUpload:u,openFullscreen:s,handleUndo:d,mousePressed:g,mouseDragged:_,setup:v,draw:j})=>{const[T,C]=xe.useState(null),[L,R]=xe.useState(h),P=M=>{a(M),R(M)},B=M=>{C(M),f(new window.p5,M,h,i,x,r,y,m)};return Oe.jsxs("div",{className:"draw-images",children:[Oe.jsx("h4",{className:"title",children:" PRINT IMAGES "}),Oe.jsxs("div",{className:"canvas-images-container",children:[Oe.jsxs("div",{className:"image-sizes",children:[Oe.jsx("p",{className:"image-size-title",children:" SIZE "}),[50,150,250,500,1050].map(M=>Oe.jsx("button",{className:`control-button ${L===M?"selected":""}`,onClick:()=>P(M),children:M/50},M)),Oe.jsx("button",{className:"control-text",onClick:s,children:"FULL SCREEN"}),Oe.jsx("button",{className:"control-text",onClick:l,children:"LOAD PHOTO"}),Oe.jsx("button",{className:"control-text",onClick:()=>d(x,n,t),children:"UNDO"})]}),Oe.jsx("div",{className:"canvas-content",children:Oe.jsx(gi,{setup:(M,U)=>v(M,U),draw:M=>j(M,p,w,E,x,t,o,r,y,h),keyTyped:M=>S(M),mousePressed:M=>g(M,x,o,r,y,m,h),mouseReleased:M=>m(!1),mouseDragged:M=>_(M,x,o,r,y,m,h)})}),Oe.jsx("div",{className:"image-column",children:[gp,yE,gE,vE,bE,_E].map(M=>Oe.jsx("img",{src:M,alt:"our-image",className:`our-image ${T===M?"selected":""}`,onClick:()=>B(M)},M))})]}),Oe.jsx("div",{className:"controls-container",children:Oe.jsx("input",{type:"file",id:"imageInput",accept:"image/*",style:{display:"none"},onChange:M=>u(new window.p5,M,i,m,n,r,c)})}),Oe.jsxs("div",{className:"instructions-container",children:[Oe.jsxs("p",{children:[Oe.jsx("br",{}),Oe.jsx("br",{}),"Welcome to our interactive image collage platform! How It Works",Oe.jsx("br",{}),"For guidance on using the platform, follow the on-screen instructions. These will provide helpful tips and information as you navigate the collage creation process.",Oe.jsx("br",{}),"Whether you're an artist, designer, or simply looking to unleash your creativity, our interactive image collage platform offers a fun and efficient way to bring your ideas to life. Get started now and let your imagination run wild!",Oe.jsx("br",{}),Oe.jsx("br",{}),'Fullscreen Mode: Want to immerse yourself fully in your creative process? Click the "FULLSCREEN" button to enter fullscreen mode.',Oe.jsx("br",{}),"Pause/Resume Drawing: Need a break or want to pause the drawing process? Simply click inside the canvas area again to toggle between pause and resume modes."]}),Oe.jsx("p",{children:'Begin by uploading your desired images using the "LOAD IMAGE" button. Simply click the button or press "U" to trigger the image upload prompt.'}),Oe.jsx("p",{children:"Once you've uploaded your images, click inside the canvas area to start placing them. Each click will position the image at the cursor location."}),Oe.jsxs("p",{children:["Image Size Adjustment: To adjust the size of the images, use the numbered keys on your keyboard:",Oe.jsx("br",{}),"Press 1 for an extra-small size (50px).",Oe.jsx("br",{}),"Press 2 for a small size (150px).",Oe.jsx("br",{}),"Press 3 for a medium size (250px).",Oe.jsx("br",{}),"Press 4 for a large size (500px).",Oe.jsx("br",{}),"Press 5 for an extra-large size (1050px)."]})]})]})},wE=()=>{const[t,n]=Le.useState(!1),[o,i]=Le.useState(null),[p,m]=Le.useState(!0),[w,r]=Le.useState(!1),[E,y]=Le.useState(!1),[h,a]=Le.useState(()=>window.innerWidth<710?50:100),c=Le.useRef(null),x=Le.useRef([]),S=f=>{fE(f,()=>th(x,n,t),u=>hE(u,a))},l=f=>{dE(f,()=>th(x,n,t))};return Le.useEffect(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}),[]),Oe.jsx(xE,{drawImage:t,setDrawImage:n,userImage:o,setUserImage:i,showInstructions:p,setShowInstructions:m,showSecondInstruction:w,setShowSecondInstruction:r,printedFirstImage:E,setPrintedFirstImage:y,size:h,setSize:a,imgRef:c,imagesHistory:x,handleKeyTyped:S,handleButtonClick:uE,handleImageClick:cE,handleImageUpload:sE,openFullscreen:Df,handleUndo:th,mousePressed:aE,mouseDragged:lE,setup:N_,draw:pE})},U_="/bati-portfolio/assets/songs-17-CVLAyI_k.wav",G_=(t,n)=>{t.playing||(t.play(),n(!0))},ef=(t,n)=>{t.pause(),t.currentTime=0,n(!1)},V_=(t,n,o)=>{t.play().then(()=>{n(!0),ef(t,o)}).catch(i=>{console.error("Error playing audio:",i)})};class jE{constructor(n,o){this.x=n,this.y=o,this.size=Math.random()*4+1,this.speed=Math.random()*3+1}update(){this.y+=this.speed,this.y>650&&(this.y=0)}show(n){n.fill(255),n.noStroke(),n.ellipse(this.x,this.y,this.size,this.size)}}let bo;const SE=()=>{const[t,n]=Le.useState(!1),[o,i]=Le.useState(!1),[p,m]=Le.useState(!0),[w,r]=Le.useState([]);Le.useEffect(()=>{bo=new Audio(U_),bo.loop=!0,bo.load()},[]);const E=()=>{V_(bo,n,()=>ef(bo,i))},y=(a,c)=>{let x=Math.min(window.innerWidth*.8,1024),S=x*(1.9/3);window.innerWidth<780&&(x=window.innerWidth*.65,S=window.innerHeight*.9);const l=a.createCanvas(x,S);l.parent(c),l.style("display","block"),l.style("margin","auto"),l.style("user-select","none"),l.style("touch-action","none"),l.style("border","2px solid black"),l.style("border-radius","10px"),a.frameRate(60)},h=a=>{a.background(0);for(let c of w)c.update(),c.show(a);if(!o&&(a.stroke(255),a.strokeWeight(1),a.line(a.width/2,a.height/2,a.mouseX,a.mouseY),a.frameCount%5===0)){let c=new jE(a.mouseX,a.mouseY);r([...w,c])}if(o||!p){const c=a.width/2,x=a.height/2,S=500,l=a.TWO_PI/S,f=a.dist(0,0,c,x);let u=bo.currentTime/bo.duration*f;for(let s=0;s<S;s++){const d=s*l,g=c+u*a.cos(d),_=x+u*a.sin(d);a.stroke(a.random(255),a.random(255),a.random(255)),a.strokeWeight(a.random(1,3)),a.line(c,x,g,_)}}!o&&a.dist(a.width/2,a.height/2,a.mouseX,a.mouseY)<50?G_(bo,i):o&&a.dist(a.width/2,a.height/2,a.mouseX,a.mouseY)>=50&&ef(bo,i)};return Oe.jsx("div",{className:"song-animated",children:Oe.jsx("div",{className:"sketch-content",children:t?Oe.jsxs(Oe.Fragment,{children:[Oe.jsx("div",{children:Oe.jsx("button",{className:"button-sketch",onClick:Df,children:"FULLSCREEN"})}),Oe.jsx(gi,{setup:y,draw:h,className:"fluid-sketch"})]}):Oe.jsx("button",{className:"button-permisson",onClick:E,children:"ALLOW AUDIO"})})})};let Go;const TE=()=>{const[t,n]=Le.useState(!1),[o,i]=Le.useState([]),[p,m]=Le.useState(!1),w=700;Le.useEffect(()=>{Go=new Audio(U_),Go.loop=!0,Go.load()},[]);const r=(y,h)=>{let a=Math.min(window.innerWidth*.8,1024),c=a*(1.9/3);window.innerWidth<780&&(a=window.innerWidth*.65,c=window.innerHeight*.9);const x=y.createCanvas(a,c);x.parent(h),x.style("display","block"),x.style("margin","auto"),x.style("user-select","none"),x.style("touch-action","none"),x.style("border","2px solid black"),x.style("border-radius","10px"),y.frameRate(60),y.frameRate(60);const S=[];for(let l=0;l<w;l++)S.push({x:y.random(y.width),y:y.random(y.height),size:y.random(.1,2),opacity:y.random(150,255),speed:y.random(2,4)});i(S)},E=y=>{if(y.background(0),p){y.map(Go.currentTime,0,Go.duration,0,y.height),y.stroke(255,0,255),y.strokeWeight(2);for(let a=0;a<y.width+y.height;a+=20)y.line(a,0,0,a);y.noStroke(),y.fill(0,255,255),y.beginShape();for(let a=0;a<y.TWO_PI;a+=.05){const c=y.map(y.sin(y.frameCount*.01+a),-1,1,100,200),x=y.width/2+c*y.cos(a),S=y.height/2+c*y.sin(a);y.vertex(x,S)}y.endShape(y.CLOSE),y.stroke(0,255,255),y.strokeWeight(1);for(let a=0;a<y.width;a+=20)for(let c=0;c<y.height;c+=20)y.point(a,c);y.noFill(),y.stroke(255,0,0),y.strokeWeight(1),y.beginShape();for(let a=0;a<150;a++){const c=y.map(y.sin(y.frameCount*.01+a)/y.width/2,-y.width/2,y.width/2,0,y.width),x=y.map(y.cos(y.frameCount*.01+a)/y.height/2,-y.height/2,y.height/2,0,y.height),S=y.map(y.sin(y.frameCount*.01+a+1)*y.width/2,-y.width/2,y.width/2,0,y.width),l=y.map(y.cos(y.frameCount*.01+a+1)*y.height/2,-y.height/2,y.height/2,0,y.height),f=y.map(y.sin(y.frameCount*.01+a+2)*y.width/2,-y.width/2,y.width/2,0,y.width),u=y.map(y.cos(y.frameCount*.01+a+2)*y.height/2,-y.height/2,y.height/2,0,y.height),s=y.map(y.sin(y.frameCount*.01+a+3)*y.width/2,-y.width/2,y.width/2,0,y.width),d=y.map(y.cos(y.frameCount*.01+a+3)*y.height/2,-y.height/2,y.height/2,0,y.height);y.bezier(c,x,S,l,f,u,s,d)}y.endShape()}for(const a of o){const c=y.mouseX-a.x,x=y.mouseY-a.y,S=y.dist(y.mouseX,y.mouseY,a.x,a.y),l=c/S,f=x/S;a.x+=l*a.speed,a.y+=f*a.speed;const u=y.color(y.random(255),y.random(255),y.random(255));y.stroke(u),y.fill(u),y.ellipse(a.x,a.y,a.size,a.size)}o.every(a=>y.dist(y.mouseX,y.mouseY,a.x,a.y)<50)?G_(Go,m):ef(Go,m)};return Oe.jsx("div",{className:"song-animated",children:Oe.jsx("div",{className:"sketch-content",children:t?Oe.jsxs(Oe.Fragment,{children:[Oe.jsx("div",{children:Oe.jsx("button",{className:"button-sketch",onClick:Df,children:"FULLSCREEN"})}),Oe.jsx(gi,{setup:r,draw:E,className:"fluid-sketch"})]}):Oe.jsx("button",{className:"button-permisson",onClick:()=>V_(Go,n,m),children:"ALLOW AUDIO"})})})},z_="/bati-portfolio/assets/draw-video-X10ZRGAf.mp4",EE=()=>Oe.jsx(Oe.Fragment,{children:Oe.jsx("div",{className:"home-video",children:Oe.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,className:"background-video",children:[Oe.jsx("source",{src:z_,type:"video/mp4"}),"Your browser does not support the video tag."]})})}),kE="/bati-portfolio/assets/print-images-video-BqCvcgVk.mp4",CE="/bati-portfolio/assets/solo-brillaba-CGzWmqg6.mp4",PE="/bati-portfolio/assets/fluid-sketch-C5yaOLW_.mp4",OE="/bati-portfolio/assets/sketch-ellipses-video-C0RN1TCu.mp4",AE="/bati-portfolio/assets/audio-patch-BdUpZ_HV.mp4",ME="/bati-portfolio/assets/fan-video-JD5EHI-k.mp4",RE="/bati-portfolio/assets/horse-sketch-DKxlmGDs.mp4",LE=()=>{const t=[{id:1,src:kE,title:"PRINT IMAGES",path:"print-images"},{id:2,src:CE,title:"SOLO BRILLABA",path:"particle-component"},{id:3,src:z_,title:"DRAW SHAPE",path:"draw-shape"},{id:4,src:PE,title:"FLUID SKETCH",path:"fluid-component"},{id:5,src:OE,title:"SPHERE IMAGES",path:"image-circle"},{id:6,src:ME,title:"FAN SKETCH",path:"fan-sketch"},{id:7,src:RE,title:"IMAGE PARTICLE",path:"image-particle"},{id:8,src:AE,title:"AUDIO & IMAGES PATCH",path:"audio-visualizer"}],[n,o]=Le.useState({}),i=p=>{o(m=>({...m,[p]:!1}))};return Oe.jsxs("div",{className:"sketch-video-list",children:[Oe.jsx("h4",{className:"title",children:" INTERACTIVE SKETCHES "}),t.map(p=>Oe.jsxs("div",{className:"sketch-video-container",children:[Oe.jsxs(Xo,{to:`/${p.path}`,children:[n[p.id]?Oe.jsx("div",{className:"loading",children:"Loading..."}):null,Oe.jsx("video",{src:p.src,autoPlay:!0,loop:!0,muted:!0,controls:!1,disablePictureInPicture:!0,controlsList:"nodownload nofullscreen noremoteplayback",style:{display:n[p.id]?"none":"block"},onLoadedData:()=>i(p.id)})]}),Oe.jsx("div",{className:"video-title",children:p.title})]},p.id))]})};var IE=Object.defineProperty,DE=(t,n)=>{for(var o in n)IE(t,o,{get:n[o],enumerable:!0})},Zn={};DE(Zn,{assign:()=>BE,colors:()=>ui,createStringInterpolator:()=>zm,skipAnimation:()=>K_,to:()=>Y_,willAdvance:()=>$m});var Fm=Jl(),Ot=t=>Ql(t,Fm),Nm=Jl();Ot.write=t=>Ql(t,Nm);var Ff=Jl();Ot.onStart=t=>Ql(t,Ff);var Bm=Jl();Ot.onFrame=t=>Ql(t,Bm);var Um=Jl();Ot.onFinish=t=>Ql(t,Um);var ea=[];Ot.setTimeout=(t,n)=>{const o=Ot.now()+n,i=()=>{const m=ea.findIndex(w=>w.cancel==i);~m&&ea.splice(m,1),Jo-=~m?1:0},p={time:o,handler:t,cancel:i};return ea.splice($_(o),0,p),Jo+=1,W_(),p};var $_=t=>~(~ea.findIndex(n=>n.time>t)||~ea.length);Ot.cancel=t=>{Ff.delete(t),Bm.delete(t),Um.delete(t),Fm.delete(t),Nm.delete(t)};Ot.sync=t=>{vp=!0,Ot.batchedUpdates(t),vp=!1};Ot.throttle=t=>{let n;function o(){try{t(...n)}finally{n=null}}function i(...p){n=p,Ot.onStart(o)}return i.handler=t,i.cancel=()=>{Ff.delete(o),n=null},i};var Gm=typeof window<"u"?window.requestAnimationFrame:()=>{};Ot.use=t=>Gm=t;Ot.now=typeof performance<"u"?()=>performance.now():Date.now;Ot.batchedUpdates=t=>t();Ot.catch=console.error;Ot.frameLoop="always";Ot.advance=()=>{Ot.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):q_()};var Qo=-1,Jo=0,vp=!1;function Ql(t,n){vp?(n.delete(t),t(0)):(n.add(t),W_())}function W_(){Qo<0&&(Qo=0,Ot.frameLoop!=="demand"&&Gm(H_))}function FE(){Qo=-1}function H_(){~Qo&&(Gm(H_),Ot.batchedUpdates(q_))}function q_(){const t=Qo;Qo=Ot.now();const n=$_(Qo);if(n&&(X_(ea.splice(0,n),o=>o.handler()),Jo-=n),!Jo){FE();return}Ff.flush(),Fm.flush(t?Math.min(64,Qo-t):16.667),Bm.flush(),Nm.flush(),Um.flush()}function Jl(){let t=new Set,n=t;return{add(o){Jo+=n==t&&!t.has(o)?1:0,t.add(o)},delete(o){return Jo-=n==t&&t.has(o)?1:0,t.delete(o)},flush(o){n.size&&(t=new Set,Jo-=n.size,X_(n,i=>i(o)&&t.add(i)),Jo+=t.size,n=t)}}}function X_(t,n){t.forEach(o=>{try{n(o)}catch(i){Ot.catch(i)}})}function bp(){}var NE=(t,n,o)=>Object.defineProperty(t,n,{value:o,writable:!0,configurable:!0}),it={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function wo(t,n){if(it.arr(t)){if(!it.arr(n)||t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0}return t===n}var Bt=(t,n)=>t.forEach(n);function ho(t,n,o){if(it.arr(t)){for(let i=0;i<t.length;i++)n.call(o,t[i],`${i}`);return}for(const i in t)t.hasOwnProperty(i)&&n.call(o,t[i],i)}var bn=t=>it.und(t)?[]:it.arr(t)?t:[t];function fl(t,n){if(t.size){const o=Array.from(t);t.clear(),Bt(o,n)}}var Qa=(t,...n)=>fl(t,o=>o(...n)),Vm=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),zm,Y_,ui=null,K_=!1,$m=bp,BE=t=>{t.to&&(Y_=t.to),t.now&&(Ot.now=t.now),t.colors!==void 0&&(ui=t.colors),t.skipAnimation!=null&&(K_=t.skipAnimation),t.createStringInterpolator&&(zm=t.createStringInterpolator),t.requestAnimationFrame&&Ot.use(t.requestAnimationFrame),t.batchedUpdates&&(Ot.batchedUpdates=t.batchedUpdates),t.willAdvance&&($m=t.willAdvance),t.frameLoop&&(Ot.frameLoop=t.frameLoop)},dl=new Set,An=[],rh=[],tf=0,Nf={get idle(){return!dl.size&&!An.length},start(t){tf>t.priority?(dl.add(t),Ot.onStart(UE)):(Z_(t),Ot(_p))},advance:_p,sort(t){if(tf)Ot.onFrame(()=>Nf.sort(t));else{const n=An.indexOf(t);~n&&(An.splice(n,1),Q_(t))}},clear(){An=[],dl.clear()}};function UE(){dl.forEach(Z_),dl.clear(),Ot(_p)}function Z_(t){An.includes(t)||Q_(t)}function Q_(t){An.splice(GE(An,n=>n.priority>t.priority),0,t)}function _p(t){const n=rh;for(let o=0;o<An.length;o++){const i=An[o];tf=i.priority,i.idle||($m(i),i.advance(t),i.idle||n.push(i))}return tf=0,rh=An,rh.length=0,An=n,An.length>0}function GE(t,n){const o=t.findIndex(n);return o<0?t.length:o}var VE=(t,n,o)=>Math.min(Math.max(o,t),n),zE={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Hn="[-+]?\\d*\\.?\\d+",rf=Hn+"%";function Bf(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var $E=new RegExp("rgb"+Bf(Hn,Hn,Hn)),WE=new RegExp("rgba"+Bf(Hn,Hn,Hn,Hn)),HE=new RegExp("hsl"+Bf(Hn,rf,rf)),qE=new RegExp("hsla"+Bf(Hn,rf,rf,Hn)),XE=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,YE=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,KE=/^#([0-9a-fA-F]{6})$/,ZE=/^#([0-9a-fA-F]{8})$/;function QE(t){let n;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(n=KE.exec(t))?parseInt(n[1]+"ff",16)>>>0:ui&&ui[t]!==void 0?ui[t]:(n=$E.exec(t))?(gs(n[1])<<24|gs(n[2])<<16|gs(n[3])<<8|255)>>>0:(n=WE.exec(t))?(gs(n[1])<<24|gs(n[2])<<16|gs(n[3])<<8|uv(n[4]))>>>0:(n=XE.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=ZE.exec(t))?parseInt(n[1],16)>>>0:(n=YE.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=HE.exec(t))?(av(lv(n[1]),ic(n[2]),ic(n[3]))|255)>>>0:(n=qE.exec(t))?(av(lv(n[1]),ic(n[2]),ic(n[3]))|uv(n[4]))>>>0:null}function nh(t,n,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?t+(n-t)*6*o:o<1/2?n:o<2/3?t+(n-t)*(2/3-o)*6:t}function av(t,n,o){const i=o<.5?o*(1+n):o+n-o*n,p=2*o-i,m=nh(p,i,t+1/3),w=nh(p,i,t),r=nh(p,i,t-1/3);return Math.round(m*255)<<24|Math.round(w*255)<<16|Math.round(r*255)<<8}function gs(t){const n=parseInt(t,10);return n<0?0:n>255?255:n}function lv(t){return(parseFloat(t)%360+360)%360/360}function uv(t){const n=parseFloat(t);return n<0?0:n>1?255:Math.round(n*255)}function ic(t){const n=parseFloat(t);return n<0?0:n>100?1:n/100}function cv(t){let n=QE(t);if(n===null)return t;n=n||0;const o=(n&4278190080)>>>24,i=(n&16711680)>>>16,p=(n&65280)>>>8,m=(n&255)/255;return`rgba(${o}, ${i}, ${p}, ${m})`}var Il=(t,n,o)=>{if(it.fun(t))return t;if(it.arr(t))return Il({range:t,output:n,extrapolate:o});if(it.str(t.output[0]))return zm(t);const i=t,p=i.output,m=i.range||[0,1],w=i.extrapolateLeft||i.extrapolate||"extend",r=i.extrapolateRight||i.extrapolate||"extend",E=i.easing||(y=>y);return y=>{const h=ek(y,m);return JE(y,m[h],m[h+1],p[h],p[h+1],E,w,r,i.map)}};function JE(t,n,o,i,p,m,w,r,E){let y=E?E(t):t;if(y<n){if(w==="identity")return y;w==="clamp"&&(y=n)}if(y>o){if(r==="identity")return y;r==="clamp"&&(y=o)}return i===p?i:n===o?t<=n?i:p:(n===-1/0?y=-y:o===1/0?y=y-n:y=(y-n)/(o-n),y=m(y),i===-1/0?y=-y:p===1/0?y=y+i:y=y*(p-i)+i,y)}function ek(t,n){for(var o=1;o<n.length-1&&!(n[o]>=t);++o);return o-1}var tk=(t,n="end")=>o=>{o=n==="end"?Math.min(o,.999):Math.max(o,.001);const i=o*t,p=n==="end"?Math.floor(i):Math.ceil(i);return VE(0,1,p/t)},nf=1.70158,sc=nf*1.525,fv=nf+1,dv=2*Math.PI/3,hv=2*Math.PI/4.5,ac=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,rk={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>fv*t*t*t-nf*t*t,easeOutBack:t=>1+fv*Math.pow(t-1,3)+nf*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((sc+1)*2*t-sc)/2:(Math.pow(2*t-2,2)*((sc+1)*(t*2-2)+sc)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*dv),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*dv)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*hv))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*hv)/2+1,easeInBounce:t=>1-ac(1-t),easeOutBounce:ac,easeInOutBounce:t=>t<.5?(1-ac(1-2*t))/2:(1+ac(2*t-1))/2,steps:tk},Dl=Symbol.for("FluidValue.get"),ua=Symbol.for("FluidValue.observers"),On=t=>!!(t&&t[Dl]),on=t=>t&&t[Dl]?t[Dl]():t,pv=t=>t[ua]||null;function nk(t,n){t.eventObserved?t.eventObserved(n):t(n)}function Fl(t,n){const o=t[ua];o&&o.forEach(i=>{nk(i,n)})}var J_=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");ok(this,t)}},ok=(t,n)=>ex(t,Dl,n);function pa(t,n){if(t[Dl]){let o=t[ua];o||ex(t,ua,o=new Set),o.has(n)||(o.add(n),t.observerAdded&&t.observerAdded(o.size,n))}return n}function Nl(t,n){const o=t[ua];if(o&&o.has(n)){const i=o.size-1;i?o.delete(n):t[ua]=null,t.observerRemoved&&t.observerRemoved(i,n)}}var ex=(t,n,o)=>Object.defineProperty(t,n,{value:o,writable:!0,configurable:!0}),Tc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ik=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,mv=new RegExp(`(${Tc.source})(%|[a-z]+)`,"i"),sk=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Uf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,tx=t=>{const[n,o]=ak(t);if(!n||Vm())return t;const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);if(i)return i.trim();if(o&&o.startsWith("--")){const p=window.getComputedStyle(document.documentElement).getPropertyValue(o);return p||t}else{if(o&&Uf.test(o))return tx(o);if(o)return o}return t},ak=t=>{const n=Uf.exec(t);if(!n)return[,];const[,o,i]=n;return[o,i]},oh,lk=(t,n,o,i,p)=>`rgba(${Math.round(n)}, ${Math.round(o)}, ${Math.round(i)}, ${p})`,rx=t=>{oh||(oh=ui?new RegExp(`(${Object.keys(ui).join("|")})(?!\\w)`,"g"):/^\b$/);const n=t.output.map(m=>on(m).replace(Uf,tx).replace(ik,cv).replace(oh,cv)),o=n.map(m=>m.match(Tc).map(Number)),p=o[0].map((m,w)=>o.map(r=>{if(!(w in r))throw Error('The arity of each "output" value must be equal');return r[w]})).map(m=>Il({...t,output:m}));return m=>{var E;const w=!mv.test(n[0])&&((E=n.find(y=>mv.test(y)))==null?void 0:E.replace(Tc,""));let r=0;return n[0].replace(Tc,()=>`${p[r++](m)}${w||""}`).replace(sk,lk)}},Wm="react-spring: ",nx=t=>{const n=t;let o=!1;if(typeof n!="function")throw new TypeError(`${Wm}once requires a function parameter`);return(...i)=>{o||(n(...i),o=!0)}},uk=nx(console.warn);function ck(){uk(`${Wm}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var fk=nx(console.warn);function dk(){fk(`${Wm}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Gf(t){return it.str(t)&&(t[0]=="#"||/\d/.test(t)||!Vm()&&Uf.test(t)||t in(ui||{}))}var Hm=Vm()?Le.useEffect:Le.useLayoutEffect,hk=()=>{const t=Le.useRef(!1);return Hm(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function ox(){const t=Le.useState()[1],n=hk();return()=>{n.current&&t(Math.random())}}function pk(t,n){const[o]=Le.useState(()=>({inputs:n,result:t()})),i=Le.useRef(),p=i.current;let m=p;return m?n&&m.inputs&&mk(n,m.inputs)||(m={inputs:n,result:t()}):m=o,Le.useEffect(()=>{i.current=m,p==o&&(o.inputs=o.result=void 0)},[m]),m.result}function mk(t,n){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0}var ix=t=>Le.useEffect(t,yk),yk=[];function yv(t){const n=Le.useRef();return Le.useEffect(()=>{n.current=t}),n.current}var Bl=Symbol.for("Animated:node"),gk=t=>!!t&&t[Bl]===t,ao=t=>t&&t[Bl],qm=(t,n)=>NE(t,Bl,n),Vf=t=>t&&t[Bl]&&t[Bl].getPayload(),sx=class{constructor(){qm(this,this)}getPayload(){return this.payload||[]}},eu=class extends sx{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,it.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new eu(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return it.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,it.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Ul=class extends eu{constructor(t){super(0),this._string=null,this._toString=Il({output:[t,t]})}static create(t){return new Ul(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(it.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Il({output:[this.getValue(),t]})),this._value=0,super.reset()}},of={dependencies:null},zf=class extends sx{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const n={};return ho(this.source,(o,i)=>{gk(o)?n[i]=o.getValue(t):On(o)?n[i]=on(o):t||(n[i]=o)}),n}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Bt(this.payload,t=>t.reset())}_makePayload(t){if(t){const n=new Set;return ho(t,this._addToPayload,n),Array.from(n)}}_addToPayload(t){of.dependencies&&On(t)&&of.dependencies.add(t);const n=Vf(t);n&&Bt(n,o=>this.add(o))}},ax=class extends zf{constructor(t){super(t)}static create(t){return new ax(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const n=this.getPayload();return t.length==n.length?n.map((o,i)=>o.setValue(t[i])).some(Boolean):(super.setValue(t.map(vk)),!0)}};function vk(t){return(Gf(t)?Ul:eu).create(t)}function xp(t){const n=ao(t);return n?n.constructor:it.arr(t)?ax:Gf(t)?Ul:eu}var gv=(t,n)=>{const o=!it.fun(t)||t.prototype&&t.prototype.isReactComponent;return Le.forwardRef((i,p)=>{const m=Le.useRef(null),w=o&&Le.useCallback(S=>{m.current=xk(p,S)},[p]),[r,E]=_k(i,n),y=ox(),h=()=>{const S=m.current;if(o&&!S)return;(S?n.applyAnimatedValues(S,r.getValue(!0)):!1)===!1&&y()},a=new bk(h,E),c=Le.useRef();Hm(()=>(c.current=a,Bt(E,S=>pa(S,a)),()=>{c.current&&(Bt(c.current.deps,S=>Nl(S,c.current)),Ot.cancel(c.current.update))})),Le.useEffect(h,[]),ix(()=>()=>{const S=c.current;Bt(S.deps,l=>Nl(l,S))});const x=n.getComponentProps(r.getValue());return Le.createElement(t,{...x,ref:w})})},bk=class{constructor(t,n){this.update=t,this.deps=n}eventObserved(t){t.type=="change"&&Ot.write(this.update)}};function _k(t,n){const o=new Set;return of.dependencies=o,t.style&&(t={...t,style:n.createAnimatedStyle(t.style)}),t=new zf(t),of.dependencies=null,[t,o]}function xk(t,n){return t&&(it.fun(t)?t(n):t.current=n),n}var vv=Symbol.for("AnimatedComponent"),wk=(t,{applyAnimatedValues:n=()=>!1,createAnimatedStyle:o=p=>new zf(p),getComponentProps:i=p=>p}={})=>{const p={applyAnimatedValues:n,createAnimatedStyle:o,getComponentProps:i},m=w=>{const r=bv(w)||"Anonymous";return it.str(w)?w=m[w]||(m[w]=gv(w,p)):w=w[vv]||(w[vv]=gv(w,p)),w.displayName=`Animated(${r})`,w};return ho(t,(w,r)=>{it.arr(t)&&(r=bv(w)),m[r]=m(w)}),{animated:m}},bv=t=>it.str(t)?t:t&&it.str(t.displayName)?t.displayName:it.fun(t)&&t.name||null;function Ni(t,...n){return it.fun(t)?t(...n):t}var hl=(t,n)=>t===!0||!!(n&&t&&(it.fun(t)?t(n):bn(t).includes(n))),lx=(t,n)=>it.obj(t)?n&&t[n]:t,ux=(t,n)=>t.default===!0?t[n]:t.default?t.default[n]:void 0,jk=t=>t,Xm=(t,n=jk)=>{let o=Sk;t.default&&t.default!==!0&&(t=t.default,o=Object.keys(t));const i={};for(const p of o){const m=n(t[p],p);it.und(m)||(i[p]=m)}return i},Sk=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Tk={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Ek(t){const n={};let o=0;if(ho(t,(i,p)=>{Tk[p]||(n[p]=i,o++)}),o)return n}function cx(t){const n=Ek(t);if(n){const o={to:n};return ho(t,(i,p)=>p in n||(o[p]=i)),o}return{...t}}function Gl(t){return t=on(t),it.arr(t)?t.map(Gl):Gf(t)?Zn.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function kk(t){for(const n in t)return!0;return!1}function wp(t){return it.fun(t)||it.arr(t)&&it.obj(t[0])}function Ck(t,n){var o;(o=t.ref)==null||o.delete(t),n==null||n.delete(t)}function Pk(t,n){var o;n&&t.ref!==n&&((o=t.ref)==null||o.delete(t),n.add(t),t.ref=n)}var Ok={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},jp={...Ok.default,mass:1,damping:1,easing:rk.linear,clamp:!1},Ak=class{constructor(){this.velocity=0,Object.assign(this,jp)}};function Mk(t,n,o){o&&(o={...o},_v(o,n),n={...o,...n}),_v(t,n),Object.assign(t,n);for(const w in jp)t[w]==null&&(t[w]=jp[w]);let{frequency:i,damping:p}=t;const{mass:m}=t;return it.und(i)||(i<.01&&(i=.01),p<0&&(p=0),t.tension=Math.pow(2*Math.PI/i,2)*m,t.friction=4*Math.PI*p*m/i),t}function _v(t,n){if(!it.und(n.decay))t.duration=void 0;else{const o=!it.und(n.tension)||!it.und(n.friction);(o||!it.und(n.frequency)||!it.und(n.damping)||!it.und(n.mass))&&(t.duration=void 0,t.decay=void 0),o&&(t.frequency=void 0)}}var xv=[],Rk=class{constructor(){this.changed=!1,this.values=xv,this.toValues=null,this.fromValues=xv,this.config=new Ak,this.immediate=!1}};function fx(t,{key:n,props:o,defaultProps:i,state:p,actions:m}){return new Promise((w,r)=>{let E,y,h=hl(o.cancel??(i==null?void 0:i.cancel),n);if(h)x();else{it.und(o.pause)||(p.paused=hl(o.pause,n));let S=i==null?void 0:i.pause;S!==!0&&(S=p.paused||hl(S,n)),E=Ni(o.delay||0,n),S?(p.resumeQueue.add(c),m.pause()):(m.resume(),c())}function a(){p.resumeQueue.add(c),p.timeouts.delete(y),y.cancel(),E=y.time-Ot.now()}function c(){E>0&&!Zn.skipAnimation?(p.delayed=!0,y=Ot.setTimeout(x,E),p.pauseQueue.add(a),p.timeouts.add(y)):x()}function x(){p.delayed&&(p.delayed=!1),p.pauseQueue.delete(a),p.timeouts.delete(y),t<=(p.cancelId||0)&&(h=!0);try{m.start({...o,callId:t,cancel:h},w)}catch(S){r(S)}}})}var Ym=(t,n)=>n.length==1?n[0]:n.some(o=>o.cancelled)?ta(t.get()):n.every(o=>o.noop)?dx(t.get()):Wn(t.get(),n.every(o=>o.finished)),dx=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Wn=(t,n,o=!1)=>({value:t,finished:n,cancelled:o}),ta=t=>({value:t,cancelled:!0,finished:!1});function hx(t,n,o,i){const{callId:p,parentId:m,onRest:w}=n,{asyncTo:r,promise:E}=o;return!m&&t===r&&!n.reset?E:o.promise=(async()=>{o.asyncId=p,o.asyncTo=t;const y=Xm(n,(f,u)=>u==="onRest"?void 0:f);let h,a;const c=new Promise((f,u)=>(h=f,a=u)),x=f=>{const u=p<=(o.cancelId||0)&&ta(i)||p!==o.asyncId&&Wn(i,!1);if(u)throw f.result=u,a(f),f},S=(f,u)=>{const s=new wv,d=new jv;return(async()=>{if(Zn.skipAnimation)throw Vl(o),d.result=Wn(i,!1),a(d),d;x(s);const g=it.obj(f)?{...f}:{...u,to:f};g.parentId=p,ho(y,(v,j)=>{it.und(g[j])&&(g[j]=v)});const _=await i.start(g);return x(s),o.paused&&await new Promise(v=>{o.resumeQueue.add(v)}),_})()};let l;if(Zn.skipAnimation)return Vl(o),Wn(i,!1);try{let f;it.arr(t)?f=(async u=>{for(const s of u)await S(s)})(t):f=Promise.resolve(t(S,i.stop.bind(i))),await Promise.all([f.then(h),c]),l=Wn(i.get(),!0,!1)}catch(f){if(f instanceof wv)l=f.result;else if(f instanceof jv)l=f.result;else throw f}finally{p==o.asyncId&&(o.asyncId=m,o.asyncTo=m?r:void 0,o.promise=m?E:void 0)}return it.fun(w)&&Ot.batchedUpdates(()=>{w(l,i,i.item)}),l})()}function Vl(t,n){fl(t.timeouts,o=>o.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,n&&(t.cancelId=n)}var wv=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},jv=class extends Error{constructor(){super("SkipAnimationSignal")}},Sp=t=>t instanceof Km,Lk=1,Km=class extends J_{constructor(){super(...arguments),this.id=Lk++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=ao(this);return t&&t.getValue()}to(...t){return Zn.to(this,t)}interpolate(...t){return ck(),Zn.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,n=!1){Fl(this,{type:"change",parent:this,value:t,idle:n})}_onPriorityChange(t){this.idle||Nf.sort(this),Fl(this,{type:"priority",parent:this,priority:t})}},Yi=Symbol.for("SpringPhase"),px=1,Tp=2,Ep=4,ih=t=>(t[Yi]&px)>0,Vo=t=>(t[Yi]&Tp)>0,Ua=t=>(t[Yi]&Ep)>0,Sv=(t,n)=>n?t[Yi]|=Tp|px:t[Yi]&=~Tp,Tv=(t,n)=>n?t[Yi]|=Ep:t[Yi]&=~Ep,Ik=class extends Km{constructor(t,n){if(super(),this.animation=new Rk,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!it.und(t)||!it.und(n)){const o=it.obj(t)?{...t}:{...n,from:t};it.und(o.default)&&(o.default=!0),this.start(o)}}get idle(){return!(Vo(this)||this._state.asyncTo)||Ua(this)}get goal(){return on(this.animation.to)}get velocity(){const t=ao(this);return t instanceof eu?t.lastVelocity||0:t.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return ih(this)}get isAnimating(){return Vo(this)}get isPaused(){return Ua(this)}get isDelayed(){return this._state.delayed}advance(t){let n=!0,o=!1;const i=this.animation;let{toValues:p}=i;const{config:m}=i,w=Vf(i.to);!w&&On(i.to)&&(p=bn(on(i.to))),i.values.forEach((y,h)=>{if(y.done)return;const a=y.constructor==Ul?1:w?w[h].lastPosition:p[h];let c=i.immediate,x=a;if(!c){if(x=y.lastPosition,m.tension<=0){y.done=!0;return}let S=y.elapsedTime+=t;const l=i.fromValues[h],f=y.v0!=null?y.v0:y.v0=it.arr(m.velocity)?m.velocity[h]:m.velocity;let u;const s=m.precision||(l==a?.005:Math.min(1,Math.abs(a-l)*.001));if(it.und(m.duration))if(m.decay){const d=m.decay===!0?.998:m.decay,g=Math.exp(-(1-d)*S);x=l+f/(1-d)*(1-g),c=Math.abs(y.lastPosition-x)<=s,u=f*g}else{u=y.lastVelocity==null?f:y.lastVelocity;const d=m.restVelocity||s/10,g=m.clamp?0:m.bounce,_=!it.und(g),v=l==a?y.v0>0:l<a;let j,T=!1;const C=1,L=Math.ceil(t/C);for(let R=0;R<L&&(j=Math.abs(u)>d,!(!j&&(c=Math.abs(a-x)<=s,c)));++R){_&&(T=x==a||x>a==v,T&&(u=-u*g,x=a));const P=-m.tension*1e-6*(x-a),B=-m.friction*.001*u,M=(P+B)/m.mass;u=u+M*C,x=x+u*C}}else{let d=1;m.duration>0&&(this._memoizedDuration!==m.duration&&(this._memoizedDuration=m.duration,y.durationProgress>0&&(y.elapsedTime=m.duration*y.durationProgress,S=y.elapsedTime+=t)),d=(m.progress||0)+S/this._memoizedDuration,d=d>1?1:d<0?0:d,y.durationProgress=d),x=l+m.easing(d)*(a-l),u=(x-y.lastPosition)/t,c=d==1}y.lastVelocity=u,Number.isNaN(x)&&(console.warn("Got NaN while animating:",this),c=!0)}w&&!w[h].done&&(c=!1),c?y.done=!0:n=!1,y.setValue(x,m.round)&&(o=!0)});const r=ao(this),E=r.getValue();if(n){const y=on(i.to);(E!==y||o)&&!m.decay?(r.setValue(y),this._onChange(y)):o&&m.decay&&this._onChange(E),this._stop()}else o&&this._onChange(E)}set(t){return Ot.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Vo(this)){const{to:t,config:n}=this.animation;Ot.batchedUpdates(()=>{this._onStart(),n.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,n){let o;return it.und(t)?(o=this.queue||[],this.queue=[]):o=[it.obj(t)?t:{...n,to:t}],Promise.all(o.map(i=>this._update(i))).then(i=>Ym(this,i))}stop(t){const{to:n}=this.animation;return this._focus(this.get()),Vl(this._state,t&&this._lastCallId),Ot.batchedUpdates(()=>this._stop(n,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const n=this.key||"";let{to:o,from:i}=t;o=it.obj(o)?o[n]:o,(o==null||wp(o))&&(o=void 0),i=it.obj(i)?i[n]:i,i==null&&(i=void 0);const p={to:o,from:i};return ih(this)||(t.reverse&&([o,i]=[i,o]),i=on(i),it.und(i)?ao(this)||this._set(o):this._set(i)),p}_update({...t},n){const{key:o,defaultProps:i}=this;t.default&&Object.assign(i,Xm(t,(w,r)=>/^on/.test(r)?lx(w,o):w)),kv(this,t,"onProps"),Va(this,"onProps",t,this);const p=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const m=this._state;return fx(++this._lastCallId,{key:o,props:t,defaultProps:i,state:m,actions:{pause:()=>{Ua(this)||(Tv(this,!0),Qa(m.pauseQueue),Va(this,"onPause",Wn(this,Ga(this,this.animation.to)),this))},resume:()=>{Ua(this)&&(Tv(this,!1),Vo(this)&&this._resume(),Qa(m.resumeQueue),Va(this,"onResume",Wn(this,Ga(this,this.animation.to)),this))},start:this._merge.bind(this,p)}}).then(w=>{if(t.loop&&w.finished&&!(n&&w.noop)){const r=mx(t);if(r)return this._update(r,!0)}return w})}_merge(t,n,o){if(n.cancel)return this.stop(!0),o(ta(this));const i=!it.und(t.to),p=!it.und(t.from);if(i||p)if(n.callId>this._lastToId)this._lastToId=n.callId;else return o(ta(this));const{key:m,defaultProps:w,animation:r}=this,{to:E,from:y}=r;let{to:h=E,from:a=y}=t;p&&!i&&(!n.default||it.und(h))&&(h=a),n.reverse&&([h,a]=[a,h]);const c=!wo(a,y);c&&(r.from=a),a=on(a);const x=!wo(h,E);x&&this._focus(h);const S=wp(n.to),{config:l}=r,{decay:f,velocity:u}=l;(i||p)&&(l.velocity=0),n.config&&!S&&Mk(l,Ni(n.config,m),n.config!==w.config?Ni(w.config,m):void 0);let s=ao(this);if(!s||it.und(h))return o(Wn(this,!0));const d=it.und(n.reset)?p&&!n.default:!it.und(a)&&hl(n.reset,m),g=d?a:this.get(),_=Gl(h),v=it.num(_)||it.arr(_)||Gf(_),j=!S&&(!v||hl(w.immediate||n.immediate,m));if(x){const R=xp(h);if(R!==s.constructor)if(j)s=this._set(_);else throw Error(`Cannot animate between ${s.constructor.name} and ${R.name}, as the "to" prop suggests`)}const T=s.constructor;let C=On(h),L=!1;if(!C){const R=d||!ih(this)&&c;(x||R)&&(L=wo(Gl(g),_),C=!L),(!wo(r.immediate,j)&&!j||!wo(l.decay,f)||!wo(l.velocity,u))&&(C=!0)}if(L&&Vo(this)&&(r.changed&&!d?C=!0:C||this._stop(E)),!S&&((C||On(E))&&(r.values=s.getPayload(),r.toValues=On(h)?null:T==Ul?[1]:bn(_)),r.immediate!=j&&(r.immediate=j,!j&&!d&&this._set(E)),C)){const{onRest:R}=r;Bt(Fk,B=>kv(this,n,B));const P=Wn(this,Ga(this,E));Qa(this._pendingCalls,P),this._pendingCalls.add(o),r.changed&&Ot.batchedUpdates(()=>{var B;r.changed=!d,R==null||R(P,this),d?Ni(w.onRest,P):(B=r.onStart)==null||B.call(r,P,this)})}d&&this._set(g),S?o(hx(n.to,n,this._state,this)):C?this._start():Vo(this)&&!x?this._pendingCalls.add(o):o(dx(g))}_focus(t){const n=this.animation;t!==n.to&&(pv(this)&&this._detach(),n.to=t,pv(this)&&this._attach())}_attach(){let t=0;const{to:n}=this.animation;On(n)&&(pa(n,this),Sp(n)&&(t=n.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;On(t)&&Nl(t,this)}_set(t,n=!0){const o=on(t);if(!it.und(o)){const i=ao(this);if(!i||!wo(o,i.getValue())){const p=xp(o);!i||i.constructor!=p?qm(this,p.create(o)):i.setValue(o),i&&Ot.batchedUpdates(()=>{this._onChange(o,n)})}}return ao(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Va(this,"onStart",Wn(this,Ga(this,t.to)),this))}_onChange(t,n){n||(this._onStart(),Ni(this.animation.onChange,t,this)),Ni(this.defaultProps.onChange,t,this),super._onChange(t,n)}_start(){const t=this.animation;ao(this).reset(on(t.to)),t.immediate||(t.fromValues=t.values.map(n=>n.lastPosition)),Vo(this)||(Sv(this,!0),Ua(this)||this._resume())}_resume(){Zn.skipAnimation?this.finish():Nf.start(this)}_stop(t,n){if(Vo(this)){Sv(this,!1);const o=this.animation;Bt(o.values,p=>{p.done=!0}),o.toValues&&(o.onChange=o.onPause=o.onResume=void 0),Fl(this,{type:"idle",parent:this});const i=n?ta(this.get()):Wn(this.get(),Ga(this,t??o.to));Qa(this._pendingCalls,i),o.changed&&(o.changed=!1,Va(this,"onRest",i,this))}}};function Ga(t,n){const o=Gl(n),i=Gl(t.get());return wo(i,o)}function mx(t,n=t.loop,o=t.to){const i=Ni(n);if(i){const p=i!==!0&&cx(i),m=(p||t).reverse,w=!p||p.reset;return zl({...t,loop:n,default:!1,pause:void 0,to:!m||wp(o)?o:void 0,from:w?t.from:void 0,reset:w,...p})}}function zl(t){const{to:n,from:o}=t=cx(t),i=new Set;return it.obj(n)&&Ev(n,i),it.obj(o)&&Ev(o,i),t.keys=i.size?Array.from(i):null,t}function Dk(t){const n=zl(t);return it.und(n.default)&&(n.default=Xm(n)),n}function Ev(t,n){ho(t,(o,i)=>o!=null&&n.add(i))}var Fk=["onStart","onRest","onChange","onPause","onResume"];function kv(t,n,o){t.animation[o]=n[o]!==ux(n,o)?lx(n[o],t.key):void 0}function Va(t,n,...o){var i,p,m,w;(p=(i=t.animation)[n])==null||p.call(i,...o),(w=(m=t.defaultProps)[n])==null||w.call(m,...o)}var Nk=["onStart","onChange","onRest"],Bk=1,Uk=class{constructor(t,n){this.id=Bk++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((n,o)=>t[o]=n.get()),t}set(t){for(const n in t){const o=t[n];it.und(o)||this.springs[n].set(o)}}update(t){return t&&this.queue.push(zl(t)),this}start(t){let{queue:n}=this;return t?n=bn(t).map(zl):this.queue=[],this._flush?this._flush(this,n):(_x(this,n),kp(this,n))}stop(t,n){if(t!==!!t&&(n=t),n){const o=this.springs;Bt(bn(n),i=>o[i].stop(!!t))}else Vl(this._state,this._lastAsyncId),this.each(o=>o.stop(!!t));return this}pause(t){if(it.und(t))this.start({pause:!0});else{const n=this.springs;Bt(bn(t),o=>n[o].pause())}return this}resume(t){if(it.und(t))this.start({pause:!1});else{const n=this.springs;Bt(bn(t),o=>n[o].resume())}return this}each(t){ho(this.springs,t)}_onFrame(){const{onStart:t,onChange:n,onRest:o}=this._events,i=this._active.size>0,p=this._changed.size>0;(i&&!this._started||p&&!this._started)&&(this._started=!0,fl(t,([r,E])=>{E.value=this.get(),r(E,this,this._item)}));const m=!i&&this._started,w=p||m&&o.size?this.get():null;p&&n.size&&fl(n,([r,E])=>{E.value=w,r(E,this,this._item)}),m&&(this._started=!1,fl(o,([r,E])=>{E.value=w,r(E,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Ot.onFrame(this._onFrame)}};function kp(t,n){return Promise.all(n.map(o=>yx(t,o))).then(o=>Ym(t,o))}async function yx(t,n,o){const{keys:i,to:p,from:m,loop:w,onRest:r,onResolve:E}=n,y=it.obj(n.default)&&n.default;w&&(n.loop=!1),p===!1&&(n.to=null),m===!1&&(n.from=null);const h=it.arr(p)||it.fun(p)?p:void 0;h?(n.to=void 0,n.onRest=void 0,y&&(y.onRest=void 0)):Bt(Nk,l=>{const f=n[l];if(it.fun(f)){const u=t._events[l];n[l]=({finished:s,cancelled:d})=>{const g=u.get(f);g?(s||(g.finished=!1),d&&(g.cancelled=!0)):u.set(f,{value:null,finished:s||!1,cancelled:d||!1})},y&&(y[l]=n[l])}});const a=t._state;n.pause===!a.paused?(a.paused=n.pause,Qa(n.pause?a.pauseQueue:a.resumeQueue)):a.paused&&(n.pause=!0);const c=(i||Object.keys(t.springs)).map(l=>t.springs[l].start(n)),x=n.cancel===!0||ux(n,"cancel")===!0;(h||x&&a.asyncId)&&c.push(fx(++t._lastAsyncId,{props:n,state:a,actions:{pause:bp,resume:bp,start(l,f){x?(Vl(a,t._lastAsyncId),f(ta(t))):(l.onRest=r,f(hx(h,l,a,t)))}}})),a.paused&&await new Promise(l=>{a.resumeQueue.add(l)});const S=Ym(t,await Promise.all(c));if(w&&S.finished&&!(o&&S.noop)){const l=mx(n,w,p);if(l)return _x(t,[l]),yx(t,l,!0)}return E&&Ot.batchedUpdates(()=>E(S,t,t.item)),S}function Cv(t,n){const o={...t.springs};return n&&Bt(bn(n),i=>{it.und(i.keys)&&(i=zl(i)),it.obj(i.to)||(i={...i,to:void 0}),bx(o,i,p=>vx(p))}),gx(t,o),o}function gx(t,n){ho(n,(o,i)=>{t.springs[i]||(t.springs[i]=o,pa(o,t))})}function vx(t,n){const o=new Ik;return o.key=t,n&&pa(o,n),o}function bx(t,n,o){n.keys&&Bt(n.keys,i=>{(t[i]||(t[i]=o(i)))._prepareNode(n)})}function _x(t,n){Bt(n,o=>{bx(t.springs,o,i=>vx(i,t))})}var $f=({children:t,...n})=>{const o=Le.useContext(sf),i=n.pause||!!o.pause,p=n.immediate||!!o.immediate;n=pk(()=>({pause:i,immediate:p}),[i,p]);const{Provider:m}=sf;return Le.createElement(m,{value:n},t)},sf=Gk($f,{});$f.Provider=sf.Provider;$f.Consumer=sf.Consumer;function Gk(t,n){return Object.assign(t,Le.createContext(n)),t.Provider._context=t,t.Consumer._context=t,t}var Vk=()=>{const t=[],n=function(i){dk();const p=[];return Bt(t,(m,w)=>{if(it.und(i))p.push(m.start());else{const r=o(i,m,w);r&&p.push(m.start(r))}}),p};n.current=t,n.add=function(i){t.includes(i)||t.push(i)},n.delete=function(i){const p=t.indexOf(i);~p&&t.splice(p,1)},n.pause=function(){return Bt(t,i=>i.pause(...arguments)),this},n.resume=function(){return Bt(t,i=>i.resume(...arguments)),this},n.set=function(i){Bt(t,(p,m)=>{const w=it.fun(i)?i(m,p):i;w&&p.set(w)})},n.start=function(i){const p=[];return Bt(t,(m,w)=>{if(it.und(i))p.push(m.start());else{const r=this._getProps(i,m,w);r&&p.push(m.start(r))}}),p},n.stop=function(){return Bt(t,i=>i.stop(...arguments)),this},n.update=function(i){return Bt(t,(p,m)=>p.update(this._getProps(i,p,m))),this};const o=function(i,p,m){return it.fun(i)?i(m,p):i};return n._getProps=o,n};function zk(t,n,o){const i=it.fun(n)&&n;i&&!o&&(o=[]);const p=Le.useMemo(()=>i||arguments.length==3?Vk():void 0,[]),m=Le.useRef(0),w=ox(),r=Le.useMemo(()=>({ctrls:[],queue:[],flush(u,s){const d=Cv(u,s);return m.current>0&&!r.queue.length&&!Object.keys(d).some(_=>!u.springs[_])?kp(u,s):new Promise(_=>{gx(u,d),r.queue.push(()=>{_(kp(u,s))}),w()})}}),[]),E=Le.useRef([...r.ctrls]),y=[],h=yv(t)||0;Le.useMemo(()=>{Bt(E.current.slice(t,h),u=>{Ck(u,p),u.stop(!0)}),E.current.length=t,a(h,t)},[t]),Le.useMemo(()=>{a(0,Math.min(h,t))},o);function a(u,s){for(let d=u;d<s;d++){const g=E.current[d]||(E.current[d]=new Uk(null,r.flush)),_=i?i(d,g):n[d];_&&(y[d]=Dk(_))}}const c=E.current.map((u,s)=>Cv(u,y[s])),x=Le.useContext($f),S=yv(x),l=x!==S&&kk(x);Hm(()=>{m.current++,r.ctrls=E.current;const{queue:u}=r;u.length&&(r.queue=[],Bt(u,s=>s())),Bt(E.current,(s,d)=>{p==null||p.add(s),l&&s.start({default:x});const g=y[d];g&&(Pk(s,g.ref),s.ref?s.queue.push(g):s.start(g))})}),ix(()=>()=>{Bt(r.ctrls,u=>u.stop(!0))});const f=c.map(u=>({...u}));return p?[f,p]:f}function $k(t,n){const o=it.fun(t),[[i],p]=zk(1,o?t:[t],o?[]:n);return o||arguments.length==2?[i,p]:i}var Wk=class extends Km{constructor(t,n){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=Il(...n);const o=this._get(),i=xp(o);qm(this,i.create(o))}advance(t){const n=this._get(),o=this.get();wo(n,o)||(ao(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&Pv(this._active)&&sh(this)}_get(){const t=it.arr(this.source)?this.source.map(on):bn(on(this.source));return this.calc(...t)}_start(){this.idle&&!Pv(this._active)&&(this.idle=!1,Bt(Vf(this),t=>{t.done=!1}),Zn.skipAnimation?(Ot.batchedUpdates(()=>this.advance()),sh(this)):Nf.start(this))}_attach(){let t=1;Bt(bn(this.source),n=>{On(n)&&pa(n,this),Sp(n)&&(n.idle||this._active.add(n),t=Math.max(t,n.priority+1))}),this.priority=t,this._start()}_detach(){Bt(bn(this.source),t=>{On(t)&&Nl(t,this)}),this._active.clear(),sh(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=bn(this.source).reduce((n,o)=>Math.max(n,(Sp(o)?o.priority:0)+1),0))}};function Hk(t){return t.idle!==!1}function Pv(t){return!t.size||Array.from(t).every(Hk)}function sh(t){t.idle||(t.idle=!0,Bt(Vf(t),n=>{n.done=!0}),Fl(t,{type:"idle",parent:t}))}Zn.assign({createStringInterpolator:rx,to:(t,n)=>new Wk(t,n)});var xx=/^--/;function qk(t,n){return n==null||typeof n=="boolean"||n===""?"":typeof n=="number"&&n!==0&&!xx.test(t)&&!(pl.hasOwnProperty(t)&&pl[t])?n+"px":(""+n).trim()}var Ov={};function Xk(t,n){if(!t.nodeType||!t.setAttribute)return!1;const o=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:i,children:p,scrollTop:m,scrollLeft:w,viewBox:r,...E}=n,y=Object.values(E),h=Object.keys(E).map(a=>o||t.hasAttribute(a)?a:Ov[a]||(Ov[a]=a.replace(/([A-Z])/g,c=>"-"+c.toLowerCase())));p!==void 0&&(t.textContent=p);for(const a in i)if(i.hasOwnProperty(a)){const c=qk(a,i[a]);xx.test(a)?t.style.setProperty(a,c):t.style[a]=c}h.forEach((a,c)=>{t.setAttribute(a,y[c])}),m!==void 0&&(t.scrollTop=m),w!==void 0&&(t.scrollLeft=w),r!==void 0&&t.setAttribute("viewBox",r)}var pl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yk=(t,n)=>t+n.charAt(0).toUpperCase()+n.substring(1),Kk=["Webkit","Ms","Moz","O"];pl=Object.keys(pl).reduce((t,n)=>(Kk.forEach(o=>t[Yk(o,n)]=t[n]),t),pl);var Zk=/^(matrix|translate|scale|rotate|skew)/,Qk=/^(translate)/,Jk=/^(rotate|skew)/,ah=(t,n)=>it.num(t)&&t!==0?t+n:t,Ec=(t,n)=>it.arr(t)?t.every(o=>Ec(o,n)):it.num(t)?t===n:parseFloat(t)===n,eC=class extends zf{constructor({x:t,y:n,z:o,...i}){const p=[],m=[];(t||n||o)&&(p.push([t||0,n||0,o||0]),m.push(w=>[`translate3d(${w.map(r=>ah(r,"px")).join(",")})`,Ec(w,0)])),ho(i,(w,r)=>{if(r==="transform")p.push([w||""]),m.push(E=>[E,E===""]);else if(Zk.test(r)){if(delete i[r],it.und(w))return;const E=Qk.test(r)?"px":Jk.test(r)?"deg":"";p.push(bn(w)),m.push(r==="rotate3d"?([y,h,a,c])=>[`rotate3d(${y},${h},${a},${ah(c,E)})`,Ec(c,0)]:y=>[`${r}(${y.map(h=>ah(h,E)).join(",")})`,Ec(y,r.startsWith("scale")?1:0)])}}),p.length&&(i.transform=new tC(p,m)),super(i)}},tC=class extends J_{constructor(t,n){super(),this.inputs=t,this.transforms=n,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",n=!0;return Bt(this.inputs,(o,i)=>{const p=on(o[0]),[m,w]=this.transforms[i](it.arr(p)?p:o.map(on));t+=" "+m,n=n&&w}),n?"none":t}observerAdded(t){t==1&&Bt(this.inputs,n=>Bt(n,o=>On(o)&&pa(o,this)))}observerRemoved(t){t==0&&Bt(this.inputs,n=>Bt(n,o=>On(o)&&Nl(o,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Fl(this,t)}},rC=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Zn.assign({batchedUpdates:T_.unstable_batchedUpdates,createStringInterpolator:rx,colors:zE});var nC=wk(rC,{applyAnimatedValues:Xk,createAnimatedStyle:t=>new eC(t),getComponentProps:({scrollTop:t,scrollLeft:n,...o})=>o}),oC=nC.animated,iC=function(t,n){var o=Le.useRef(function(){});Le.useEffect(function(){o.current=t}),Le.useEffect(function(){{var i=setInterval(function(){return o.current()},n);return function(){return clearInterval(i)}}},[n])};const sC=async()=>{try{const t=await fetch("http://localhost:3977/media/media");if(!t.ok)throw new Error("Error fetching media");return await t.json()}catch(t){throw console.error("Error fetching media:",t),t}},aC=async t=>{try{return await(await fetch(`http://localhost:3977/media/byUser/${t}`)).json()}catch(n){return console.error(`Error fetching media for user with ID ${t}:`,n),[]}},lC=async t=>{try{const n=await fetch("http://localhost:3977/media/upload",{method:"POST",body:t});if(n.ok){const o=await n.json();return console.log("Media uploaded successfully:",o),{success:!0,data:o}}else return console.error("Error uploading media"),{success:!1,error:"Error uploading media"}}catch(n){return console.error("Error uploading media:",n),{success:!1,error:"Error uploading media"}}},Av=(t,n)=>t.slice().sort(()=>Math.random()-.5).slice(0,n).map(i=>t.indexOf(i)),Mv=t=>{const n=[];for(let p=0;p<t;p++){let m,w;do m=Math.random()*300,w=Math.random()*500;while(uC(n,m,w,200,200));n.push({left:`${m}px`,top:`${w}px`})}return n},uC=(t,n,o,i,p)=>{for(const m of t){const w=n<m.left+i+20&&n+i+20>m.left,r=o<m.top+p+20&&o+p+20>m.top;if(w&&r)return!0}return!1},cC=()=>{const[t,n]=Le.useState([]),[o,i]=Le.useState([]),[p,m]=Le.useState([]),[w,r]=Le.useState(0),[E,y]=Le.useState(!0);Le.useEffect(()=>{(async()=>{try{const x=await sC();n(x);const S=Av(x,30);i(S);const l=Mv(30);m(l),y(!1)}catch(x){console.error("Error fetching artworks",x)}})()},[]);const h=()=>{const c=Av(t,30);i(c);const x=Mv(30);m(x),r(c[0])},a=$k({opacity:1,from:{opacity:0},config:{duration:500},onRest:h});return iC(h,9e3),{props:a,indexes:o,positions:p,currentIndex:w,media:t,loading:E}},fC=()=>{const{props:t,positions:n,currentIndex:o,media:i,loading:p}=cC(),m=w=>{console.log(`Clic en la imagen del usuario con ID: ${w}`)};return Oe.jsx("div",{className:"images-content",style:{width:"500px",height:"700px",position:"relative",overflow:"hidden"},children:p?Oe.jsx("div",{className:"loading",children:"Loading..."}):Oe.jsx("div",{className:"animated-collection-container",children:i.length>0&&Oe.jsx("div",{className:"animated-media-container",children:n.map((w,r)=>Oe.jsx(oC.div,{style:{...t,position:"absolute",left:w&&w.left,top:w&&w.top,width:"200px"},children:i[r]&&Oe.jsx(Xo,{to:`/creatives/${i[r].UserID}`,onClick:()=>m(i[r].UserID),children:Oe.jsx("img",{className:`animated-media-image ${r===o?"active":""}`,src:i[r].Image,alt:i[r].Title,style:{width:"100%",objectFit:"cover"}})},i[r].ID)},r))})})})},dC=()=>Oe.jsxs(Oe.Fragment,{children:[Oe.jsx("div",{className:"magazine",children:Oe.jsx("h2",{className:"title",children:" MAGAZINE "})}),Oe.jsxs("div",{className:"animated",children:[Oe.jsxs("div",{className:"text-animation",children:["Outlaw Man (, Autor Man): Fue publicado como una historia especial en la revista Shnen Jump en 1982. La trama gira en torno a un personaje principal que se encuentra en situaciones de conflicto y aventuras en un entorno que puede ser hostil o lleno de peligros. La obra destaca por su narrativa llena de accin y su estilo distintivo de dibujo.",Oe.jsx("br",{}),Oe.jsx("br",{}),"Mashnen B. T. (, Mashnen bt): Este manga fue serializado en la revista Shnen Jump semanal desde 1982 hasta 1983. La historia sigue las aventuras de un joven protagonista que posee habilidades especiales o sobrenaturales, y su lucha contra fuerzas malignas o situaciones complicadas. El manga fue recopilado en un volumen en 1984.",Oe.jsx("br",{}),Oe.jsx("br",{}),"Baoh (, Ba Raohsha): Publicado en la revista Shnen Jump semanal de 1984 a 1985, Baoh es una obra que mezcla accin, ciencia ficcin y elementos sobrenaturales. La trama se centra en un adolescente que adquiere poderes especiales despus de ser sometido a experimentos cientficos. La serie destaca por sus intensas batallas y su estilo visual nico.",Oe.jsx("br",{}),Oe.jsx("br",{}),"Gorgeous Irene: Esta obra es una coleccin de one-shots, que son historias autoconclusivas, publicada en 1987. Cada historia ofrece una narrativa independiente con personajes y situaciones nicas. Estas historias pueden variar en gnero y tono, desde la comedia hasta el drama o la accin.",Oe.jsx("br",{}),Oe.jsx("br",{})]}),Oe.jsx(fC,{})]})]}),hC=({credentials:t,handleChange:n,handleSubmit:o,error:i})=>Oe.jsx(Oe.Fragment,{children:Oe.jsx("div",{className:"my-container-login",children:Oe.jsx("div",{className:"my-form-items",children:Oe.jsxs("form",{className:"my-form",onSubmit:o,children:[Oe.jsxs("div",{className:"my-input-container-form",children:[Oe.jsx("label",{className:"my-label-form",children:" Username "}),Oe.jsx("input",{type:"text",className:"my-input-form",name:"Username",value:t.Username,onChange:n})]}),Oe.jsxs("div",{className:"my-input-container-form",children:[Oe.jsx("label",{className:"my-label-form",children:" Password "}),Oe.jsx("input",{className:"my-input-form",type:"password",name:"Password",value:t.Password,onChange:n})]}),Oe.jsxs("div",{className:"my-input-container-form",children:[i&&Oe.jsx("div",{style:{color:"red"},children:i}),Oe.jsx("button",{className:"my-button-form",type:"submit",children:"Sign in"})]}),Oe.jsx("div",{className:"my-input-container-form",children:Oe.jsx(Xo,{className:"my-link-form",to:"/Register",children:"Sign up"})})]})})})}),pC=()=>{const[t,n]=Le.useState({username:"",password:""}),[o,i]=Le.useState(""),{login:p}=Le.useContext(If),m=L_(),w=E=>{const{name:y,value:h}=E.target;n({...t,[y]:h})},r=async E=>{E.preventDefault();const y=await rE(t);y.success?(localStorage.setItem("token",y.token),p(y.user),m("/")):i(y.error)};return Oe.jsx("div",{children:Oe.jsx(hC,{credentials:t,handleChange:w,handleSubmit:r,error:o})})},mC=()=>{const{user:t}=Le.useContext(If),[n,o]=Le.useState([]),[i,p]=Le.useState(!0),[m,w]=Le.useState(null),[r,E]=Le.useState(null),[y,h]=Le.useState(!1);Le.useEffect(()=>{(async()=>{if(t)try{const l=await aC(t.ID);o(l),console.log(l)}catch(l){console.error("Error fetching user media:",l)}finally{p(!1)}})()},[t]);const a=S=>{w(S.target.files[0])},c=async S=>{if(S.preventDefault(),!m){alert("Por favor selecciona un archivo");return}const l=new FormData;l.append("Image",m),l.append("UserID",t.ID);try{const f=await lC(l);f.success?(E("Foto subida exitosamente!"),o(u=>[...u,f.data]),w(null),h(!1),console.log("Media uploaded successfully:",f.data)):E("Error al subir la foto")}catch(f){console.error("Error uploading media:",f),E("Error al subir la foto")}},x=()=>{h(!0)};return t?Oe.jsxs("div",{className:"profile-container",children:[Oe.jsxs("div",{className:"profile-header",children:[Oe.jsx("img",{className:"profile-image",src:t.Image,alt:"Profile"}),Oe.jsx("h2",{className:"profile-username",children:t.Username})]}),Oe.jsxs("div",{className:"profile-details",children:[Oe.jsx("p",{className:"profile-bio",children:t.Bio?t.Bio:"No bio available"}),Oe.jsx("p",{className:"profile-email",children:t.Email})]}),Oe.jsxs("div",{className:"profile-media",children:[Oe.jsx("h3",{children:"User Media"}),Oe.jsx("div",{className:"image-uploader",children:r?Oe.jsx("p",{children:r}):Oe.jsxs("div",{children:[!y&&Oe.jsx("button",{className:"button-image-uploader",onClick:x,children:"POST PHOTO"}),y&&Oe.jsxs("form",{onSubmit:c,children:[Oe.jsx("input",{type:"file",onChange:a}),Oe.jsx("button",{type:"submit",disabled:!m,children:m?"Upload Media":"Select a file first"})]})]})}),i?Oe.jsx("div",{children:"Loading media..."}):Oe.jsx("div",{className:"media-grid",children:n.map(S=>Oe.jsx("div",{className:"media-item",children:Oe.jsx("img",{src:S.Image,className:"media-image"})},S.ID))})]})]}):Oe.jsx("div",{className:"loading",children:"Loading..."})},yC=()=>{const[t,n]=Le.useState(!1),[o]=Le.useState([]),[i,p]=Le.useState("ellipse"),[m,w]=Le.useState([]),[r,E]=Le.useState(null),[y,h]=Le.useState("#242424"),[a,c]=Le.useState("#14DCEB"),[x,S]=Le.useState(1),[l,f]=Le.useState(""),u=C=>{if(C.background(y),n(C.mouseX>0&&C.mouseX<C.width&&C.mouseY>0&&C.mouseY<C.height),C.mouseIsPressed&&t){if(i==="ellipse"){const L={type:"ellipse",x:C.mouseX,y:C.mouseY,size:x,color:a};w([...m,L])}else if(i==="line"&&!r)E({x:C.mouseX,y:C.mouseY});else if(i==="line"&&r){const L={type:"line",startX:r.x,startY:r.y,endX:C.mouseX,endY:C.mouseY,color:a,thickness:x};w([...m,L])}else if(i==="text"){const L={type:"text",x:C.mouseX,y:C.mouseY,color:a,size:x};w([...m,L])}}for(const L of o)for(const R of L)C.stroke(R.color),R.type==="ellipse"?C.ellipse(R.x,R.y,R.size,R.size):R.type==="line"?(C.strokeWeight(R.thickness),C.line(R.startX,R.startY,R.endX,R.endY)):R.type==="text"&&(C.textSize(R.size),C.text("*",R.x,R.y));for(const L of m)C.stroke(L.color),L.type==="ellipse"?C.ellipse(L.x,L.y,L.size,L.size):L.type==="line"?(C.strokeWeight(L.thickness),C.line(L.startX,L.startY,L.endX,L.endY)):L.type==="text"&&(C.textFont("Array"),C.textSize(L.size),C.text(l,L.x,L.y))},s=()=>{p("ellipse")},d=()=>{p("line")},g=()=>{p("text")},_=C=>{h(C.target.value)},v=C=>{c(C.target.value)},j=C=>{S(parseInt(C.target.value))},T=C=>{f(C.target.value)};return Oe.jsxs("div",{className:"sketch-draw-container",children:[Oe.jsxs("div",{children:[Oe.jsxs("div",{className:"sketch-buttons",children:[Oe.jsx("button",{onClick:s,children:"DRAW CIRCLE"}),Oe.jsx("button",{onClick:d,children:"DRAW LINE"}),Oe.jsx("button",{onClick:g,children:"PRINT TEXT"})]}),Oe.jsxs("div",{className:"sketch-controls",children:[Oe.jsx("label",{htmlFor:"backgroundColor",children:"BACKGROUND COLOR"}),Oe.jsx("input",{type:"color",id:"backgroundColor",value:y,onChange:_}),Oe.jsx("label",{htmlFor:"shapeColor",children:"SHAPE COLOR"}),Oe.jsx("input",{type:"color",id:"shapeColor",value:a,onChange:v}),Oe.jsx("label",{htmlFor:"shapeSize",children:"SHAPE SIZE"}),Oe.jsx("input",{className:"shapeSize",type:"range",id:"shapeSize",min:"1",max:"100",value:x,onChange:j}),Oe.jsx("label",{htmlFor:"textToPrint",children:"TEXT TO PRINT"}),Oe.jsx("input",{type:"text",id:"textToPrint",value:l,onChange:T})]})]}),Oe.jsx("div",{children:Oe.jsx(gi,{setup:N_,draw:u})})]})},gC=()=>{const[t,n]=Le.useState(.4),[o,i]=Le.useState(.4),[p,m]=Le.useState(!1),w=(a,c)=>{a.createCanvas(window.innerWidth,window.innerHeight).parent(c),a.angleMode(a.DEGREES),a.rectMode(a.CENTER)},r=a=>{a.background(255,0,0),a.noFill(),a.translate(a.width/2,a.height/2);for(let c=0;c<167;c++){a.push(),a.rotate(a.sin(a.frameCount+c)*500);const x={r:0,g:0,b:0};a.stroke(x.r,x.g,x.b),a.circle(t,o,500-c*3,500-c/3,500-c),a.pop()}},E=a=>{a.dist(a.width/2,a.height/2,a.mouseX,a.mouseY)<750&&m(!0)},y=()=>{m(!1)},h=a=>{p&&(n(a.mouseX-a.width/2),i(a.mouseY-a.height/2))};return Oe.jsx(gi,{setup:w,draw:r,mousePressed:E,mouseReleased:y,mouseDragged:h})},vC=()=>{const[t,n]=Le.useState([]),[o,i]=Le.useState(null);let p=0,m=0;const w=(y,h)=>{y.createCanvas(window.innerWidth,window.innerHeight).parent(h),y.angleMode(y.DEGREES),y.rectMode(y.CENTER),i(y.loadImage(gp));for(let a=0;a<50;a++){const c=new E(y,y.random(y.width),y.random(y.height));t.push(c)}},r=y=>{y.background(250),y.noFill();for(let h=t.length-1;h>=0;h--){const a=t[h];a.update(y),a.display(y),a.isDead()&&t.splice(h,1)}if(p!==y.mouseX||m!==y.mouseY){if(t.length<50){const h=new E(y,y.mouseX,y.mouseY);t.push(h)}p=y.mouseX,m=y.mouseY}};class E{constructor(h,a,c){this.position=h.createVector(a,c),this.velocity=h.createVector(h.random(-1,1),h.random(-1,1)),this.acceleration=h.createVector(),this.maxSpeed=3,this.maxForce=.05,this.particleImg=o,this.radius=h.random(4,10),this.alpha=255,this.particleImg=h.loadImage(gp),this.lifespan=30}update(h){this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed),this.position.add(this.velocity),this.acceleration.mult(0),this.alpha-=105/this.lifespan}display(h){const a=this.particleImg.width/this.particleImg.height,c=this.radius*10,x=c/a;h.tint(255,this.alpha),h.imageMode(h.CENTER),h.image(this.particleImg,this.position.x,this.position.y,c,x),h.noTint()}isDead(){return this.alpha<=0}}return Oe.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:-1},children:Oe.jsx(gi,{setup:w,draw:r})})};(function(){(function(t){var n={};function o(i){if(n[i])return n[i].exports;var p=n[i]={i,l:!1,exports:{}};return t[i].call(p.exports,p,p.exports,o),p.l=!0,p.exports}return o.m=t,o.c=n,o.d=function(i,p,m){o.o(i,p)||Object.defineProperty(i,p,{enumerable:!0,get:m})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,p){if(p&1&&(i=o(i)),p&8||p&4&&typeof i=="object"&&i&&i.__esModule)return i;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:i}),p&2&&typeof i!="string")for(var w in i)o.d(m,w,(function(r){return i[r]}).bind(null,w));return m},o.n=function(i){var p=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(p,"a",p),p},o.o=function(i,p){return Object.prototype.hasOwnProperty.call(i,p)},o.p="",o(o.s=40)})([function(t,n,o){var i;i=(function(){function p(w,r){this.isUndef(w)||w===1?this.input=this.context.createGain():1<w&&(this.input=new Array(w)),this.isUndef(r)||r===1?this.output=this.context.createGain():1<r&&(this.output=new Array(w))}var m;return p.prototype.set=function(w,r,E){if(this.isObject(w))E=r;else if(this.isString(w)){var y={};y[w]=r,w=y}e:for(var h in w){r=w[h];var a=this;if(h.indexOf(".")!==-1){for(var c=h.split("."),x=0;x<c.length-1;x++)if((a=a[c[x]])instanceof p){c.splice(0,x+1);var S=c.join(".");a.set(S,r);continue e}h=c[c.length-1]}var l=a[h];this.isUndef(l)||(p.Signal&&l instanceof p.Signal||p.Param&&l instanceof p.Param?l.value!==r&&(this.isUndef(E)?l.value=r:l.rampTo(r,E)):l instanceof AudioParam?l.value!==r&&(l.value=r):l instanceof p?l.set(r):l!==r&&(a[h]=r))}return this},p.prototype.get=function(w){this.isUndef(w)?w=this._collectDefaults(this.constructor):this.isString(w)&&(w=[w]);for(var r={},E=0;E<w.length;E++){var y=w[E],h=this,a=r;if(y.indexOf(".")!==-1){for(var c=y.split("."),x=0;x<c.length-1;x++){var S=c[x];a[S]=a[S]||{},a=a[S],h=h[S]}y=c[c.length-1]}var l=h[y];this.isObject(w[y])?a[y]=l.get():p.Signal&&l instanceof p.Signal||p.Param&&l instanceof p.Param||l instanceof AudioParam?a[y]=l.value:l instanceof p?a[y]=l.get():this.isFunction(l)||this.isUndef(l)||(a[y]=l)}return r},p.prototype._collectDefaults=function(w){var r=[];if(this.isUndef(w.defaults)||(r=Object.keys(w.defaults)),!this.isUndef(w._super))for(var E=this._collectDefaults(w._super),y=0;y<E.length;y++)r.indexOf(E[y])===-1&&r.push(E[y]);return r},p.prototype.toString=function(){for(var w in p){var r=w[0].match(/^[A-Z]$/),E=p[w]===this.constructor;if(this.isFunction(p[w])&&r&&E)return w}return"Tone"},Object.defineProperty(p.prototype,"numberOfInputs",{get:function(){return this.input?this.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(p.prototype,"numberOfOutputs",{get:function(){return this.output?this.isArray(this.output)?this.output.length:1:0}}),p.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this},p.prototype.connect=function(w,r,E){return Array.isArray(this.output)?(r=this.defaultArg(r,0),this.output[r].connect(w,0,E)):this.output.connect(w,r,E),this},p.prototype.disconnect=function(w,r,E){this.isArray(this.output)?this.isNumber(w)?this.output[w].disconnect():(r=this.defaultArg(r,0),this.output[r].disconnect(w,0,E)):this.output.disconnect.apply(this.output,arguments)},p.prototype.connectSeries=function(){if(1<arguments.length)for(var w=arguments[0],r=1;r<arguments.length;r++){var E=arguments[r];w.connect(E),w=E}return this},p.prototype.chain=function(){if(0<arguments.length)for(var w=this,r=0;r<arguments.length;r++){var E=arguments[r];w.connect(E),w=E}return this},p.prototype.fan=function(){if(0<arguments.length)for(var w=0;w<arguments.length;w++)this.connect(arguments[w]);return this},AudioNode.prototype.chain=p.prototype.chain,AudioNode.prototype.fan=p.prototype.fan,p.prototype.defaultArg=function(w,r){if(this.isObject(w)&&this.isObject(r)){var E={};for(var y in w)E[y]=this.defaultArg(r[y],w[y]);for(var h in r)E[h]=this.defaultArg(w[h],r[h]);return E}return this.isUndef(w)?r:w},p.prototype.optionsObject=function(w,r,E){var y={};if(w.length===1&&this.isObject(w[0]))y=w[0];else for(var h=0;h<r.length;h++)y[r[h]]=w[h];return this.isUndef(E)?y:this.defaultArg(y,E)},p.prototype.isUndef=function(w){return w===void 0},p.prototype.isFunction=function(w){return typeof w=="function"},p.prototype.isNumber=function(w){return typeof w=="number"},p.prototype.isObject=function(w){return Object.prototype.toString.call(w)==="[object Object]"&&w.constructor===Object},p.prototype.isBoolean=function(w){return typeof w=="boolean"},p.prototype.isArray=function(w){return Array.isArray(w)},p.prototype.isString=function(w){return typeof w=="string"},p.noOp=function(){},p.prototype._readOnly=function(w){if(Array.isArray(w))for(var r=0;r<w.length;r++)this._readOnly(w[r]);else Object.defineProperty(this,w,{writable:!1,enumerable:!0})},p.prototype._writable=function(w){if(Array.isArray(w))for(var r=0;r<w.length;r++)this._writable(w[r]);else Object.defineProperty(this,w,{writable:!0})},p.State={Started:"started",Stopped:"stopped",Paused:"paused"},p.prototype.equalPowerScale=function(w){var r=.5*Math.PI;return Math.sin(w*r)},p.prototype.dbToGain=function(w){return Math.pow(2,w/6)},p.prototype.gainToDb=function(w){return Math.log(w)/Math.LN10*20},p.prototype.intervalToFrequencyRatio=function(w){return Math.pow(2,w/12)},p.prototype.now=function(){return p.context.now()},p.now=function(){return p.context.now()},p.extend=function(w,r){function E(){}p.prototype.isUndef(r)&&(r=p),E.prototype=r.prototype,w.prototype=new E,(w.prototype.constructor=w)._super=r},Object.defineProperty(p,"context",{get:function(){return m},set:function(w){m=p.Context&&w instanceof p.Context?w:new p.Context(w),p.Context&&p.Context.emit("init",m)}}),Object.defineProperty(p.prototype,"context",{get:function(){return p.context}}),p.setContext=function(w){p.context=w},Object.defineProperty(p.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(p.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(p,"supported",{get:function(){var w=window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext"),r=window.hasOwnProperty("Promise"),E=window.hasOwnProperty("Worker");return w&&r&&E}}),p.version="r10",window.TONE_SILENCE_VERSION_LOGGING||console.log("%c * Tone.js "+p.version+" * ","background: #000; color: #fff"),p}).call(n,o,n,t),i!==void 0&&(t.exports=i)},function(t,n,o){var i,p;i=[o(0),o(2),o(10)],p=(function(m){return m.Multiply=function(w){this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new m.Gain,this._param=this.input[1]=this.output.gain,this._param.value=this.defaultArg(w,0)},m.extend(m.Multiply,m.Signal),m.Multiply.prototype.dispose=function(){return m.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},m.Multiply}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(6),o(9),o(18),o(10)],p=(function(m){return m.Signal=function(){var w=this.optionsObject(arguments,["value","units"],m.Signal.defaults);this.output=this._gain=this.context.createGain(),w.param=this._gain.gain,m.Param.call(this,w),this.input=this._param=this._gain.gain,this.context.getConstant(1).chain(this._gain)},m.extend(m.Signal,m.Param),m.Signal.defaults={value:0,units:m.Type.Default,convert:!0},m.Signal.prototype.connect=m.SignalBase.prototype.connect,m.Signal.prototype.dispose=function(){return m.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},m.Signal}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){(function(i){o.d(n,"b",function(){return h}),o.d(n,"c",function(){return a});var p=o(22),m=o.n(p),w=o(0),r=o.n(w),E=o(12);o.n(E),i.TONE_SILENCE_VERSION_LOGGING=!0;var y=new window.AudioContext;r.a.setContext(y);function h(){return y}function a(c,x){var S=c;return c instanceof p5.Element?S=c.elt:c instanceof Array&&c[0]instanceof p5.Element&&(S=c.map(function(l){return l.elt})),m()(y,S,x)}n.a=y}).call(this,o(26))},function(t,n,o){var i,p;i=[o(0),o(2),o(10)],p=(function(m){return m.Add=function(w){this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new m.Gain,this._param=this.input[1]=new m.Signal(w),this._param.connect(this._sum)},m.extend(m.Add,m.Signal),m.Add.prototype.dispose=function(){return m.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this._param.dispose(),this._param=null,this},m.Add}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n){t.exports={recorderProcessor:"recorder-processor",soundFileProcessor:"sound-file-processor",amplitudeProcessor:"amplitude-processor"}},function(t,n,o){var i,p;i=[o(0),o(15)],p=(function(m){return m.WaveShaper=function(w,r){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(w)?this.curve=w:isFinite(w)||this.isUndef(w)?this._curve=new Float32Array(this.defaultArg(w,1024)):this.isFunction(w)&&(this._curve=new Float32Array(this.defaultArg(r,1024)),this.setMap(w))},m.extend(m.WaveShaper,m.SignalBase),m.WaveShaper.prototype.setMap=function(w){for(var r=0,E=this._curve.length;r<E;r++){var y=r/(E-1)*2-1;this._curve[r]=w(y,r)}return this._shaper.curve=this._curve,this},Object.defineProperty(m.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(w){this._curve=new Float32Array(w),this._shaper.curve=this._curve}}),Object.defineProperty(m.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(w){if(["none","2x","4x"].indexOf(w)===-1)throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=w}}),m.WaveShaper.prototype.dispose=function(){return m.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},m.WaveShaper}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(2),o(19)],p=(function(m){return m.TimelineSignal=function(){var w=this.optionsObject(arguments,["value","units"],m.Signal.defaults);this._events=new m.Timeline(10),m.Signal.apply(this,w),w.param=this._param,m.Param.call(this,w),this._initial=this._fromUnits(this._param.value)},m.extend(m.TimelineSignal,m.Param),m.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Curve:"curve",Set:"set"},Object.defineProperty(m.TimelineSignal.prototype,"value",{get:function(){var w=this.now(),r=this.getValueAtTime(w);return this._toUnits(r)},set:function(w){var r=this._fromUnits(w);this._initial=r,this.cancelScheduledValues(),this._param.value=r}}),m.TimelineSignal.prototype.setValueAtTime=function(w,r){return w=this._fromUnits(w),r=this.toSeconds(r),this._events.add({type:m.TimelineSignal.Type.Set,value:w,time:r}),this._param.setValueAtTime(w,r),this},m.TimelineSignal.prototype.linearRampToValueAtTime=function(w,r){return w=this._fromUnits(w),r=this.toSeconds(r),this._events.add({type:m.TimelineSignal.Type.Linear,value:w,time:r}),this._param.linearRampToValueAtTime(w,r),this},m.TimelineSignal.prototype.exponentialRampToValueAtTime=function(w,r){r=this.toSeconds(r);var E=this._searchBefore(r);E&&E.value===0&&this.setValueAtTime(this._minOutput,E.time),w=this._fromUnits(w);var y=Math.max(w,this._minOutput);return this._events.add({type:m.TimelineSignal.Type.Exponential,value:y,time:r}),w<this._minOutput?(this._param.exponentialRampToValueAtTime(this._minOutput,r-this.sampleTime),this.setValueAtTime(0,r)):this._param.exponentialRampToValueAtTime(w,r),this},m.TimelineSignal.prototype.setTargetAtTime=function(w,r,E){return w=this._fromUnits(w),w=Math.max(this._minOutput,w),E=Math.max(this._minOutput,E),r=this.toSeconds(r),this._events.add({type:m.TimelineSignal.Type.Target,value:w,time:r,constant:E}),this._param.setTargetAtTime(w,r,E),this},m.TimelineSignal.prototype.setValueCurveAtTime=function(w,r,E,y){y=this.defaultArg(y,1);for(var h=new Array(w.length),a=0;a<h.length;a++)h[a]=this._fromUnits(w[a])*y;r=this.toSeconds(r),E=this.toSeconds(E),this._events.add({type:m.TimelineSignal.Type.Curve,value:h,time:r,duration:E}),this._param.setValueAtTime(h[0],r);for(var c=1;c<h.length;c++){var x=r+c/(h.length-1)*E;this._param.linearRampToValueAtTime(h[c],x)}return this},m.TimelineSignal.prototype.cancelScheduledValues=function(w){return w=this.toSeconds(w),this._events.cancel(w),this._param.cancelScheduledValues(w),this},m.TimelineSignal.prototype.setRampPoint=function(w){w=this.toSeconds(w);var r=this._toUnits(this.getValueAtTime(w)),E=this._searchBefore(w);if(E&&E.time===w)this.cancelScheduledValues(w+this.sampleTime);else if(E&&E.type===m.TimelineSignal.Type.Curve&&E.time+E.duration>w)this.cancelScheduledValues(w),this.linearRampToValueAtTime(r,w);else{var y=this._searchAfter(w);y&&(this.cancelScheduledValues(w),y.type===m.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(r,w):y.type===m.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(r,w)),this.setValueAtTime(r,w)}return this},m.TimelineSignal.prototype.linearRampToValueBetween=function(w,r,E){return this.setRampPoint(r),this.linearRampToValueAtTime(w,E),this},m.TimelineSignal.prototype.exponentialRampToValueBetween=function(w,r,E){return this.setRampPoint(r),this.exponentialRampToValueAtTime(w,E),this},m.TimelineSignal.prototype._searchBefore=function(w){return this._events.get(w)},m.TimelineSignal.prototype._searchAfter=function(w){return this._events.getAfter(w)},m.TimelineSignal.prototype.getValueAtTime=function(w){w=this.toSeconds(w);var r=this._searchAfter(w),E=this._searchBefore(w),y=this._initial;if(E===null)y=this._initial;else if(E.type===m.TimelineSignal.Type.Target){var h,a=this._events.getBefore(E.time);h=a===null?this._initial:a.value,y=this._exponentialApproach(E.time,h,E.value,E.constant,w)}else y=E.type===m.TimelineSignal.Type.Curve?this._curveInterpolate(E.time,E.value,E.duration,w):r===null?E.value:r.type===m.TimelineSignal.Type.Linear?this._linearInterpolate(E.time,E.value,r.time,r.value,w):r.type===m.TimelineSignal.Type.Exponential?this._exponentialInterpolate(E.time,E.value,r.time,r.value,w):E.value;return y},m.TimelineSignal.prototype.connect=m.SignalBase.prototype.connect,m.TimelineSignal.prototype._exponentialApproach=function(w,r,E,y,h){return E+(r-E)*Math.exp(-(h-w)/y)},m.TimelineSignal.prototype._linearInterpolate=function(w,r,E,y,h){return r+(h-w)/(E-w)*(y-r)},m.TimelineSignal.prototype._exponentialInterpolate=function(w,r,E,y,h){return(r=Math.max(this._minOutput,r))*Math.pow(y/r,(h-w)/(E-w))},m.TimelineSignal.prototype._curveInterpolate=function(w,r,E,y){var h=r.length;if(w+E<=y)return r[h-1];if(y<=w)return r[0];var a=(y-w)/E,c=Math.floor((h-1)*a),x=Math.ceil((h-1)*a),S=r[c],l=r[x];return x===c?S:this._linearInterpolate(c,S,x,l,a*(h-1))},m.TimelineSignal.prototype.dispose=function(){m.Signal.prototype.dispose.call(this),m.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},m.TimelineSignal}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(4),o(1),o(2)],p=(function(m){return m.Scale=function(w,r){this._outputMin=this.defaultArg(w,0),this._outputMax=this.defaultArg(r,1),this._scale=this.input=new m.Multiply(1),this._add=this.output=new m.Add(0),this._scale.connect(this._add),this._setRange()},m.extend(m.Scale,m.SignalBase),Object.defineProperty(m.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(w){this._outputMin=w,this._setRange()}}),Object.defineProperty(m.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(w){this._outputMax=w,this._setRange()}}),m.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},m.Scale.prototype.dispose=function(){return m.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},m.Scale}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(16),o(30),o(31),o(12)],p=(function(m){return m.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},m.prototype.toSeconds=function(w){return this.isNumber(w)?w:this.isUndef(w)?this.now():this.isString(w)?new m.Time(w).toSeconds():w instanceof m.TimeBase?w.toSeconds():void 0},m.prototype.toFrequency=function(w){return this.isNumber(w)?w:this.isString(w)||this.isUndef(w)?new m.Frequency(w).valueOf():w instanceof m.TimeBase?w.toFrequency():void 0},m.prototype.toTicks=function(w){return this.isNumber(w)||this.isString(w)?new m.TransportTime(w).toTicks():this.isUndef(w)?m.Transport.ticks:w instanceof m.TimeBase?w.toTicks():void 0},m}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(18),o(9)],p=(function(m){return window.GainNode&&!AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),m.Gain=function(){var w=this.optionsObject(arguments,["gain","units"],m.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new m.Param({param:this._gainNode.gain,units:w.units,value:w.gain,convert:w.convert}),this._readOnly("gain")},m.extend(m.Gain),m.Gain.defaults={gain:1,convert:!0},m.Gain.prototype.dispose=function(){m.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},m.prototype.createInsOuts=function(w,r){w===1?this.input=new m.Gain:1<w&&(this.input=new Array(w)),r===1?this.output=new m.Gain:1<r&&(this.output=new Array(w))},m.Gain}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(7),o(39),o(14),o(12)],p=(function(m){return m.Clock=function(){m.Emitter.call(this);var w=this.optionsObject(arguments,["callback","frequency"],m.Clock.defaults);this.callback=w.callback,this._nextTick=0,this._lastState=m.State.Stopped,this.frequency=new m.TimelineSignal(w.frequency,m.Type.Frequency),this._readOnly("frequency"),this.ticks=0,this._state=new m.TimelineState(m.State.Stopped),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},m.extend(m.Clock,m.Emitter),m.Clock.defaults={callback:m.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(m.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),m.Clock.prototype.start=function(w,r){return w=this.toSeconds(w),this._state.getValueAtTime(w)!==m.State.Started&&this._state.add({state:m.State.Started,time:w,offset:r}),this},m.Clock.prototype.stop=function(w){return w=this.toSeconds(w),this._state.cancel(w),this._state.setStateAtTime(m.State.Stopped,w),this},m.Clock.prototype.pause=function(w){return w=this.toSeconds(w),this._state.getValueAtTime(w)===m.State.Started&&this._state.setStateAtTime(m.State.Paused,w),this},m.Clock.prototype._loop=function(){for(var w=this.now()+this.context.lookAhead+this.context.updateInterval+2*this.context.lag;w>this._nextTick&&this._state;){var r=this._state.getValueAtTime(this._nextTick);if(r!==this._lastState){this._lastState=r;var E=this._state.get(this._nextTick);r===m.State.Started?(this._nextTick=E.time,this.isUndef(E.offset)||(this.ticks=E.offset),this.emit("start",E.time,this.ticks)):r===m.State.Stopped?(this.ticks=0,this.emit("stop",E.time)):r===m.State.Paused&&this.emit("pause",E.time)}var y=this._nextTick;this.frequency&&(this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),r===m.State.Started&&(this.callback(y),this.ticks++))}},m.Clock.prototype.getStateAtTime=function(w){return w=this.toSeconds(w),this._state.getValueAtTime(w)},m.Clock.prototype.dispose=function(){m.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},m.Clock}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(14)],p=(function(m){function w(y,h,a){if(y.input)Array.isArray(y.input)?(m.prototype.isUndef(a)&&(a=0),this.connect(y.input[a])):this.connect(y.input,h,a);else try{y instanceof AudioNode?r.call(this,y,h,a):r.call(this,y,h)}catch(c){throw new Error("error connecting to node: "+y+`
`+c)}}var r,E;return!window.hasOwnProperty("AudioContext")&&window.hasOwnProperty("webkitAudioContext")&&(window.AudioContext=window.webkitAudioContext),m.Context=function(y){for(var h in m.Emitter.call(this),y=y||new window.AudioContext,this._context=y,this._context)this._defineProperty(this._context,h);this._latencyHint="interactive",this._lookAhead=.1,this._updateInterval=this._lookAhead/3,this._computedUpdateInterval=0,this._worker=this._createWorker(),this._constants={}},m.extend(m.Context,m.Emitter),m.Emitter.mixin(m.Context),m.Context.prototype._defineProperty=function(y,h){this.isUndef(this[h])&&Object.defineProperty(this,h,{get:function(){return typeof y[h]=="function"?y[h].bind(y):y[h]},set:function(a){y[h]=a}})},m.Context.prototype.now=function(){return this._context.currentTime},m.Context.prototype._createWorker=function(){window.URL=window.URL||window.webkitURL;var y=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){	timeoutTime = parseInt(msg.data);};function tick(){	setTimeout(tick, timeoutTime);	self.postMessage('tick');}tick();"]),h=URL.createObjectURL(y),a=new Worker(h);return a.addEventListener("message",(function(){this.emit("tick")}).bind(this)),a.addEventListener("message",(function(){var c=this.now();if(this.isNumber(this._lastUpdate)){var x=c-this._lastUpdate;this._computedUpdateInterval=Math.max(x,.97*this._computedUpdateInterval)}this._lastUpdate=c}).bind(this)),a},m.Context.prototype.getConstant=function(y){if(this._constants[y])return this._constants[y];for(var h=this._context.createBuffer(1,128,this._context.sampleRate),a=h.getChannelData(0),c=0;c<a.length;c++)a[c]=y;var x=this._context.createBufferSource();return x.channelCount=1,x.channelCountMode="explicit",x.buffer=h,x.loop=!0,x.start(0),this._constants[y]=x},Object.defineProperty(m.Context.prototype,"lag",{get:function(){var y=this._computedUpdateInterval-this._updateInterval;return y=Math.max(y,0)}}),Object.defineProperty(m.Context.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(y){this._lookAhead=y}}),Object.defineProperty(m.Context.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(y){this._updateInterval=Math.max(y,m.prototype.blockTime),this._worker.postMessage(Math.max(1e3*y,1))}}),Object.defineProperty(m.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(y){var h=y;if(this._latencyHint=y,this.isString(y))switch(y){case"interactive":h=.1,this._context.latencyHint=y;break;case"playback":h=.8,this._context.latencyHint=y;break;case"balanced":h=.25,this._context.latencyHint=y;break;case"fastest":h=.01}this.lookAhead=h,this.updateInterval=h/3}}),m.supported?(r=AudioNode.prototype.connect,E=AudioNode.prototype.disconnect,AudioNode.prototype.connect!==w&&(AudioNode.prototype.connect=w,AudioNode.prototype.disconnect=function(y,h,a){if(y&&y.input&&Array.isArray(y.input))m.prototype.isUndef(a)&&(a=0),this.disconnect(y.input[a],h,a);else if(y&&y.input)this.disconnect(y.input,h,a);else try{E.apply(this,arguments)}catch(c){throw new Error("error disconnecting node: "+y+`
`+c)}}),m.context=new m.Context):console.warn("This browser does not support Tone.js"),m.Context}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(4),o(20),o(2),o(10)],p=(function(m){return m.Subtract=function(w){this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new m.Gain,this._neg=new m.Negate,this._param=this.input[1]=new m.Signal(w),this._param.chain(this._neg,this._sum)},m.extend(m.Subtract,m.Signal),m.Subtract.prototype.dispose=function(){return m.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this._param.dispose(),this._param=null,this},m.Subtract}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0)],p=(function(m){return m.Emitter=function(){this._events={}},m.extend(m.Emitter),m.Emitter.prototype.on=function(w,r){for(var E=w.split(/\W+/),y=0;y<E.length;y++){var h=E[y];this._events.hasOwnProperty(h)||(this._events[h]=[]),this._events[h].push(r)}return this},m.Emitter.prototype.off=function(w,r){for(var E=w.split(/\W+/),y=0;y<E.length;y++)if(w=E[y],this._events.hasOwnProperty(w))if(m.prototype.isUndef(r))this._events[w]=[];else for(var h=this._events[w],a=0;a<h.length;a++)h[a]===r&&h.splice(a,1);return this},m.Emitter.prototype.emit=function(w){if(this._events){var r=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(w))for(var E=this._events[w],y=0,h=E.length;y<h;y++)E[y].apply(this,r)}return this},m.Emitter.mixin=function(w){var r=["on","off","emit"];w._events={};for(var E=0;E<r.length;E++){var y=r[E],h=m.Emitter.prototype[y];w[y]=h}},m.Emitter.prototype.dispose=function(){return m.prototype.dispose.call(this),this._events=null,this},m.Emitter}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0)],p=(function(m){return m.SignalBase=function(){},m.extend(m.SignalBase),m.SignalBase.prototype.connect=function(w,r,E){return m.Signal&&m.Signal===w.constructor||m.Param&&m.Param===w.constructor||m.TimelineSignal&&m.TimelineSignal===w.constructor?(w._param.cancelScheduledValues(0),w._param.value=0,w.overridden=!0):w instanceof AudioParam&&(w.cancelScheduledValues(0),w.value=0),m.prototype.connect.call(this,w,r,E),this},m.SignalBase}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(17)],p=(function(m){return m.Time=function(w,r){if(!(this instanceof m.Time))return new m.Time(w,r);this._plusNow=!1,m.TimeBase.call(this,w,r)},m.extend(m.Time,m.TimeBase),m.Time.prototype._unaryExpressions=Object.create(m.TimeBase.prototype._unaryExpressions),m.Time.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(w){return m.Transport.nextSubdivision(w())}},m.Time.prototype._unaryExpressions.now={regexp:/^\+/,method:function(w){return this._plusNow=!0,w()}},m.Time.prototype.quantize=function(w,r){return r=this.defaultArg(r,1),this._expr=(function(E,y,h){return E=E(),y=y.toSeconds(),E+(Math.round(E/y)*y-E)*h}).bind(this,this._expr,new this.constructor(w),r),this},m.Time.prototype.addNow=function(){return this._plusNow=!0,this},m.Time.prototype._defaultExpr=function(){return this._plusNow=!0,this._noOp},m.Time.prototype.copy=function(w){return m.TimeBase.prototype.copy.call(this,w),this._plusNow=w._plusNow,this},m.Time.prototype.toNotation=function(){var w=this.toSeconds(),r=this._toNotationHelper(w,["1m","2n","4n","8n","16n","32n","64n","128n"]),E=this._toNotationHelper(w,["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"]);return E.split("+").length<r.split("+").length?E:r},m.Time.prototype._toNotationHelper=function(w,r){for(var E=this._notationToUnits(r[r.length-1]),y="",h=0;h<r.length;h++){var a=this._notationToUnits(r[h]),c=w/a;if(1-c%1<1e-6&&(c+=1e-6),0<(c=Math.floor(c))){if(y+=c===1?r[h]:c.toString()+"*"+r[h],(w-=c*a)<E)break;y+=" + "}}return y===""&&(y="0"),y},m.Time.prototype._notationToUnits=function(w){for(var r=this._primaryExpressions,E=[r.n,r.t,r.m],y=0;y<E.length;y++){var h=E[y],a=w.match(h.regexp);if(a)return h.method.call(this,a[1])}},m.Time.prototype.toBarsBeatsSixteenths=function(){var w=this._beatsToUnits(1),r=this.toSeconds()/w,E=Math.floor(r/this._timeSignature()),y=r%1*4;return r=Math.floor(r)%this._timeSignature(),3<(y=y.toString()).length&&(y=parseFloat(y).toFixed(3)),[E,r,y].join(":")},m.Time.prototype.toTicks=function(){var w=this._beatsToUnits(1),r=this.valueOf()/w;return Math.floor(r*m.Transport.PPQ)},m.Time.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},m.Time.prototype.toFrequency=function(){return 1/this.toSeconds()},m.Time.prototype.toSeconds=function(){return this.valueOf()},m.Time.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},m.Time.prototype.valueOf=function(){return this._expr()+(this._plusNow?this.now():0)},m.Time}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0)],p=(function(m){return m.TimeBase=function(w,r){if(!(this instanceof m.TimeBase))return new m.TimeBase(w,r);if(this._expr=this._noOp,w instanceof m.TimeBase)this.copy(w);else if(!this.isUndef(r)||this.isNumber(w)){r=this.defaultArg(r,this._defaultUnits);var E=this._primaryExpressions[r].method;this._expr=E.bind(this,w)}else this.isString(w)?this.set(w):this.isUndef(w)&&(this._expr=this._defaultExpr())},m.extend(m.TimeBase),m.TimeBase.prototype.set=function(w){return this._expr=this._parseExprString(w),this},m.TimeBase.prototype.clone=function(){var w=new this.constructor;return w.copy(this),w},m.TimeBase.prototype.copy=function(w){var r=w._expr();return this.set(r)},m.TimeBase.prototype._primaryExpressions={n:{regexp:/^(\d+)n/i,method:function(w){return(w=parseInt(w))===1?this._beatsToUnits(this._timeSignature()):this._beatsToUnits(4/w)}},t:{regexp:/^(\d+)t/i,method:function(w){return w=parseInt(w),this._beatsToUnits(8/(3*parseInt(w)))}},m:{regexp:/^(\d+)m/i,method:function(w){return this._beatsToUnits(parseInt(w)*this._timeSignature())}},i:{regexp:/^(\d+)i/i,method:function(w){return this._ticksToUnits(parseInt(w))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz/i,method:function(w){return this._frequencyToUnits(parseFloat(w))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(w,r,E){var y=0;return w&&w!=="0"&&(y+=this._beatsToUnits(this._timeSignature()*parseFloat(w))),r&&r!=="0"&&(y+=this._beatsToUnits(parseFloat(r))),E&&E!=="0"&&(y+=this._beatsToUnits(parseFloat(E)/4)),y}},s:{regexp:/^(\d+(?:\.\d+)?s)/,method:function(w){return this._secondsToUnits(parseFloat(w))}},samples:{regexp:/^(\d+)samples/,method:function(w){return parseInt(w)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)/,method:function(w){return this._primaryExpressions[this._defaultUnits].method.call(this,w)}}},m.TimeBase.prototype._binaryExpressions={"+":{regexp:/^\+/,precedence:2,method:function(w,r){return w()+r()}},"-":{regexp:/^\-/,precedence:2,method:function(w,r){return w()-r()}},"*":{regexp:/^\*/,precedence:1,method:function(w,r){return w()*r()}},"/":{regexp:/^\//,precedence:1,method:function(w,r){return w()/r()}}},m.TimeBase.prototype._unaryExpressions={neg:{regexp:/^\-/,method:function(w){return-w()}}},m.TimeBase.prototype._syntaxGlue={"(":{regexp:/^\(/},")":{regexp:/^\)/}},m.TimeBase.prototype._tokenize=function(w){for(var r=-1,E=[];0<w.length;){var y=h(w=w.trim(),this);E.push(y),w=w.substr(y.value.length)}function h(a,c){for(var x=["_binaryExpressions","_unaryExpressions","_primaryExpressions","_syntaxGlue"],S=0;S<x.length;S++){var l=c[x[S]];for(var f in l){var u=l[f],s=u.regexp,d=a.match(s);if(d!==null)return{method:u.method,precedence:u.precedence,regexp:u.regexp,value:d[0]}}}throw new SyntaxError("Tone.TimeBase: Unexpected token "+a)}return{next:function(){return E[++r]},peek:function(){return E[r+1]}}},m.TimeBase.prototype._matchGroup=function(w,r,E){if(!this.isUndef(w))for(var y in r){var h=r[y];if(h.regexp.test(w.value)&&(this.isUndef(E)||h.precedence===E))return h}return!1},m.TimeBase.prototype._parseBinary=function(w,r){var E;this.isUndef(r)&&(r=2),E=r<0?this._parseUnary(w):this._parseBinary(w,r-1);for(var y=w.peek();y&&this._matchGroup(y,this._binaryExpressions,r);)E=(y=w.next()).method.bind(this,E,this._parseBinary(w,r-1)),y=w.peek();return E},m.TimeBase.prototype._parseUnary=function(w){var r,E;r=w.peek();var y=this._matchGroup(r,this._unaryExpressions);return y?(r=w.next(),E=this._parseUnary(w),y.method.bind(this,E)):this._parsePrimary(w)},m.TimeBase.prototype._parsePrimary=function(w){var r,E;if(r=w.peek(),this.isUndef(r))throw new SyntaxError("Tone.TimeBase: Unexpected end of expression");if(this._matchGroup(r,this._primaryExpressions)){var y=(r=w.next()).value.match(r.regexp);return r.method.bind(this,y[1],y[2],y[3])}if(r&&r.value==="("){if(w.next(),E=this._parseBinary(w),!(r=w.next())||r.value!==")")throw new SyntaxError("Expected )");return E}throw new SyntaxError("Tone.TimeBase: Cannot process token "+r.value)},m.TimeBase.prototype._parseExprString=function(w){this.isString(w)||(w=w.toString());var r=this._tokenize(w);return this._parseBinary(r)},m.TimeBase.prototype._noOp=function(){return 0},m.TimeBase.prototype._defaultExpr=function(){return this._noOp},m.TimeBase.prototype._defaultUnits="s",m.TimeBase.prototype._frequencyToUnits=function(w){return 1/w},m.TimeBase.prototype._beatsToUnits=function(w){return 60/m.Transport.bpm.value*w},m.TimeBase.prototype._secondsToUnits=function(w){return w},m.TimeBase.prototype._ticksToUnits=function(w){return w*(this._beatsToUnits(1)/m.Transport.PPQ)},m.TimeBase.prototype._timeSignature=function(){return m.Transport.timeSignature},m.TimeBase.prototype._pushExpr=function(w,r,E){return w instanceof m.TimeBase||(w=new this.constructor(w,E)),this._expr=this._binaryExpressions[r].method.bind(this,this._expr,w._expr),this},m.TimeBase.prototype.add=function(w,r){return this._pushExpr(w,"+",r)},m.TimeBase.prototype.sub=function(w,r){return this._pushExpr(w,"-",r)},m.TimeBase.prototype.mult=function(w,r){return this._pushExpr(w,"*",r)},m.TimeBase.prototype.div=function(w,r){return this._pushExpr(w,"/",r)},m.TimeBase.prototype.valueOf=function(){return this._expr()},m.TimeBase.prototype.dispose=function(){this._expr=null},m.TimeBase}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(9)],p=(function(m){return m.Param=function(){var w=this.optionsObject(arguments,["param","units","convert"],m.Param.defaults);this._param=this.input=w.param,this.units=w.units,this.convert=w.convert,this.overridden=!1,this._lfo=null,this.isObject(w.lfo)?this.value=w.lfo:this.isUndef(w.value)||(this.value=w.value)},m.extend(m.Param),m.Param.defaults={units:m.Type.Default,convert:!0,param:void 0},Object.defineProperty(m.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(w){if(this.isObject(w)){if(this.isUndef(m.LFO))throw new Error("Include 'Tone.LFO' to use an LFO as a Param value.");this._lfo&&this._lfo.dispose(),this._lfo=new m.LFO(w).start(),this._lfo.connect(this.input)}else{var r=this._fromUnits(w);this._param.cancelScheduledValues(0),this._param.value=r}}}),m.Param.prototype._fromUnits=function(w){if(!this.convert&&!this.isUndef(this.convert))return w;switch(this.units){case m.Type.Time:return this.toSeconds(w);case m.Type.Frequency:return this.toFrequency(w);case m.Type.Decibels:return this.dbToGain(w);case m.Type.NormalRange:return Math.min(Math.max(w,0),1);case m.Type.AudioRange:return Math.min(Math.max(w,-1),1);case m.Type.Positive:return Math.max(w,0);default:return w}},m.Param.prototype._toUnits=function(w){if(!this.convert&&!this.isUndef(this.convert))return w;switch(this.units){case m.Type.Decibels:return this.gainToDb(w);default:return w}},m.Param.prototype._minOutput=1e-5,m.Param.prototype.setValueAtTime=function(w,r){return w=this._fromUnits(w),(r=this.toSeconds(r))<=this.now()+this.blockTime?this._param.value=w:this._param.setValueAtTime(w,r),this},m.Param.prototype.setRampPoint=function(w){w=this.defaultArg(w,this.now());var r=this._param.value;return r===0&&(r=this._minOutput),this._param.setValueAtTime(r,w),this},m.Param.prototype.linearRampToValueAtTime=function(w,r){return w=this._fromUnits(w),this._param.linearRampToValueAtTime(w,this.toSeconds(r)),this},m.Param.prototype.exponentialRampToValueAtTime=function(w,r){return w=this._fromUnits(w),w=Math.max(this._minOutput,w),this._param.exponentialRampToValueAtTime(w,this.toSeconds(r)),this},m.Param.prototype.exponentialRampToValue=function(w,r,E){return E=this.toSeconds(E),this.setRampPoint(E),this.exponentialRampToValueAtTime(w,E+this.toSeconds(r)),this},m.Param.prototype.linearRampToValue=function(w,r,E){return E=this.toSeconds(E),this.setRampPoint(E),this.linearRampToValueAtTime(w,E+this.toSeconds(r)),this},m.Param.prototype.setTargetAtTime=function(w,r,E){return w=this._fromUnits(w),w=Math.max(this._minOutput,w),E=Math.max(this._minOutput,E),this._param.setTargetAtTime(w,this.toSeconds(r),E),this},m.Param.prototype.setValueCurveAtTime=function(w,r,E){for(var y=0;y<w.length;y++)w[y]=this._fromUnits(w[y]);return this._param.setValueCurveAtTime(w,this.toSeconds(r),this.toSeconds(E)),this},m.Param.prototype.cancelScheduledValues=function(w){return this._param.cancelScheduledValues(this.toSeconds(w)),this},m.Param.prototype.rampTo=function(w,r,E){return r=this.defaultArg(r,0),this.units===m.Type.Frequency||this.units===m.Type.BPM||this.units===m.Type.Decibels?this.exponentialRampToValue(w,r,E):this.linearRampToValue(w,r,E),this},Object.defineProperty(m.Param.prototype,"lfo",{get:function(){return this._lfo}}),m.Param.prototype.dispose=function(){return m.prototype.dispose.call(this),this._param=null,this._lfo&&(this._lfo.dispose(),this._lfo=null),this},m.Param}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(9)],p=(function(m){return m.Timeline=function(){var w=this.optionsObject(arguments,["memory"],m.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=w.memory},m.extend(m.Timeline),m.Timeline.defaults={memory:1/0},Object.defineProperty(m.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),m.Timeline.prototype.add=function(w){if(this.isUndef(w.time))throw new Error("Tone.Timeline: events must have a time attribute");if(this._timeline.length){var r=this._search(w.time);this._timeline.splice(r+1,0,w)}else this._timeline.push(w);if(this.length>this.memory){var E=this.length-this.memory;this._timeline.splice(0,E)}return this},m.Timeline.prototype.remove=function(w){if(this._iterating)this._toRemove.push(w);else{var r=this._timeline.indexOf(w);r!==-1&&this._timeline.splice(r,1)}return this},m.Timeline.prototype.get=function(w){var r=this._search(w);return r!==-1?this._timeline[r]:null},m.Timeline.prototype.peek=function(){return this._timeline[0]},m.Timeline.prototype.shift=function(){return this._timeline.shift()},m.Timeline.prototype.getAfter=function(w){var r=this._search(w);return r+1<this._timeline.length?this._timeline[r+1]:null},m.Timeline.prototype.getBefore=function(w){var r=this._timeline.length;if(0<r&&this._timeline[r-1].time<w)return this._timeline[r-1];var E=this._search(w);return 0<=E-1?this._timeline[E-1]:null},m.Timeline.prototype.cancel=function(w){if(1<this._timeline.length){var r=this._search(w);if(0<=r)if(this._timeline[r].time===w){for(var E=r;0<=E&&this._timeline[E].time===w;E--)r=E;this._timeline=this._timeline.slice(0,r)}else this._timeline=this._timeline.slice(0,r+1);else this._timeline=[]}else this._timeline.length===1&&this._timeline[0].time>=w&&(this._timeline=[]);return this},m.Timeline.prototype.cancelBefore=function(w){if(this._timeline.length){var r=this._search(w);0<=r&&(this._timeline=this._timeline.slice(r+1))}return this},m.Timeline.prototype._search=function(w){var r=0,E=this._timeline.length,y=E;if(0<E&&this._timeline[E-1].time<=w)return E-1;for(;r<y;){var h=Math.floor(r+(y-r)/2),a=this._timeline[h],c=this._timeline[h+1];if(a.time===w){for(var x=h;x<this._timeline.length;x++)this._timeline[x].time===w&&(h=x);return h}if(a.time<w&&c.time>w)return h;a.time>w?y=h:a.time<w&&(r=h+1)}return-1},m.Timeline.prototype._iterate=function(w,r,E){this._iterating=!0,r=this.defaultArg(r,0),E=this.defaultArg(E,this._timeline.length-1);for(var y=r;y<=E;y++)w(this._timeline[y]);if(this._iterating=!1,0<this._toRemove.length){for(var h=0;h<this._toRemove.length;h++){var a=this._timeline.indexOf(this._toRemove[h]);a!==-1&&this._timeline.splice(a,1)}this._toRemove=[]}},m.Timeline.prototype.forEach=function(w){return this._iterate(w),this},m.Timeline.prototype.forEachBefore=function(w,r){var E=this._search(w);return E!==-1&&this._iterate(r,0,E),this},m.Timeline.prototype.forEachAfter=function(w,r){var E=this._search(w);return this._iterate(r,E+1),this},m.Timeline.prototype.forEachFrom=function(w,r){for(var E=this._search(w);0<=E&&this._timeline[E].time>=w;)E--;return this._iterate(r,E+1),this},m.Timeline.prototype.forEachAtTime=function(w,r){var E=this._search(w);return E!==-1&&this._iterate(function(y){y.time===w&&r(y)},0,E),this},m.Timeline.prototype.dispose=function(){m.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},m.Timeline}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(1),o(2)],p=(function(m){return m.Negate=function(){this._multiply=this.input=this.output=new m.Multiply(-1)},m.extend(m.Negate,m.SignalBase),m.Negate.prototype.dispose=function(){return m.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},m.Negate}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(2),o(1),o(6)],p=(function(m){return m.GreaterThanZero=function(){this._thresh=this.output=new m.WaveShaper(function(w){return w<=0?0:1},127),this._scale=this.input=new m.Multiply(1e4),this._scale.connect(this._thresh)},m.extend(m.GreaterThanZero,m.SignalBase),m.GreaterThanZero.prototype.dispose=function(){return m.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},m.GreaterThanZero}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p,m;(function(w,r){p=[],i=r,m=typeof i=="function"?i.apply(n,p):i,m!==void 0&&(t.exports=m)})(this,function(){var w=function(E,y){this._dragged=!1,this._element=E,this._bindedMove=this._moved.bind(this),this._bindedEnd=this._ended.bind(this,y),E.addEventListener("touchstart",this._bindedEnd),E.addEventListener("touchmove",this._bindedMove),E.addEventListener("touchend",this._bindedEnd),E.addEventListener("mouseup",this._bindedEnd)};function r(E){return E.state==="running"}return w.prototype._moved=function(E){this._dragged=!0},w.prototype._ended=function(E){this._dragged||function(y){var h=y.createBuffer(1,1,y.sampleRate),a=y.createBufferSource();a.buffer=h,a.connect(y.destination),a.start(0),y.resume&&y.resume()}(E),this._dragged=!1},w.prototype.dispose=function(){this._element.removeEventListener("touchstart",this._bindedEnd),this._element.removeEventListener("touchmove",this._bindedMove),this._element.removeEventListener("touchend",this._bindedEnd),this._element.removeEventListener("mouseup",this._bindedEnd),this._bindedMove=null,this._bindedEnd=null,this._element=null},function(E,y,h){var a=new Promise(function(x){(function(S,l){r(S)?l():function f(){r(S)?l():(requestAnimationFrame(f),S.resume&&S.resume())}()})(E,x)}),c=[];return function x(S,l,f){if(Array.isArray(S)||NodeList&&S instanceof NodeList)for(var u=0;u<S.length;u++)x(S[u],l,f);else if(typeof S=="string")x(document.querySelectorAll(S),l,f);else if(S.jquery&&typeof S.toArray=="function")x(S.toArray(),l,f);else if(Element&&S instanceof Element){var s=new w(S,f);l.push(s)}}(y=y||document.body,c,E),a.then(function(){for(var x=0;x<c.length;x++)c[x].dispose();c=null,h&&h()}),a}})},function(t,n,o){var i,p;i=[o(0),o(2),o(32),o(38),o(10)],p=(function(m){return m.CrossFade=function(w){this.createInsOuts(2,1),this.a=this.input[0]=new m.Gain,this.b=this.input[1]=new m.Gain,this.fade=new m.Signal(this.defaultArg(w,.5),m.Type.NormalRange),this._equalPowerA=new m.EqualPowerGain,this._equalPowerB=new m.EqualPowerGain,this._invert=new m.Expr("1 - $0"),this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),this.fade.chain(this._invert,this._equalPowerA,this.a.gain),this._readOnly("fade")},m.extend(m.CrossFade),m.CrossFade.prototype.dispose=function(){return m.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},m.CrossFade}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n){(function(){var o,i=[];function p(E){var y=this,h={},a=-1;this.parameters.forEach(function(S,l){var f=i[++a]||(i[a]=new Float32Array(y.bufferSize));f.fill(S.value),h[l]=f}),this.processor.realm.exec("self.sampleRate=sampleRate="+this.context.sampleRate+";self.currentTime=currentTime="+this.context.currentTime);var c=m(E.inputBuffer),x=m(E.outputBuffer);this.instance.process([c],[x],h)}function m(E){for(var y=[],h=0;h<E.numberOfChannels;h++)y[h]=E.getChannelData(h);return y}function w(E){return E.$$processors||(E.$$processors={})}function r(E){this.$$context=E}typeof AudioWorkletNode!="function"&&(self.AudioWorkletNode=function(E,y,h){var a=w(E)[y],c=E.createScriptProcessor(void 0,2,h&&h.outputChannelCount?h.outputChannelCount[0]:2);if(c.parameters=new Map,a.properties)for(var x=0;x<a.properties.length;x++){var S=a.properties[x],l=E.createGain().gain;l.value=S.defaultValue,c.parameters.set(S.name,l)}var f=new MessageChannel;o=f.port2;var u=new a.Processor(h||{});return o=null,c.port=f.port1,c.processor=a,c.instance=u,c.onaudioprocess=p,c},Object.defineProperty((self.AudioContext||self.webkitAudioContext).prototype,"audioWorklet",{get:function(){return this.$$audioWorklet||(this.$$audioWorklet=new self.AudioWorklet(this))}}),self.AudioWorklet=(r.prototype.addModule=function(E,y){var h=this;return fetch(E).then(function(a){if(!a.ok)throw Error(a.status);return a.text()}).then(function(a){var c={sampleRate:0,currentTime:0,AudioWorkletProcessor:function(){this.port=o},registerProcessor:function(S,l){w(h.$$context)[S]={realm:x,context:c,Processor:l,properties:l.parameterDescriptors||[]}}},x=new function(S,l){var f=document.createElement("iframe");f.style.cssText="position:absolute;left:0;top:-999px;width:1px;height:1px;",l.appendChild(f);var u=f.contentWindow,s=u.document,d="var window,$hook";for(var g in u)g in S||g==="eval"||(d+=",",d+=g);for(var _ in S)d+=",",d+=_,d+="=self.",d+=_;var v=s.createElement("script");v.appendChild(s.createTextNode(`function $hook(self,console) {"use strict";
        `+d+";return function() {return eval(arguments[0])}}")),s.body.appendChild(v),this.exec=u.$hook(S,console)}(c.self=c,document.documentElement);return x.exec((y&&y.transpile||String)(a)),null})},r))})()},function(t,n){(function(){function E(y){y&&(y.setTargetAtTime||(y.setTargetAtTime=y.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=window.webkitAudioContext,typeof AudioContext.prototype.createGain!="function"&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),typeof AudioContext.prototype.createDelay!="function"&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),typeof AudioContext.prototype.createScriptProcessor!="function"&&(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),typeof AudioContext.prototype.createPeriodicWave!="function"&&(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var y=this.internal_createGain();return E(y.gain),y},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(y){var h=y?this.internal_createDelay(y):this.internal_createDelay();return E(h.delayTime),h},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var y=this.internal_createBufferSource();return y.start?(y.internal_start=y.start,y.start=function(h,a,c){typeof c<"u"?y.internal_start(h||0,a,c):y.internal_start(h||0,a||0)}):y.start=function(h,a,c){a||c?this.noteGrainOn(h||0,a,c):this.noteOn(h||0)},y.stop?(y.internal_stop=y.stop,y.stop=function(h){y.internal_stop(h||0)}):y.stop=function(h){this.noteOff(h||0)},E(y.playbackRate),y},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var y=this.internal_createDynamicsCompressor();return E(y.threshold),E(y.knee),E(y.ratio),E(y.reduction),E(y.attack),E(y.release),y},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var y=this.internal_createBiquadFilter();return E(y.frequency),E(y.detune),E(y.Q),E(y.gain),y},typeof AudioContext.prototype.createOscillator!="function"&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var y=this.internal_createOscillator();return y.start?(y.internal_start=y.start,y.start=function(h){y.internal_start(h||0)}):y.start=function(h){this.noteOn(h||0)},y.stop?(y.internal_stop=y.stop,y.stop=function(h){y.internal_stop(h||0)}):y.stop=function(h){this.noteOff(h||0)},y.setPeriodicWave||(y.setPeriodicWave=y.setWaveTable),E(y.frequency),E(y.detune),y})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=window.webkitOfflineAudioContext)})(),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var o=document.createElement("audio");p5.prototype.isSupported=function(){return!!o.canPlayType};var i=function(){return!!o.canPlayType&&o.canPlayType('audio/ogg; codecs="vorbis"')},p=function(){return!!o.canPlayType&&o.canPlayType("audio/mpeg;")},m=function(){return!!o.canPlayType&&o.canPlayType('audio/wav; codecs="1"')},w=function(){return!!o.canPlayType&&(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/aac;"))},r=function(){return!!o.canPlayType&&o.canPlayType("audio/x-aiff;")};p5.prototype.isFileSupported=function(E){switch(E.toLowerCase()){case"mp3":return p();case"wav":return m();case"ogg":return i();case"aac":case"m4a":case"mp4":return w();case"aif":case"aiff":return r();default:return!1}}},function(t,n){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}t.exports=o},function(t,n,o){o.r(n),n.default=`function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// import dependencies via preval.require so that they're available as values at compile time
var processorNames = {
  "recorderProcessor": "recorder-processor",
  "soundFileProcessor": "sound-file-processor",
  "amplitudeProcessor": "amplitude-processor"
};
var RingBuffer = {
  "default":
  /*#__PURE__*/
  function () {
    /**
     * @constructor
     * @param  {number} length Buffer length in frames.
     * @param  {number} channelCount Buffer channel count.
     */
    function RingBuffer(length, channelCount) {
      _classCallCheck(this, RingBuffer);

      this._readIndex = 0;
      this._writeIndex = 0;
      this._framesAvailable = 0;
      this._channelCount = channelCount;
      this._length = length;
      this._channelData = [];

      for (var i = 0; i < this._channelCount; ++i) {
        this._channelData[i] = new Float32Array(length);
      }
    }
    /**
     * Getter for Available frames in buffer.
     *
     * @return {number} Available frames in buffer.
     */


    _createClass(RingBuffer, [{
      key: "push",

      /**
       * Push a sequence of Float32Arrays to buffer.
       *
       * @param  {array} arraySequence A sequence of Float32Arrays.
       */
      value: function push(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // Transfer data from the |arraySequence| storage to the internal buffer.
        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;

        for (var i = 0; i < sourceLength; ++i) {
          var writeIndex = (this._writeIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            this._channelData[channel][writeIndex] = arraySequence[channel][i];
          }
        }

        this._writeIndex += sourceLength;

        if (this._writeIndex >= this._length) {
          this._writeIndex = 0;
        } // For excessive frames, the buffer will be overwritten.


        this._framesAvailable += sourceLength;

        if (this._framesAvailable > this._length) {
          this._framesAvailable = this._length;
        }
      }
      /**
       * Pull data out of buffer and fill a given sequence of Float32Arrays.
       *
       * @param  {array} arraySequence An array of Float32Arrays.
       */

    }, {
      key: "pull",
      value: function pull(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // If the FIFO is completely empty, do nothing.
        if (this._framesAvailable === 0) {
          return;
        }

        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.

        for (var i = 0; i < destinationLength; ++i) {
          var readIndex = (this._readIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            arraySequence[channel][i] = this._channelData[channel][readIndex];
          }
        }

        this._readIndex += destinationLength;

        if (this._readIndex >= this._length) {
          this._readIndex = 0;
        }

        this._framesAvailable -= destinationLength;

        if (this._framesAvailable < 0) {
          this._framesAvailable = 0;
        }
      }
    }, {
      key: "framesAvailable",
      get: function get() {
        return this._framesAvailable;
      }
    }]);

    return RingBuffer;
  }()
}["default"];

var RecorderProcessor =
/*#__PURE__*/
function (_AudioWorkletProcesso) {
  _inherits(RecorderProcessor, _AudioWorkletProcesso);

  function RecorderProcessor(options) {
    var _this;

    _classCallCheck(this, RecorderProcessor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(RecorderProcessor).call(this));
    var processorOptions = options.processorOptions || {};
    _this.numOutputChannels = options.outputChannelCount || 2;
    _this.numInputChannels = processorOptions.numInputChannels || 2;
    _this.bufferSize = processorOptions.bufferSize || 1024;
    _this.recording = false;

    _this.clear();

    _this.port.onmessage = function (event) {
      var data = event.data;

      if (data.name === 'start') {
        _this.record(data.duration);
      } else if (data.name === 'stop') {
        _this.stop();
      }
    };

    return _this;
  }

  _createClass(RecorderProcessor, [{
    key: "process",
    value: function process(inputs) {
      if (!this.recording) {
        return true;
      } else if (this.sampleLimit && this.recordedSamples >= this.sampleLimit) {
        this.stop();
        return true;
      }

      var input = inputs[0];
      this.inputRingBuffer.push(input);

      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {
        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);

        for (var channel = 0; channel < this.numOutputChannels; ++channel) {
          var inputChannelCopy = this.inputRingBufferArraySequence[channel].slice();

          if (channel === 0) {
            this.leftBuffers.push(inputChannelCopy);

            if (this.numInputChannels === 1) {
              this.rightBuffers.push(inputChannelCopy);
            }
          } else if (channel === 1 && this.numInputChannels > 1) {
            this.rightBuffers.push(inputChannelCopy);
          }
        }

        this.recordedSamples += this.bufferSize;
      }

      return true;
    }
  }, {
    key: "record",
    value: function record(duration) {
      if (duration) {
        this.sampleLimit = Math.round(duration * sampleRate);
      }

      this.recording = true;
    }
  }, {
    key: "stop",
    value: function stop() {
      this.recording = false;
      var buffers = this.getBuffers();
      var leftBuffer = buffers[0].buffer;
      var rightBuffer = buffers[1].buffer;
      this.port.postMessage({
        name: 'buffers',
        leftBuffer: leftBuffer,
        rightBuffer: rightBuffer
      }, [leftBuffer, rightBuffer]);
      this.clear();
    }
  }, {
    key: "getBuffers",
    value: function getBuffers() {
      var buffers = [];
      buffers.push(this.mergeBuffers(this.leftBuffers));
      buffers.push(this.mergeBuffers(this.rightBuffers));
      return buffers;
    }
  }, {
    key: "mergeBuffers",
    value: function mergeBuffers(channelBuffer) {
      var result = new Float32Array(this.recordedSamples);
      var offset = 0;
      var lng = channelBuffer.length;

      for (var i = 0; i < lng; i++) {
        var buffer = channelBuffer[i];
        result.set(buffer, offset);
        offset += buffer.length;
      }

      return result;
    }
  }, {
    key: "clear",
    value: function clear() {
      var _this2 = this;

      this.leftBuffers = [];
      this.rightBuffers = [];
      this.inputRingBuffer = new RingBuffer(this.bufferSize, this.numInputChannels);
      this.inputRingBufferArraySequence = new Array(this.numInputChannels).fill(null).map(function () {
        return new Float32Array(_this2.bufferSize);
      });
      this.recordedSamples = 0;
      this.sampleLimit = null;
    }
  }]);

  return RecorderProcessor;
}(_wrapNativeSuper(AudioWorkletProcessor));

registerProcessor(processorNames.recorderProcessor, RecorderProcessor);`},function(t,n,o){o.r(n),n.default=`function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// import dependencies via preval.require so that they're available as values at compile time
var processorNames = {
  "recorderProcessor": "recorder-processor",
  "soundFileProcessor": "sound-file-processor",
  "amplitudeProcessor": "amplitude-processor"
};
var RingBuffer = {
  "default":
  /*#__PURE__*/
  function () {
    /**
     * @constructor
     * @param  {number} length Buffer length in frames.
     * @param  {number} channelCount Buffer channel count.
     */
    function RingBuffer(length, channelCount) {
      _classCallCheck(this, RingBuffer);

      this._readIndex = 0;
      this._writeIndex = 0;
      this._framesAvailable = 0;
      this._channelCount = channelCount;
      this._length = length;
      this._channelData = [];

      for (var i = 0; i < this._channelCount; ++i) {
        this._channelData[i] = new Float32Array(length);
      }
    }
    /**
     * Getter for Available frames in buffer.
     *
     * @return {number} Available frames in buffer.
     */


    _createClass(RingBuffer, [{
      key: "push",

      /**
       * Push a sequence of Float32Arrays to buffer.
       *
       * @param  {array} arraySequence A sequence of Float32Arrays.
       */
      value: function push(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // Transfer data from the |arraySequence| storage to the internal buffer.
        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;

        for (var i = 0; i < sourceLength; ++i) {
          var writeIndex = (this._writeIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            this._channelData[channel][writeIndex] = arraySequence[channel][i];
          }
        }

        this._writeIndex += sourceLength;

        if (this._writeIndex >= this._length) {
          this._writeIndex = 0;
        } // For excessive frames, the buffer will be overwritten.


        this._framesAvailable += sourceLength;

        if (this._framesAvailable > this._length) {
          this._framesAvailable = this._length;
        }
      }
      /**
       * Pull data out of buffer and fill a given sequence of Float32Arrays.
       *
       * @param  {array} arraySequence An array of Float32Arrays.
       */

    }, {
      key: "pull",
      value: function pull(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // If the FIFO is completely empty, do nothing.
        if (this._framesAvailable === 0) {
          return;
        }

        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.

        for (var i = 0; i < destinationLength; ++i) {
          var readIndex = (this._readIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            arraySequence[channel][i] = this._channelData[channel][readIndex];
          }
        }

        this._readIndex += destinationLength;

        if (this._readIndex >= this._length) {
          this._readIndex = 0;
        }

        this._framesAvailable -= destinationLength;

        if (this._framesAvailable < 0) {
          this._framesAvailable = 0;
        }
      }
    }, {
      key: "framesAvailable",
      get: function get() {
        return this._framesAvailable;
      }
    }]);

    return RingBuffer;
  }()
}["default"];

var SoundFileProcessor =
/*#__PURE__*/
function (_AudioWorkletProcesso) {
  _inherits(SoundFileProcessor, _AudioWorkletProcesso);

  function SoundFileProcessor(options) {
    var _this;

    _classCallCheck(this, SoundFileProcessor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(SoundFileProcessor).call(this));
    var processorOptions = options.processorOptions || {};
    _this.bufferSize = processorOptions.bufferSize || 256;
    _this.inputRingBuffer = new RingBuffer(_this.bufferSize, 1);
    _this.inputRingBufferArraySequence = [new Float32Array(_this.bufferSize)];
    return _this;
  }

  _createClass(SoundFileProcessor, [{
    key: "process",
    value: function process(inputs) {
      var input = inputs[0]; // we only care about the first input channel, because that contains the position data

      this.inputRingBuffer.push([input[0]]);

      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {
        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);
        var inputChannel = this.inputRingBufferArraySequence[0];
        var position = inputChannel[inputChannel.length - 1] || 0;
        this.port.postMessage({
          name: 'position',
          position: position
        });
      }

      return true;
    }
  }]);

  return SoundFileProcessor;
}(_wrapNativeSuper(AudioWorkletProcessor));

registerProcessor(processorNames.soundFileProcessor, SoundFileProcessor);`},function(t,n,o){o.r(n),n.default=`function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// import dependencies via preval.require so that they're available as values at compile time
var processorNames = {
  "recorderProcessor": "recorder-processor",
  "soundFileProcessor": "sound-file-processor",
  "amplitudeProcessor": "amplitude-processor"
};
var RingBuffer = {
  "default":
  /*#__PURE__*/
  function () {
    /**
     * @constructor
     * @param  {number} length Buffer length in frames.
     * @param  {number} channelCount Buffer channel count.
     */
    function RingBuffer(length, channelCount) {
      _classCallCheck(this, RingBuffer);

      this._readIndex = 0;
      this._writeIndex = 0;
      this._framesAvailable = 0;
      this._channelCount = channelCount;
      this._length = length;
      this._channelData = [];

      for (var i = 0; i < this._channelCount; ++i) {
        this._channelData[i] = new Float32Array(length);
      }
    }
    /**
     * Getter for Available frames in buffer.
     *
     * @return {number} Available frames in buffer.
     */


    _createClass(RingBuffer, [{
      key: "push",

      /**
       * Push a sequence of Float32Arrays to buffer.
       *
       * @param  {array} arraySequence A sequence of Float32Arrays.
       */
      value: function push(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // Transfer data from the |arraySequence| storage to the internal buffer.
        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;

        for (var i = 0; i < sourceLength; ++i) {
          var writeIndex = (this._writeIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            this._channelData[channel][writeIndex] = arraySequence[channel][i];
          }
        }

        this._writeIndex += sourceLength;

        if (this._writeIndex >= this._length) {
          this._writeIndex = 0;
        } // For excessive frames, the buffer will be overwritten.


        this._framesAvailable += sourceLength;

        if (this._framesAvailable > this._length) {
          this._framesAvailable = this._length;
        }
      }
      /**
       * Pull data out of buffer and fill a given sequence of Float32Arrays.
       *
       * @param  {array} arraySequence An array of Float32Arrays.
       */

    }, {
      key: "pull",
      value: function pull(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // If the FIFO is completely empty, do nothing.
        if (this._framesAvailable === 0) {
          return;
        }

        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.

        for (var i = 0; i < destinationLength; ++i) {
          var readIndex = (this._readIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            arraySequence[channel][i] = this._channelData[channel][readIndex];
          }
        }

        this._readIndex += destinationLength;

        if (this._readIndex >= this._length) {
          this._readIndex = 0;
        }

        this._framesAvailable -= destinationLength;

        if (this._framesAvailable < 0) {
          this._framesAvailable = 0;
        }
      }
    }, {
      key: "framesAvailable",
      get: function get() {
        return this._framesAvailable;
      }
    }]);

    return RingBuffer;
  }()
}["default"];

var AmplitudeProcessor =
/*#__PURE__*/
function (_AudioWorkletProcesso) {
  _inherits(AmplitudeProcessor, _AudioWorkletProcesso);

  function AmplitudeProcessor(options) {
    var _this;

    _classCallCheck(this, AmplitudeProcessor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AmplitudeProcessor).call(this));
    var processorOptions = options.processorOptions || {};
    _this.numOutputChannels = options.outputChannelCount || 1;
    _this.numInputChannels = processorOptions.numInputChannels || 2;
    _this.normalize = processorOptions.normalize || false;
    _this.smoothing = processorOptions.smoothing || 0;
    _this.bufferSize = processorOptions.bufferSize || 2048;
    _this.inputRingBuffer = new RingBuffer(_this.bufferSize, _this.numInputChannels);
    _this.outputRingBuffer = new RingBuffer(_this.bufferSize, _this.numOutputChannels);
    _this.inputRingBufferArraySequence = new Array(_this.numInputChannels).fill(null).map(function () {
      return new Float32Array(_this.bufferSize);
    });
    _this.stereoVol = [0, 0];
    _this.stereoVolNorm = [0, 0];
    _this.volMax = 0.001;

    _this.port.onmessage = function (event) {
      var data = event.data;

      if (data.name === 'toggleNormalize') {
        _this.normalize = data.normalize;
      } else if (data.name === 'smoothing') {
        _this.smoothing = Math.max(0, Math.min(1, data.smoothing));
      }
    };

    return _this;
  } // TO DO make this stereo / dependent on # of audio channels


  _createClass(AmplitudeProcessor, [{
    key: "process",
    value: function process(inputs, outputs) {
      var input = inputs[0];
      var output = outputs[0];
      var smoothing = this.smoothing;
      this.inputRingBuffer.push(input);

      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {
        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);

        for (var channel = 0; channel < this.numInputChannels; ++channel) {
          var inputBuffer = this.inputRingBufferArraySequence[channel];
          var bufLength = inputBuffer.length;
          var sum = 0;

          for (var i = 0; i < bufLength; i++) {
            var x = inputBuffer[i];

            if (this.normalize) {
              sum += Math.max(Math.min(x / this.volMax, 1), -1) * Math.max(Math.min(x / this.volMax, 1), -1);
            } else {
              sum += x * x;
            }
          } // ... then take the square root of the sum.


          var rms = Math.sqrt(sum / bufLength);
          this.stereoVol[channel] = Math.max(rms, this.stereoVol[channel] * smoothing);
          this.volMax = Math.max(this.stereoVol[channel], this.volMax);
        } // calculate stero normalized volume and add volume from all channels together


        var volSum = 0;

        for (var index = 0; index < this.stereoVol.length; index++) {
          this.stereoVolNorm[index] = Math.max(Math.min(this.stereoVol[index] / this.volMax, 1), 0);
          volSum += this.stereoVol[index];
        } // volume is average of channels


        var volume = volSum / this.stereoVol.length; // normalized value

        var volNorm = Math.max(Math.min(volume / this.volMax, 1), 0);
        this.port.postMessage({
          name: 'amplitude',
          volume: volume,
          volNorm: volNorm,
          stereoVol: this.stereoVol,
          stereoVolNorm: this.stereoVolNorm
        }); // pass input through to output

        this.outputRingBuffer.push(this.inputRingBufferArraySequence);
      } // pull 128 frames out of the ring buffer
      // if the ring buffer does not have enough frames, the output will be silent


      this.outputRingBuffer.pull(output);
      return true;
    }
  }]);

  return AmplitudeProcessor;
}(_wrapNativeSuper(AudioWorkletProcessor));

registerProcessor(processorNames.amplitudeProcessor, AmplitudeProcessor);`},function(t,n,o){var i,p;i=[o(0),o(17)],p=(function(m){m.Frequency=function(E,y){if(!(this instanceof m.Frequency))return new m.Frequency(E,y);m.TimeBase.call(this,E,y)},m.extend(m.Frequency,m.TimeBase),m.Frequency.prototype._primaryExpressions=Object.create(m.TimeBase.prototype._primaryExpressions),m.Frequency.prototype._primaryExpressions.midi={regexp:/^(\d+(?:\.\d+)?midi)/,method:function(E){return this.midiToFrequency(E)}},m.Frequency.prototype._primaryExpressions.note={regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(E,y){var h=w[E.toLowerCase()]+12*(parseInt(y)+1);return this.midiToFrequency(h)}},m.Frequency.prototype._primaryExpressions.tr={regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(E,y,h){var a=1;return E&&E!=="0"&&(a*=this._beatsToUnits(this._timeSignature()*parseFloat(E))),y&&y!=="0"&&(a*=this._beatsToUnits(parseFloat(y))),h&&h!=="0"&&(a*=this._beatsToUnits(parseFloat(h)/4)),a}},m.Frequency.prototype.transpose=function(E){return this._expr=(function(y,h){return y()*this.intervalToFrequencyRatio(h)}).bind(this,this._expr,E),this},m.Frequency.prototype.harmonize=function(E){return this._expr=(function(y,h){for(var a=y(),c=[],x=0;x<h.length;x++)c[x]=a*this.intervalToFrequencyRatio(h[x]);return c}).bind(this,this._expr,E),this},m.Frequency.prototype.toMidi=function(){return this.frequencyToMidi(this.valueOf())},m.Frequency.prototype.toNote=function(){var E=this.valueOf(),y=Math.log(E/m.Frequency.A4)/Math.LN2,h=Math.round(12*y)+57,a=Math.floor(h/12);return a<0&&(h+=-12*a),r[h%12]+a.toString()},m.Frequency.prototype.toSeconds=function(){return 1/this.valueOf()},m.Frequency.prototype.toFrequency=function(){return this.valueOf()},m.Frequency.prototype.toTicks=function(){var E=this._beatsToUnits(1),y=this.valueOf()/E;return Math.floor(y*m.Transport.PPQ)},m.Frequency.prototype._frequencyToUnits=function(E){return E},m.Frequency.prototype._ticksToUnits=function(E){return 1/(60*E/(m.Transport.bpm.value*m.Transport.PPQ))},m.Frequency.prototype._beatsToUnits=function(E){return 1/m.TimeBase.prototype._beatsToUnits.call(this,E)},m.Frequency.prototype._secondsToUnits=function(E){return 1/E},m.Frequency.prototype._defaultUnits="hz";var w={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return m.Frequency.A4=440,m.Frequency.prototype.midiToFrequency=function(E){return m.Frequency.A4*Math.pow(2,(E-69)/12)},m.Frequency.prototype.frequencyToMidi=function(E){return 69+12*Math.log(E/m.Frequency.A4)/Math.LN2},m.Frequency}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(16)],p=(function(m){return m.TransportTime=function(w,r){if(!(this instanceof m.TransportTime))return new m.TransportTime(w,r);m.Time.call(this,w,r)},m.extend(m.TransportTime,m.Time),m.TransportTime.prototype._unaryExpressions=Object.create(m.Time.prototype._unaryExpressions),m.TransportTime.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(w){var r=this._secondsToTicks(w()),E=Math.ceil(m.Transport.ticks/r);return this._ticksToUnits(E*r)}},m.TransportTime.prototype._secondsToTicks=function(w){var r=w/this._beatsToUnits(1);return Math.round(r*m.Transport.PPQ)},m.TransportTime.prototype.valueOf=function(){return this._secondsToTicks(this._expr())+(this._plusNow?m.Transport.ticks:0)},m.TransportTime.prototype.toTicks=function(){return this.valueOf()},m.TransportTime.prototype.toSeconds=function(){return this._expr()+(this._plusNow?m.Transport.seconds:0)},m.TransportTime.prototype.toFrequency=function(){return 1/this.toSeconds()},m.TransportTime}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(4),o(13),o(1),o(33),o(21),o(34),o(20),o(35),o(36),o(37)],p=(function(m){function w(h,a,c){var x=new h;return c._eval(a[0]).connect(x,0,0),c._eval(a[1]).connect(x,0,1),x}function r(h,a,c){var x=new h;return c._eval(a[0]).connect(x,0,0),x}function E(h){return h?parseFloat(h):void 0}function y(h){return h&&h.args?parseFloat(h.args):void 0}return m.Expr=function(){var h=this._replacements(Array.prototype.slice.call(arguments)),a=this._parseInputs(h);this._nodes=[],this.input=new Array(a);for(var c=0;c<a;c++)this.input[c]=this.context.createGain();var x,S=this._parseTree(h);try{x=this._eval(S)}catch{throw this._disposeNodes(),new Error("Tone.Expr: Could evaluate expression: "+h)}this.output=x},m.extend(m.Expr,m.SignalBase),m.Expr._Expressions={value:{signal:{regexp:/^\d+\.\d+|^\d+/,method:function(h){return new m.Signal(E(h))}},input:{regexp:/^\$\d/,method:function(h,a){return a.input[E(h.substr(1))]}}},glue:{"(":{regexp:/^\(/},")":{regexp:/^\)/},",":{regexp:/^,/}},func:{abs:{regexp:/^abs/,method:r.bind(this,m.Abs)},mod:{regexp:/^mod/,method:function(h,a){var c=y(h[1]),x=new m.Modulo(c);return a._eval(h[0]).connect(x),x}},pow:{regexp:/^pow/,method:function(h,a){var c=y(h[1]),x=new m.Pow(c);return a._eval(h[0]).connect(x),x}},a2g:{regexp:/^a2g/,method:function(h,a){var c=new m.AudioToGain;return a._eval(h[0]).connect(c),c}}},binary:{"+":{regexp:/^\+/,precedence:1,method:w.bind(this,m.Add)},"-":{regexp:/^\-/,precedence:1,method:function(h,a){return h.length===1?r(m.Negate,h,a):w(m.Subtract,h,a)}},"*":{regexp:/^\*/,precedence:0,method:w.bind(this,m.Multiply)}},unary:{"-":{regexp:/^\-/,method:r.bind(this,m.Negate)},"!":{regexp:/^\!/,method:r.bind(this,m.NOT)}}},m.Expr.prototype._parseInputs=function(h){var a=h.match(/\$\d/g),c=0;if(a!==null)for(var x=0;x<a.length;x++){var S=parseInt(a[x].substr(1))+1;c=Math.max(c,S)}return c},m.Expr.prototype._replacements=function(h){for(var a=h.shift(),c=0;c<h.length;c++)a=a.replace(/\%/i,h[c]);return a},m.Expr.prototype._tokenize=function(h){for(var a=-1,c=[];0<h.length;){var x=S(h=h.trim());c.push(x),h=h.substr(x.value.length)}function S(l){for(var f in m.Expr._Expressions){var u=m.Expr._Expressions[f];for(var s in u){var d=u[s],g=d.regexp,_=l.match(g);if(_!==null)return{type:f,value:_[0],method:d.method}}}throw new SyntaxError("Tone.Expr: Unexpected token "+l)}return{next:function(){return c[++a]},peek:function(){return c[a+1]}}},m.Expr.prototype._parseTree=function(h){var a=this._tokenize(h),c=this.isUndef.bind(this);function x(u,s){return!c(u)&&u.type==="glue"&&u.value===s}function S(u,s,d){var g=m.Expr._Expressions[s];if(!c(u))for(var _ in g){var v=g[_];if(v.regexp.test(u.value)&&(c(d)||v.precedence===d))return!0}return!1}function l(u){var s;c(u)&&(u=5),s=u<0?function g(){var _,v;return _=a.peek(),S(_,"unary")?(_=a.next(),v=g(),{operator:_.value,method:_.method,args:[v]}):f()}():l(u-1);for(var d=a.peek();S(d,"binary",u);)s={operator:(d=a.next()).value,method:d.method,args:[s,l(u-1)]},d=a.peek();return s}function f(){var u,s;if(u=a.peek(),c(u))throw new SyntaxError("Tone.Expr: Unexpected termination of expression");if(u.type==="func")return function(d){var g=[];if(!x(a.next(),"("))throw new SyntaxError('Tone.Expr: Expected ( in a function call "'+d.value+'"');if(x(a.peek(),")")||(g=function(){for(var _,v=[];_=l(),!c(_)&&(v.push(_),x(a.peek(),","));)a.next();return v}()),x(a.next(),")"))return{method:d.method,args:g,name};throw new SyntaxError('Tone.Expr: Expected ) in a function call "'+d.value+'"')}(u=a.next());if(u.type==="value")return{method:(u=a.next()).method,args:u.value};if(x(u,"(")){if(a.next(),s=l(),!x(u=a.next(),")"))throw new SyntaxError("Expected )");return s}throw new SyntaxError("Tone.Expr: Parse error, cannot process token "+u.value)}return l()},m.Expr.prototype._eval=function(h){if(!this.isUndef(h)){var a=h.method(h.args,this);return this._nodes.push(a),a}},m.Expr.prototype._disposeNodes=function(){for(var h=0;h<this._nodes.length;h++){var a=this._nodes[h];this.isFunction(a.dispose)?a.dispose():this.isFunction(a.disconnect)&&a.disconnect(),a=null,this._nodes[h]=null}this._nodes=null},m.Expr.prototype.dispose=function(){m.prototype.dispose.call(this),this._disposeNodes()},m.Expr}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(21),o(13),o(2)],p=(function(m){return m.GreaterThan=function(w){this.createInsOuts(2,0),this._param=this.input[0]=new m.Subtract(w),this.input[1]=this._param.input[1],this._gtz=this.output=new m.GreaterThanZero,this._param.connect(this._gtz)},m.extend(m.GreaterThan,m.Signal),m.GreaterThan.prototype.dispose=function(){return m.prototype.dispose.call(this),this._param.dispose(),this._param=null,this._gtz.dispose(),this._gtz=null,this},m.GreaterThan}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(6),o(15)],p=(function(m){return m.Abs=function(){this._abs=this.input=this.output=new m.WaveShaper(function(w){return w===0?0:Math.abs(w)},127)},m.extend(m.Abs,m.SignalBase),m.Abs.prototype.dispose=function(){return m.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},m.Abs}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(6),o(1),o(13)],p=(function(m){return m.Modulo=function(w){this.createInsOuts(1,0),this._shaper=new m.WaveShaper(Math.pow(2,16)),this._multiply=new m.Multiply,this._subtract=this.output=new m.Subtract,this._modSignal=new m.Signal(w),this.input.fan(this._shaper,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(w)},m.extend(m.Modulo,m.SignalBase),m.Modulo.prototype._setWaveShaper=function(w){this._shaper.setMap(function(r){return Math.floor((r+1e-4)/w)})},Object.defineProperty(m.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(w){this._modSignal.value=w,this._setWaveShaper(w)}}),m.Modulo.prototype.dispose=function(){return m.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},m.Modulo}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(6)],p=(function(m){return m.Pow=function(w){this._exp=this.defaultArg(w,1),this._expScaler=this.input=this.output=new m.WaveShaper(this._expFunc(this._exp),8192)},m.extend(m.Pow,m.SignalBase),Object.defineProperty(m.Pow.prototype,"value",{get:function(){return this._exp},set:function(w){this._exp=w,this._expScaler.setMap(this._expFunc(this._exp))}}),m.Pow.prototype._expFunc=function(w){return function(r){return Math.pow(Math.abs(r),w)}},m.Pow.prototype.dispose=function(){return m.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},m.Pow}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(6),o(2)],p=(function(m){return m.AudioToGain=function(){this._norm=this.input=this.output=new m.WaveShaper(function(w){return(w+1)/2})},m.extend(m.AudioToGain,m.SignalBase),m.AudioToGain.prototype.dispose=function(){return m.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},m.AudioToGain}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(6)],p=(function(m){return m.EqualPowerGain=function(){this._eqPower=this.input=this.output=new m.WaveShaper((function(w){return Math.abs(w)<.001?0:this.equalPowerScale(w)}).bind(this),4096)},m.extend(m.EqualPowerGain,m.SignalBase),m.EqualPowerGain.prototype.dispose=function(){return m.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},m.EqualPowerGain}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){var i,p;i=[o(0),o(19),o(9)],p=(function(m){return m.TimelineState=function(w){m.Timeline.call(this),this._initial=w},m.extend(m.TimelineState,m.Timeline),m.TimelineState.prototype.getValueAtTime=function(w){var r=this.get(w);return r!==null?r.state:this._initial},m.TimelineState.prototype.setStateAtTime=function(w,r){this.add({state:w,time:r})},m.TimelineState}).apply(n,i),p!==void 0&&(t.exports=p)},function(t,n,o){o.r(n),o(24),o(25);var i=o(3);function p(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}var m=function z(){p(this,z),this.input=i.a.createGain(),this.output=i.a.createGain(),this.limiter=i.a.createDynamicsCompressor(),this.limiter.threshold.value=-3,this.limiter.ratio.value=20,this.limiter.knee.value=1,this.audiocontext=i.a,this.output.disconnect(),this.input.connect(this.limiter),this.limiter.connect(this.output),this.meter=i.a.createGain(),this.fftMeter=i.a.createGain(),this.output.connect(this.meter),this.output.connect(this.fftMeter),this.output.connect(this.audiocontext.destination),this.soundArray=[],this.parts=[],this.extensions=[]},w=new m;p5.prototype.getOutputVolume=function(){return w.output.gain.value},p5.prototype.outputVolume=function(z){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(typeof z=="number"){var F=w.audiocontext.currentTime,Y=w.output.gain.value;w.output.gain.cancelScheduledValues(F+O),w.output.gain.linearRampToValueAtTime(Y,F+O),w.output.gain.linearRampToValueAtTime(z,F+O+D)}else if(z)z.connect(w.output.gain);else return w.output.gain},p5.prototype.soundOut=p5.soundOut=w,p5.soundOut._silentNode=w.audiocontext.createGain(),p5.soundOut._silentNode.gain.value=0,p5.soundOut._silentNode.connect(w.audiocontext.destination);var r=w,E=o(5),y=o.n(E);function h(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(O){return typeof O}:h=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},h(z)}function a(){return r.audiocontext.sampleRate}function c(z){var D=Math.log(z/440)/Math.log(2),O=Math.round(12*D)+69;return O}function x(z){return 440*Math.pow(2,(z-69)/12)}function S(z){if(typeof z!="string")return z;var D={A:21,B:23,C:24,D:26,E:28,F:29,G:31},O=D[z[0].toUpperCase()],F=~~z.slice(-1);switch(O+=12*(F-1),z[1]){case"#":O+=1;break;case"b":O-=1;break}return x(O)}function l(){r.extensions=[];for(var z=0;z<arguments.length;z++)if(arguments[z]=arguments[z].toLowerCase(),["mp3","wav","ogg","m4a","aac"].indexOf(arguments[z])>-1)r.extensions.push(arguments[z]);else throw arguments[z]+" is not a valid sound format!"}function f(){for(var z=0;z<r.soundArray.length;z++)r.soundArray[z].dispose()}function u(z){var D;if(typeof z=="string"){D=z;var O=D.split(".").pop();if(["mp3","wav","ogg","m4a","aac"].indexOf(O)>-1){if(!p5.prototype.isFileSupported(O))for(var F=D.split("."),Y=F[F.length-1],oe=0;oe<r.extensions.length;oe++){var ke=r.extensions[oe],Ie=p5.prototype.isFileSupported(ke);if(Ie){Y="",F.length===2&&(Y+=F[0]);for(var ze=1;ze<=F.length-2;ze++){var _t=F[ze];Y+="."+_t}D=Y+=".",D=D+=ke;break}}}else for(var xt=0;xt<r.extensions.length;xt++){var Kt=r.extensions[xt],Bn=p5.prototype.isFileSupported(Kt);if(Bn){D=D+"."+Kt;break}}}else if(h(z)==="object")for(var Ur=0;Ur<z.length;Ur++){var rn=z[Ur].split(".").pop(),vo=p5.prototype.isFileSupported(rn);if(vo){D=z[Ur];break}}return D}function s(z,D,O,F,Y){for(var oe in z.mathOps)z.mathOps[oe]instanceof Y&&(z.mathOps[oe].dispose(),O=oe,O<z.mathOps.length-1&&(F=z.mathOps[oe+1]));return z.mathOps[O-1].disconnect(),z.mathOps[O-1].connect(D),D.connect(F),z.mathOps[O]=D,z}function d(z){var D,O;D=z.getChannelData(0),z.numberOfChannels>1?O=z.getChannelData(1):O=D;var F=g(D,O),Y=new window.ArrayBuffer(44+F.length*2),oe=new window.DataView(Y);_(oe,0,"RIFF"),oe.setUint32(4,36+F.length*2,!0),_(oe,8,"WAVE"),_(oe,12,"fmt "),oe.setUint32(16,16,!0),oe.setUint16(20,1,!0),oe.setUint16(22,2,!0),oe.setUint32(24,r.audiocontext.sampleRate,!0),oe.setUint32(28,r.audiocontext.sampleRate*4,!0),oe.setUint16(32,4,!0),oe.setUint16(34,16,!0),_(oe,36,"data"),oe.setUint32(40,F.length*2,!0);for(var ke=F.length,Ie=44,ze=1,_t=0;_t<ke;_t++)oe.setInt16(Ie,F[_t]*(32767*ze),!0),Ie+=2;return oe}function g(z,D){for(var O=z.length+D.length,F=new Float32Array(O),Y=0,oe=0;oe<O;)F[oe++]=z[Y],F[oe++]=D[Y],Y++;return F}function _(z,D,O){for(var F=O.length,Y=0;Y<F;Y++)z.setUint8(D+Y,O.charCodeAt(Y))}function v(z){var D=z,O=new AudioWorkletNode(r.audiocontext,y.a.soundFileProcessor);return O instanceof ScriptProcessorNode&&(D=O.bufferSize),O.disconnect(),O=null,D}function j(z,D){var O=d(z.buffer);p5.prototype.writeFile([O],D,"wav")}var T=function(D,O,F){var Y=new Error,oe,ke;return Y.name=D,Y.originalStack=Y.stack+O,oe=Y.stack+O,Y.failedPath=F,ke=oe.split(`
`).filter(function(Ie){return!Ie.match(/(p5.|native code|globalInit)/g)}),Y.stack=ke.join(`
`),Y},C=T,L=[o(27).default,o(28).default,o(29).default],R=r.audiocontext,P=!1;function B(){return Promise.all(L.map(function(z){var D=new Blob([z],{type:"application/javascript"}),O=URL.createObjectURL(D);return R.audioWorklet.addModule(O)}))}p5.prototype.registerMethod("init",function(){if(!P){!this.preload&&!window.preload&&(this.preload=function(){}),this._incrementPreload();var z=(function(){P=!0,this._decrementPreload()}).bind(this);B().then(z)}});function M(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function U(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function V(z,D,O){return D&&U(z.prototype,D),z}var $=r.audiocontext,G;if(typeof $.createStereoPanner<"u"){var I=function(){function z(D,O){M(this,z),this.stereoPanner=this.input=$.createStereoPanner(),D.connect(this.stereoPanner),this.stereoPanner.connect(O)}return V(z,[{key:"pan",value:function(O,F){var Y=F||0,oe=$.currentTime+Y;this.stereoPanner.pan.linearRampToValueAtTime(O,oe)}},{key:"inputChannels",value:function(){}},{key:"connect",value:function(O){this.stereoPanner.connect(O)}},{key:"disconnect",value:function(){this.stereoPanner&&this.stereoPanner.disconnect()}}]),z}();G=I}else{var q=function(){function z(D,O,F){M(this,z),this.input=$.createGain(),D.connect(this.input),this.left=$.createGain(),this.right=$.createGain(),this.left.channelInterpretation="discrete",this.right.channelInterpretation="discrete",F>1?(this.splitter=$.createChannelSplitter(2),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0)):(this.input.connect(this.left),this.input.connect(this.right)),this.output=$.createChannelMerger(2),this.left.connect(this.output,0,1),this.right.connect(this.output,0,0),this.output.connect(O)}return V(z,[{key:"pan",value:function(O,F){var Y=F||0,oe=$.currentTime+Y,ke=(O+1)/2,Ie=Math.cos(ke*Math.PI/2),ze=Math.sin(ke*Math.PI/2);this.left.gain.linearRampToValueAtTime(ze,oe),this.right.gain.linearRampToValueAtTime(Ie,oe)}},{key:"inputChannels",value:function(O){O===1?(this.input.disconnect(),this.input.connect(this.left),this.input.connect(this.right)):O===2&&(typeof this.splitter>"u"&&(this.splitter=$.createChannelSplitter(2)),this.input.disconnect(),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0))}},{key:"connect",value:function(O){this.output.connect(O)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}}]),z}();G=q}var Z=G;function J(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?J=function(O){return typeof O}:J=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},J(z)}function ee(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function le(z,D,O){return D&&ee(z.prototype,D),z}function ae(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}var fe=r.audiocontext,H=function(D){for(var O=D.length,F=fe.createBuffer(1,D.length,fe.sampleRate),Y=F.getChannelData(0),oe=0;oe<O;oe++)Y[oe]=oe;return F},X=function z(D,O,F,Y){ae(this,z),this.callback=D,this.time=O,this.id=F,this.val=Y};function te(z){var D=z.target,O=this;D._playing=!1,D.removeEventListener("ended",O._clearOnEnd),O._onended(O),O.bufferSourceNodes.map(function(F,Y){return Y}).reverse().forEach(function(F){var Y=O.bufferSourceNodes[F];Y._playing===!1&&O.bufferSourceNodes.splice(F,1)}),O.bufferSourceNodes.length===0&&(O._playing=!1)}var ue=function(){function z(D,O,F,Y){if(ae(this,z),typeof D<"u"){if(typeof D=="string"||typeof D[0]=="string"){var oe=p5.prototype._checkFileFormats(D);this.url=oe}else if(J(D)==="object"&&!(window.File&&window.FileReader&&window.FileList&&window.Blob))throw"Unable to load file because the File API is not supported";D.file&&(D=D.file),this.file=D}this._onended=function(){},this._looping=!1,this._playing=!1,this._paused=!1,this._pauseTime=0,this._cues=[],this._cueIDCounter=0,this._lastPos=0,this._counterNode=null,this._workletNode=null,this.bufferSourceNodes=[],this.bufferSourceNode=null,this.buffer=null,this.playbackRate=1,this.input=r.audiocontext.createGain(),this.output=r.audiocontext.createGain(),this.reversed=!1,this.startTime=0,this.endTime=null,this.pauseTime=0,this.mode="sustain",this.startMillis=null,this.panPosition=0,this.panner=new Z(this.output,r.input,2),(this.url||this.file)&&this.load(O,F),r.soundArray.push(this),typeof Y=="function"?this._whileLoading=Y:this._whileLoading=function(){},this._clearOnEnd=te.bind(this),this.amp=this.setVolume,this.fade=this.setVolume}return le(z,[{key:"load",value:function(O,F){var Y=this,oe=new Error().stack;if(this.url!==void 0&&this.url!==""){var ke=new XMLHttpRequest;ke.addEventListener("progress",function(ze){Y._updateProgress(ze)},!1),ke.open("GET",this.url,!0),ke.responseType="arraybuffer",ke.onload=function(){if(ke.status===200){if(!Y.panner)return;fe.decodeAudioData(ke.response,function(xt){Y.panner&&(Y.buffer=xt,Y.panner.inputChannels(xt.numberOfChannels),O&&O(Y))},function(){if(Y.panner){var xt=new C("decodeAudioData",oe,Y.url),Kt="AudioContext error at decodeAudioData for "+Y.url;F?(xt.msg=Kt,F(xt)):console.error(Kt+`
 The error stack trace includes: 
`+xt.stack)}})}else{if(!Y.panner)return;var ze=new C("loadSound",oe,Y.url),_t="Unable to load "+Y.url+". The request status was: "+ke.status+" ("+ke.statusText+")";F?(ze.message=_t,F(ze)):console.error(_t+`
 The error stack trace includes: 
`+ze.stack)}},ke.onerror=function(){var ze=new C("loadSound",oe,Y.url),_t="There was no response from the server at "+Y.url+". Check the url and internet connectivity.";F?(ze.message=_t,F(ze)):console.error(_t+`
 The error stack trace includes: 
`+ze.stack)},ke.send()}else if(this.file!==void 0){var Ie=new FileReader;Ie.onload=function(){Y.panner&&fe.decodeAudioData(Ie.result,function(ze){Y.panner&&(Y.buffer=ze,Y.panner.inputChannels(ze.numberOfChannels),O&&O(Y))})},Ie.onerror=function(ze){Y.panner&&onerror&&onerror(ze)},Ie.readAsArrayBuffer(this.file)}}},{key:"_updateProgress",value:function(O){if(O.lengthComputable){var F=O.loaded/O.total*.99;this._whileLoading(F,O)}else this._whileLoading("size unknown")}},{key:"isLoaded",value:function(){return!!this.buffer}},{key:"play",value:function(O,F,Y,oe,ke){if(!this.output){console.warn("SoundFile.play() called after dispose");return}var Ie=r.audiocontext.currentTime,ze,_t,xt=O||0;if(xt<0&&(xt=0),xt=xt+Ie,typeof F<"u"&&this.rate(F),typeof Y<"u"&&this.setVolume(Y),this.buffer){if(this._pauseTime=0,this.mode==="restart"&&this.buffer&&this.bufferSourceNode&&(this.bufferSourceNode.stop(xt),this._counterNode.stop(xt)),this.mode==="untildone"&&this.isPlaying())return;if(this.bufferSourceNode=this._initSourceNode(),delete this._counterNode,this._counterNode=this._initCounterNode(),oe)if(oe>=0&&oe<this.buffer.duration)ze=oe;else throw"start time out of range";else ze=0;ke&&(ke=ke<=this.buffer.duration-ze?ke:this.buffer.duration),this._paused?(this.bufferSourceNode.start(xt,this.pauseTime,ke),this._counterNode.start(xt,this.pauseTime,ke)):(this.bufferSourceNode.start(xt,ze,ke),this._counterNode.start(xt,ze,ke)),this._playing=!0,this._paused=!1,this.bufferSourceNodes.push(this.bufferSourceNode),this.bufferSourceNode._arrayIndex=this.bufferSourceNodes.length-1,this.bufferSourceNode.addEventListener("ended",this._clearOnEnd)}else throw"not ready to play file, buffer has yet to load. Try preload()";this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping,this._looping===!0&&(_t=ke||ze-1e-15,this.bufferSourceNode.loopStart=ze,this.bufferSourceNode.loopEnd=_t,this._counterNode.loopStart=ze,this._counterNode.loopEnd=_t)}},{key:"playMode",value:function(O){var F=O.toLowerCase();if(F==="restart"&&this.buffer&&this.bufferSourceNode)for(var Y=0;Y<this.bufferSourceNodes.length-1;Y++){var oe=r.audiocontext.currentTime;this.bufferSourceNodes[Y].stop(oe)}if(F==="restart"||F==="sustain"||F==="untildone")this.mode=F;else throw'Invalid play mode. Must be either "restart" or "sustain"'}},{key:"pause",value:function(O){var F=r.audiocontext.currentTime,Y=O||0,oe=Y+F;this.isPlaying()&&this.buffer&&this.bufferSourceNode?(this._paused=!0,this._playing=!1,this.pauseTime=this.currentTime(),this.bufferSourceNode.stop(oe),this._counterNode.stop(oe),this._pauseTime=this.currentTime()):this._pauseTime=0}},{key:"loop",value:function(O,F,Y,oe,ke){this._looping=!0,this.play(O,F,Y,oe,ke)}},{key:"setLoop",value:function(O){if(O===!0)this._looping=!0;else if(O===!1)this._looping=!1;else throw"Error: setLoop accepts either true or false";this.bufferSourceNode&&(this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping)}},{key:"isLooping",value:function(){return this.bufferSourceNode?this._looping===!0&&this.isPlaying()===!0:!1}},{key:"isPlaying",value:function(){return this._playing}},{key:"isPaused",value:function(){return this._paused}},{key:"stop",value:function(O){var F=O||0;if(this.mode==="sustain"||this.mode==="untildone")this.stopAll(F),this._playing=!1,this.pauseTime=0,this._paused=!1;else if(this.buffer&&this.bufferSourceNode){var Y=r.audiocontext.currentTime,oe=F||0;this.pauseTime=0,this.bufferSourceNode.stop(Y+oe),this._counterNode.stop(Y+oe),this._playing=!1,this._paused=!1}}},{key:"stopAll",value:function(O){var F=r.audiocontext.currentTime,Y=O||0;if(this.buffer&&this.bufferSourceNode){for(var oe in this.bufferSourceNodes){var ke=this.bufferSourceNodes[oe];if(ke)try{ke.stop(F+Y)}catch{}}this._counterNode.stop(F+Y)}}},{key:"getVolume",value:function(){return this.output.gain.value}},{key:"pan",value:function(O,F){this.panPosition=O,this.panner.pan(O,F)}},{key:"getPan",value:function(){return this.panPosition}},{key:"rate",value:function(O){var F=!1;if(typeof O>"u")return this.playbackRate;if(this.playbackRate=O,O===0?O=1e-13:O<0&&!this.reversed?(O=Math.abs(O),F=!0):O>0&&this.reversed&&(F=!0),this.bufferSourceNode){var Y=r.audiocontext.currentTime;this.bufferSourceNode.playbackRate.cancelScheduledValues(Y),this.bufferSourceNode.playbackRate.linearRampToValueAtTime(Math.abs(O),Y),this._counterNode.playbackRate.cancelScheduledValues(Y),this._counterNode.playbackRate.linearRampToValueAtTime(Math.abs(O),Y)}return F&&this.reverseBuffer(),this.playbackRate}},{key:"setPitch",value:function(O){var F=x(O)/x(60);this.rate(F)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setVolume",value:function(O,F,Y){if(typeof O=="number"){var oe=F||0,ke=Y||0,Ie=r.audiocontext.currentTime,ze=this.output.gain.value;this.output.gain.cancelScheduledValues(Ie+ke),this.output.gain.linearRampToValueAtTime(ze,Ie+ke),this.output.gain.linearRampToValueAtTime(O,Ie+ke+oe)}else if(O)O.connect(this.output.gain);else return this.output.gain}},{key:"duration",value:function(){return this.buffer?this.buffer.duration:0}},{key:"currentTime",value:function(){return this.reversed?Math.abs(this._lastPos-this.buffer.length)/fe.sampleRate:this._lastPos/fe.sampleRate}},{key:"jump",value:function(O,F){if(O<0||O>this.buffer.duration)throw"jump time out of range";if(F>this.buffer.duration-O)throw"end time out of range";var Y=O||0,oe=F||void 0;this.isPlaying()&&(this.stop(0),this.play(0,this.playbackRate,this.output.gain.value,Y,oe))}},{key:"channels",value:function(){return this.buffer.numberOfChannels}},{key:"sampleRate",value:function(){return this.buffer.sampleRate}},{key:"frames",value:function(){return this.buffer.length}},{key:"getPeaks",value:function(O){if(this.buffer){if(O||(O=window.width*5),this.buffer){for(var F=this.buffer,Y=F.length/O,oe=~~(Y/10)||1,ke=F.numberOfChannels,Ie=new Float32Array(Math.round(O)),ze=0;ze<ke;ze++)for(var _t=F.getChannelData(ze),xt=0;xt<O;xt++){for(var Kt=~~(xt*Y),Bn=~~(Kt+Y),Ur=0,rn=Kt;rn<Bn;rn+=oe){var vo=_t[rn];(vo>Ur||-vo>Ur)&&(Ur=vo)}(ze===0||Math.abs(Ur)>Ie[xt])&&(Ie[xt]=Ur)}return Ie}}else throw"Cannot load peaks yet, buffer is not loaded"}},{key:"reverseBuffer",value:function(){if(this.buffer){var O=this._lastPos/fe.sampleRate,F=this.getVolume();this.setVolume(0,.001);for(var Y=this.buffer.numberOfChannels,oe=0;oe<Y;oe++)this.buffer.getChannelData(oe).reverse();this.reversed=!this.reversed,this.isPlaying()&&O&&this.jump(this.duration()-O),this.setVolume(F,.001)}else throw"SoundFile is not done loading"}},{key:"onended",value:function(O){return this._onended=O,this}},{key:"add",value:function(){}},{key:"dispose",value:function(){var O=r.audiocontext.currentTime,F=r.soundArray.indexOf(this);if(r.soundArray.splice(F,1),this.stop(O),this.buffer&&this.bufferSourceNode){for(var Y=0;Y<this.bufferSourceNodes.length-1;Y++)if(this.bufferSourceNodes[Y]!==null){this.bufferSourceNodes[Y].disconnect();try{this.bufferSourceNodes[Y].stop(O)}catch{console.warn("no buffer source node to dispose")}this.bufferSourceNodes[Y]=null}if(this.isPlaying()){try{this._counterNode.stop(O)}catch(oe){console.log(oe)}this._counterNode=null}}this.output&&(this.output.disconnect(),this.output=null),this.panner&&(this.panner.disconnect(),this.panner=null)}},{key:"connect",value:function(O){O?O.hasOwnProperty("input")?this.panner.connect(O.input):this.panner.connect(O):this.panner.connect(r.input)}},{key:"disconnect",value:function(){this.panner&&this.panner.disconnect()}},{key:"getLevel",value:function(){console.warn("p5.SoundFile.getLevel has been removed from the library. Use p5.Amplitude instead")}},{key:"setPath",value:function(O,F){var Y=p5.prototype._checkFileFormats(O);this.url=Y,this.load(F)}},{key:"setBuffer",value:function(O){var F=O.length,Y=O[0].length,oe=fe.createBuffer(F,Y,fe.sampleRate);O[0]instanceof Float32Array||(O[0]=new Float32Array(O[0]));for(var ke=0;ke<F;ke++){var Ie=oe.getChannelData(ke);Ie.set(O[ke])}this.buffer=oe,this.panner.inputChannels(F)}},{key:"_initCounterNode",value:function(){var O=this,F=this,Y=fe.currentTime,oe=fe.createBufferSource(),ke=v(256);return F._workletNode&&(F._workletNode.disconnect(),delete F._workletNode),F._workletNode=new AudioWorkletNode(fe,y.a.soundFileProcessor,{processorOptions:{bufferSize:ke}}),F._workletNode.port.onmessage=function(Ie){if(Ie.data.name==="position"){if(Ie.data.position===0)return;O._lastPos=Ie.data.position,O._onTimeUpdate(F._lastPos)}},oe.buffer=H(F.buffer),oe.playbackRate.setValueAtTime(F.playbackRate,Y),oe.connect(F._workletNode),F._workletNode.connect(p5.soundOut._silentNode),oe}},{key:"_initSourceNode",value:function(){var O=fe.createBufferSource();return O.buffer=this.buffer,O.playbackRate.value=this.playbackRate,O.connect(this.output),O}},{key:"processPeaks",value:function(O,F,Y,oe){console.warn("processPeaks is deprecated")}},{key:"addCue",value:function(O,F,Y){var oe=this._cueIDCounter++,ke=new X(F,O,oe,Y);return this._cues.push(ke),oe}},{key:"removeCue",value:function(O){for(var F=this._cues.length,Y=0;Y<F;Y++){var oe=this._cues[Y];if(oe.id===O){this._cues.splice(Y,1);break}}this._cues.length}},{key:"clearCues",value:function(){this._cues=[]}},{key:"_onTimeUpdate",value:function(O){for(var F=O/this.buffer.sampleRate,Y=this._cues.length,oe=0;oe<Y;oe++){var ke=this._cues[oe],Ie=ke.time,ze=ke.val,_t=this._prevUpdateTime||0,xt=F;_t<=Ie&&Ie<=xt&&ke.callback(ze)}this._prevUpdateTime=F}},{key:"save",value:function(O){p5.prototype.saveSound(this,O,"wav")}},{key:"getBlob",value:function(){var O=d(this.buffer);return new Blob([O],{type:"audio/wav"})}}]),z}();function ce(z,D,O,F){window.location.origin.indexOf("file://")>-1&&window.cordova==="undefined"&&window.alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var Y=this,oe=new ue(z,function(){typeof D=="function"&&D.apply(Y,arguments),typeof Y._decrementPreload=="function"&&Y._decrementPreload()},O,F);return oe}var he=ue;function ne(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function me(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function _e(z,D,O){return D&&me(z.prototype,D),z}var Te=function(){function z(D){ne(this,z),this.bufferSize=v(2048),this.audiocontext=r.audiocontext,this._workletNode=new AudioWorkletNode(this.audiocontext,y.a.amplitudeProcessor,{outputChannelCount:[1],parameterData:{smoothing:D||0},processorOptions:{normalize:!1,smoothing:D||0,numInputChannels:2,bufferSize:this.bufferSize}}),this._workletNode.port.onmessage=(function(O){O.data.name==="amplitude"&&(this.volume=O.data.volume,this.volNorm=O.data.volNorm,this.stereoVol=O.data.stereoVol,this.stereoVolNorm=O.data.stereoVolNorm)}).bind(this),this.input=this._workletNode,this.output=this.audiocontext.createGain(),this.volume=0,this.volNorm=0,this.stereoVol=[0,0],this.stereoVolNorm=[0,0],this.normalize=!1,this._workletNode.connect(this.output),this.output.gain.value=0,this.output.connect(this.audiocontext.destination),r.meter.connect(this._workletNode),r.soundArray.push(this)}return _e(z,[{key:"setInput",value:function(O,F){r.meter.disconnect(),F&&(this._workletNode.parameters.get("smoothing").value=F),O==null?(console.log("Amplitude input source is not ready! Connecting to main output instead"),r.meter.connect(this._workletNode)):O?(O.connect(this._workletNode),this._workletNode.disconnect(),this._workletNode.connect(this.output)):r.meter.connect(this._workletNode)}},{key:"connect",value:function(O){O?O.hasOwnProperty("input")?this.output.connect(O.input):this.output.connect(O):this.output.connect(this.panner.connect(r.input))}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"getLevel",value:function(O){return typeof O<"u"?this.normalize?this.stereoVolNorm[O]:this.stereoVol[O]:this.normalize?this.volNorm:this.volume}},{key:"toggleNormalize",value:function(O){typeof O=="boolean"?this.normalize=O:this.normalize=!this.normalize,this._workletNode.port.postMessage({name:"toggleNormalize",normalize:this.normalize})}},{key:"smooth",value:function(O){O>=0&&O<1?this._workletNode.port.postMessage({name:"smoothing",smoothing:O}):console.log("Error: smoothing must be between 0 and 1")}},{key:"dispose",value:function(){var O=r.soundArray.indexOf(this);r.soundArray.splice(O,1),this.input&&(this.input.disconnect(),delete this.input),this.output&&(this.output.disconnect(),delete this.output),this._workletNode.disconnect(),delete this._workletNode}}]),z}(),ve=Te;function je(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function Ae(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Ve(z,D,O){return D&&Ae(z.prototype,D),z}var De=function(){function z(D,O){je(this,z),this.input=this.analyser=r.audiocontext.createAnalyser(),Object.defineProperties(this,{bins:{get:function(){return this.analyser.fftSize/2},set:function(Y){this.analyser.fftSize=Y*2},configurable:!0,enumerable:!0},smoothing:{get:function(){return this.analyser.smoothingTimeConstant},set:function(Y){this.analyser.smoothingTimeConstant=Y},configurable:!0,enumerable:!0}}),this.smooth(D),this.bins=O||1024,r.fftMeter.connect(this.analyser),this.freqDomain=new Uint8Array(this.analyser.frequencyBinCount),this.timeDomain=new Uint8Array(this.analyser.frequencyBinCount),this.bass=[20,140],this.lowMid=[140,400],this.mid=[400,2600],this.highMid=[2600,5200],this.treble=[5200,14e3],r.soundArray.push(this)}return Ve(z,[{key:"setInput",value:function(O){O?(O.output?O.output.connect(this.analyser):O.connect&&O.connect(this.analyser),r.fftMeter.disconnect()):r.fftMeter.connect(this.analyser)}},{key:"waveform",value:function(){for(var O,F,Y=new Array,oe=0;oe<arguments.length;oe++)typeof arguments[oe]=="number"&&(O=arguments[oe],this.analyser.fftSize=O*2),typeof arguments[oe]=="string"&&(F=arguments[oe]);if(F&&!p5.prototype._isSafari())return rt(this,this.timeDomain),this.analyser.getFloatTimeDomainData(this.timeDomain),this.timeDomain;wt(this,this.timeDomain),this.analyser.getByteTimeDomainData(this.timeDomain);for(var ke=0;ke<this.timeDomain.length;ke++){var Ie=p5.prototype.map(this.timeDomain[ke],0,255,-1,1);Y.push(Ie)}return Y}},{key:"analyze",value:function(){for(var O,F=0;F<arguments.length;F++)typeof arguments[F]=="number"&&(this.bins=arguments[F],this.analyser.fftSize=this.bins*2),typeof arguments[F]=="string"&&(O=arguments[F]);if(O&&O.toLowerCase()==="db")return He(this),this.analyser.getFloatFrequencyData(this.freqDomain),this.freqDomain;tt(this,this.freqDomain),this.analyser.getByteFrequencyData(this.freqDomain);var Y=Array.apply([],this.freqDomain);return Y}},{key:"getEnergy",value:function(O,F){var Y=r.audiocontext.sampleRate/2;if(O==="bass"?(O=this.bass[0],F=this.bass[1]):O==="lowMid"?(O=this.lowMid[0],F=this.lowMid[1]):O==="mid"?(O=this.mid[0],F=this.mid[1]):O==="highMid"?(O=this.highMid[0],F=this.highMid[1]):O==="treble"&&(O=this.treble[0],F=this.treble[1]),typeof O!="number")throw"invalid input for getEnergy()";if(F)if(O&&F){if(O>F){var ke=F;F=O,O=ke}for(var Ie=Math.round(O/Y*this.freqDomain.length),ze=Math.round(F/Y*this.freqDomain.length),_t=0,xt=0,Kt=Ie;Kt<=ze;Kt++)_t+=this.freqDomain[Kt],xt+=1;var Bn=_t/xt;return Bn}else throw"invalid input for getEnergy()";else{var oe=Math.round(O/Y*this.freqDomain.length);return this.freqDomain[oe]}}},{key:"getFreq",value:function(O,F){console.log("getFreq() is deprecated. Please use getEnergy() instead.");var Y=this.getEnergy(O,F);return Y}},{key:"getCentroid",value:function(){for(var O=r.audiocontext.sampleRate/2,F=0,Y=0,oe=0;oe<this.freqDomain.length;oe++)F+=oe*this.freqDomain[oe],Y+=this.freqDomain[oe];var ke=0;Y!==0&&(ke=F/Y);var Ie=ke*(O/this.freqDomain.length);return Ie}},{key:"smooth",value:function(O){return typeof O<"u"&&(this.smoothing=O),this.smoothing}},{key:"dispose",value:function(){var O=r.soundArray.indexOf(this);r.soundArray.splice(O,1),this.analyser&&(this.analyser.disconnect(),delete this.analyser)}},{key:"linAverages",value:function(O){for(var F=O||16,Y=this.freqDomain,oe=Y.length,ke=Math.floor(oe/F),Ie=new Array(F),ze=0,_t=0;_t<oe;_t++)Ie[ze]=Ie[ze]!==void 0?(Ie[ze]+Y[_t])/2:Y[_t],_t%ke===ke-1&&ze++;return Ie}},{key:"logAverages",value:function(O){for(var F=r.audiocontext.sampleRate/2,Y=this.freqDomain,oe=Y.length,ke=new Array(O.length),Ie=0,ze=0;ze<oe;ze++){var _t=Math.round(ze*F/this.freqDomain.length);_t>O[Ie].hi&&Ie++,ke[Ie]=ke[Ie]!==void 0?(ke[Ie]+Y[ze])/2:Y[ze]}return ke}},{key:"getOctaveBands",value:function(O,F){var Y=O||3,oe=F||15.625,ke=[],Ie={lo:oe/Math.pow(2,1/(2*Y)),ctr:oe,hi:oe*Math.pow(2,1/(2*Y))};ke.push(Ie);for(var ze=r.audiocontext.sampleRate/2;Ie.hi<ze;){var _t={};_t.lo=Ie.hi,_t.ctr=Ie.ctr*Math.pow(2,1/Y),_t.hi=_t.ctr*Math.pow(2,1/(2*Y)),ke.push(_t),Ie=_t}return ke}}]),z}();function He(z){z.freqDomain instanceof Float32Array||(z.freqDomain=new Float32Array(z.analyser.frequencyBinCount))}function tt(z){z.freqDomain instanceof Uint8Array||(z.freqDomain=new Uint8Array(z.analyser.frequencyBinCount))}function rt(z){z.timeDomain instanceof Float32Array||(z.timeDomain=new Float32Array(z.analyser.frequencyBinCount))}function wt(z){z.timeDomain instanceof Uint8Array||(z.timeDomain=new Uint8Array(z.analyser.frequencyBinCount))}var st=De,ge=o(4),Ne=o.n(ge),Fe=o(1),Xe=o.n(Fe),ot=o(8),gt=o.n(ot);function ut(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ut=function(O){return typeof O}:ut=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},ut(z)}function at(z,D){return D&&(ut(D)==="object"||typeof D=="function")?D:ie(z)}function ie(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function re(z){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},re(z)}function se(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&pe(z,D)}function pe(z,D){return pe=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},pe(z,D)}function Ee(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function Be(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Qe(z,D,O){return D&&Be(z.prototype,D),z}function Ye(z,D,O,F,Y){var oe=z.oscillator;for(var ke in z.mathOps)z.mathOps[ke]instanceof Y&&(oe.disconnect(),z.mathOps[ke].dispose(),O=ke,O<z.mathOps.length-2&&(F=z.mathOps[ke+1]));return O===z.mathOps.length-1&&z.mathOps.push(F),ke>0&&(oe=z.mathOps[ke-1]),oe.disconnect(),oe.connect(D),D.connect(F),z.mathOps[O]=D,z}var Pe=function(){function z(D,O){if(Ee(this,z),typeof D=="string"){var F=O;O=D,D=F}if(typeof O=="number"){var Y=O;O=D,D=Y}this.started=!1,this.phaseAmount=void 0,this.oscillator=r.audiocontext.createOscillator(),this.f=D||440,this.oscillator.type=O||"sine",this.oscillator.frequency.setValueAtTime(this.f,r.audiocontext.currentTime),this.output=r.audiocontext.createGain(),this._freqMods=[],this.output.gain.value=.5,this.output.gain.setValueAtTime(.5,r.audiocontext.currentTime),this.oscillator.connect(this.output),this.panPosition=0,this.connection=r.input,this.panner=new Z(this.output,this.connection,1),this.mathOps=[this.output],r.soundArray.push(this),this.fade=this.amp}return Qe(z,[{key:"start",value:function(O,F){if(this.started){var Y=r.audiocontext.currentTime;this.stop(Y)}if(!this.started){var oe=F||this.f,ke=this.oscillator.type;this.oscillator&&(this.oscillator.disconnect(),delete this.oscillator),this.oscillator=r.audiocontext.createOscillator(),this.oscillator.frequency.value=Math.abs(oe),this.oscillator.type=ke,this.oscillator.connect(this.output),O=O||0,this.oscillator.start(O+r.audiocontext.currentTime),this.freqNode=this.oscillator.frequency;for(var Ie in this._freqMods)typeof this._freqMods[Ie].connect<"u"&&this._freqMods[Ie].connect(this.oscillator.frequency);this.started=!0}}},{key:"stop",value:function(O){if(this.started){var F=O||0,Y=r.audiocontext.currentTime;this.oscillator.stop(F+Y),this.started=!1}}},{key:"amp",value:function(O){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(typeof O=="number"){var oe=r.audiocontext.currentTime;this.output.gain.linearRampToValueAtTime(O,oe+Y+F)}else if(O)O.connect(this.output.gain);else return this.output.gain}},{key:"getAmp",value:function(){return this.output.gain.value}},{key:"freq",value:function(O){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(typeof O=="number"&&!isNaN(O)){this.f=O;var oe=r.audiocontext.currentTime;F===0?this.oscillator.frequency.setValueAtTime(O,Y+oe):O>0?this.oscillator.frequency.exponentialRampToValueAtTime(O,Y+F+oe):this.oscillator.frequency.linearRampToValueAtTime(O,Y+F+oe),this.phaseAmount&&this.phase(this.phaseAmount)}else if(O)O.output&&(O=O.output),O.connect(this.oscillator.frequency),this._freqMods.push(O);else return this.oscillator.frequency}},{key:"getFreq",value:function(){return this.oscillator.frequency.value}},{key:"setType",value:function(O){this.oscillator.type=O}},{key:"getType",value:function(){return this.oscillator.type}},{key:"connect",value:function(O){O?O.hasOwnProperty("input")?(this.panner.connect(O.input),this.connection=O.input):(this.panner.connect(O),this.connection=O):this.panner.connect(r.input)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect(),this.panner&&(this.panner.disconnect(),this.output&&this.output.connect(this.panner)),this.oscMods=[]}},{key:"pan",value:function(O,F){this.panPosition=O,this.panner.pan(O,F)}},{key:"getPan",value:function(){return this.panPosition}},{key:"dispose",value:function(){var O=r.soundArray.indexOf(this);if(r.soundArray.splice(O,1),this.oscillator){var F=r.audiocontext.currentTime;this.stop(F),this.disconnect(),this.panner=null,this.oscillator=null}this.osc2&&this.osc2.dispose()}},{key:"phase",value:function(O){var F=p5.prototype.map(O,0,1,0,1/this.f),Y=r.audiocontext.currentTime;this.phaseAmount=O,this.dNode||(this.dNode=r.audiocontext.createDelay(),this.oscillator.disconnect(),this.oscillator.connect(this.dNode),this.dNode.connect(this.output)),this.dNode.delayTime.setValueAtTime(F,Y)}},{key:"add",value:function(O){var F=new Ne.a(O),Y=this.mathOps.length-1,oe=this.output;return Ye(this,F,Y,oe,Ne.a)}},{key:"mult",value:function(O){var F=new Xe.a(O),Y=this.mathOps.length-1,oe=this.output;return Ye(this,F,Y,oe,Xe.a)}},{key:"scale",value:function(O,F,Y,oe){var ke,Ie;arguments.length===4?(ke=p5.prototype.map(Y,O,F,0,1)-.5,Ie=p5.prototype.map(oe,O,F,0,1)-.5):(ke=arguments[0],Ie=arguments[1]);var ze=new gt.a(ke,Ie),_t=this.mathOps.length-1,xt=this.output;return Ye(this,ze,_t,xt,gt.a)}}]),z}(),et=function(z){se(D,z);function D(O){return Ee(this,D),at(this,re(D).call(this,O,"sine"))}return D}(Pe),ft=function(z){se(D,z);function D(O){return Ee(this,D),at(this,re(D).call(this,O,"triangle"))}return D}(Pe),Pt=function(z){se(D,z);function D(O){return Ee(this,D),at(this,re(D).call(this,O,"sawtooth"))}return D}(Pe),Lt=function(z){se(D,z);function D(O){return Ee(this,D),at(this,re(D).call(this,O,"square"))}return D}(Pe),Tt=Pe,Et=o(7),St=o.n(Et);p5.Envelope=function(z,D,O,F,Y,oe){this.aTime=z||.1,this.aLevel=D||1,this.dTime=O||.5,this.dLevel=F||0,this.rTime=Y||0,this.rLevel=oe||0,this._rampHighPercentage=.98,this._rampLowPercentage=.02,this.output=r.audiocontext.createGain(),this.control=new St.a,this._init(),this.control.connect(this.output),this.connection=null,this.mathOps=[this.control],this.isExponential=!1,this.sourceToClear=null,this.wasTriggered=!1,r.soundArray.push(this)},p5.Envelope.prototype._init=function(){var z=r.audiocontext.currentTime,D=z;this.control.setTargetAtTime(1e-5,D,.001),this._setRampAD(this.aTime,this.dTime)},p5.Envelope.prototype.set=function(z,D,O,F,Y,oe){this.aTime=z,this.aLevel=D,this.dTime=O||0,this.dLevel=F||0,this.rTime=Y||0,this.rLevel=oe||0,this._setRampAD(z,O)},p5.Envelope.prototype.setADSR=function(z,D,O,F){this.aTime=z,this.dTime=D||0,this.sPercent=O||0,this.dLevel=typeof O<"u"?O*(this.aLevel-this.rLevel)+this.rLevel:0,this.rTime=F||0,this._setRampAD(z,D)},p5.Envelope.prototype.setRange=function(z,D){this.aLevel=z||1,this.rLevel=D||0},p5.Envelope.prototype._setRampAD=function(z,D){this._rampAttackTime=this.checkExpInput(z),this._rampDecayTime=this.checkExpInput(D);var O=1;O=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=z/this.checkExpInput(O),O=Math.log(1/this._rampLowPercentage),this._rampDecayTC=D/this.checkExpInput(O)},p5.Envelope.prototype.setRampPercentages=function(z,D){this._rampHighPercentage=this.checkExpInput(z),this._rampLowPercentage=this.checkExpInput(D);var O=1;O=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=this._rampAttackTime/this.checkExpInput(O),O=Math.log(1/this._rampLowPercentage),this._rampDecayTC=this._rampDecayTime/this.checkExpInput(O)},p5.Envelope.prototype.setInput=function(){for(var z=0;z<arguments.length;z++)this.connect(arguments[z])},p5.Envelope.prototype.setExp=function(z){this.isExponential=z},p5.Envelope.prototype.checkExpInput=function(z){return z<=0&&(z=1e-8),z},p5.Envelope.prototype.play=function(z,D,O){var F=D||0;z&&this.connection!==z&&this.connect(z),this.triggerAttack(z,F),this.triggerRelease(z,F+this.aTime+this.dTime+~~O)},p5.Envelope.prototype.triggerAttack=function(z,D){var O=r.audiocontext.currentTime,F=D||0,Y=O+F;this.lastAttack=Y,this.wasTriggered=!0,z&&this.connection!==z&&this.connect(z);var oe=this.control.getValueAtTime(Y);this.isExponential===!0?this.control.exponentialRampToValueAtTime(this.checkExpInput(oe),Y):this.control.linearRampToValueAtTime(oe,Y),Y+=this.aTime,this.isExponential===!0?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.aLevel),Y),oe=this.checkExpInput(this.control.getValueAtTime(Y)),this.control.cancelScheduledValues(Y),this.control.exponentialRampToValueAtTime(oe,Y)):(this.control.linearRampToValueAtTime(this.aLevel,Y),oe=this.control.getValueAtTime(Y),this.control.cancelScheduledValues(Y),this.control.linearRampToValueAtTime(oe,Y)),Y+=this.dTime,this.isExponential===!0?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.dLevel),Y),oe=this.checkExpInput(this.control.getValueAtTime(Y)),this.control.cancelScheduledValues(Y),this.control.exponentialRampToValueAtTime(oe,Y)):(this.control.linearRampToValueAtTime(this.dLevel,Y),oe=this.control.getValueAtTime(Y),this.control.cancelScheduledValues(Y),this.control.linearRampToValueAtTime(oe,Y))},p5.Envelope.prototype.triggerRelease=function(z,D){if(this.wasTriggered){var O=r.audiocontext.currentTime,F=D||0,Y=O+F;z&&this.connection!==z&&this.connect(z);var oe=this.control.getValueAtTime(Y);this.isExponential===!0?this.control.exponentialRampToValueAtTime(this.checkExpInput(oe),Y):this.control.linearRampToValueAtTime(oe,Y),Y+=this.rTime,this.isExponential===!0?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.rLevel),Y),oe=this.checkExpInput(this.control.getValueAtTime(Y)),this.control.cancelScheduledValues(Y),this.control.exponentialRampToValueAtTime(oe,Y)):(this.control.linearRampToValueAtTime(this.rLevel,Y),oe=this.control.getValueAtTime(Y),this.control.cancelScheduledValues(Y),this.control.linearRampToValueAtTime(oe,Y)),this.wasTriggered=!1}},p5.Envelope.prototype.ramp=function(z,D,O,F){var Y=r.audiocontext.currentTime,oe=D||0,ke=Y+oe,Ie=this.checkExpInput(O),ze=typeof F<"u"?this.checkExpInput(F):void 0;z&&this.connection!==z&&this.connect(z);var _t=this.checkExpInput(this.control.getValueAtTime(ke));Ie>_t?(this.control.setTargetAtTime(Ie,ke,this._rampAttackTC),ke+=this._rampAttackTime):Ie<_t&&(this.control.setTargetAtTime(Ie,ke,this._rampDecayTC),ke+=this._rampDecayTime),ze!==void 0&&(ze>Ie?this.control.setTargetAtTime(ze,ke,this._rampAttackTC):ze<Ie&&this.control.setTargetAtTime(ze,ke,this._rampDecayTC))},p5.Envelope.prototype.connect=function(z){this.connection=z,(z instanceof p5.Oscillator||z instanceof p5.SoundFile||z instanceof p5.AudioIn||z instanceof p5.Reverb||z instanceof p5.Noise||z instanceof p5.Filter||z instanceof p5.Delay)&&(z=z.output.gain),z instanceof AudioParam&&z.setValueAtTime(0,r.audiocontext.currentTime),this.output.connect(z)},p5.Envelope.prototype.disconnect=function(){this.output&&this.output.disconnect()},p5.Envelope.prototype.add=function(z){var D=new Ne.a(z),O=this.mathOps.length,F=this.output;return p5.prototype._mathChain(this,D,O,F,Ne.a)},p5.Envelope.prototype.mult=function(z){var D=new Xe.a(z),O=this.mathOps.length,F=this.output;return p5.prototype._mathChain(this,D,O,F,Xe.a)},p5.Envelope.prototype.scale=function(z,D,O,F){var Y=new gt.a(z,D,O,F),oe=this.mathOps.length,ke=this.output;return p5.prototype._mathChain(this,Y,oe,ke,gt.a)},p5.Envelope.prototype.dispose=function(){var z=r.soundArray.indexOf(this);r.soundArray.splice(z,1),this.disconnect(),this.control&&(this.control.dispose(),this.control=null);for(var D=1;D<this.mathOps.length;D++)this.mathOps[D].dispose()},p5.Env=function(z,D,O,F,Y,oe){console.warn("WARNING: p5.Env is now deprecated and may be removed in future versions. Please use the new p5.Envelope instead."),p5.Envelope.call(this,z,D,O,F,Y,oe)},p5.Env.prototype=Object.create(p5.Envelope.prototype);var Ut=p5.Envelope,qt=Ut;function _r(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_r=function(O){return typeof O}:_r=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},_r(z)}function zt(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function ur(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Or(z,D,O){return D&&ur(z.prototype,D),z}function Ft(z,D){return D&&(_r(D)==="object"||typeof D=="function")?D:Ar(z)}function Ar(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function xr(z){return xr=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},xr(z)}function Xt(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&Io(z,D)}function Io(z,D){return Io=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},Io(z,D)}var Do=function(){for(var z=2*r.audiocontext.sampleRate,D=r.audiocontext.createBuffer(1,z,r.audiocontext.sampleRate),O=D.getChannelData(0),F=0;F<z;F++)O[F]=Math.random()*2-1;return D.type="white",D}(),bi=function(){var z=2*r.audiocontext.sampleRate,D=r.audiocontext.createBuffer(1,z,r.audiocontext.sampleRate),O=D.getChannelData(0),F,Y,oe,ke,Ie,ze,_t;F=Y=oe=ke=Ie=ze=_t=0;for(var xt=0;xt<z;xt++){var Kt=Math.random()*2-1;F=.99886*F+Kt*.0555179,Y=.99332*Y+Kt*.0750759,oe=.969*oe+Kt*.153852,ke=.8665*ke+Kt*.3104856,Ie=.55*Ie+Kt*.5329522,ze=-.7616*ze-Kt*.016898,O[xt]=F+Y+oe+ke+Ie+ze+_t+Kt*.5362,O[xt]*=.11,_t=Kt*.115926}return D.type="pink",D}(),_i=function(){for(var z=2*r.audiocontext.sampleRate,D=r.audiocontext.createBuffer(1,z,r.audiocontext.sampleRate),O=D.getChannelData(0),F=0,Y=0;Y<z;Y++){var oe=Math.random()*2-1;O[Y]=(F+.02*oe)/1.02,F=O[Y],O[Y]*=3.5}return D.type="brown",D}(),ls=function(z){Xt(D,z);function D(O){var F;zt(this,D),F=Ft(this,xr(D).call(this));var Y;return delete F.f,delete F.freq,delete F.oscillator,O==="brown"?Y=_i:O==="pink"?Y=bi:Y=Do,F.buffer=Y,F}return Or(D,[{key:"setType",value:function(F){switch(F){case"white":this.buffer=Do;break;case"pink":this.buffer=bi;break;case"brown":this.buffer=_i;break;default:this.buffer=Do}if(this.started){var Y=r.audiocontext.currentTime;this.stop(Y),this.start(Y+.01)}}},{key:"getType",value:function(){return this.buffer.type}},{key:"start",value:function(){this.started&&this.stop(),this.noise=r.audiocontext.createBufferSource(),this.noise.buffer=this.buffer,this.noise.loop=!0,this.noise.connect(this.output);var F=r.audiocontext.currentTime;this.noise.start(F),this.started=!0}},{key:"stop",value:function(){var F=r.audiocontext.currentTime;this.noise&&(this.noise.stop(F),this.started=!1)}},{key:"dispose",value:function(){var F=r.audiocontext.currentTime,Y=r.soundArray.indexOf(this);r.soundArray.splice(Y,1),this.noise&&(this.noise.disconnect(),this.stop(F)),this.output&&this.output.disconnect(),this.panner&&this.panner.disconnect(),this.output=null,this.panner=null,this.buffer=null,this.noise=null}}]),D}(Tt),we=ls,Je=o(2),mt=o.n(Je);function Ke(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ke=function(O){return typeof O}:Ke=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Ke(z)}function It(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function qe(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Yt(z,D,O){return D&&qe(z.prototype,D),z}function yt(z,D){return D&&(Ke(D)==="object"||typeof D=="function")?D:At(z)}function At(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function pt(z){return pt=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},pt(z)}function kr(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&Sr(z,D)}function Sr(z,D){return Sr=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},Sr(z,D)}var tn=function(z){kr(D,z);function D(O,F){var Y;It(this,D),Y=yt(this,pt(D).call(this,O,"sawtooth")),Y.w=F||0,Y.osc2=new Pt(O),Y.dNode=r.audiocontext.createDelay(),Y.dcOffset=cr(),Y.dcGain=r.audiocontext.createGain(),Y.dcOffset.connect(Y.dcGain),Y.dcGain.connect(Y.output),Y.f=O||440;var oe=Y.w/Y.oscillator.frequency.value;return Y.dNode.delayTime.value=oe,Y.dcGain.gain.value=1.7*(.5-Y.w),Y.osc2.disconnect(),Y.osc2.panner.disconnect(),Y.osc2.amp(-1),Y.osc2.output.connect(Y.dNode),Y.dNode.connect(Y.output),Y.output.gain.value=1,Y.output.connect(Y.panner),Y}return Yt(D,[{key:"width",value:function(F){if(typeof F=="number"){if(F<=1&&F>=0){this.w=F;var Y=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=Y}this.dcGain.gain.value=1.7*(.5-this.w)}else{F.connect(this.dNode.delayTime);var oe=new mt.a(-.5);F.connect(oe);var ke=new Xe.a(-1),Ie=new Xe.a(1.7);oe=oe.connect(ke).connect(Ie),oe.connect(this.dcGain.gain)}}},{key:"start",value:function(F,Y){var oe=r.audiocontext.currentTime,ke=Y||0;if(!this.started){var Ie=F||this.f,ze=this.oscillator.type;this.oscillator=r.audiocontext.createOscillator(),this.oscillator.frequency.setValueAtTime(Ie,oe),this.oscillator.type=ze,this.oscillator.connect(this.output),this.oscillator.start(ke+oe),this.osc2.oscillator=r.audiocontext.createOscillator(),this.osc2.oscillator.frequency.setValueAtTime(Ie,ke+oe),this.osc2.oscillator.type=ze,this.osc2.oscillator.connect(this.osc2.output),this.osc2.start(ke+oe),this.freqNode=[this.oscillator.frequency,this.osc2.oscillator.frequency],this.dcOffset=cr(),this.dcOffset.connect(this.dcGain),this.dcOffset.start(ke+oe),this.mods!==void 0&&this.mods.frequency!==void 0&&(this.mods.frequency.connect(this.freqNode[0]),this.mods.frequency.connect(this.freqNode[1])),this.started=!0,this.osc2.started=!0}}},{key:"stop",value:function(F){if(this.started){var Y=F||0,oe=r.audiocontext.currentTime;this.oscillator.stop(Y+oe),this.osc2.oscillator&&this.osc2.oscillator.stop(Y+oe),this.dcOffset.stop(Y+oe),this.started=!1,this.osc2.started=!1}}},{key:"freq",value:function(F){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(typeof F=="number"){this.f=F;var ke=r.audiocontext.currentTime,Ie=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(ke),this.oscillator.frequency.setValueAtTime(Ie,ke+oe),this.oscillator.frequency.exponentialRampToValueAtTime(F,oe+Y+ke),this.osc2.oscillator.frequency.cancelScheduledValues(ke),this.osc2.oscillator.frequency.setValueAtTime(Ie,ke+oe),this.osc2.oscillator.frequency.exponentialRampToValueAtTime(F,oe+Y+ke),this.freqMod&&(this.freqMod.output.disconnect(),this.freqMod=null)}else F.output&&(F.output.disconnect(),F.output.connect(this.oscillator.frequency),F.output.connect(this.osc2.oscillator.frequency),this.freqMod=F)}}]),D}(Tt);function cr(){for(var z=r.audiocontext,D=z.createBuffer(1,2048,z.sampleRate),O=D.getChannelData(0),F=0;F<2048;F++)O[F]=1;var Y=z.createBufferSource();return Y.buffer=D,Y.loop=!0,Y}var fr=tn;function Lr(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function Br(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Ir(z,D,O){return D&&Br(z.prototype,D),z}r.inputSources=[];var ad=function(){function z(D){Lr(this,z),this.input=r.audiocontext.createGain(),this.output=r.audiocontext.createGain(),this.stream=null,this.mediaStream=null,this.currentSource=null,this.enabled=!1,this.amplitude=new ve,this.output.connect(this.amplitude.input),(!window.MediaStreamTrack||!window.navigator.mediaDevices||!window.navigator.mediaDevices.getUserMedia)&&(D?D():window.alert("This browser does not support MediaStreamTrack and mediaDevices")),r.soundArray.push(this)}return Ir(z,[{key:"start",value:function(O,F){var Y=this;this.stream&&this.stop();var oe=r.inputSources[Y.currentSource],ke={audio:{sampleRate:r.audiocontext.sampleRate,echoCancellation:!1}};r.inputSources[this.currentSource]&&(ke.audio.deviceId=oe.deviceId),window.navigator.mediaDevices.getUserMedia(ke).then(function(Ie){Y.stream=Ie,Y.enabled=!0,Y.mediaStream=r.audiocontext.createMediaStreamSource(Ie),Y.mediaStream.connect(Y.output),Y.amplitude.setInput(Y.output),O&&O()}).catch(function(Ie){F?F(Ie):console.error(Ie)})}},{key:"stop",value:function(){this.stream&&(this.stream.getTracks().forEach(function(O){O.stop()}),this.mediaStream.disconnect(),delete this.mediaStream,delete this.stream)}},{key:"connect",value:function(O){O?O.hasOwnProperty("input")?this.output.connect(O.input):O.hasOwnProperty("analyser")?this.output.connect(O.analyser):this.output.connect(O):this.output.connect(r.input)}},{key:"disconnect",value:function(){this.output&&(this.output.disconnect(),this.output.connect(this.amplitude.input))}},{key:"getLevel",value:function(O){return O&&(this.amplitude.smoothing=O),this.amplitude.getLevel()}},{key:"amp",value:function(O,F){if(F){var Y=F||0,oe=this.output.gain.value;this.output.gain.cancelScheduledValues(r.audiocontext.currentTime),this.output.gain.setValueAtTime(oe,r.audiocontext.currentTime),this.output.gain.linearRampToValueAtTime(O,Y+r.audiocontext.currentTime)}else this.output.gain.cancelScheduledValues(r.audiocontext.currentTime),this.output.gain.setValueAtTime(O,r.audiocontext.currentTime)}},{key:"getSources",value:function(O,F){return new Promise(function(Y,oe){window.navigator.mediaDevices.enumerateDevices().then(function(ke){r.inputSources=ke.filter(function(Ie){return Ie.kind==="audioinput"}),Y(r.inputSources),O&&O(r.inputSources)}).catch(function(ke){oe(ke),F?F(ke):console.error("This browser does not support MediaStreamTrack.getSources()")})})}},{key:"setSource",value:function(O){r.inputSources.length>0&&O<r.inputSources.length?(this.currentSource=O,console.log("set source to ",r.inputSources[this.currentSource])):console.log("unable to set input source"),this.stream&&this.stream.active&&this.start()}},{key:"dispose",value:function(){var O=r.soundArray.indexOf(this);r.soundArray.splice(O,1),this.stop(),this.output&&this.output.disconnect(),this.amplitude&&this.amplitude.disconnect(),delete this.amplitude,delete this.output}}]),z}(),cu=ad,ld=o(23),ud=o.n(ld);function cd(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function fd(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function dd(z,D,O){return D&&fd(z.prototype,D),z}var hn=function(){function z(){cd(this,z),this.ac=r.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this._drywet=new ud.a(1),this.wet=this.ac.createGain(),this.input.connect(this._drywet.a),this.wet.connect(this._drywet.b),this._drywet.connect(this.output),this.connect(),r.soundArray.push(this)}return dd(z,[{key:"amp",value:function(O){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,oe=r.audiocontext.currentTime,ke=oe+Y,Ie=ke+F+.001,ze=this.output.gain.value;this.output.gain.cancelScheduledValues(oe),this.output.gain.linearRampToValueAtTime(ze,ke+.001),this.output.gain.linearRampToValueAtTime(O,Ie)}},{key:"chain",value:function(){if(arguments.length>0){this.connect(arguments[0]);for(var O=1;O<arguments.length;O+=1)arguments[O-1].connect(arguments[O])}return this}},{key:"drywet",value:function(O){return typeof O<"u"&&(this._drywet.fade.value=O),this._drywet.fade.value}},{key:"connect",value:function(O){var F=O||p5.soundOut.input;this.output.connect(F.input?F.input:F)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){var O=r.soundArray.indexOf(this);r.soundArray.splice(O,1),this.input&&(this.input.disconnect(),delete this.input),this.output&&(this.output.disconnect(),delete this.output),this._drywet&&(this._drywet.disconnect(),delete this._drywet),this.wet&&(this.wet.disconnect(),delete this.wet),this.ac=void 0}}]),z}(),Xr=hn;function mo(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mo=function(O){return typeof O}:mo=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},mo(z)}function us(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function hd(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function pd(z,D,O){return D&&hd(z.prototype,D),z}function cs(z,D){return D&&(mo(D)==="object"||typeof D=="function")?D:fu(z)}function fu(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function xi(z,D,O){return typeof Reflect<"u"&&Reflect.get?xi=Reflect.get:xi=function(Y,oe,ke){var Ie=du(Y,oe);if(Ie){var ze=Object.getOwnPropertyDescriptor(Ie,oe);return ze.get?ze.get.call(ke):ze.value}},xi(z,D,O||z)}function du(z,D){for(;!Object.prototype.hasOwnProperty.call(z,D)&&(z=eo(z),z!==null););return z}function eo(z){return eo=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},eo(z)}function wi(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&Ta(z,D)}function Ta(z,D){return Ta=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},Ta(z,D)}var Fo=function(z){wi(D,z);function D(O){var F;return us(this,D),F=cs(this,eo(D).call(this)),F.biquad=F.ac.createBiquadFilter(),F.input.connect(F.biquad),F.biquad.connect(F.wet),O&&F.setType(O),F._on=!0,F._untoggledType=F.biquad.type,F}return pd(D,[{key:"process",value:function(F,Y,oe,ke){F.connect(this.input),this.set(Y,oe,ke)}},{key:"set",value:function(F,Y,oe){F&&this.freq(F,oe),Y&&this.res(Y,oe)}},{key:"freq",value:function(F,Y){var oe=Y||0;return F<=0&&(F=1),typeof F=="number"?(this.biquad.frequency.cancelScheduledValues(this.ac.currentTime+.01+oe),this.biquad.frequency.exponentialRampToValueAtTime(F,this.ac.currentTime+.02+oe)):F&&F.connect(this.biquad.frequency),this.biquad.frequency.value}},{key:"res",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.biquad.Q.value=F,this.biquad.Q.cancelScheduledValues(this.ac.currentTime+.01+oe),this.biquad.Q.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):F&&F.connect(this.biquad.Q),this.biquad.Q.value}},{key:"gain",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.biquad.gain.value=F,this.biquad.gain.cancelScheduledValues(this.ac.currentTime+.01+oe),this.biquad.gain.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):F&&F.connect(this.biquad.gain),this.biquad.gain.value}},{key:"toggle",value:function(){return this._on=!this._on,this._on===!0?this.biquad.type=this._untoggledType:this._on===!1&&(this.biquad.type="allpass"),this._on}},{key:"setType",value:function(F){this.biquad.type=F,this._untoggledType=this.biquad.type}},{key:"dispose",value:function(){xi(eo(D.prototype),"dispose",this).call(this),this.biquad&&(this.biquad.disconnect(),delete this.biquad)}}]),D}(Xr),hu=function(z){wi(D,z);function D(){return us(this,D),cs(this,eo(D).call(this,"lowpass"))}return D}(Fo),pu=function(z){wi(D,z);function D(){return us(this,D),cs(this,eo(D).call(this,"highpass"))}return D}(Fo),fs=function(z){wi(D,z);function D(){return us(this,D),cs(this,eo(D).call(this,"bandpass"))}return D}(Fo),yo=Fo;function Yr(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yr=function(O){return typeof O}:Yr=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Yr(z)}function mu(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function yu(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function No(z,D,O){return D&&yu(z.prototype,D),z}function gu(z,D){return D&&(Yr(D)==="object"||typeof D=="function")?D:md(z)}function md(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function ji(z){return ji=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},ji(z)}function vu(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&Ea(z,D)}function Ea(z,D){return Ea=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},Ea(z,D)}var bu=function(z){vu(D,z);function D(O,F){var Y;return mu(this,D),Y=gu(this,ji(D).call(this,"peaking")),Y.disconnect(),Y.set(O,F),Y.biquad.gain.value=0,delete Y.input,delete Y.output,delete Y._drywet,delete Y.wet,Y}return No(D,[{key:"amp",value:function(){console.warn("`amp()` is not available for p5.EQ bands. Use `.gain()`")}},{key:"drywet",value:function(){console.warn("`drywet()` is not available for p5.EQ bands.")}},{key:"connect",value:function(F){var Y=F||p5.soundOut.input;this.biquad?this.biquad.connect(Y.input?Y.input:Y):this.output.connect(Y.input?Y.input:Y)}},{key:"disconnect",value:function(){this.biquad&&this.biquad.disconnect()}},{key:"dispose",value:function(){var F=r.soundArray.indexOf(this);r.soundArray.splice(F,1),this.disconnect(),delete this.biquad}}]),D}(yo),_u=bu;function ds(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ds=function(O){return typeof O}:ds=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},ds(z)}function xu(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function yd(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function gd(z,D,O){return D&&yd(z.prototype,D),z}function vd(z,D){return D&&(ds(D)==="object"||typeof D=="function")?D:bd(z)}function bd(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function Si(z,D,O){return typeof Reflect<"u"&&Reflect.get?Si=Reflect.get:Si=function(Y,oe,ke){var Ie=kn(Y,oe);if(Ie){var ze=Object.getOwnPropertyDescriptor(Ie,oe);return ze.get?ze.get.call(ke):ze.value}},Si(z,D,O||z)}function kn(z,D){for(;!Object.prototype.hasOwnProperty.call(z,D)&&(z=Kr(z),z!==null););return z}function Kr(z){return Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},Kr(z)}function Ti(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&go(z,D)}function go(z,D){return go=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},go(z,D)}var Nn=function(z){Ti(D,z);function D(O){var F;xu(this,D),F=vd(this,Kr(D).call(this)),O=O===3||O===8?O:3;var Y;O===3?Y=Math.pow(2,3):Y=2,F.bands=[];for(var oe,ke,Ie=0;Ie<O;Ie++)Ie===O-1?(oe=21e3,ke=.01):Ie===0?(oe=100,ke=.1):Ie===1?(oe=O===3?360*Y:360,ke=1):(oe=F.bands[Ie-1].freq()*Y,ke=1),F.bands[Ie]=F._newBand(oe,ke),Ie>0?F.bands[Ie-1].connect(F.bands[Ie].biquad):F.input.connect(F.bands[Ie].biquad);return F.bands[O-1].connect(F.output),F}return gd(D,[{key:"process",value:function(F){F.connect(this.input)}},{key:"set",value:function(){if(arguments.length===this.bands.length*2)for(var F=0;F<arguments.length;F+=2)this.bands[F/2].freq(arguments[F]),this.bands[F/2].gain(arguments[F+1]);else console.error("Argument mismatch. .set() should be called with "+this.bands.length*2+" arguments. (one frequency and gain value pair for each band of the eq)")}},{key:"_newBand",value:function(F,Y){return new _u(F,Y)}},{key:"dispose",value:function(){if(Si(Kr(D.prototype),"dispose",this).call(this),this.bands){for(;this.bands.length>0;)delete this.bands.pop().dispose();delete this.bands}}}]),D}(Xr),Ei=Nn;function _d(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function to(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function hs(z,D,O){return D&&to(z.prototype,D),z}var wu=function(){function z(D){_d(this,z),this.ac=r.audiocontext,this.listener=this.ac.listener}return hs(z,[{key:"process",value:function(O){O.connect(this.input)}},{key:"position",value:function(O,F,Y,oe){return this.positionX(O,oe),this.positionY(F,oe),this.positionZ(Y,oe),[this.listener.positionX.value,this.listener.positionY.value,this.listener.positionZ.value]}},{key:"positionX",value:function(O,F){var Y=F||0;return typeof O=="number"?(this.listener.positionX.value=O,this.listener.positionX.cancelScheduledValues(this.ac.currentTime+.01+Y),this.listener.positionX.linearRampToValueAtTime(O,this.ac.currentTime+.02+Y)):O&&O.connect(this.listener.positionX),this.listener.positionX.value}},{key:"positionY",value:function(O,F){var Y=F||0;return typeof O=="number"?(this.listener.positionY.value=O,this.listener.positionY.cancelScheduledValues(this.ac.currentTime+.01+Y),this.listener.positionY.linearRampToValueAtTime(O,this.ac.currentTime+.02+Y)):O&&O.connect(this.listener.positionY),this.listener.positionY.value}},{key:"positionZ",value:function(O,F){var Y=F||0;return typeof O=="number"?(this.listener.positionZ.value=O,this.listener.positionZ.cancelScheduledValues(this.ac.currentTime+.01+Y),this.listener.positionZ.linearRampToValueAtTime(O,this.ac.currentTime+.02+Y)):O&&O.connect(this.listener.positionZ),this.listener.positionZ.value}},{key:"orient",value:function(O,F,Y,oe,ke,Ie,ze){return arguments.length===3||arguments.length===4?(ze=arguments[3],this.orientForward(O,F,Y,ze)):(arguments.length===6||arguments===7)&&(this.orientForward(O,F,Y),this.orientUp(oe,ke,Ie,ze)),[this.listener.forwardX.value,this.listener.forwardY.value,this.listener.forwardZ.value,this.listener.upX.value,this.listener.upY.value,this.listener.upZ.value]}},{key:"orientForward",value:function(O,F,Y,oe){return this.forwardX(O,oe),this.forwardY(F,oe),this.forwardZ(Y,oe),[this.listener.forwardX,this.listener.forwardY,this.listener.forwardZ]}},{key:"orientUp",value:function(O,F,Y,oe){return this.upX(O,oe),this.upY(F,oe),this.upZ(Y,oe),[this.listener.upX,this.listener.upY,this.listener.upZ]}},{key:"forwardX",value:function(O,F){var Y=F||0;return typeof O=="number"?(this.listener.forwardX.value=O,this.listener.forwardX.cancelScheduledValues(this.ac.currentTime+.01+Y),this.listener.forwardX.linearRampToValueAtTime(O,this.ac.currentTime+.02+Y)):O&&O.connect(this.listener.forwardX),this.listener.forwardX.value}},{key:"forwardY",value:function(O,F){var Y=F||0;return typeof O=="number"?(this.listener.forwardY.value=O,this.listener.forwardY.cancelScheduledValues(this.ac.currentTime+.01+Y),this.listener.forwardY.linearRampToValueAtTime(O,this.ac.currentTime+.02+Y)):O&&O.connect(this.listener.forwardY),this.listener.forwardY.value}},{key:"forwardZ",value:function(O,F){var Y=F||0;return typeof O=="number"?(this.listener.forwardZ.value=O,this.listener.forwardZ.cancelScheduledValues(this.ac.currentTime+.01+Y),this.listener.forwardZ.linearRampToValueAtTime(O,this.ac.currentTime+.02+Y)):O&&O.connect(this.listener.forwardZ),this.listener.forwardZ.value}},{key:"upX",value:function(O,F){var Y=F||0;return typeof O=="number"?(this.listener.upX.value=O,this.listener.upX.cancelScheduledValues(this.ac.currentTime+.01+Y),this.listener.upX.linearRampToValueAtTime(O,this.ac.currentTime+.02+Y)):O&&O.connect(this.listener.upX),this.listener.upX.value}},{key:"upY",value:function(O,F){var Y=F||0;return typeof O=="number"?(this.listener.upY.value=O,this.listener.upY.cancelScheduledValues(this.ac.currentTime+.01+Y),this.listener.upY.linearRampToValueAtTime(O,this.ac.currentTime+.02+Y)):O&&O.connect(this.listener.upY),this.listener.upY.value}},{key:"upZ",value:function(O,F){var Y=F||0;return typeof O=="number"?(this.listener.upZ.value=O,this.listener.upZ.cancelScheduledValues(this.ac.currentTime+.01+Y),this.listener.upZ.linearRampToValueAtTime(O,this.ac.currentTime+.02+Y)):O&&O.connect(this.listener.upZ),this.listener.upZ.value}}]),z}(),ju=wu;function ki(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ki=function(O){return typeof O}:ki=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},ki(z)}function Su(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function Tu(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Eu(z,D,O){return D&&Tu(z.prototype,D),z}function ka(z,D){return D&&(ki(D)==="object"||typeof D=="function")?D:ku(z)}function ku(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function Ci(z,D,O){return typeof Reflect<"u"&&Reflect.get?Ci=Reflect.get:Ci=function(Y,oe,ke){var Ie=Cu(Y,oe);if(Ie){var ze=Object.getOwnPropertyDescriptor(Ie,oe);return ze.get?ze.get.call(ke):ze.value}},Ci(z,D,O||z)}function Cu(z,D){for(;!Object.prototype.hasOwnProperty.call(z,D)&&(z=Bo(z),z!==null););return z}function Bo(z){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},Bo(z)}function Pu(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&ps(z,D)}function ps(z,D){return ps=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},ps(z,D)}var Ou=function(z){Pu(D,z);function D(){var O;return Su(this,D),O=ka(this,Bo(D).call(this)),O.panner=O.ac.createPanner(),O.panner.panningModel="HRTF",O.panner.distanceModel="linear",O.panner.connect(O.output),O.input.connect(O.panner),O}return Eu(D,[{key:"process",value:function(F){F.connect(this.input)}},{key:"set",value:function(F,Y,oe,ke){return this.positionX(F,ke),this.positionY(Y,ke),this.positionZ(oe,ke),[this.panner.positionX.value,this.panner.positionY.value,this.panner.positionZ.value]}},{key:"positionX",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.panner.positionX.value=F,this.panner.positionX.cancelScheduledValues(this.ac.currentTime+.01+oe),this.panner.positionX.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):F&&F.connect(this.panner.positionX),this.panner.positionX.value}},{key:"positionY",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.panner.positionY.value=F,this.panner.positionY.cancelScheduledValues(this.ac.currentTime+.01+oe),this.panner.positionY.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):F&&F.connect(this.panner.positionY),this.panner.positionY.value}},{key:"positionZ",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.panner.positionZ.value=F,this.panner.positionZ.cancelScheduledValues(this.ac.currentTime+.01+oe),this.panner.positionZ.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):F&&F.connect(this.panner.positionZ),this.panner.positionZ.value}},{key:"orient",value:function(F,Y,oe,ke){return this.orientX(F,ke),this.orientY(Y,ke),this.orientZ(oe,ke),[this.panner.orientationX.value,this.panner.orientationY.value,this.panner.orientationZ.value]}},{key:"orientX",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.panner.orientationX.value=F,this.panner.orientationX.cancelScheduledValues(this.ac.currentTime+.01+oe),this.panner.orientationX.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):F&&F.connect(this.panner.orientationX),this.panner.orientationX.value}},{key:"orientY",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.panner.orientationY.value=F,this.panner.orientationY.cancelScheduledValues(this.ac.currentTime+.01+oe),this.panner.orientationY.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):F&&F.connect(this.panner.orientationY),this.panner.orientationY.value}},{key:"orientZ",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.panner.orientationZ.value=F,this.panner.orientationZ.cancelScheduledValues(this.ac.currentTime+.01+oe),this.panner.orientationZ.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):F&&F.connect(this.panner.orientationZ),this.panner.orientationZ.value}},{key:"setFalloff",value:function(F,Y){this.maxDist(F),this.rolloff(Y)}},{key:"maxDist",value:function(F){return typeof F=="number"&&(this.panner.maxDistance=F),this.panner.maxDistance}},{key:"rolloff",value:function(F){return typeof F=="number"&&(this.panner.rolloffFactor=F),this.panner.rolloffFactor}},{key:"dispose",value:function(){Ci(Bo(D.prototype),"dispose",this).call(this),this.panner&&(this.panner.disconnect(),delete this.panner)}}]),D}(Xr),Au=Ou;function Pi(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pi=function(O){return typeof O}:Pi=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Pi(z)}function Ca(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function ms(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Pa(z,D,O){return D&&ms(z.prototype,D),z}function Mu(z,D){return D&&(Pi(D)==="object"||typeof D=="function")?D:ro(z)}function ro(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function pn(z,D,O){return typeof Reflect<"u"&&Reflect.get?pn=Reflect.get:pn=function(Y,oe,ke){var Ie=vt(Y,oe);if(Ie){var ze=Object.getOwnPropertyDescriptor(Ie,oe);return ze.get?ze.get.call(ke):ze.value}},pn(z,D,O||z)}function vt(z,D){for(;!Object.prototype.hasOwnProperty.call(z,D)&&(z=Oi(z),z!==null););return z}function Oi(z){return Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},Oi(z)}function Ru(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&no(z,D)}function no(z,D){return no=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},no(z,D)}var xd=function(z){Ru(D,z);function D(){var O;return Ca(this,D),O=Mu(this,Oi(D).call(this)),O._split=O.ac.createChannelSplitter(2),O._merge=O.ac.createChannelMerger(2),O._leftGain=O.ac.createGain(),O._rightGain=O.ac.createGain(),O.leftDelay=O.ac.createDelay(),O.rightDelay=O.ac.createDelay(),O._leftFilter=new yo,O._rightFilter=new yo,O._leftFilter.disconnect(),O._rightFilter.disconnect(),O._leftFilter.biquad.frequency.setValueAtTime(1200,O.ac.currentTime),O._rightFilter.biquad.frequency.setValueAtTime(1200,O.ac.currentTime),O._leftFilter.biquad.Q.setValueAtTime(.3,O.ac.currentTime),O._rightFilter.biquad.Q.setValueAtTime(.3,O.ac.currentTime),O.input.connect(O._split),O.leftDelay.connect(O._leftGain),O.rightDelay.connect(O._rightGain),O._leftGain.connect(O._leftFilter.input),O._rightGain.connect(O._rightFilter.input),O._merge.connect(O.wet),O._leftFilter.biquad.gain.setValueAtTime(1,O.ac.currentTime),O._rightFilter.biquad.gain.setValueAtTime(1,O.ac.currentTime),O.setType(0),O._maxDelay=O.leftDelay.delayTime.maxValue,O.feedback(.5),O}return Pa(D,[{key:"process",value:function(F,Y,oe,ke){var Ie=oe||0,ze=Y||0;if(Ie>=1)throw new Error("Feedback value will force a positive feedback loop.");if(ze>=this._maxDelay)throw new Error("Delay Time exceeds maximum delay time of "+this._maxDelay+" second.");F.connect(this.input),this.leftDelay.delayTime.setValueAtTime(ze,this.ac.currentTime),this.rightDelay.delayTime.setValueAtTime(ze,this.ac.currentTime),this._leftGain.gain.value=Ie,this._rightGain.gain.value=Ie,ke&&(this._leftFilter.freq(ke),this._rightFilter.freq(ke))}},{key:"delayTime",value:function(F){typeof F!="number"?(F.connect(this.leftDelay.delayTime),F.connect(this.rightDelay.delayTime)):(this.leftDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.rightDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.leftDelay.delayTime.linearRampToValueAtTime(F,this.ac.currentTime),this.rightDelay.delayTime.linearRampToValueAtTime(F,this.ac.currentTime))}},{key:"feedback",value:function(F){if(F&&typeof F!="number")F.connect(this._leftGain.gain),F.connect(this._rightGain.gain);else{if(F>=1)throw new Error("Feedback value will force a positive feedback loop.");typeof F=="number"&&(this._leftGain.gain.value=F,this._rightGain.gain.value=F)}return this._leftGain.gain.value}},{key:"filter",value:function(F,Y){this._leftFilter.set(F,Y),this._rightFilter.set(F,Y)}},{key:"setType",value:function(F){switch(F===1&&(F="pingPong"),this._split.disconnect(),this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._split.connect(this.leftDelay,0),this._split.connect(this.rightDelay,1),F){case"pingPong":this._rightFilter.setType(this._leftFilter.biquad.type),this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.rightDelay),this._rightFilter.output.connect(this.leftDelay);break;default:this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.leftDelay),this._rightFilter.output.connect(this.rightDelay)}}},{key:"dispose",value:function(){pn(Oi(D.prototype),"dispose",this).call(this),this._split.disconnect(),this._leftFilter.dispose(),this._rightFilter.dispose(),this._merge.disconnect(),this._leftGain.disconnect(),this._rightGain.disconnect(),this.leftDelay.disconnect(),this.rightDelay.disconnect(),this._split=void 0,this._leftFilter=void 0,this._rightFilter=void 0,this._merge=void 0,this._leftGain=void 0,this._rightGain=void 0,this.leftDelay=void 0,this.rightDelay=void 0}}]),D}(Xr),wd=xd;function Vt(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vt=function(O){return typeof O}:Vt=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Vt(z)}function Lu(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function mn(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Iu(z,D,O){return D&&mn(z.prototype,D),z}function Du(z,D){return D&&(Vt(D)==="object"||typeof D=="function")?D:jd(z)}function jd(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function Ai(z,D,O){return typeof Reflect<"u"&&Reflect.get?Ai=Reflect.get:Ai=function(Y,oe,ke){var Ie=Sd(Y,oe);if(Ie){var ze=Object.getOwnPropertyDescriptor(Ie,oe);return ze.get?ze.get.call(ke):ze.value}},Ai(z,D,O||z)}function Sd(z,D){for(;!Object.prototype.hasOwnProperty.call(z,D)&&(z=oo(z),z!==null););return z}function oo(z){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},oo(z)}function mr(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&Mi(z,D)}function Mi(z,D){return Mi=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},Mi(z,D)}var b=function(z){mr(D,z);function D(){var O;return Lu(this,D),O=Du(this,oo(D).call(this)),O._initConvolverNode(),O.input.gain.value=.5,O._seconds=3,O._decay=2,O._reverse=!1,O._buildImpulse(),O}return Iu(D,[{key:"_initConvolverNode",value:function(){this.convolverNode=this.ac.createConvolver(),this.input.connect(this.convolverNode),this.convolverNode.connect(this.wet)}},{key:"_teardownConvolverNode",value:function(){this.convolverNode&&(this.convolverNode.disconnect(),delete this.convolverNode)}},{key:"_setBuffer",value:function(F){this._teardownConvolverNode(),this._initConvolverNode(),this.convolverNode.buffer=F}},{key:"process",value:function(F,Y,oe,ke){F.connect(this.input);var Ie=!1;Y&&(this._seconds=Y,Ie=!0),oe&&(this._decay=oe),ke&&(this._reverse=ke),Ie&&this._buildImpulse()}},{key:"set",value:function(F,Y,oe){var ke=!1;F&&(this._seconds=F,ke=!0),Y&&(this._decay=Y),oe&&(this._reverse=oe),ke&&this._buildImpulse()}},{key:"_buildImpulse",value:function(){var F=this.ac.sampleRate,Y=F*this._seconds,oe=this._decay,ke=this.ac.createBuffer(2,Y,F),Ie=ke.getChannelData(0),ze=ke.getChannelData(1),_t,xt;for(xt=0;xt<Y;xt++)_t=this._reverse?Y-xt:xt,Ie[xt]=(Math.random()*2-1)*Math.pow(1-_t/Y,oe),ze[xt]=(Math.random()*2-1)*Math.pow(1-_t/Y,oe);this._setBuffer(ke)}},{key:"dispose",value:function(){Ai(oo(D.prototype),"dispose",this).call(this),this._teardownConvolverNode()}}]),D}(Xr),k=function(z){mr(D,z);function D(O,F,Y){var oe;return Lu(this,D),oe=Du(this,oo(D).call(this)),oe._initConvolverNode(),oe.input.gain.value=.5,O?(oe.impulses=[],oe._loadBuffer(O,F,Y)):(oe._seconds=3,oe._decay=2,oe._reverse=!1,oe._buildImpulse()),oe.impulses=[],oe.set=null,oe}return Iu(D,[{key:"_loadBuffer",value:function(F,Y,oe){var ke=p5.prototype._checkFileFormats(F),Ie=this,ze=new Error().stack,_t=Object(i.b)(),xt=new XMLHttpRequest;xt.open("GET",ke,!0),xt.responseType="arraybuffer",xt.onload=function(){if(xt.status===200)_t.decodeAudioData(xt.response,function(Ur){var rn={},vo=ke.split("/");rn.name=vo[vo.length-1],rn.audioBuffer=Ur,Ie.impulses.push(rn),Ie._setBuffer(rn.audioBuffer),Y&&Y(rn)},function(){var Ur=new C("decodeAudioData",ze,Ie.url),rn="AudioContext error at decodeAudioData for "+Ie.url;oe?(Ur.msg=rn,oe(Ur)):console.error(rn+`
 The error stack trace includes: 
`+Ur.stack)});else{var Kt=new C("loadConvolver",ze,Ie.url),Bn="Unable to load "+Ie.url+". The request status was: "+xt.status+" ("+xt.statusText+")";oe?(Kt.message=Bn,oe(Kt)):console.error(Bn+`
 The error stack trace includes: 
`+Kt.stack)}},xt.onerror=function(){var Kt=new C("loadConvolver",ze,Ie.url),Bn="There was no response from the server at "+Ie.url+". Check the url and internet connectivity.";oe?(Kt.message=Bn,oe(Kt)):console.error(Bn+`
 The error stack trace includes: 
`+Kt.stack)},xt.send()}},{key:"process",value:function(F){F.connect(this.input)}},{key:"addImpulse",value:function(F,Y,oe){window.location.origin.indexOf("file://")>-1&&window.cordova==="undefined"&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this._loadBuffer(F,Y,oe)}},{key:"resetImpulse",value:function(F,Y,oe){window.location.origin.indexOf("file://")>-1&&window.cordova==="undefined"&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this.impulses=[],this._loadBuffer(F,Y,oe)}},{key:"toggleImpulse",value:function(F){if(typeof F=="number"&&F<this.impulses.length&&this._setBuffer(this.impulses[F].audioBuffer),typeof F=="string"){for(var Y=0;Y<this.impulses.length;Y++)if(this.impulses[Y].name===F){this._setBuffer(this.impulses[Y].audioBuffer);break}}}},{key:"dispose",value:function(){Ai(oo(D.prototype),"dispose",this).call(this);for(var F in this.impulses)this.impulses[F]&&(this.impulses[F]=null)}}]),D}(b);function A(z,D,O){window.location.origin.indexOf("file://")>-1&&window.cordova==="undefined"&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var F=this,Y=new k(z,function(oe){typeof D=="function"&&D(oe),typeof F._decrementPreload=="function"&&F._decrementPreload()},O);return Y.impulses=[],Y}var N=o(11),W=o.n(N);function K(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function Q(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function de(z,D,O){return D&&Q(z.prototype,D),z}var ye=function(){function z(){K(this,z),this.clock=new W.a({callback:this.ontick.bind(this)}),this.syncedParts=[],this.bpm=120,this._init(),this.prevTick=0,this.tatumTime=0,this.tickCallback=function(){}}return de(z,[{key:"ontick",value:function(O){var F=O-this.prevTick,Y=O-r.audiocontext.currentTime;if(!(F-this.tatumTime<=-.02)){this.prevTick=O;var oe=this;this.syncedParts.forEach(function(ke){ke.isPlaying&&(ke.incrementStep(Y),ke.phrases.forEach(function(Ie){var ze=Ie.sequence,_t=oe.metroTicks%ze.length;ze[_t]!==0&&(oe.metroTicks<ze.length||!Ie.looping)&&Ie.callback(Y,ze[_t])}))}),this.metroTicks+=1,this.tickCallback(Y)}}},{key:"setBPM",value:function(O){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=60/(O*this.tatums),oe=r.audiocontext.currentTime;this.tatumTime=Y,this.clock.frequency.setValueAtTime(this.clock.frequency.value,oe),this.clock.frequency.linearRampToValueAtTime(O,oe+F),this.bpm=O}},{key:"getBPM",value:function(){return this.clock.getRate()/this.tatums*60}},{key:"_init",value:function(){this.metroTicks=0}},{key:"resetSync",value:function(O){this.syncedParts=[O]}},{key:"pushSync",value:function(O){this.syncedParts.push(O)}},{key:"start",value:function(O){var F=O||0,Y=r.audiocontext.currentTime;this.clock.start(Y+F),this.setBPM(this.bpm)}},{key:"stop",value:function(O){var F=O||0,Y=r.audiocontext.currentTime;this.clock.stop(Y+F)}},{key:"beatLength",value:function(O){this.tatums=1/O/4}}]),z}(),be=ye;function Ce(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Me(z,D,O){return D&&Ce(z.prototype,D),z}function Re(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}var Se=120;p5.prototype.setBPM=function(z,D){Se=z;for(var O in r.parts)r.parts[O]&&r.parts[O].setBPM(z,D)};var Ze=function z(D,O,F){Re(this,z),this.phraseStep=0,this.name=D,this.callback=O,this.sequence=F},Ue=function(){function z(D,O){Re(this,z),this.length=D||0,this.partStep=0,this.phrases=[],this.isPlaying=!1,this.noLoop(),this.tatums=O||.0625,this.metro=new be,this.metro._init(),this.metro.beatLength(this.tatums),this.metro.setBPM(Se),r.parts.push(this),this.callback=function(){}}return Me(z,[{key:"setBPM",value:function(O,F){this.metro.setBPM(O,F)}},{key:"getBPM",value:function(){return this.metro.getBPM()}},{key:"start",value:function(O){if(!this.isPlaying){this.isPlaying=!0,this.metro.resetSync(this);var F=O||0;this.metro.start(F)}}},{key:"loop",value:function(O){this.looping=!0,this.onended=function(){this.partStep=0};var F=O||0;this.start(F)}},{key:"noLoop",value:function(){this.looping=!1,this.onended=function(){this.stop()}}},{key:"stop",value:function(O){this.partStep=0,this.pause(O)}},{key:"pause",value:function(O){this.isPlaying=!1;var F=O||0;this.metro.stop(F)}},{key:"addPhrase",value:function(O,F,Y){var oe;if(arguments.length===3)oe=new Ze(O,F,Y);else if(arguments[0]instanceof Ze)oe=arguments[0];else throw"invalid input. addPhrase accepts name, callback, array or a p5.Phrase";this.phrases.push(oe),oe.sequence.length>this.length&&(this.length=oe.sequence.length)}},{key:"removePhrase",value:function(O){for(var F in this.phrases)this.phrases[F].name===O&&this.phrases.splice(F,1)}},{key:"getPhrase",value:function(O){for(var F in this.phrases)if(this.phrases[F].name===O)return this.phrases[F]}},{key:"replaceSequence",value:function(O,F){for(var Y in this.phrases)this.phrases[Y].name===O&&(this.phrases[Y].sequence=F)}},{key:"incrementStep",value:function(O){this.partStep<this.length-1?(this.callback(O),this.partStep+=1):!this.looping&&this.partStep===this.length-1&&this.onended()}},{key:"onStep",value:function(O){this.callback=O}}]),z}(),$e=function(){function z(){Re(this,z),this.parts=[],this.currentPart=new Array(arguments.length);var D=this;for(var O in arguments)this.parts[O]=arguments[O],this.parts[O].nextPart=this.parts[O+1],this.parts[O].onended=function(){D.resetPart(O),Ge(D)};this.looping=!1}return Me(z,[{key:"onended",value:function(){this.looping?this.parts[0].start():this.parts[this.parts.length-1].onended=function(){this.stop(),this.resetParts()},this.currentPart=0}},{key:"start",value:function(){this.parts[this.currentPart].start(),this.scoreStep=0}},{key:"stop",value:function(){this.parts[this.currentPart].stop(),this.currentPart=0,this.scoreStep=0}},{key:"pause",value:function(){this.parts[this.currentPart].stop()}},{key:"loop",value:function(){this.looping=!0,this.start()}},{key:"noLoop",value:function(){this.looping=!1}},{key:"resetParts",value:function(){var O=this;this.parts.forEach(function(F){O.resetParts[F]})}},{key:"resetPart",value:function(O){this.parts[O].stop(),this.parts[O].partStep=0;for(var F in this.parts[O].phrases)this.parts[O]&&(this.parts[O].phrases[F].phraseStep=0)}},{key:"setBPM",value:function(O,F){for(var Y in this.parts)this.parts[Y]&&this.parts[Y].setBPM(O,F)}}]),z}();function Ge(z){z.currentPart++,z.currentPart>=z.parts.length?(z.scoreStep=0,z.onended()):(z.scoreStep=0,z.parts[z.currentPart-1].stop(),z.parts[z.currentPart].start())}function We(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function dt(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function lt(z,D,O){return D&&dt(z.prototype,D),z}var ht=function(){function z(D,O){We(this,z),Object.defineProperty(this,"bpm",{get:function(){return this._bpm},set:function(oe){this.musicalTimeMode||console.warn('Changing the BPM in "seconds" mode has no effect. BPM is only relevant in musicalTimeMode when the interval is specified as a string ("2n", "4n", "1m"...etc)'),this._bpm=oe,this._update()}}),Object.defineProperty(this,"timeSignature",{get:function(){return this._timeSignature},set:function(oe){this.musicalTimeMode||console.warn('Changing the timeSignature in "seconds" mode has no effect. BPM is only relevant in musicalTimeMode when the interval is specified as a string ("2n", "4n", "1m"...etc)'),this._timeSignature=oe,this._update()}}),Object.defineProperty(this,"interval",{get:function(){return this._interval},set:function(oe){this.musicalTimeMode=typeof oe!="number",this._interval=oe,this._update()}}),Object.defineProperty(this,"iterations",{get:function(){return this.clock.ticks}}),this.callback=D,this.musicalTimeMode=typeof this._interval!="number",this._interval=O||1,this._timeSignature=4,this._bpm=60,this.isPlaying=!1,this.maxIterations=1/0;var F=this;this.clock=new W.a({callback:function(oe){var ke=oe-r.audiocontext.currentTime;ke>0&&F.iterations<=F.maxIterations&&F.callback(ke)},frequency:this._calcFreq()})}return lt(z,[{key:"start",value:function(O){var F=O||0,Y=r.audiocontext.currentTime;this.isPlaying||(this.clock.start(Y+F),this.isPlaying=!0)}},{key:"stop",value:function(O){var F=O||0,Y=r.audiocontext.currentTime;this.isPlaying&&(this.clock.stop(Y+F),this.isPlaying=!1)}},{key:"pause",value:function(O){var F=O||0,Y=r.audiocontext.currentTime;this.isPlaying&&(this.clock.pause(Y+F),this.isPlaying=!1)}},{key:"syncedStart",value:function(O,F){var Y=F||0,oe=r.audiocontext.currentTime;if(!O.isPlaying)O.clock.start(oe+Y),O.isPlaying=!0,this.clock.start(oe+Y),this.isPlaying=!0;else if(O.isPlaying){var ke=O.clock._nextTick-r.audiocontext.currentTime;this.clock.start(oe+ke),this.isPlaying=!0}}},{key:"_update",value:function(){this.clock.frequency.value=this._calcFreq()}},{key:"_calcFreq",value:function(){if(typeof this._interval=="number")return this.musicalTimeMode=!1,1/this._interval;if(typeof this._interval=="string")return this.musicalTimeMode=!0,this._bpm/60/this._convertNotation(this._interval)*(this._timeSignature/4)}},{key:"_convertNotation",value:function(O){var F=O.slice(-1);switch(O=Number(O.slice(0,-1)),F){case"m":return this._measure(O);case"n":return this._note(O);default:console.warn("Specified interval is not formatted correctly. See Tone.js timing reference for more info: https://github.com/Tonejs/Tone.js/wiki/Time")}}},{key:"_measure",value:function(O){return O*this._timeSignature}},{key:"_note",value:function(O){return this._timeSignature/O}}]),z}(),Rt=ht;function Mt(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mt=function(O){return typeof O}:Mt=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Mt(z)}function $t(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function tr(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Qt(z,D,O){return D&&tr(z.prototype,D),z}function Wt(z,D){return D&&(Mt(D)==="object"||typeof D=="function")?D:kt(z)}function kt(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function or(z,D,O){return typeof Reflect<"u"&&Reflect.get?or=Reflect.get:or=function(Y,oe,ke){var Ie=dr(Y,oe);if(Ie){var ze=Object.getOwnPropertyDescriptor(Ie,oe);return ze.get?ze.get.call(ke):ze.value}},or(z,D,O||z)}function dr(z,D){for(;!Object.prototype.hasOwnProperty.call(z,D)&&(z=Jt(z),z!==null););return z}function Jt(z){return Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},Jt(z)}function Ht(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&yr(z,D)}function yr(z,D){return yr=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},yr(z,D)}var wr=function(z){Ht(D,z);function D(){var O;return $t(this,D),O=Wt(this,Jt(D).call(this)),O.compressor=O.ac.createDynamicsCompressor(),O.input.connect(O.compressor),O.compressor.connect(O.wet),O}return Qt(D,[{key:"process",value:function(F,Y,oe,ke,Ie,ze){F.connect(this.input),this.set(Y,oe,ke,Ie,ze)}},{key:"set",value:function(F,Y,oe,ke,Ie){typeof F<"u"&&this.attack(F),typeof Y<"u"&&this.knee(Y),typeof oe<"u"&&this.ratio(oe),typeof ke<"u"&&this.threshold(ke),typeof Ie<"u"&&this.release(Ie)}},{key:"attack",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.compressor.attack.value=F,this.compressor.attack.cancelScheduledValues(this.ac.currentTime+.01+oe),this.compressor.attack.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):typeof F<"u"&&F.connect(this.compressor.attack),this.compressor.attack.value}},{key:"knee",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.compressor.knee.value=F,this.compressor.knee.cancelScheduledValues(this.ac.currentTime+.01+oe),this.compressor.knee.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):typeof F<"u"&&F.connect(this.compressor.knee),this.compressor.knee.value}},{key:"ratio",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.compressor.ratio.value=F,this.compressor.ratio.cancelScheduledValues(this.ac.currentTime+.01+oe),this.compressor.ratio.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):typeof F<"u"&&F.connect(this.compressor.ratio),this.compressor.ratio.value}},{key:"threshold",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.compressor.threshold.value=F,this.compressor.threshold.cancelScheduledValues(this.ac.currentTime+.01+oe),this.compressor.threshold.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):typeof F<"u"&&F.connect(this.compressor.threshold),this.compressor.threshold.value}},{key:"release",value:function(F,Y){var oe=Y||0;return typeof F=="number"?(this.compressor.release.value=F,this.compressor.release.cancelScheduledValues(this.ac.currentTime+.01+oe),this.compressor.release.linearRampToValueAtTime(F,this.ac.currentTime+.02+oe)):typeof number<"u"&&F.connect(this.compressor.release),this.compressor.release.value}},{key:"reduction",value:function(){return this.compressor.reduction.value}},{key:"dispose",value:function(){or(Jt(D.prototype),"dispose",this).call(this),this.compressor&&(this.compressor.disconnect(),delete this.compressor)}}]),D}(Xr),Dr=wr;function er(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function Tr(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Ri(z,D,O){return D&&Tr(z.prototype,D),z}var Li=function(){function z(D,O,F,Y){er(this,z),this.framesPerPeak=Y||20,this.framesSinceLastPeak=0,this.decayRate=.95,this.threshold=F||.35,this.cutoff=0,this.cutoffMult=1.5,this.energy=0,this.penergy=0,this.currentValue=0,this.isDetected=!1,this.f1=D||40,this.f2=O||2e4,this._onPeak=function(){}}return Ri(z,[{key:"update",value:function(O){var F=this.energy=O.getEnergy(this.f1,this.f2)/255;F>this.cutoff&&F>this.threshold&&F-this.penergy>0?(this._onPeak(),this.isDetected=!0,this.cutoff=F*this.cutoffMult,this.framesSinceLastPeak=0):(this.isDetected=!1,this.framesSinceLastPeak<=this.framesPerPeak?this.framesSinceLastPeak++:(this.cutoff*=this.decayRate,this.cutoff=Math.max(this.cutoff,this.threshold))),this.currentValue=F,this.penergy=F}},{key:"onPeak",value:function(O,F){var Y=this;Y._onPeak=function(){O(Y.energy,F)}}}]),z}(),Vy=Li;function Bw(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function Uw(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Gw(z,D,O){return D&&Uw(z.prototype,D),z}var Fu=r.audiocontext,Vw=function(){function z(){Bw(this,z),this.input=Fu.createGain(),this.output=Fu.createGain(),this._inputChannels=2,this._outputChannels=2;var D=v(1024);this._workletNode=new AudioWorkletNode(Fu,y.a.recorderProcessor,{outputChannelCount:[this._outputChannels],processorOptions:{numInputChannels:this._inputChannels,bufferSize:D}}),this._workletNode.port.onmessage=(function(O){if(O.data.name==="buffers"){var F=[new Float32Array(O.data.leftBuffer),new Float32Array(O.data.rightBuffer)];this._callback(F)}}).bind(this),this._callback=function(){},this._workletNode.connect(p5.soundOut._silentNode),this.setInput(),r.soundArray.push(this)}return Gw(z,[{key:"setInput",value:function(O){this.input.disconnect(),this.input=null,this.input=Fu.createGain(),this.input.connect(this._workletNode),this.input.connect(this.output),O?O.connect(this.input):p5.soundOut.output.connect(this.input)}},{key:"record",value:function(O,F,Y){this._workletNode.port.postMessage({name:"start",duration:F}),O&&Y?this._callback=function(oe){O.setBuffer(oe),Y()}:O&&(this._callback=function(oe){O.setBuffer(oe)})}},{key:"stop",value:function(){this._workletNode.port.postMessage({name:"stop"})}},{key:"dispose",value:function(){var O=r.soundArray.indexOf(this);r.soundArray.splice(O,1),this._callback=function(){},this.input&&this.input.disconnect(),this.input=null,this._workletNode=null}}]),z}(),zw=Vw;function Nu(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nu=function(O){return typeof O}:Nu=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Nu(z)}function $w(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function Ww(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function Hw(z,D,O){return D&&Ww(z.prototype,D),z}function qw(z,D){return D&&(Nu(D)==="object"||typeof D=="function")?D:Xw(z)}function Xw(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function Bu(z,D,O){return typeof Reflect<"u"&&Reflect.get?Bu=Reflect.get:Bu=function(Y,oe,ke){var Ie=Yw(Y,oe);if(Ie){var ze=Object.getOwnPropertyDescriptor(Ie,oe);return ze.get?ze.get.call(ke):ze.value}},Bu(z,D,O||z)}function Yw(z,D){for(;!Object.prototype.hasOwnProperty.call(z,D)&&(z=Oa(z),z!==null););return z}function Oa(z){return Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},Oa(z)}function Kw(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&Td(z,D)}function Td(z,D){return Td=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},Td(z,D)}function zy(z){for(var D=typeof z=="number"?z:50,O=44100,F=new Float32Array(O),Y=Math.PI/180,oe=0,ke;oe<O;++oe)ke=oe*2/O-1,F[oe]=(3+D)*ke*20*Y/(Math.PI+D*Math.abs(ke));return F}var Zw=function(z){Kw(D,z);function D(O,F){var Y;if($w(this,D),Y=qw(this,Oa(D).call(this)),typeof O>"u"&&(O=.25),typeof O!="number")throw new Error("amount must be a number");if(typeof F>"u"&&(F="2x"),typeof F!="string")throw new Error("oversample must be a String");var oe=p5.prototype.map(O,0,1,0,2e3);return Y.waveShaperNode=Y.ac.createWaveShaper(),Y.amount=oe,Y.waveShaperNode.curve=zy(oe),Y.waveShaperNode.oversample=F,Y.input.connect(Y.waveShaperNode),Y.waveShaperNode.connect(Y.wet),Y}return Hw(D,[{key:"process",value:function(F,Y,oe){F.connect(this.input),this.set(Y,oe)}},{key:"set",value:function(F,Y){if(F){var oe=p5.prototype.map(F,0,1,0,2e3);this.amount=oe,this.waveShaperNode.curve=zy(oe)}Y&&(this.waveShaperNode.oversample=Y)}},{key:"getAmount",value:function(){return this.amount}},{key:"getOversample",value:function(){return this.waveShaperNode.oversample}},{key:"dispose",value:function(){Bu(Oa(D.prototype),"dispose",this).call(this),this.waveShaperNode&&(this.waveShaperNode.disconnect(),this.waveShaperNode=null)}}]),D}(Xr),Qw=Zw;function Jw(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function e2(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function t2(z,D,O){return D&&e2(z.prototype,D),z}var r2=function(){function z(){Jw(this,z),this.ac=r.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.output),r.soundArray.push(this)}return t2(z,[{key:"setInput",value:function(O){O.connect(this.input)}},{key:"connect",value:function(O){var F=O||p5.soundOut.input;this.output.connect(F.input?F.input:F)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"amp",value:function(O){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,oe=r.audiocontext.currentTime,ke=this.output.gain.value;this.output.gain.cancelScheduledValues(oe),this.output.gain.linearRampToValueAtTime(ke,oe+Y),this.output.gain.linearRampToValueAtTime(O,oe+Y+F)}},{key:"dispose",value:function(){var O=r.soundArray.indexOf(this);r.soundArray.splice(O,1),this.output&&(this.output.disconnect(),delete this.output),this.input&&(this.input.disconnect(),delete this.input)}}]),z}(),n2=r2;function o2(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function i2(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function s2(z,D,O){return D&&i2(z.prototype,D),z}var a2=function(){function z(){o2(this,z),this.ac=r.audiocontext,this.output=this.ac.createGain(),this.connect(),r.soundArray.push(this)}return s2(z,[{key:"play",value:function(O,F,Y,oe){}},{key:"triggerAttack",value:function(O,F,Y){}},{key:"triggerRelease",value:function(O){}},{key:"amp",value:function(O,F){}},{key:"connect",value:function(O){var F=O||r.input;this.output.connect(F.input?F.input:F)}},{key:"disconnect",value:function(){this.output.disconnect()}},{key:"dispose",value:function(){this.output&&(this.output.disconnect(),delete this.output)}}]),z}(),$y=a2;function Uu(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uu=function(O){return typeof O}:Uu=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Uu(z)}function l2(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function u2(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function c2(z,D,O){return D&&u2(z.prototype,D),z}function f2(z,D){return D&&(Uu(D)==="object"||typeof D=="function")?D:Ed(z)}function Ed(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function Gu(z,D,O){return typeof Reflect<"u"&&Reflect.get?Gu=Reflect.get:Gu=function(Y,oe,ke){var Ie=d2(Y,oe);if(Ie){var ze=Object.getOwnPropertyDescriptor(Ie,oe);return ze.get?ze.get.call(ke):ze.value}},Gu(z,D,O||z)}function d2(z,D){for(;!Object.prototype.hasOwnProperty.call(z,D)&&(z=Aa(z),z!==null););return z}function Aa(z){return Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},Aa(z)}function h2(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),D&&kd(z,D)}function kd(z,D){return kd=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},kd(z,D)}var p2=.15,m2=function(z){h2(D,z);function D(){var O;return l2(this,D),O=f2(this,Aa(D).call(this)),O.oscillator=new Tt,O.env=new qt,O.env.setRange(1,0),O.env.setExp(!0),O.setADSR(.02,.25,.05,.35),O.oscillator.disconnect(),O.oscillator.connect(O.output),O.env.disconnect(),O.env.setInput(O.output.gain),O.oscillator.output.gain.value=1,O.oscillator.start(),O.connect(),r.soundArray.push(Ed(O)),Object.defineProperties(Ed(O),{attack:{get:function(){return this.env.aTime},set:function(Y){this.env.setADSR(Y,this.env.dTime,this.env.sPercent,this.env.rTime)}},decay:{get:function(){return this.env.dTime},set:function(Y){this.env.setADSR(this.env.aTime,Y,this.env.sPercent,this.env.rTime)}},sustain:{get:function(){return this.env.sPercent},set:function(Y){this.env.setADSR(this.env.aTime,this.env.dTime,Y,this.env.rTime)}},release:{get:function(){return this.env.rTime},set:function(Y){this.env.setADSR(this.env.aTime,this.env.dTime,this.env.sPercent,Y)}}}),O}return c2(D,[{key:"play",value:function(F,Y,oe,ke){this.triggerAttack(F,Y,~~oe),this.triggerRelease(~~oe+(ke||p2))}},{key:"triggerAttack",value:function(F,Y){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ke=S(F),Ie=Y||.1;this.oscillator.freq(ke,0,oe),this.env.ramp(this.output.gain,oe,Ie)}},{key:"triggerRelease",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.env.ramp(this.output.gain,F,0)}},{key:"setADSR",value:function(F,Y,oe,ke){this.env.setADSR(F,Y,oe,ke)}},{key:"amp",value:function(F,Y){var oe=Y||0;return typeof F<"u"&&this.oscillator.amp(F,oe),this.oscillator.amp().value}},{key:"connect",value:function(F){var Y=F||r.input;this.output.connect(Y.input?Y.input:Y)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){Gu(Aa(D.prototype),"dispose",this).call(this),this.env&&this.env.dispose(),this.oscillator&&this.oscillator.dispose()}}]),D}($y),y2=m2;function g2(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function v2(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function b2(z,D,O){return D&&v2(z.prototype,D),z}var _2=function(){function z(D,O,F,Y){g2(this,z),this.isDetected=!1,this.freqLow=D,this.freqHigh=O,this.treshold=F,this.energy=0,this.penergy=0,this.sensitivity=500,this.callback=Y}return b2(z,[{key:"update",value:function(O,F){if(this.energy=O.getEnergy(this.freqLow,this.freqHigh)/255,this.isDetected===!1&&this.energy-this.penergy>this.treshold){this.isDetected=!0,this.callback?this.callback(this.energy):F&&F(this.energy);var Y=this;setTimeout(function(){Y.isDetected=!1},this.sensitivity)}this.penergy=this.energy}}]),z}(),x2=_2;function w2(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function j2(z,D){for(var O=0;O<D.length;O++){var F=D[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function S2(z,D,O){return D&&j2(z.prototype,D),z}var T2=function(){function z(D,O){w2(this,z),this.audiovoices=[],this.notes={},this._newest=0,this._oldest=0,this.maxVoices=O||8,this.AudioVoice=D===void 0?p5.MonoSynth:D,this._voicesInUse=new St.a(0),this.output=r.audiocontext.createGain(),this.connect(),this._allocateVoices(),r.soundArray.push(this)}return S2(z,[{key:"_allocateVoices",value:function(){for(var O=0;O<this.maxVoices;O++)this.audiovoices.push(new this.AudioVoice),this.audiovoices[O].disconnect(),this.audiovoices[O].connect(this.output)}},{key:"play",value:function(O,F,Y){var oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this.noteAttack(O,F,Y),this.noteRelease(O,Y+oe)}},{key:"noteADSR",value:function(O,F,Y,oe,ke){var Ie=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,ze=r.audiocontext.currentTime,_t=ze+Ie;this.audiovoices[this.notes[O].getValueAtTime(_t)].setADSR(F,Y,oe,ke)}},{key:"setADSR",value:function(O,F,Y,oe){this.audiovoices.forEach(function(ke){ke.setADSR(O,F,Y,oe)})}},{key:"noteAttack",value:function(O,F){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,oe=r.audiocontext.currentTime+Y,ke=S(O),Ie=F||.1,ze;this.notes[ke]&&this.notes[ke].getValueAtTime(oe)!==null&&this.noteRelease(ke,0),this._voicesInUse.getValueAtTime(oe)<this.maxVoices?ze=Math.max(~~this._voicesInUse.getValueAtTime(oe),0):(ze=this._oldest,oldestNote=c(this.audiovoices[this._oldest].oscillator.freq().value),this.noteRelease(oldestNote),this._oldest=(this._oldest+1)%(this.maxVoices-1)),this.notes[ke]=new St.a,this.notes[ke].setValueAtTime(ze,oe);var _t=this._voicesInUse._searchBefore(oe)===null?0:this._voicesInUse._searchBefore(oe).value;if(this._voicesInUse.setValueAtTime(_t+1,oe),this._updateAfter(oe,1),this._newest=ze,typeof Ie=="number"){var xt=1/this._voicesInUse.getValueAtTime(oe)*2;Ie=Ie>xt?xt:Ie}this.audiovoices[ze].triggerAttack(ke,Ie,Y)}},{key:"_updateAfter",value:function(O,F){if(this._voicesInUse._searchAfter(O)!==null){this._voicesInUse._searchAfter(O).value+=F;var Y=this._voicesInUse._searchAfter(O).time;this._updateAfter(Y,F)}}},{key:"noteRelease",value:function(O,F){var Y=r.audiocontext.currentTime,oe=F||0,ke=Y+oe;if(!O){this.audiovoices.forEach(function(xt){xt.triggerRelease(oe)}),this._voicesInUse.setValueAtTime(0,ke);for(var Ie in this.notes)this.notes[Ie].dispose(),delete this.notes[Ie];return}var ze=S(O);if(!this.notes[ze]||this.notes[ze].getValueAtTime(ke)===null)console.warn("Cannot release a note that is not already playing");else{var _t=Math.max(~~this._voicesInUse.getValueAtTime(ke).value,1);this._voicesInUse.setValueAtTime(_t-1,ke),_t>0&&this._updateAfter(ke,-1),this.audiovoices[this.notes[ze].getValueAtTime(ke)].triggerRelease(oe),this.notes[ze].dispose(),delete this.notes[ze],this._newest=this._newest===0?0:(this._newest-1)%(this.maxVoices-1)}}},{key:"connect",value:function(O){var F=O||r.input;this.output.connect(F.input?F.input:F)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){this.audiovoices.forEach(function(O){O.dispose()}),this.output&&(this.output.disconnect(),delete this.output)}}]),z}(),E2=T2;function k2(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}var C2=function z(){k2(this,z),console.warn("p5.Signal is deprecated , Use Tone.js Signal instead ")},P2=C2;p5.prototype.getAudioContext=i.b,p5.prototype.userStartAudio=i.c,p5.prototype.sampleRate=a,p5.prototype.freqToMidi=c,p5.prototype.midiToFreq=x,p5.prototype.noteToFreq=S,p5.prototype.soundFormats=l,p5.prototype.disposeSound=f,p5.prototype._checkFileFormats=u,p5.prototype._mathChain=s,p5.prototype.convertToWav=d,p5.prototype.interleave=g,p5.prototype.writeUTFBytes=_,p5.prototype.safeBufferSize=v,p5.prototype.saveSound=j,p5.prototype.registerMethod("remove",p5.prototype.disposeSound),p5.Panner=Z,p5.SoundFile=he,p5.prototype.loadSound=ce,p5.prototype.registerPreloadMethod("loadSound",p5.prototype),p5.Amplitude=ve,p5.FFT=st,p5.Oscillator=Tt,p5.SinOsc=et,p5.TriOsc=ft,p5.SawOsc=Pt,p5.SqrOsc=Lt,p5.Noise=we,p5.Pulse=fr,p5.AudioIn=cu,p5.Effect=Xr,p5.Filter=yo,p5.LowPass=hu,p5.HighPass=pu,p5.BandPass=fs,p5.EQ=Ei,p5.listener3D=ju,p5.Panner3D=Au,p5.Delay=wd,p5.Reverb=b,p5.Convolver=k,p5.prototype.createConvolver=A,p5.prototype.registerPreloadMethod("createConvolver",p5.prototype),p5.Metro=be,p5.Phrase=Ze,p5.Part=Ue,p5.Score=$e,p5.SoundLoop=Rt,p5.Compressor=Dr,p5.peakDetect=Vy,p5.SoundRecorder=zw,p5.Distortion=Qw,p5.Gain=n2,p5.AudioVoice=$y,p5.MonoSynth=y2,p5.OnsetDetect=x2,p5.PolySynth=E2,p5.PeakDetect=Vy,p5.Signal=P2}])})();const bC="/bati-portfolio/assets/harm-CLJ8Gj_l.jpg",_C="/bati-portfolio/assets/psy-sketch-audio-CgrZUZil.wav";let Rv,lc,vs=5,lh=!0,uh=!1;const xC=()=>{const[t,n]=Le.useState({width:window.innerWidth,height:window.innerHeight});Le.useEffect(()=>{const r=()=>{n({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]);const o=r=>{Rv=r.loadSound(_C),lc=r.loadImage(bC)},i=(r,E)=>{r.createCanvas(t.width,t.height).parent(E),r.imageMode(r.CENTER)},p=r=>{r.background(255);const E=lc.width*vs,y=lc.height*vs;r.image(lc,900,1905,E,y),uh&&(lh?(vs+=.01,vs>=5&&(lh=!1)):(vs-=.01,vs<=1&&(lh=!0)))},m=r=>{uh||(Rv.loop(),uh=!0)},w=r=>{r.resizeCanvas(window.innerWidth,window.innerHeight),n({width:window.innerWidth,height:window.innerHeight})};return Oe.jsx(Oe.Fragment,{children:Oe.jsxs("div",{className:"sketch-container",children:[Oe.jsx("p",{className:"title",children:"CLICK OR TOUCH THE IMAGE"}),Oe.jsx(gi,{className:"sketch",setup:i,draw:p,preload:o,mousePressed:m,windowResized:w})]})})};var Mn={},tu={},wC=typeof qa=="object"&&qa&&qa.Object===Object&&qa,wx=wC,jC=wx,SC=typeof self=="object"&&self&&self.Object===Object&&self,TC=jC||SC||Function("return this")(),po=TC,EC=po,kC=EC.Symbol,ru=kC,Lv=ru,jx=Object.prototype,CC=jx.hasOwnProperty,PC=jx.toString,za=Lv?Lv.toStringTag:void 0;function OC(t){var n=CC.call(t,za),o=t[za];try{t[za]=void 0;var i=!0}catch{}var p=PC.call(t);return i&&(n?t[za]=o:delete t[za]),p}var AC=OC,MC=Object.prototype,RC=MC.toString;function LC(t){return RC.call(t)}var IC=LC,Iv=ru,DC=AC,FC=IC,NC="[object Null]",BC="[object Undefined]",Dv=Iv?Iv.toStringTag:void 0;function UC(t){return t==null?t===void 0?BC:NC:Dv&&Dv in Object(t)?DC(t):FC(t)}var ts=UC,GC=Array.isArray,Qn=GC;function VC(t){return t!=null&&typeof t=="object"}var Mo=VC,zC=ts,$C=Qn,WC=Mo,HC="[object String]";function qC(t){return typeof t=="string"||!$C(t)&&WC(t)&&zC(t)==HC}var XC=qC;function YC(t){return function(n,o,i){for(var p=-1,m=Object(n),w=i(n),r=w.length;r--;){var E=w[t?r:++p];if(o(m[E],E,m)===!1)break}return n}}var KC=YC,ZC=KC,QC=ZC(),JC=QC;function eP(t,n){for(var o=-1,i=Array(t);++o<t;)i[o]=n(o);return i}var tP=eP,rP=ts,nP=Mo,oP="[object Arguments]";function iP(t){return nP(t)&&rP(t)==oP}var sP=iP,Fv=sP,aP=Mo,Sx=Object.prototype,lP=Sx.hasOwnProperty,uP=Sx.propertyIsEnumerable,cP=Fv(function(){return arguments}())?Fv:function(t){return aP(t)&&lP.call(t,"callee")&&!uP.call(t,"callee")},Tx=cP,af={exports:{}};function fP(){return!1}var dP=fP;af.exports;(function(t,n){var o=po,i=dP,p=n&&!n.nodeType&&n,m=p&&!0&&t&&!t.nodeType&&t,w=m&&m.exports===p,r=w?o.Buffer:void 0,E=r?r.isBuffer:void 0,y=E||i;t.exports=y})(af,af.exports);var Zm=af.exports,hP=9007199254740991,pP=/^(?:0|[1-9]\d*)$/;function mP(t,n){var o=typeof t;return n=n??hP,!!n&&(o=="number"||o!="symbol"&&pP.test(t))&&t>-1&&t%1==0&&t<n}var Ex=mP,yP=9007199254740991;function gP(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yP}var Qm=gP,vP=ts,bP=Qm,_P=Mo,xP="[object Arguments]",wP="[object Array]",jP="[object Boolean]",SP="[object Date]",TP="[object Error]",EP="[object Function]",kP="[object Map]",CP="[object Number]",PP="[object Object]",OP="[object RegExp]",AP="[object Set]",MP="[object String]",RP="[object WeakMap]",LP="[object ArrayBuffer]",IP="[object DataView]",DP="[object Float32Array]",FP="[object Float64Array]",NP="[object Int8Array]",BP="[object Int16Array]",UP="[object Int32Array]",GP="[object Uint8Array]",VP="[object Uint8ClampedArray]",zP="[object Uint16Array]",$P="[object Uint32Array]",sr={};sr[DP]=sr[FP]=sr[NP]=sr[BP]=sr[UP]=sr[GP]=sr[VP]=sr[zP]=sr[$P]=!0;sr[xP]=sr[wP]=sr[LP]=sr[jP]=sr[IP]=sr[SP]=sr[TP]=sr[EP]=sr[kP]=sr[CP]=sr[PP]=sr[OP]=sr[AP]=sr[MP]=sr[RP]=!1;function WP(t){return _P(t)&&bP(t.length)&&!!sr[vP(t)]}var HP=WP;function qP(t){return function(n){return t(n)}}var Jm=qP,lf={exports:{}};lf.exports;(function(t,n){var o=wx,i=n&&!n.nodeType&&n,p=i&&!0&&t&&!t.nodeType&&t,m=p&&p.exports===i,w=m&&o.process,r=function(){try{var E=p&&p.require&&p.require("util").types;return E||w&&w.binding&&w.binding("util")}catch{}}();t.exports=r})(lf,lf.exports);var ey=lf.exports,XP=HP,YP=Jm,Nv=ey,Bv=Nv&&Nv.isTypedArray,KP=Bv?YP(Bv):XP,kx=KP,ZP=tP,QP=Tx,JP=Qn,eO=Zm,tO=Ex,rO=kx,nO=Object.prototype,oO=nO.hasOwnProperty;function iO(t,n){var o=JP(t),i=!o&&QP(t),p=!o&&!i&&eO(t),m=!o&&!i&&!p&&rO(t),w=o||i||p||m,r=w?ZP(t.length,String):[],E=r.length;for(var y in t)(n||oO.call(t,y))&&!(w&&(y=="length"||p&&(y=="offset"||y=="parent")||m&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||tO(y,E)))&&r.push(y);return r}var Cx=iO,sO=Object.prototype;function aO(t){var n=t&&t.constructor,o=typeof n=="function"&&n.prototype||sO;return t===o}var ty=aO;function lO(t,n){return function(o){return t(n(o))}}var Px=lO,uO=Px,cO=uO(Object.keys,Object),fO=cO,dO=ty,hO=fO,pO=Object.prototype,mO=pO.hasOwnProperty;function yO(t){if(!dO(t))return hO(t);var n=[];for(var o in Object(t))mO.call(t,o)&&o!="constructor"&&n.push(o);return n}var gO=yO;function vO(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var ma=vO,bO=ts,_O=ma,xO="[object AsyncFunction]",wO="[object Function]",jO="[object GeneratorFunction]",SO="[object Proxy]";function TO(t){if(!_O(t))return!1;var n=bO(t);return n==wO||n==jO||n==xO||n==SO}var Ox=TO,EO=Ox,kO=Qm;function CO(t){return t!=null&&kO(t.length)&&!EO(t)}var Wf=CO,PO=Cx,OO=gO,AO=Wf;function MO(t){return AO(t)?PO(t):OO(t)}var nu=MO,RO=JC,LO=nu;function IO(t,n){return t&&RO(t,n,LO)}var Ax=IO;function DO(t){return t}var Mx=DO,FO=Mx;function NO(t){return typeof t=="function"?t:FO}var BO=NO,UO=Ax,GO=BO;function VO(t,n){return t&&UO(t,GO(n))}var ry=VO,zO=Px,$O=zO(Object.getPrototypeOf,Object),ny=$O,WO=ts,HO=ny,qO=Mo,XO="[object Object]",YO=Function.prototype,KO=Object.prototype,Rx=YO.toString,ZO=KO.hasOwnProperty,QO=Rx.call(Object);function JO(t){if(!qO(t)||WO(t)!=XO)return!1;var n=HO(t);if(n===null)return!0;var o=ZO.call(n,"constructor")&&n.constructor;return typeof o=="function"&&o instanceof o&&Rx.call(o)==QO}var eA=JO;function tA(t,n){for(var o=-1,i=t==null?0:t.length,p=Array(i);++o<i;)p[o]=n(t[o],o,t);return p}var Lx=tA;function rA(){this.__data__=[],this.size=0}var nA=rA;function oA(t,n){return t===n||t!==t&&n!==n}var oy=oA,iA=oy;function sA(t,n){for(var o=t.length;o--;)if(iA(t[o][0],n))return o;return-1}var Hf=sA,aA=Hf,lA=Array.prototype,uA=lA.splice;function cA(t){var n=this.__data__,o=aA(n,t);if(o<0)return!1;var i=n.length-1;return o==i?n.pop():uA.call(n,o,1),--this.size,!0}var fA=cA,dA=Hf;function hA(t){var n=this.__data__,o=dA(n,t);return o<0?void 0:n[o][1]}var pA=hA,mA=Hf;function yA(t){return mA(this.__data__,t)>-1}var gA=yA,vA=Hf;function bA(t,n){var o=this.__data__,i=vA(o,t);return i<0?(++this.size,o.push([t,n])):o[i][1]=n,this}var _A=bA,xA=nA,wA=fA,jA=pA,SA=gA,TA=_A;function ya(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}ya.prototype.clear=xA;ya.prototype.delete=wA;ya.prototype.get=jA;ya.prototype.has=SA;ya.prototype.set=TA;var qf=ya,EA=qf;function kA(){this.__data__=new EA,this.size=0}var CA=kA;function PA(t){var n=this.__data__,o=n.delete(t);return this.size=n.size,o}var OA=PA;function AA(t){return this.__data__.get(t)}var MA=AA;function RA(t){return this.__data__.has(t)}var LA=RA,IA=po,DA=IA["__core-js_shared__"],FA=DA,ch=FA,Uv=function(){var t=/[^.]+$/.exec(ch&&ch.keys&&ch.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function NA(t){return!!Uv&&Uv in t}var BA=NA,UA=Function.prototype,GA=UA.toString;function VA(t){if(t!=null){try{return GA.call(t)}catch{}try{return t+""}catch{}}return""}var Ix=VA,zA=Ox,$A=BA,WA=ma,HA=Ix,qA=/[\\^$.*+?()[\]{}|]/g,XA=/^\[object .+?Constructor\]$/,YA=Function.prototype,KA=Object.prototype,ZA=YA.toString,QA=KA.hasOwnProperty,JA=RegExp("^"+ZA.call(QA).replace(qA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function e3(t){if(!WA(t)||$A(t))return!1;var n=zA(t)?JA:XA;return n.test(HA(t))}var t3=e3;function r3(t,n){return t==null?void 0:t[n]}var n3=r3,o3=t3,i3=n3;function s3(t,n){var o=i3(t,n);return o3(o)?o:void 0}var rs=s3,a3=rs,l3=po,u3=a3(l3,"Map"),iy=u3,c3=rs,f3=c3(Object,"create"),Xf=f3,Gv=Xf;function d3(){this.__data__=Gv?Gv(null):{},this.size=0}var h3=d3;function p3(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var m3=p3,y3=Xf,g3="__lodash_hash_undefined__",v3=Object.prototype,b3=v3.hasOwnProperty;function _3(t){var n=this.__data__;if(y3){var o=n[t];return o===g3?void 0:o}return b3.call(n,t)?n[t]:void 0}var x3=_3,w3=Xf,j3=Object.prototype,S3=j3.hasOwnProperty;function T3(t){var n=this.__data__;return w3?n[t]!==void 0:S3.call(n,t)}var E3=T3,k3=Xf,C3="__lodash_hash_undefined__";function P3(t,n){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=k3&&n===void 0?C3:n,this}var O3=P3,A3=h3,M3=m3,R3=x3,L3=E3,I3=O3;function ga(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}ga.prototype.clear=A3;ga.prototype.delete=M3;ga.prototype.get=R3;ga.prototype.has=L3;ga.prototype.set=I3;var D3=ga,Vv=D3,F3=qf,N3=iy;function B3(){this.size=0,this.__data__={hash:new Vv,map:new(N3||F3),string:new Vv}}var U3=B3;function G3(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}var V3=G3,z3=V3;function $3(t,n){var o=t.__data__;return z3(n)?o[typeof n=="string"?"string":"hash"]:o.map}var Yf=$3,W3=Yf;function H3(t){var n=W3(this,t).delete(t);return this.size-=n?1:0,n}var q3=H3,X3=Yf;function Y3(t){return X3(this,t).get(t)}var K3=Y3,Z3=Yf;function Q3(t){return Z3(this,t).has(t)}var J3=Q3,eM=Yf;function tM(t,n){var o=eM(this,t),i=o.size;return o.set(t,n),this.size+=o.size==i?0:1,this}var rM=tM,nM=U3,oM=q3,iM=K3,sM=J3,aM=rM;function va(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}va.prototype.clear=nM;va.prototype.delete=oM;va.prototype.get=iM;va.prototype.has=sM;va.prototype.set=aM;var sy=va,lM=qf,uM=iy,cM=sy,fM=200;function dM(t,n){var o=this.__data__;if(o instanceof lM){var i=o.__data__;if(!uM||i.length<fM-1)return i.push([t,n]),this.size=++o.size,this;o=this.__data__=new cM(i)}return o.set(t,n),this.size=o.size,this}var hM=dM,pM=qf,mM=CA,yM=OA,gM=MA,vM=LA,bM=hM;function ba(t){var n=this.__data__=new pM(t);this.size=n.size}ba.prototype.clear=mM;ba.prototype.delete=yM;ba.prototype.get=gM;ba.prototype.has=vM;ba.prototype.set=bM;var ay=ba,_M="__lodash_hash_undefined__";function xM(t){return this.__data__.set(t,_M),this}var wM=xM;function jM(t){return this.__data__.has(t)}var SM=jM,TM=sy,EM=wM,kM=SM;function uf(t){var n=-1,o=t==null?0:t.length;for(this.__data__=new TM;++n<o;)this.add(t[n])}uf.prototype.add=uf.prototype.push=EM;uf.prototype.has=kM;var CM=uf;function PM(t,n){for(var o=-1,i=t==null?0:t.length;++o<i;)if(n(t[o],o,t))return!0;return!1}var OM=PM;function AM(t,n){return t.has(n)}var MM=AM,RM=CM,LM=OM,IM=MM,DM=1,FM=2;function NM(t,n,o,i,p,m){var w=o&DM,r=t.length,E=n.length;if(r!=E&&!(w&&E>r))return!1;var y=m.get(t),h=m.get(n);if(y&&h)return y==n&&h==t;var a=-1,c=!0,x=o&FM?new RM:void 0;for(m.set(t,n),m.set(n,t);++a<r;){var S=t[a],l=n[a];if(i)var f=w?i(l,S,a,n,t,m):i(S,l,a,t,n,m);if(f!==void 0){if(f)continue;c=!1;break}if(x){if(!LM(n,function(u,s){if(!IM(x,s)&&(S===u||p(S,u,o,i,m)))return x.push(s)})){c=!1;break}}else if(!(S===l||p(S,l,o,i,m))){c=!1;break}}return m.delete(t),m.delete(n),c}var Dx=NM,BM=po,UM=BM.Uint8Array,Fx=UM;function GM(t){var n=-1,o=Array(t.size);return t.forEach(function(i,p){o[++n]=[p,i]}),o}var VM=GM;function zM(t){var n=-1,o=Array(t.size);return t.forEach(function(i){o[++n]=i}),o}var $M=zM,zv=ru,$v=Fx,WM=oy,HM=Dx,qM=VM,XM=$M,YM=1,KM=2,ZM="[object Boolean]",QM="[object Date]",JM="[object Error]",e5="[object Map]",t5="[object Number]",r5="[object RegExp]",n5="[object Set]",o5="[object String]",i5="[object Symbol]",s5="[object ArrayBuffer]",a5="[object DataView]",Wv=zv?zv.prototype:void 0,fh=Wv?Wv.valueOf:void 0;function l5(t,n,o,i,p,m,w){switch(o){case a5:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case s5:return!(t.byteLength!=n.byteLength||!m(new $v(t),new $v(n)));case ZM:case QM:case t5:return WM(+t,+n);case JM:return t.name==n.name&&t.message==n.message;case r5:case o5:return t==n+"";case e5:var r=qM;case n5:var E=i&YM;if(r||(r=XM),t.size!=n.size&&!E)return!1;var y=w.get(t);if(y)return y==n;i|=KM,w.set(t,n);var h=HM(r(t),r(n),i,p,m,w);return w.delete(t),h;case i5:if(fh)return fh.call(t)==fh.call(n)}return!1}var u5=l5;function c5(t,n){for(var o=-1,i=n.length,p=t.length;++o<i;)t[p+o]=n[o];return t}var Nx=c5,f5=Nx,d5=Qn;function h5(t,n,o){var i=n(t);return d5(t)?i:f5(i,o(t))}var Bx=h5;function m5(t,n){for(var o=-1,i=t==null?0:t.length,p=0,m=[];++o<i;){var w=t[o];n(w,o,t)&&(m[p++]=w)}return m}var y5=m5;function g5(){return[]}var Ux=g5,v5=y5,b5=Ux,_5=Object.prototype,x5=_5.propertyIsEnumerable,Hv=Object.getOwnPropertySymbols,w5=Hv?function(t){return t==null?[]:(t=Object(t),v5(Hv(t),function(n){return x5.call(t,n)}))}:b5,ly=w5,j5=Bx,S5=ly,T5=nu;function E5(t){return j5(t,T5,S5)}var Gx=E5,qv=Gx,k5=1,C5=Object.prototype,P5=C5.hasOwnProperty;function O5(t,n,o,i,p,m){var w=o&k5,r=qv(t),E=r.length,y=qv(n),h=y.length;if(E!=h&&!w)return!1;for(var a=E;a--;){var c=r[a];if(!(w?c in n:P5.call(n,c)))return!1}var x=m.get(t),S=m.get(n);if(x&&S)return x==n&&S==t;var l=!0;m.set(t,n),m.set(n,t);for(var f=w;++a<E;){c=r[a];var u=t[c],s=n[c];if(i)var d=w?i(s,u,c,n,t,m):i(u,s,c,t,n,m);if(!(d===void 0?u===s||p(u,s,o,i,m):d)){l=!1;break}f||(f=c=="constructor")}if(l&&!f){var g=t.constructor,_=n.constructor;g!=_&&"constructor"in t&&"constructor"in n&&!(typeof g=="function"&&g instanceof g&&typeof _=="function"&&_ instanceof _)&&(l=!1)}return m.delete(t),m.delete(n),l}var A5=O5,M5=rs,R5=po,L5=M5(R5,"DataView"),I5=L5,D5=rs,F5=po,N5=D5(F5,"Promise"),B5=N5,U5=rs,G5=po,V5=U5(G5,"Set"),z5=V5,$5=rs,W5=po,H5=$5(W5,"WeakMap"),q5=H5,Cp=I5,Pp=iy,Op=B5,Ap=z5,Mp=q5,Vx=ts,_a=Ix,Xv="[object Map]",X5="[object Object]",Yv="[object Promise]",Kv="[object Set]",Zv="[object WeakMap]",Qv="[object DataView]",Y5=_a(Cp),K5=_a(Pp),Z5=_a(Op),Q5=_a(Ap),J5=_a(Mp),Fi=Vx;(Cp&&Fi(new Cp(new ArrayBuffer(1)))!=Qv||Pp&&Fi(new Pp)!=Xv||Op&&Fi(Op.resolve())!=Yv||Ap&&Fi(new Ap)!=Kv||Mp&&Fi(new Mp)!=Zv)&&(Fi=function(t){var n=Vx(t),o=n==X5?t.constructor:void 0,i=o?_a(o):"";if(i)switch(i){case Y5:return Qv;case K5:return Xv;case Z5:return Yv;case Q5:return Kv;case J5:return Zv}return n});var Kf=Fi,dh=ay,e4=Dx,t4=u5,r4=A5,Jv=Kf,e0=Qn,t0=Zm,n4=kx,o4=1,r0="[object Arguments]",n0="[object Array]",uc="[object Object]",i4=Object.prototype,o0=i4.hasOwnProperty;function s4(t,n,o,i,p,m){var w=e0(t),r=e0(n),E=w?n0:Jv(t),y=r?n0:Jv(n);E=E==r0?uc:E,y=y==r0?uc:y;var h=E==uc,a=y==uc,c=E==y;if(c&&t0(t)){if(!t0(n))return!1;w=!0,h=!1}if(c&&!h)return m||(m=new dh),w||n4(t)?e4(t,n,o,i,p,m):t4(t,n,E,o,i,p,m);if(!(o&o4)){var x=h&&o0.call(t,"__wrapped__"),S=a&&o0.call(n,"__wrapped__");if(x||S){var l=x?t.value():t,f=S?n.value():n;return m||(m=new dh),p(l,f,o,i,m)}}return c?(m||(m=new dh),r4(t,n,o,i,p,m)):!1}var a4=s4,l4=a4,i0=Mo;function zx(t,n,o,i,p){return t===n?!0:t==null||n==null||!i0(t)&&!i0(n)?t!==t&&n!==n:l4(t,n,o,i,zx,p)}var $x=zx,u4=ay,c4=$x,f4=1,d4=2;function h4(t,n,o,i){var p=o.length,m=p,w=!i;if(t==null)return!m;for(t=Object(t);p--;){var r=o[p];if(w&&r[2]?r[1]!==t[r[0]]:!(r[0]in t))return!1}for(;++p<m;){r=o[p];var E=r[0],y=t[E],h=r[1];if(w&&r[2]){if(y===void 0&&!(E in t))return!1}else{var a=new u4;if(i)var c=i(y,h,E,t,n,a);if(!(c===void 0?c4(h,y,f4|d4,i,a):c))return!1}}return!0}var p4=h4,m4=ma;function y4(t){return t===t&&!m4(t)}var Wx=y4,g4=Wx,v4=nu;function b4(t){for(var n=v4(t),o=n.length;o--;){var i=n[o],p=t[i];n[o]=[i,p,g4(p)]}return n}var _4=b4;function x4(t,n){return function(o){return o==null?!1:o[t]===n&&(n!==void 0||t in Object(o))}}var Hx=x4,w4=p4,j4=_4,S4=Hx;function T4(t){var n=j4(t);return n.length==1&&n[0][2]?S4(n[0][0],n[0][1]):function(o){return o===t||w4(o,t,n)}}var E4=T4,k4=ts,C4=Mo,P4="[object Symbol]";function O4(t){return typeof t=="symbol"||C4(t)&&k4(t)==P4}var uy=O4,A4=Qn,M4=uy,R4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,L4=/^\w*$/;function I4(t,n){if(A4(t))return!1;var o=typeof t;return o=="number"||o=="symbol"||o=="boolean"||t==null||M4(t)?!0:L4.test(t)||!R4.test(t)||n!=null&&t in Object(n)}var cy=I4,qx=sy,D4="Expected a function";function fy(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(D4);var o=function(){var i=arguments,p=n?n.apply(this,i):i[0],m=o.cache;if(m.has(p))return m.get(p);var w=t.apply(this,i);return o.cache=m.set(p,w)||m,w};return o.cache=new(fy.Cache||qx),o}fy.Cache=qx;var F4=fy,N4=F4,B4=500;function U4(t){var n=N4(t,function(i){return o.size===B4&&o.clear(),i}),o=n.cache;return n}var G4=U4,V4=G4,z4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$4=/\\(\\)?/g,W4=V4(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(z4,function(o,i,p,m){n.push(p?m.replace($4,"$1"):i||o)}),n}),H4=W4,s0=ru,q4=Lx,X4=Qn,Y4=uy,K4=1/0,a0=s0?s0.prototype:void 0,l0=a0?a0.toString:void 0;function Xx(t){if(typeof t=="string")return t;if(X4(t))return q4(t,Xx)+"";if(Y4(t))return l0?l0.call(t):"";var n=t+"";return n=="0"&&1/t==-K4?"-0":n}var Z4=Xx,Q4=Z4;function J4(t){return t==null?"":Q4(t)}var eR=J4,tR=Qn,rR=cy,nR=H4,oR=eR;function iR(t,n){return tR(t)?t:rR(t,n)?[t]:nR(oR(t))}var Yx=iR,sR=uy,aR=1/0;function lR(t){if(typeof t=="string"||sR(t))return t;var n=t+"";return n=="0"&&1/t==-aR?"-0":n}var Zf=lR,uR=Yx,cR=Zf;function fR(t,n){n=uR(n,t);for(var o=0,i=n.length;t!=null&&o<i;)t=t[cR(n[o++])];return o&&o==i?t:void 0}var Kx=fR,dR=Kx;function hR(t,n,o){var i=t==null?void 0:dR(t,n);return i===void 0?o:i}var pR=hR;function mR(t,n){return t!=null&&n in Object(t)}var yR=mR,gR=Yx,vR=Tx,bR=Qn,_R=Ex,xR=Qm,wR=Zf;function jR(t,n,o){n=gR(n,t);for(var i=-1,p=n.length,m=!1;++i<p;){var w=wR(n[i]);if(!(m=t!=null&&o(t,w)))break;t=t[w]}return m||++i!=p?m:(p=t==null?0:t.length,!!p&&xR(p)&&_R(w,p)&&(bR(t)||vR(t)))}var SR=jR,TR=yR,ER=SR;function kR(t,n){return t!=null&&ER(t,n,TR)}var CR=kR,PR=$x,OR=pR,AR=CR,MR=cy,RR=Wx,LR=Hx,IR=Zf,DR=1,FR=2;function NR(t,n){return MR(t)&&RR(n)?LR(IR(t),n):function(o){var i=OR(o,t);return i===void 0&&i===n?AR(o,t):PR(n,i,DR|FR)}}var BR=NR;function UR(t){return function(n){return n==null?void 0:n[t]}}var GR=UR,VR=Kx;function zR(t){return function(n){return VR(n,t)}}var $R=zR,WR=GR,HR=$R,qR=cy,XR=Zf;function YR(t){return qR(t)?WR(XR(t)):HR(t)}var KR=YR,ZR=E4,QR=BR,JR=Mx,eL=Qn,tL=KR;function rL(t){return typeof t=="function"?t:t==null?JR:typeof t=="object"?eL(t)?QR(t[0],t[1]):ZR(t):tL(t)}var nL=rL,oL=Wf;function iL(t,n){return function(o,i){if(o==null)return o;if(!oL(o))return t(o,i);for(var p=o.length,m=n?p:-1,w=Object(o);(n?m--:++m<p)&&i(w[m],m,w)!==!1;);return o}}var sL=iL,aL=Ax,lL=sL,uL=lL(aL),cL=uL,fL=cL,dL=Wf;function hL(t,n){var o=-1,i=dL(t)?Array(t.length):[];return fL(t,function(p,m,w){i[++o]=n(p,m,w)}),i}var pL=hL,mL=Lx,yL=nL,gL=pL,vL=Qn;function bL(t,n){var o=vL(t)?mL:gL;return o(t,yL(n))}var _L=bL;Object.defineProperty(tu,"__esModule",{value:!0});tu.flattenNames=void 0;var xL=XC,wL=Qf(xL),jL=ry,SL=Qf(jL),TL=eA,EL=Qf(TL),kL=_L,CL=Qf(kL);function Qf(t){return t&&t.__esModule?t:{default:t}}var PL=tu.flattenNames=function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=[];return(0,CL.default)(n,function(i){Array.isArray(i)?t(i).map(function(p){return o.push(p)}):(0,EL.default)(i)?(0,SL.default)(i,function(p,m){p===!0&&o.push(m),o.push(m+"-"+p)}):(0,wL.default)(i)&&o.push(i)}),o};tu.default=PL;var ou={};function OL(t,n){for(var o=-1,i=t==null?0:t.length;++o<i&&n(t[o],o,t)!==!1;);return t}var AL=OL,ML=rs,RL=function(){try{var t=ML(Object,"defineProperty");return t({},"",{}),t}catch{}}(),LL=RL,u0=LL;function IL(t,n,o){n=="__proto__"&&u0?u0(t,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[n]=o}var Zx=IL,DL=Zx,FL=oy,NL=Object.prototype,BL=NL.hasOwnProperty;function UL(t,n,o){var i=t[n];(!(BL.call(t,n)&&FL(i,o))||o===void 0&&!(n in t))&&DL(t,n,o)}var Qx=UL,GL=Qx,VL=Zx;function zL(t,n,o,i){var p=!o;o||(o={});for(var m=-1,w=n.length;++m<w;){var r=n[m],E=i?i(o[r],t[r],r,o,t):void 0;E===void 0&&(E=t[r]),p?VL(o,r,E):GL(o,r,E)}return o}var Jf=zL,$L=Jf,WL=nu;function HL(t,n){return t&&$L(n,WL(n),t)}var qL=HL;function XL(t){var n=[];if(t!=null)for(var o in Object(t))n.push(o);return n}var YL=XL,KL=ma,ZL=ty,QL=YL,JL=Object.prototype,eI=JL.hasOwnProperty;function tI(t){if(!KL(t))return QL(t);var n=ZL(t),o=[];for(var i in t)i=="constructor"&&(n||!eI.call(t,i))||o.push(i);return o}var rI=tI,nI=Cx,oI=rI,iI=Wf;function sI(t){return iI(t)?nI(t,!0):oI(t)}var dy=sI,aI=Jf,lI=dy;function uI(t,n){return t&&aI(n,lI(n),t)}var cI=uI,cf={exports:{}};cf.exports;(function(t,n){var o=po,i=n&&!n.nodeType&&n,p=i&&!0&&t&&!t.nodeType&&t,m=p&&p.exports===i,w=m?o.Buffer:void 0,r=w?w.allocUnsafe:void 0;function E(y,h){if(h)return y.slice();var a=y.length,c=r?r(a):new y.constructor(a);return y.copy(c),c}t.exports=E})(cf,cf.exports);var fI=cf.exports;function dI(t,n){var o=-1,i=t.length;for(n||(n=Array(i));++o<i;)n[o]=t[o];return n}var hI=dI,pI=Jf,mI=ly;function yI(t,n){return pI(t,mI(t),n)}var gI=yI,vI=Nx,bI=ny,_I=ly,xI=Ux,wI=Object.getOwnPropertySymbols,jI=wI?function(t){for(var n=[];t;)vI(n,_I(t)),t=bI(t);return n}:xI,Jx=jI,SI=Jf,TI=Jx;function EI(t,n){return SI(t,TI(t),n)}var kI=EI,CI=Bx,PI=Jx,OI=dy;function AI(t){return CI(t,OI,PI)}var MI=AI,RI=Object.prototype,LI=RI.hasOwnProperty;function II(t){var n=t.length,o=new t.constructor(n);return n&&typeof t[0]=="string"&&LI.call(t,"index")&&(o.index=t.index,o.input=t.input),o}var DI=II,c0=Fx;function FI(t){var n=new t.constructor(t.byteLength);return new c0(n).set(new c0(t)),n}var hy=FI,NI=hy;function BI(t,n){var o=n?NI(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}var UI=BI,GI=/\w*$/;function VI(t){var n=new t.constructor(t.source,GI.exec(t));return n.lastIndex=t.lastIndex,n}var zI=VI,f0=ru,d0=f0?f0.prototype:void 0,h0=d0?d0.valueOf:void 0;function $I(t){return h0?Object(h0.call(t)):{}}var WI=$I,HI=hy;function qI(t,n){var o=n?HI(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}var XI=qI,YI=hy,KI=UI,ZI=zI,QI=WI,JI=XI,e6="[object Boolean]",t6="[object Date]",r6="[object Map]",n6="[object Number]",o6="[object RegExp]",i6="[object Set]",s6="[object String]",a6="[object Symbol]",l6="[object ArrayBuffer]",u6="[object DataView]",c6="[object Float32Array]",f6="[object Float64Array]",d6="[object Int8Array]",h6="[object Int16Array]",p6="[object Int32Array]",m6="[object Uint8Array]",y6="[object Uint8ClampedArray]",g6="[object Uint16Array]",v6="[object Uint32Array]";function b6(t,n,o){var i=t.constructor;switch(n){case l6:return YI(t);case e6:case t6:return new i(+t);case u6:return KI(t,o);case c6:case f6:case d6:case h6:case p6:case m6:case y6:case g6:case v6:return JI(t,o);case r6:return new i;case n6:case s6:return new i(t);case o6:return ZI(t);case i6:return new i;case a6:return QI(t)}}var _6=b6,x6=ma,p0=Object.create,w6=function(){function t(){}return function(n){if(!x6(n))return{};if(p0)return p0(n);t.prototype=n;var o=new t;return t.prototype=void 0,o}}(),j6=w6,S6=j6,T6=ny,E6=ty;function k6(t){return typeof t.constructor=="function"&&!E6(t)?S6(T6(t)):{}}var C6=k6,P6=Kf,O6=Mo,A6="[object Map]";function M6(t){return O6(t)&&P6(t)==A6}var R6=M6,L6=R6,I6=Jm,m0=ey,y0=m0&&m0.isMap,D6=y0?I6(y0):L6,F6=D6,N6=Kf,B6=Mo,U6="[object Set]";function G6(t){return B6(t)&&N6(t)==U6}var V6=G6,z6=V6,$6=Jm,g0=ey,v0=g0&&g0.isSet,W6=v0?$6(v0):z6,H6=W6,q6=ay,X6=AL,Y6=Qx,K6=qL,Z6=cI,Q6=fI,J6=hI,eD=gI,tD=kI,rD=Gx,nD=MI,oD=Kf,iD=DI,sD=_6,aD=C6,lD=Qn,uD=Zm,cD=F6,fD=ma,dD=H6,hD=nu,pD=dy,mD=1,yD=2,gD=4,ew="[object Arguments]",vD="[object Array]",bD="[object Boolean]",_D="[object Date]",xD="[object Error]",tw="[object Function]",wD="[object GeneratorFunction]",jD="[object Map]",SD="[object Number]",rw="[object Object]",TD="[object RegExp]",ED="[object Set]",kD="[object String]",CD="[object Symbol]",PD="[object WeakMap]",OD="[object ArrayBuffer]",AD="[object DataView]",MD="[object Float32Array]",RD="[object Float64Array]",LD="[object Int8Array]",ID="[object Int16Array]",DD="[object Int32Array]",FD="[object Uint8Array]",ND="[object Uint8ClampedArray]",BD="[object Uint16Array]",UD="[object Uint32Array]",rr={};rr[ew]=rr[vD]=rr[OD]=rr[AD]=rr[bD]=rr[_D]=rr[MD]=rr[RD]=rr[LD]=rr[ID]=rr[DD]=rr[jD]=rr[SD]=rr[rw]=rr[TD]=rr[ED]=rr[kD]=rr[CD]=rr[FD]=rr[ND]=rr[BD]=rr[UD]=!0;rr[xD]=rr[tw]=rr[PD]=!1;function kc(t,n,o,i,p,m){var w,r=n&mD,E=n&yD,y=n&gD;if(o&&(w=p?o(t,i,p,m):o(t)),w!==void 0)return w;if(!fD(t))return t;var h=lD(t);if(h){if(w=iD(t),!r)return J6(t,w)}else{var a=oD(t),c=a==tw||a==wD;if(uD(t))return Q6(t,r);if(a==rw||a==ew||c&&!p){if(w=E||c?{}:aD(t),!r)return E?tD(t,Z6(w,t)):eD(t,K6(w,t))}else{if(!rr[a])return p?t:{};w=sD(t,a,r)}}m||(m=new q6);var x=m.get(t);if(x)return x;m.set(t,w),dD(t)?t.forEach(function(f){w.add(kc(f,n,o,f,t,m))}):cD(t)&&t.forEach(function(f,u){w.set(u,kc(f,n,o,u,t,m))});var S=y?E?nD:rD:E?pD:hD,l=h?void 0:S(t);return X6(l||t,function(f,u){l&&(u=f,f=t[u]),Y6(w,u,kc(f,n,o,u,t,m))}),w}var GD=kc,VD=GD,zD=1,$D=4;function WD(t){return VD(t,zD|$D)}var HD=WD;Object.defineProperty(ou,"__esModule",{value:!0});ou.mergeClasses=void 0;var qD=ry,XD=nw(qD),YD=HD,KD=nw(YD),ZD=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t};function nw(t){return t&&t.__esModule?t:{default:t}}var QD=ou.mergeClasses=function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=n.default&&(0,KD.default)(n.default)||{};return o.map(function(p){var m=n[p];return m&&(0,XD.default)(m,function(w,r){i[r]||(i[r]={}),i[r]=ZD({},i[r],m[r])}),p}),i};ou.default=QD;var iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.autoprefix=void 0;var JD=ry,b0=tF(JD),eF=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t};function tF(t){return t&&t.__esModule?t:{default:t}}var rF={borderRadius:function(n){return{msBorderRadius:n,MozBorderRadius:n,OBorderRadius:n,WebkitBorderRadius:n,borderRadius:n}},boxShadow:function(n){return{msBoxShadow:n,MozBoxShadow:n,OBoxShadow:n,WebkitBoxShadow:n,boxShadow:n}},userSelect:function(n){return{WebkitTouchCallout:n,KhtmlUserSelect:n,MozUserSelect:n,msUserSelect:n,WebkitUserSelect:n,userSelect:n}},flex:function(n){return{WebkitBoxFlex:n,MozBoxFlex:n,WebkitFlex:n,msFlex:n,flex:n}},flexBasis:function(n){return{WebkitFlexBasis:n,flexBasis:n}},justifyContent:function(n){return{WebkitJustifyContent:n,justifyContent:n}},transition:function(n){return{msTransition:n,MozTransition:n,OTransition:n,WebkitTransition:n,transition:n}},transform:function(n){return{msTransform:n,MozTransform:n,OTransform:n,WebkitTransform:n,transform:n}},absolute:function(n){var o=n&&n.split(" ");return{position:"absolute",top:o&&o[0],right:o&&o[1],bottom:o&&o[2],left:o&&o[3]}},extend:function(n,o){var i=o[n];return i||{extend:n}}},nF=iu.autoprefix=function(n){var o={};return(0,b0.default)(n,function(i,p){var m={};(0,b0.default)(i,function(w,r){var E=rF[r];E?m=eF({},m,E(w)):m[r]=w}),o[p]=m}),o};iu.default=nF;var su={};Object.defineProperty(su,"__esModule",{value:!0});su.hover=void 0;var oF=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},iF=Le,hh=sF(iF);function sF(t){return t&&t.__esModule?t:{default:t}}function aF(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _0(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function lF(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var uF=su.hover=function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(i){lF(p,i);function p(){var m,w,r,E;aF(this,p);for(var y=arguments.length,h=Array(y),a=0;a<y;a++)h[a]=arguments[a];return E=(w=(r=_0(this,(m=p.__proto__||Object.getPrototypeOf(p)).call.apply(m,[this].concat(h))),r),r.state={hover:!1},r.handleMouseOver=function(){return r.setState({hover:!0})},r.handleMouseOut=function(){return r.setState({hover:!1})},r.render=function(){return hh.default.createElement(o,{onMouseOver:r.handleMouseOver,onMouseOut:r.handleMouseOut},hh.default.createElement(n,oF({},r.props,r.state)))},w),_0(r,E)}return p}(hh.default.Component)};su.default=uF;var au={};Object.defineProperty(au,"__esModule",{value:!0});au.active=void 0;var cF=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},fF=Le,ph=dF(fF);function dF(t){return t&&t.__esModule?t:{default:t}}function hF(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function x0(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function pF(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var mF=au.active=function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(i){pF(p,i);function p(){var m,w,r,E;hF(this,p);for(var y=arguments.length,h=Array(y),a=0;a<y;a++)h[a]=arguments[a];return E=(w=(r=x0(this,(m=p.__proto__||Object.getPrototypeOf(p)).call.apply(m,[this].concat(h))),r),r.state={active:!1},r.handleMouseDown=function(){return r.setState({active:!0})},r.handleMouseUp=function(){return r.setState({active:!1})},r.render=function(){return ph.default.createElement(o,{onMouseDown:r.handleMouseDown,onMouseUp:r.handleMouseUp},ph.default.createElement(n,cF({},r.props,r.state)))},w),x0(r,E)}return p}(ph.default.Component)};au.default=mF;var py={};Object.defineProperty(py,"__esModule",{value:!0});var yF=function(n,o){var i={},p=function(w){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i[w]=r};return n===0&&p("first-child"),n===o-1&&p("last-child"),(n===0||n%2===0)&&p("even"),Math.abs(n%2)===1&&p("odd"),p("nth-child",n),i};py.default=yF;Object.defineProperty(Mn,"__esModule",{value:!0});Mn.ReactCSS=Mn.loop=Mn.handleActive=my=Mn.handleHover=Mn.hover=void 0;var gF=tu,vF=xa(gF),bF=ou,_F=xa(bF),xF=iu,wF=xa(xF),jF=su,ow=xa(jF),SF=au,TF=xa(SF),EF=py,kF=xa(EF);function xa(t){return t&&t.__esModule?t:{default:t}}Mn.hover=ow.default;var my=Mn.handleHover=ow.default;Mn.handleActive=TF.default;Mn.loop=kF.default;var CF=Mn.ReactCSS=function(n){for(var o=arguments.length,i=Array(o>1?o-1:0),p=1;p<o;p++)i[p-1]=arguments[p];var m=(0,vF.default)(i),w=(0,_F.default)(n,m);return(0,wF.default)(w)},Ct=Mn.default=CF,PF=function(n,o,i,p,m){var w=m.clientWidth,r=m.clientHeight,E=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,y=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,h=E-(m.getBoundingClientRect().left+window.pageXOffset),a=y-(m.getBoundingClientRect().top+window.pageYOffset);if(i==="vertical"){var c=void 0;if(a<0?c=0:a>r?c=1:c=Math.round(a*100/r)/100,o.a!==c)return{h:o.h,s:o.s,l:o.l,a:c,source:"rgb"}}else{var x=void 0;if(h<0?x=0:h>w?x=1:x=Math.round(h*100/w)/100,p!==x)return{h:o.h,s:o.s,l:o.l,a:x,source:"rgb"}}return null},mh={},OF=function(n,o,i,p){if(typeof document>"u"&&!p)return null;var m=p?new p:document.createElement("canvas");m.width=i*2,m.height=i*2;var w=m.getContext("2d");return w?(w.fillStyle=n,w.fillRect(0,0,m.width,m.height),w.fillStyle=o,w.fillRect(0,0,i,i),w.translate(i,i),w.fillRect(0,0,i,i),m.toDataURL()):null},AF=function(n,o,i,p){var m=n+"-"+o+"-"+i+(p?"-server":"");if(mh[m])return mh[m];var w=OF(n,o,i,p);return mh[m]=w,w},w0=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},wa=function(n){var o=n.white,i=n.grey,p=n.size,m=n.renderers,w=n.borderRadius,r=n.boxShadow,E=n.children,y=Ct({default:{grid:{borderRadius:w,boxShadow:r,absolute:"0px 0px 0px 0px",background:"url("+AF(o,i,p,m.canvas)+") center left"}}});return Le.isValidElement(E)?xe.cloneElement(E,w0({},E.props,{style:w0({},E.props.style,y.grid)})):xe.createElement("div",{style:y.grid})};wa.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var MF=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},RF=function(){function t(n,o){for(var i=0;i<o.length;i++){var p=o[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}();function LF(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function j0(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function IF(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var yy=function(t){IF(n,t);function n(){var o,i,p,m;LF(this,n);for(var w=arguments.length,r=Array(w),E=0;E<w;E++)r[E]=arguments[E];return m=(i=(p=j0(this,(o=n.__proto__||Object.getPrototypeOf(n)).call.apply(o,[this].concat(r))),p),p.handleChange=function(y){var h=PF(y,p.props.hsl,p.props.direction,p.props.a,p.container);h&&typeof p.props.onChange=="function"&&p.props.onChange(h,y)},p.handleMouseDown=function(y){p.handleChange(y),window.addEventListener("mousemove",p.handleChange),window.addEventListener("mouseup",p.handleMouseUp)},p.handleMouseUp=function(){p.unbindEventListeners()},p.unbindEventListeners=function(){window.removeEventListener("mousemove",p.handleChange),window.removeEventListener("mouseup",p.handleMouseUp)},i),j0(p,m)}return RF(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var i=this,p=this.props.rgb,m=Ct({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+p.r+","+p.g+","+p.b+`, 0) 0%,
           rgba(`+p.r+","+p.g+","+p.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:p.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+p.r+","+p.g+","+p.b+`, 0) 0%,
           rgba(`+p.r+","+p.g+","+p.b+", 1) 100%)"},pointer:{left:0,top:p.a*100+"%"}},overwrite:MF({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return xe.createElement("div",{style:m.alpha},xe.createElement("div",{style:m.checkboard},xe.createElement(wa,{renderers:this.props.renderers})),xe.createElement("div",{style:m.gradient}),xe.createElement("div",{style:m.container,ref:function(r){return i.container=r},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},xe.createElement("div",{style:m.pointer},this.props.pointer?xe.createElement(this.props.pointer,this.props):xe.createElement("div",{style:m.slider}))))}}]),n}(Le.PureComponent||Le.Component),DF=function(){function t(n,o){for(var i=0;i<o.length;i++){var p=o[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}();function FF(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function NF(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function BF(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function UF(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var GF=1,iw=38,VF=40,zF=[iw,VF],$F=function(n){return zF.indexOf(n)>-1},WF=function(n){return Number(String(n).replace(/%/g,""))},HF=1,Nt=function(t){UF(n,t);function n(o){NF(this,n);var i=BF(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.handleBlur=function(){i.state.blurValue&&i.setState({value:i.state.blurValue,blurValue:null})},i.handleChange=function(p){i.setUpdatedValue(p.target.value,p)},i.handleKeyDown=function(p){var m=WF(p.target.value);if(!isNaN(m)&&$F(p.keyCode)){var w=i.getArrowOffset(),r=p.keyCode===iw?m+w:m-w;i.setUpdatedValue(r,p)}},i.handleDrag=function(p){if(i.props.dragLabel){var m=Math.round(i.props.value+p.movementX);m>=0&&m<=i.props.dragMax&&i.props.onChange&&i.props.onChange(i.getValueObjectWithLabel(m),p)}},i.handleMouseDown=function(p){i.props.dragLabel&&(p.preventDefault(),i.handleDrag(p),window.addEventListener("mousemove",i.handleDrag),window.addEventListener("mouseup",i.handleMouseUp))},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleDrag),window.removeEventListener("mouseup",i.handleMouseUp)},i.state={value:String(o.value).toUpperCase(),blurValue:String(o.value).toUpperCase()},i.inputId="rc-editable-input-"+HF++,i}return DF(n,[{key:"componentDidUpdate",value:function(i,p){this.props.value!==this.state.value&&(i.value!==this.props.value||p.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(i){return FF({},this.props.label,i)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||GF}},{key:"setUpdatedValue",value:function(i,p){var m=this.props.label?this.getValueObjectWithLabel(i):i;this.props.onChange&&this.props.onChange(m,p),this.setState({value:i})}},{key:"render",value:function(){var i=this,p=Ct({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return xe.createElement("div",{style:p.wrap},xe.createElement("input",{id:this.inputId,style:p.input,ref:function(w){return i.input=w},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?xe.createElement("label",{htmlFor:this.inputId,style:p.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),n}(Le.PureComponent||Le.Component),qF=function(n,o,i,p){var m=p.clientWidth,w=p.clientHeight,r=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,E=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,y=r-(p.getBoundingClientRect().left+window.pageXOffset),h=E-(p.getBoundingClientRect().top+window.pageYOffset);if(o==="vertical"){var a=void 0;if(h<0)a=359;else if(h>w)a=0;else{var c=-(h*100/w)+100;a=360*c/100}if(i.h!==a)return{h:a,s:i.s,l:i.l,a:i.a,source:"hsl"}}else{var x=void 0;if(y<0)x=0;else if(y>m)x=359;else{var S=y*100/m;x=360*S/100}if(i.h!==x)return{h:x,s:i.s,l:i.l,a:i.a,source:"hsl"}}return null},XF=function(){function t(n,o){for(var i=0;i<o.length;i++){var p=o[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}();function YF(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function S0(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function KF(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var ja=function(t){KF(n,t);function n(){var o,i,p,m;YF(this,n);for(var w=arguments.length,r=Array(w),E=0;E<w;E++)r[E]=arguments[E];return m=(i=(p=S0(this,(o=n.__proto__||Object.getPrototypeOf(n)).call.apply(o,[this].concat(r))),p),p.handleChange=function(y){var h=qF(y,p.props.direction,p.props.hsl,p.container);h&&typeof p.props.onChange=="function"&&p.props.onChange(h,y)},p.handleMouseDown=function(y){p.handleChange(y),window.addEventListener("mousemove",p.handleChange),window.addEventListener("mouseup",p.handleMouseUp)},p.handleMouseUp=function(){p.unbindEventListeners()},i),S0(p,m)}return XF(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,p=this.props.direction,m=p===void 0?"horizontal":p,w=Ct({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:m==="vertical"});return xe.createElement("div",{style:w.hue},xe.createElement("div",{className:"hue-"+m,style:w.container,ref:function(E){return i.container=E},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},xe.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),xe.createElement("div",{style:w.pointer},this.props.pointer?xe.createElement(this.props.pointer,this.props):xe.createElement("div",{style:w.slider}))))}}]),n}(Le.PureComponent||Le.Component),sw={exports:{}},ZF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QF=ZF,JF=QF;function aw(){}function lw(){}lw.resetWarningCache=aw;var eN=function(){function t(i,p,m,w,r,E){if(E!==JF){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}t.isRequired=t;function n(){return t}var o={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:lw,resetWarningCache:aw};return o.PropTypes=o,o};sw.exports=eN();var tN=sw.exports;const ct=Up(tN);function rN(){this.__data__=[],this.size=0}function lu(t,n){return t===n||t!==t&&n!==n}function ed(t,n){for(var o=t.length;o--;)if(lu(t[o][0],n))return o;return-1}var nN=Array.prototype,oN=nN.splice;function iN(t){var n=this.__data__,o=ed(n,t);if(o<0)return!1;var i=n.length-1;return o==i?n.pop():oN.call(n,o,1),--this.size,!0}function sN(t){var n=this.__data__,o=ed(n,t);return o<0?void 0:n[o][1]}function aN(t){return ed(this.__data__,t)>-1}function lN(t,n){var o=this.__data__,i=ed(o,t);return i<0?(++this.size,o.push([t,n])):o[i][1]=n,this}function Ro(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}Ro.prototype.clear=rN;Ro.prototype.delete=iN;Ro.prototype.get=sN;Ro.prototype.has=aN;Ro.prototype.set=lN;function uN(){this.__data__=new Ro,this.size=0}function cN(t){var n=this.__data__,o=n.delete(t);return this.size=n.size,o}function fN(t){return this.__data__.get(t)}function dN(t){return this.__data__.has(t)}var uw=typeof global=="object"&&global&&global.Object===Object&&global,hN=typeof self=="object"&&self&&self.Object===Object&&self,Jn=uw||hN||Function("return this")(),di=Jn.Symbol,cw=Object.prototype,pN=cw.hasOwnProperty,mN=cw.toString,$a=di?di.toStringTag:void 0;function yN(t){var n=pN.call(t,$a),o=t[$a];try{t[$a]=void 0;var i=!0}catch{}var p=mN.call(t);return i&&(n?t[$a]=o:delete t[$a]),p}var gN=Object.prototype,vN=gN.toString;function bN(t){return vN.call(t)}var _N="[object Null]",xN="[object Undefined]",T0=di?di.toStringTag:void 0;function ns(t){return t==null?t===void 0?xN:_N:T0&&T0 in Object(t)?yN(t):bN(t)}function Fn(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var wN="[object AsyncFunction]",jN="[object Function]",SN="[object GeneratorFunction]",TN="[object Proxy]";function gy(t){if(!Fn(t))return!1;var n=ns(t);return n==jN||n==SN||n==wN||n==TN}var yh=Jn["__core-js_shared__"],E0=function(){var t=/[^.]+$/.exec(yh&&yh.keys&&yh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function EN(t){return!!E0&&E0 in t}var kN=Function.prototype,CN=kN.toString;function os(t){if(t!=null){try{return CN.call(t)}catch{}try{return t+""}catch{}}return""}var PN=/[\\^$.*+?()[\]{}|]/g,ON=/^\[object .+?Constructor\]$/,AN=Function.prototype,MN=Object.prototype,RN=AN.toString,LN=MN.hasOwnProperty,IN=RegExp("^"+RN.call(LN).replace(PN,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DN(t){if(!Fn(t)||EN(t))return!1;var n=gy(t)?IN:ON;return n.test(os(t))}function FN(t,n){return t==null?void 0:t[n]}function is(t,n){var o=FN(t,n);return DN(o)?o:void 0}var $l=is(Jn,"Map"),Wl=is(Object,"create");function NN(){this.__data__=Wl?Wl(null):{},this.size=0}function BN(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var UN="__lodash_hash_undefined__",GN=Object.prototype,VN=GN.hasOwnProperty;function zN(t){var n=this.__data__;if(Wl){var o=n[t];return o===UN?void 0:o}return VN.call(n,t)?n[t]:void 0}var $N=Object.prototype,WN=$N.hasOwnProperty;function HN(t){var n=this.__data__;return Wl?n[t]!==void 0:WN.call(n,t)}var qN="__lodash_hash_undefined__";function XN(t,n){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Wl&&n===void 0?qN:n,this}function Ki(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}Ki.prototype.clear=NN;Ki.prototype.delete=BN;Ki.prototype.get=zN;Ki.prototype.has=HN;Ki.prototype.set=XN;function YN(){this.size=0,this.__data__={hash:new Ki,map:new($l||Ro),string:new Ki}}function KN(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function td(t,n){var o=t.__data__;return KN(n)?o[typeof n=="string"?"string":"hash"]:o.map}function ZN(t){var n=td(this,t).delete(t);return this.size-=n?1:0,n}function QN(t){return td(this,t).get(t)}function JN(t){return td(this,t).has(t)}function e8(t,n){var o=td(this,t),i=o.size;return o.set(t,n),this.size+=o.size==i?0:1,this}function Lo(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}Lo.prototype.clear=YN;Lo.prototype.delete=ZN;Lo.prototype.get=QN;Lo.prototype.has=JN;Lo.prototype.set=e8;var t8=200;function r8(t,n){var o=this.__data__;if(o instanceof Ro){var i=o.__data__;if(!$l||i.length<t8-1)return i.push([t,n]),this.size=++o.size,this;o=this.__data__=new Lo(i)}return o.set(t,n),this.size=o.size,this}function fo(t){var n=this.__data__=new Ro(t);this.size=n.size}fo.prototype.clear=uN;fo.prototype.delete=cN;fo.prototype.get=fN;fo.prototype.has=dN;fo.prototype.set=r8;var ff=function(){try{var t=is(Object,"defineProperty");return t({},"",{}),t}catch{}}();function vy(t,n,o){n=="__proto__"&&ff?ff(t,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[n]=o}function Rp(t,n,o){(o!==void 0&&!lu(t[n],o)||o===void 0&&!(n in t))&&vy(t,n,o)}function n8(t){return function(n,o,i){for(var p=-1,m=Object(n),w=i(n),r=w.length;r--;){var E=w[++p];if(o(m[E],E,m)===!1)break}return n}}var fw=n8(),dw=typeof _n=="object"&&_n&&!_n.nodeType&&_n,k0=dw&&typeof xn=="object"&&xn&&!xn.nodeType&&xn,o8=k0&&k0.exports===dw,C0=o8?Jn.Buffer:void 0;C0&&C0.allocUnsafe;function i8(t,n){return t.slice()}var df=Jn.Uint8Array;function s8(t){var n=new t.constructor(t.byteLength);return new df(n).set(new df(t)),n}function a8(t,n){var o=s8(t.buffer);return new t.constructor(o,t.byteOffset,t.length)}function l8(t,n){var o=-1,i=t.length;for(n||(n=Array(i));++o<i;)n[o]=t[o];return n}var P0=Object.create,u8=function(){function t(){}return function(n){if(!Fn(n))return{};if(P0)return P0(n);t.prototype=n;var o=new t;return t.prototype=void 0,o}}();function hw(t,n){return function(o){return t(n(o))}}var pw=hw(Object.getPrototypeOf,Object),c8=Object.prototype;function by(t){var n=t&&t.constructor,o=typeof n=="function"&&n.prototype||c8;return t===o}function f8(t){return typeof t.constructor=="function"&&!by(t)?u8(pw(t)):{}}function hi(t){return t!=null&&typeof t=="object"}var d8="[object Arguments]";function O0(t){return hi(t)&&ns(t)==d8}var mw=Object.prototype,h8=mw.hasOwnProperty,p8=mw.propertyIsEnumerable,hf=O0(function(){return arguments}())?O0:function(t){return hi(t)&&h8.call(t,"callee")&&!p8.call(t,"callee")},Sn=Array.isArray,m8=9007199254740991;function _y(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=m8}function Sa(t){return t!=null&&_y(t.length)&&!gy(t)}function y8(t){return hi(t)&&Sa(t)}function g8(){return!1}var yw=typeof _n=="object"&&_n&&!_n.nodeType&&_n,A0=yw&&typeof xn=="object"&&xn&&!xn.nodeType&&xn,v8=A0&&A0.exports===yw,M0=v8?Jn.Buffer:void 0,b8=M0?M0.isBuffer:void 0,pf=b8||g8,_8="[object Object]",x8=Function.prototype,w8=Object.prototype,gw=x8.toString,j8=w8.hasOwnProperty,S8=gw.call(Object);function T8(t){if(!hi(t)||ns(t)!=_8)return!1;var n=pw(t);if(n===null)return!0;var o=j8.call(n,"constructor")&&n.constructor;return typeof o=="function"&&o instanceof o&&gw.call(o)==S8}var E8="[object Arguments]",k8="[object Array]",C8="[object Boolean]",P8="[object Date]",O8="[object Error]",A8="[object Function]",M8="[object Map]",R8="[object Number]",L8="[object Object]",I8="[object RegExp]",D8="[object Set]",F8="[object String]",N8="[object WeakMap]",B8="[object ArrayBuffer]",U8="[object DataView]",G8="[object Float32Array]",V8="[object Float64Array]",z8="[object Int8Array]",$8="[object Int16Array]",W8="[object Int32Array]",H8="[object Uint8Array]",q8="[object Uint8ClampedArray]",X8="[object Uint16Array]",Y8="[object Uint32Array]",ar={};ar[G8]=ar[V8]=ar[z8]=ar[$8]=ar[W8]=ar[H8]=ar[q8]=ar[X8]=ar[Y8]=!0;ar[E8]=ar[k8]=ar[B8]=ar[C8]=ar[U8]=ar[P8]=ar[O8]=ar[A8]=ar[M8]=ar[R8]=ar[L8]=ar[I8]=ar[D8]=ar[F8]=ar[N8]=!1;function K8(t){return hi(t)&&_y(t.length)&&!!ar[ns(t)]}function Z8(t){return function(n){return t(n)}}var vw=typeof _n=="object"&&_n&&!_n.nodeType&&_n,ml=vw&&typeof xn=="object"&&xn&&!xn.nodeType&&xn,Q8=ml&&ml.exports===vw,gh=Q8&&uw.process,R0=function(){try{var t=ml&&ml.require&&ml.require("util").types;return t||gh&&gh.binding&&gh.binding("util")}catch{}}(),L0=R0&&R0.isTypedArray,xy=L0?Z8(L0):K8;function Lp(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}var J8=Object.prototype,eB=J8.hasOwnProperty;function tB(t,n,o){var i=t[n];(!(eB.call(t,n)&&lu(i,o))||o===void 0&&!(n in t))&&vy(t,n,o)}function rB(t,n,o,i){var p=!o;o||(o={});for(var m=-1,w=n.length;++m<w;){var r=n[m],E=void 0;E===void 0&&(E=t[r]),p?vy(o,r,E):tB(o,r,E)}return o}function nB(t,n){for(var o=-1,i=Array(t);++o<t;)i[o]=n(o);return i}var oB=9007199254740991,iB=/^(?:0|[1-9]\d*)$/;function wy(t,n){var o=typeof t;return n=n??oB,!!n&&(o=="number"||o!="symbol"&&iB.test(t))&&t>-1&&t%1==0&&t<n}var sB=Object.prototype,aB=sB.hasOwnProperty;function bw(t,n){var o=Sn(t),i=!o&&hf(t),p=!o&&!i&&pf(t),m=!o&&!i&&!p&&xy(t),w=o||i||p||m,r=w?nB(t.length,String):[],E=r.length;for(var y in t)(n||aB.call(t,y))&&!(w&&(y=="length"||p&&(y=="offset"||y=="parent")||m&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||wy(y,E)))&&r.push(y);return r}function lB(t){var n=[];if(t!=null)for(var o in Object(t))n.push(o);return n}var uB=Object.prototype,cB=uB.hasOwnProperty;function fB(t){if(!Fn(t))return lB(t);var n=by(t),o=[];for(var i in t)i=="constructor"&&(n||!cB.call(t,i))||o.push(i);return o}function _w(t){return Sa(t)?bw(t,!0):fB(t)}function dB(t){return rB(t,_w(t))}function hB(t,n,o,i,p,m,w){var r=Lp(t,o),E=Lp(n,o),y=w.get(E);if(y){Rp(t,o,y);return}var h=m?m(r,E,o+"",t,n,w):void 0,a=h===void 0;if(a){var c=Sn(E),x=!c&&pf(E),S=!c&&!x&&xy(E);h=E,c||x||S?Sn(r)?h=r:y8(r)?h=l8(r):x?(a=!1,h=i8(E)):S?(a=!1,h=a8(E)):h=[]:T8(E)||hf(E)?(h=r,hf(r)?h=dB(r):(!Fn(r)||gy(r))&&(h=f8(E))):a=!1}a&&(w.set(E,h),p(h,E,i,m,w),w.delete(E)),Rp(t,o,h)}function xw(t,n,o,i,p){t!==n&&fw(n,function(m,w){if(p||(p=new fo),Fn(m))hB(t,n,w,o,xw,i,p);else{var r=i?i(Lp(t,w),m,w+"",t,n,p):void 0;r===void 0&&(r=m),Rp(t,w,r)}},_w)}function rd(t){return t}function pB(t,n,o){switch(o.length){case 0:return t.call(n);case 1:return t.call(n,o[0]);case 2:return t.call(n,o[0],o[1]);case 3:return t.call(n,o[0],o[1],o[2])}return t.apply(n,o)}var I0=Math.max;function mB(t,n,o){return n=I0(n===void 0?t.length-1:n,0),function(){for(var i=arguments,p=-1,m=I0(i.length-n,0),w=Array(m);++p<m;)w[p]=i[n+p];p=-1;for(var r=Array(n+1);++p<n;)r[p]=i[p];return r[n]=o(w),pB(t,this,r)}}function yB(t){return function(){return t}}var gB=ff?function(t,n){return ff(t,"toString",{configurable:!0,enumerable:!1,value:yB(n),writable:!0})}:rd,vB=800,bB=16,_B=Date.now;function xB(t){var n=0,o=0;return function(){var i=_B(),p=bB-(i-o);if(o=i,p>0){if(++n>=vB)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}var wB=xB(gB);function jB(t,n){return wB(mB(t,n,rd),t+"")}function SB(t,n,o){if(!Fn(o))return!1;var i=typeof n;return(i=="number"?Sa(o)&&wy(n,o.length):i=="string"&&n in o)?lu(o[n],t):!1}function TB(t){return jB(function(n,o){var i=-1,p=o.length,m=p>1?o[p-1]:void 0,w=p>2?o[2]:void 0;for(m=t.length>3&&typeof m=="function"?(p--,m):void 0,w&&SB(o[0],o[1],w)&&(m=p<3?void 0:m,p=1),n=Object(n);++i<p;){var r=o[i];r&&t(n,r,i,m)}return n})}var fn=TB(function(t,n,o){xw(t,n,o)}),uu=function(n){var o=n.zDepth,i=n.radius,p=n.background,m=n.children,w=n.styles,r=w===void 0?{}:w,E=Ct(fn({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+o+"px "+o*4+"px rgba(0,0,0,.24)",borderRadius:i,background:p}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},r),{"zDepth-1":o===1});return xe.createElement("div",{style:E.wrap},xe.createElement("div",{style:E.bg}),xe.createElement("div",{style:E.content},m))};uu.propTypes={background:ct.string,zDepth:ct.oneOf([0,1,2,3,4,5]),radius:ct.number,styles:ct.object};uu.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var vh=function(){return Jn.Date.now()},EB=/\s/;function kB(t){for(var n=t.length;n--&&EB.test(t.charAt(n)););return n}var CB=/^\s+/;function PB(t){return t&&t.slice(0,kB(t)+1).replace(CB,"")}var OB="[object Symbol]";function nd(t){return typeof t=="symbol"||hi(t)&&ns(t)==OB}var D0=NaN,AB=/^[-+]0x[0-9a-f]+$/i,MB=/^0b[01]+$/i,RB=/^0o[0-7]+$/i,LB=parseInt;function F0(t){if(typeof t=="number")return t;if(nd(t))return D0;if(Fn(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=Fn(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=PB(t);var o=MB.test(t);return o||RB.test(t)?LB(t.slice(2),o?2:8):AB.test(t)?D0:+t}var IB="Expected a function",DB=Math.max,FB=Math.min;function ww(t,n,o){var i,p,m,w,r,E,y=0,h=!1,a=!1,c=!0;if(typeof t!="function")throw new TypeError(IB);n=F0(n)||0,Fn(o)&&(h=!!o.leading,a="maxWait"in o,m=a?DB(F0(o.maxWait)||0,n):m,c="trailing"in o?!!o.trailing:c);function x(v){var j=i,T=p;return i=p=void 0,y=v,w=t.apply(T,j),w}function S(v){return y=v,r=setTimeout(u,n),h?x(v):w}function l(v){var j=v-E,T=v-y,C=n-j;return a?FB(C,m-T):C}function f(v){var j=v-E,T=v-y;return E===void 0||j>=n||j<0||a&&T>=m}function u(){var v=vh();if(f(v))return s(v);r=setTimeout(u,l(v))}function s(v){return r=void 0,c&&i?x(v):(i=p=void 0,w)}function d(){r!==void 0&&clearTimeout(r),y=0,i=E=p=r=void 0}function g(){return r===void 0?w:s(vh())}function _(){var v=vh(),j=f(v);if(i=arguments,p=this,E=v,j){if(r===void 0)return S(E);if(a)return clearTimeout(r),r=setTimeout(u,n),x(E)}return r===void 0&&(r=setTimeout(u,n)),w}return _.cancel=d,_.flush=g,_}var NB="Expected a function";function BB(t,n,o){var i=!0,p=!0;if(typeof t!="function")throw new TypeError(NB);return Fn(o)&&(i="leading"in o?!!o.leading:i,p="trailing"in o?!!o.trailing:p),ww(t,n,{leading:i,maxWait:n,trailing:p})}var UB=function(n,o,i){var p=i.getBoundingClientRect(),m=p.width,w=p.height,r=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,E=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,y=r-(i.getBoundingClientRect().left+window.pageXOffset),h=E-(i.getBoundingClientRect().top+window.pageYOffset);y<0?y=0:y>m&&(y=m),h<0?h=0:h>w&&(h=w);var a=y/m,c=1-h/w;return{h:o.h,s:a,v:c,a:o.a,source:"hsv"}},GB=function(){function t(n,o){for(var i=0;i<o.length;i++){var p=o[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}();function VB(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function zB(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function $B(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var od=function(t){$B(n,t);function n(o){VB(this,n);var i=zB(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o));return i.handleChange=function(p){typeof i.props.onChange=="function"&&i.throttle(i.props.onChange,UB(p,i.props.hsl,i.container),p)},i.handleMouseDown=function(p){i.handleChange(p);var m=i.getContainerRenderWindow();m.addEventListener("mousemove",i.handleChange),m.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.throttle=BB(function(p,m,w){p(m,w)},50),i}return GB(n,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var i=this.container,p=window;!p.document.contains(i)&&p.parent!==p;)p=p.parent;return p}},{key:"unbindEventListeners",value:function(){var i=this.getContainerRenderWindow();i.removeEventListener("mousemove",this.handleChange),i.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,p=this.props.style||{},m=p.color,w=p.white,r=p.black,E=p.pointer,y=p.circle,h=Ct({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:m,white:w,black:r,pointer:E,circle:y}},{custom:!!this.props.style});return xe.createElement("div",{style:h.color,ref:function(c){return i.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},xe.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),xe.createElement("div",{style:h.white,className:"saturation-white"},xe.createElement("div",{style:h.black,className:"saturation-black"}),xe.createElement("div",{style:h.pointer},this.props.pointer?xe.createElement(this.props.pointer,this.props):xe.createElement("div",{style:h.circle}))))}}]),n}(Le.PureComponent||Le.Component);function WB(t,n){for(var o=-1,i=t==null?0:t.length;++o<i&&n(t[o],o,t)!==!1;);return t}var HB=hw(Object.keys,Object),qB=Object.prototype,XB=qB.hasOwnProperty;function YB(t){if(!by(t))return HB(t);var n=[];for(var o in Object(t))XB.call(t,o)&&o!="constructor"&&n.push(o);return n}function jy(t){return Sa(t)?bw(t):YB(t)}function KB(t,n){return t&&fw(t,n,jy)}function ZB(t,n){return function(o,i){if(o==null)return o;if(!Sa(o))return t(o,i);for(var p=o.length,m=-1,w=Object(o);++m<p&&i(w[m],m,w)!==!1;);return o}}var jw=ZB(KB);function QB(t){return typeof t=="function"?t:rd}function JB(t,n){var o=Sn(t)?WB:jw;return o(t,QB(n))}function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mf(t)}var eU=/^\s+/,tU=/\s+$/;function jt(t,n){if(t=t||"",n=n||{},t instanceof jt)return t;if(!(this instanceof jt))return new jt(t,n);var o=rU(t);this._originalInput=t,this._r=o.r,this._g=o.g,this._b=o.b,this._a=o.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||o.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=o.ok}jt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),o,i,p,m,w,r;return o=n.r/255,i=n.g/255,p=n.b/255,o<=.03928?m=o/12.92:m=Math.pow((o+.055)/1.055,2.4),i<=.03928?w=i/12.92:w=Math.pow((i+.055)/1.055,2.4),p<=.03928?r=p/12.92:r=Math.pow((p+.055)/1.055,2.4),.2126*m+.7152*w+.0722*r},setAlpha:function(n){return this._a=Sw(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=B0(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=B0(this._r,this._g,this._b),o=Math.round(n.h*360),i=Math.round(n.s*100),p=Math.round(n.v*100);return this._a==1?"hsv("+o+", "+i+"%, "+p+"%)":"hsva("+o+", "+i+"%, "+p+"%, "+this._roundA+")"},toHsl:function(){var n=N0(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=N0(this._r,this._g,this._b),o=Math.round(n.h*360),i=Math.round(n.s*100),p=Math.round(n.l*100);return this._a==1?"hsl("+o+", "+i+"%, "+p+"%)":"hsla("+o+", "+i+"%, "+p+"%, "+this._roundA+")"},toHex:function(n){return U0(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return sU(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(hr(this._r,255)*100)+"%",g:Math.round(hr(this._g,255)*100)+"%",b:Math.round(hr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(hr(this._r,255)*100)+"%, "+Math.round(hr(this._g,255)*100)+"%, "+Math.round(hr(this._b,255)*100)+"%)":"rgba("+Math.round(hr(this._r,255)*100)+"%, "+Math.round(hr(this._g,255)*100)+"%, "+Math.round(hr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:vU[U0(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var o="#"+G0(this._r,this._g,this._b,this._a),i=o,p=this._gradientType?"GradientType = 1, ":"";if(n){var m=jt(n);i="#"+G0(m._r,m._g,m._b,m._a)}return"progid:DXImageTransform.Microsoft.gradient("+p+"startColorstr="+o+",endColorstr="+i+")"},toString:function(n){var o=!!n;n=n||this._format;var i=!1,p=this._a<1&&this._a>=0,m=!o&&p&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return m?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(i=this.toRgbString()),n==="prgb"&&(i=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(i=this.toHexString()),n==="hex3"&&(i=this.toHexString(!0)),n==="hex4"&&(i=this.toHex8String(!0)),n==="hex8"&&(i=this.toHex8String()),n==="name"&&(i=this.toName()),n==="hsl"&&(i=this.toHslString()),n==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return jt(this.toString())},_applyModification:function(n,o){var i=n.apply(null,[this].concat([].slice.call(o)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(cU,arguments)},brighten:function(){return this._applyModification(fU,arguments)},darken:function(){return this._applyModification(dU,arguments)},desaturate:function(){return this._applyModification(aU,arguments)},saturate:function(){return this._applyModification(lU,arguments)},greyscale:function(){return this._applyModification(uU,arguments)},spin:function(){return this._applyModification(hU,arguments)},_applyCombination:function(n,o){return n.apply(null,[this].concat([].slice.call(o)))},analogous:function(){return this._applyCombination(yU,arguments)},complement:function(){return this._applyCombination(pU,arguments)},monochromatic:function(){return this._applyCombination(gU,arguments)},splitcomplement:function(){return this._applyCombination(mU,arguments)},triad:function(){return this._applyCombination(V0,[3])},tetrad:function(){return this._applyCombination(V0,[4])}};jt.fromRatio=function(t,n){if(mf(t)=="object"){var o={};for(var i in t)t.hasOwnProperty(i)&&(i==="a"?o[i]=t[i]:o[i]=Ja(t[i]));t=o}return jt(t,n)};function rU(t){var n={r:0,g:0,b:0},o=1,i=null,p=null,m=null,w=!1,r=!1;return typeof t=="string"&&(t=wU(t)),mf(t)=="object"&&(_o(t.r)&&_o(t.g)&&_o(t.b)?(n=nU(t.r,t.g,t.b),w=!0,r=String(t.r).substr(-1)==="%"?"prgb":"rgb"):_o(t.h)&&_o(t.s)&&_o(t.v)?(i=Ja(t.s),p=Ja(t.v),n=iU(t.h,i,p),w=!0,r="hsv"):_o(t.h)&&_o(t.s)&&_o(t.l)&&(i=Ja(t.s),m=Ja(t.l),n=oU(t.h,i,m),w=!0,r="hsl"),t.hasOwnProperty("a")&&(o=t.a)),o=Sw(o),{ok:w,format:t.format||r,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:o}}function nU(t,n,o){return{r:hr(t,255)*255,g:hr(n,255)*255,b:hr(o,255)*255}}function N0(t,n,o){t=hr(t,255),n=hr(n,255),o=hr(o,255);var i=Math.max(t,n,o),p=Math.min(t,n,o),m,w,r=(i+p)/2;if(i==p)m=w=0;else{var E=i-p;switch(w=r>.5?E/(2-i-p):E/(i+p),i){case t:m=(n-o)/E+(n<o?6:0);break;case n:m=(o-t)/E+2;break;case o:m=(t-n)/E+4;break}m/=6}return{h:m,s:w,l:r}}function oU(t,n,o){var i,p,m;t=hr(t,360),n=hr(n,100),o=hr(o,100);function w(y,h,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?y+(h-y)*6*a:a<1/2?h:a<2/3?y+(h-y)*(2/3-a)*6:y}if(n===0)i=p=m=o;else{var r=o<.5?o*(1+n):o+n-o*n,E=2*o-r;i=w(E,r,t+1/3),p=w(E,r,t),m=w(E,r,t-1/3)}return{r:i*255,g:p*255,b:m*255}}function B0(t,n,o){t=hr(t,255),n=hr(n,255),o=hr(o,255);var i=Math.max(t,n,o),p=Math.min(t,n,o),m,w,r=i,E=i-p;if(w=i===0?0:E/i,i==p)m=0;else{switch(i){case t:m=(n-o)/E+(n<o?6:0);break;case n:m=(o-t)/E+2;break;case o:m=(t-n)/E+4;break}m/=6}return{h:m,s:w,v:r}}function iU(t,n,o){t=hr(t,360)*6,n=hr(n,100),o=hr(o,100);var i=Math.floor(t),p=t-i,m=o*(1-n),w=o*(1-p*n),r=o*(1-(1-p)*n),E=i%6,y=[o,w,m,m,r,o][E],h=[r,o,o,w,m,m][E],a=[m,m,r,o,o,w][E];return{r:y*255,g:h*255,b:a*255}}function U0(t,n,o,i){var p=[qn(Math.round(t).toString(16)),qn(Math.round(n).toString(16)),qn(Math.round(o).toString(16))];return i&&p[0].charAt(0)==p[0].charAt(1)&&p[1].charAt(0)==p[1].charAt(1)&&p[2].charAt(0)==p[2].charAt(1)?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0):p.join("")}function sU(t,n,o,i,p){var m=[qn(Math.round(t).toString(16)),qn(Math.round(n).toString(16)),qn(Math.round(o).toString(16)),qn(Tw(i))];return p&&m[0].charAt(0)==m[0].charAt(1)&&m[1].charAt(0)==m[1].charAt(1)&&m[2].charAt(0)==m[2].charAt(1)&&m[3].charAt(0)==m[3].charAt(1)?m[0].charAt(0)+m[1].charAt(0)+m[2].charAt(0)+m[3].charAt(0):m.join("")}function G0(t,n,o,i){var p=[qn(Tw(i)),qn(Math.round(t).toString(16)),qn(Math.round(n).toString(16)),qn(Math.round(o).toString(16))];return p.join("")}jt.equals=function(t,n){return!t||!n?!1:jt(t).toRgbString()==jt(n).toRgbString()};jt.random=function(){return jt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function aU(t,n){n=n===0?0:n||10;var o=jt(t).toHsl();return o.s-=n/100,o.s=id(o.s),jt(o)}function lU(t,n){n=n===0?0:n||10;var o=jt(t).toHsl();return o.s+=n/100,o.s=id(o.s),jt(o)}function uU(t){return jt(t).desaturate(100)}function cU(t,n){n=n===0?0:n||10;var o=jt(t).toHsl();return o.l+=n/100,o.l=id(o.l),jt(o)}function fU(t,n){n=n===0?0:n||10;var o=jt(t).toRgb();return o.r=Math.max(0,Math.min(255,o.r-Math.round(255*-(n/100)))),o.g=Math.max(0,Math.min(255,o.g-Math.round(255*-(n/100)))),o.b=Math.max(0,Math.min(255,o.b-Math.round(255*-(n/100)))),jt(o)}function dU(t,n){n=n===0?0:n||10;var o=jt(t).toHsl();return o.l-=n/100,o.l=id(o.l),jt(o)}function hU(t,n){var o=jt(t).toHsl(),i=(o.h+n)%360;return o.h=i<0?360+i:i,jt(o)}function pU(t){var n=jt(t).toHsl();return n.h=(n.h+180)%360,jt(n)}function V0(t,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var o=jt(t).toHsl(),i=[jt(t)],p=360/n,m=1;m<n;m++)i.push(jt({h:(o.h+m*p)%360,s:o.s,l:o.l}));return i}function mU(t){var n=jt(t).toHsl(),o=n.h;return[jt(t),jt({h:(o+72)%360,s:n.s,l:n.l}),jt({h:(o+216)%360,s:n.s,l:n.l})]}function yU(t,n,o){n=n||6,o=o||30;var i=jt(t).toHsl(),p=360/o,m=[jt(t)];for(i.h=(i.h-(p*n>>1)+720)%360;--n;)i.h=(i.h+p)%360,m.push(jt(i));return m}function gU(t,n){n=n||6;for(var o=jt(t).toHsv(),i=o.h,p=o.s,m=o.v,w=[],r=1/n;n--;)w.push(jt({h:i,s:p,v:m})),m=(m+r)%1;return w}jt.mix=function(t,n,o){o=o===0?0:o||50;var i=jt(t).toRgb(),p=jt(n).toRgb(),m=o/100,w={r:(p.r-i.r)*m+i.r,g:(p.g-i.g)*m+i.g,b:(p.b-i.b)*m+i.b,a:(p.a-i.a)*m+i.a};return jt(w)};jt.readability=function(t,n){var o=jt(t),i=jt(n);return(Math.max(o.getLuminance(),i.getLuminance())+.05)/(Math.min(o.getLuminance(),i.getLuminance())+.05)};jt.isReadable=function(t,n,o){var i=jt.readability(t,n),p,m;switch(m=!1,p=jU(o),p.level+p.size){case"AAsmall":case"AAAlarge":m=i>=4.5;break;case"AAlarge":m=i>=3;break;case"AAAsmall":m=i>=7;break}return m};jt.mostReadable=function(t,n,o){var i=null,p=0,m,w,r,E;o=o||{},w=o.includeFallbackColors,r=o.level,E=o.size;for(var y=0;y<n.length;y++)m=jt.readability(t,n[y]),m>p&&(p=m,i=jt(n[y]));return jt.isReadable(t,i,{level:r,size:E})||!w?i:(o.includeFallbackColors=!1,jt.mostReadable(t,["#fff","#000"],o))};var Ip=jt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},vU=jt.hexNames=bU(Ip);function bU(t){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[t[o]]=o);return n}function Sw(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function hr(t,n){_U(t)&&(t="100%");var o=xU(t);return t=Math.min(n,Math.max(0,parseFloat(t))),o&&(t=parseInt(t*n,10)/100),Math.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function id(t){return Math.min(1,Math.max(0,t))}function yn(t){return parseInt(t,16)}function _U(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function xU(t){return typeof t=="string"&&t.indexOf("%")!=-1}function qn(t){return t.length==1?"0"+t:""+t}function Ja(t){return t<=1&&(t=t*100+"%"),t}function Tw(t){return Math.round(parseFloat(t)*255).toString(16)}function z0(t){return yn(t)/255}var Gn=function(){var t="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",o="(?:"+n+")|(?:"+t+")",i="[\\s|\\(]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")\\s*\\)?",p="[\\s|\\(]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")\\s*\\)?";return{CSS_UNIT:new RegExp(o),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+p),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+p),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+p),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function _o(t){return!!Gn.CSS_UNIT.exec(t)}function wU(t){t=t.replace(eU,"").replace(tU,"").toLowerCase();var n=!1;if(Ip[t])t=Ip[t],n=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var o;return(o=Gn.rgb.exec(t))?{r:o[1],g:o[2],b:o[3]}:(o=Gn.rgba.exec(t))?{r:o[1],g:o[2],b:o[3],a:o[4]}:(o=Gn.hsl.exec(t))?{h:o[1],s:o[2],l:o[3]}:(o=Gn.hsla.exec(t))?{h:o[1],s:o[2],l:o[3],a:o[4]}:(o=Gn.hsv.exec(t))?{h:o[1],s:o[2],v:o[3]}:(o=Gn.hsva.exec(t))?{h:o[1],s:o[2],v:o[3],a:o[4]}:(o=Gn.hex8.exec(t))?{r:yn(o[1]),g:yn(o[2]),b:yn(o[3]),a:z0(o[4]),format:n?"name":"hex8"}:(o=Gn.hex6.exec(t))?{r:yn(o[1]),g:yn(o[2]),b:yn(o[3]),format:n?"name":"hex"}:(o=Gn.hex4.exec(t))?{r:yn(o[1]+""+o[1]),g:yn(o[2]+""+o[2]),b:yn(o[3]+""+o[3]),a:z0(o[4]+""+o[4]),format:n?"name":"hex8"}:(o=Gn.hex3.exec(t))?{r:yn(o[1]+""+o[1]),g:yn(o[2]+""+o[2]),b:yn(o[3]+""+o[3]),format:n?"name":"hex"}:!1}function jU(t){var n,o;return t=t||{level:"AA",size:"small"},n=(t.level||"AA").toUpperCase(),o=(t.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),o!=="small"&&o!=="large"&&(o="small"),{level:n,size:o}}var $0=function(n){var o=["r","g","b","a","h","s","l","v"],i=0,p=0;return JB(o,function(m){if(n[m]&&(i+=1,isNaN(n[m])||(p+=1),m==="s"||m==="l")){var w=/^\d+%$/;w.test(n[m])&&(p+=1)}}),i===p?n:!1},el=function(n,o){var i=n.hex?jt(n.hex):jt(n),p=i.toHsl(),m=i.toHsv(),w=i.toRgb(),r=i.toHex();p.s===0&&(p.h=o||0,m.h=o||0);var E=r==="000000"&&w.a===0;return{hsl:p,hex:E?"transparent":"#"+r,rgb:w,hsv:m,oldHue:n.h||o||p.h,source:n.source}},vi=function(n){if(n==="transparent")return!0;var o=String(n).charAt(0)==="#"?1:0;return n.length!==4+o&&n.length<7+o&&jt(n).isValid()},Sy=function(n){if(!n)return"#fff";var o=el(n);if(o.hex==="transparent")return"rgba(0,0,0,0.4)";var i=(o.rgb.r*299+o.rgb.g*587+o.rgb.b*114)/1e3;return i>=128?"#000":"#fff"},bh=function(n,o){var i=n.replace("","");return jt(o+" ("+i+")")._ok},Wa=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},SU=function(){function t(n,o){for(var i=0;i<o.length;i++){var p=o[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}();function TU(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function EU(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function kU(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var dn=function(n){var o=function(i){kU(p,i);function p(m){TU(this,p);var w=EU(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return w.handleChange=function(r,E){var y=$0(r);if(y){var h=el(r,r.h||w.state.oldHue);w.setState(h),w.props.onChangeComplete&&w.debounce(w.props.onChangeComplete,h,E),w.props.onChange&&w.props.onChange(h,E)}},w.handleSwatchHover=function(r,E){var y=$0(r);if(y){var h=el(r,r.h||w.state.oldHue);w.props.onSwatchHover&&w.props.onSwatchHover(h,E)}},w.state=Wa({},el(m.color,0)),w.debounce=ww(function(r,E,y){r(E,y)},100),w}return SU(p,[{key:"render",value:function(){var w={};return this.props.onSwatchHover&&(w.onSwatchHover=this.handleSwatchHover),xe.createElement(n,Wa({},this.props,this.state,{onChange:this.handleChange},w))}}],[{key:"getDerivedStateFromProps",value:function(w,r){return Wa({},el(w.color,r.oldHue))}}]),p}(Le.PureComponent||Le.Component);return o.propTypes=Wa({},n.propTypes),o.defaultProps=Wa({},n.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),o},CU=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},PU=function(){function t(n,o){for(var i=0;i<o.length;i++){var p=o[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}();function OU(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function W0(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function AU(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var MU=function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(i){AU(p,i);function p(){var m,w,r,E;OU(this,p);for(var y=arguments.length,h=Array(y),a=0;a<y;a++)h[a]=arguments[a];return E=(w=(r=W0(this,(m=p.__proto__||Object.getPrototypeOf(p)).call.apply(m,[this].concat(h))),r),r.state={focus:!1},r.handleFocus=function(){return r.setState({focus:!0})},r.handleBlur=function(){return r.setState({focus:!1})},w),W0(r,E)}return PU(p,[{key:"render",value:function(){return xe.createElement(o,{onFocus:this.handleFocus,onBlur:this.handleBlur},xe.createElement(n,CU({},this.props,this.state)))}}]),p}(xe.Component)},H0=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},RU=13,LU=function(n){var o=n.color,i=n.style,p=n.onClick,m=p===void 0?function(){}:p,w=n.onHover,r=n.title,E=r===void 0?o:r,y=n.children,h=n.focus,a=n.focusStyle,c=a===void 0?{}:a,x=o==="transparent",S=Ct({default:{swatch:H0({background:o,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},i,h?c:{})}}),l=function(g){return m(o,g)},f=function(g){return g.keyCode===RU&&m(o,g)},u=function(g){return w(o,g)},s={};return w&&(s.onMouseOver=u),xe.createElement("div",H0({style:S.swatch,onClick:l,title:E,tabIndex:0,onKeyDown:f},s),y,x&&xe.createElement(wa,{borderRadius:S.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const ss=MU(LU);var IU=function(n){var o=n.direction,i=Ct({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:o==="vertical"});return xe.createElement("div",{style:i.picker})},DU=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},Ew=function(n){var o=n.rgb,i=n.hsl,p=n.width,m=n.height,w=n.onChange,r=n.direction,E=n.style,y=n.renderers,h=n.pointer,a=n.className,c=a===void 0?"":a,x=Ct({default:{picker:{position:"relative",width:p,height:m},alpha:{radius:"2px",style:E}}});return xe.createElement("div",{style:x.picker,className:"alpha-picker "+c},xe.createElement(yy,DU({},x.alpha,{rgb:o,hsl:i,pointer:h,renderers:y,onChange:w,direction:r})))};Ew.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:IU};dn(Ew);function kw(t,n){for(var o=-1,i=t==null?0:t.length,p=Array(i);++o<i;)p[o]=n(t[o],o,t);return p}var FU="__lodash_hash_undefined__";function NU(t){return this.__data__.set(t,FU),this}function BU(t){return this.__data__.has(t)}function yf(t){var n=-1,o=t==null?0:t.length;for(this.__data__=new Lo;++n<o;)this.add(t[n])}yf.prototype.add=yf.prototype.push=NU;yf.prototype.has=BU;function UU(t,n){for(var o=-1,i=t==null?0:t.length;++o<i;)if(n(t[o],o,t))return!0;return!1}function GU(t,n){return t.has(n)}var VU=1,zU=2;function Cw(t,n,o,i,p,m){var w=o&VU,r=t.length,E=n.length;if(r!=E&&!(w&&E>r))return!1;var y=m.get(t),h=m.get(n);if(y&&h)return y==n&&h==t;var a=-1,c=!0,x=o&zU?new yf:void 0;for(m.set(t,n),m.set(n,t);++a<r;){var S=t[a],l=n[a];if(i)var f=w?i(l,S,a,n,t,m):i(S,l,a,t,n,m);if(f!==void 0){if(f)continue;c=!1;break}if(x){if(!UU(n,function(u,s){if(!GU(x,s)&&(S===u||p(S,u,o,i,m)))return x.push(s)})){c=!1;break}}else if(!(S===l||p(S,l,o,i,m))){c=!1;break}}return m.delete(t),m.delete(n),c}function $U(t){var n=-1,o=Array(t.size);return t.forEach(function(i,p){o[++n]=[p,i]}),o}function WU(t){var n=-1,o=Array(t.size);return t.forEach(function(i){o[++n]=i}),o}var HU=1,qU=2,XU="[object Boolean]",YU="[object Date]",KU="[object Error]",ZU="[object Map]",QU="[object Number]",JU="[object RegExp]",e7="[object Set]",t7="[object String]",r7="[object Symbol]",n7="[object ArrayBuffer]",o7="[object DataView]",q0=di?di.prototype:void 0,_h=q0?q0.valueOf:void 0;function i7(t,n,o,i,p,m,w){switch(o){case o7:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case n7:return!(t.byteLength!=n.byteLength||!m(new df(t),new df(n)));case XU:case YU:case QU:return lu(+t,+n);case KU:return t.name==n.name&&t.message==n.message;case JU:case t7:return t==n+"";case ZU:var r=$U;case e7:var E=i&HU;if(r||(r=WU),t.size!=n.size&&!E)return!1;var y=w.get(t);if(y)return y==n;i|=qU,w.set(t,n);var h=Cw(r(t),r(n),i,p,m,w);return w.delete(t),h;case r7:if(_h)return _h.call(t)==_h.call(n)}return!1}function s7(t,n){for(var o=-1,i=n.length,p=t.length;++o<i;)t[p+o]=n[o];return t}function a7(t,n,o){var i=n(t);return Sn(t)?i:s7(i,o(t))}function l7(t,n){for(var o=-1,i=t==null?0:t.length,p=0,m=[];++o<i;){var w=t[o];n(w,o,t)&&(m[p++]=w)}return m}function u7(){return[]}var c7=Object.prototype,f7=c7.propertyIsEnumerable,X0=Object.getOwnPropertySymbols,d7=X0?function(t){return t==null?[]:(t=Object(t),l7(X0(t),function(n){return f7.call(t,n)}))}:u7;function Y0(t){return a7(t,jy,d7)}var h7=1,p7=Object.prototype,m7=p7.hasOwnProperty;function y7(t,n,o,i,p,m){var w=o&h7,r=Y0(t),E=r.length,y=Y0(n),h=y.length;if(E!=h&&!w)return!1;for(var a=E;a--;){var c=r[a];if(!(w?c in n:m7.call(n,c)))return!1}var x=m.get(t),S=m.get(n);if(x&&S)return x==n&&S==t;var l=!0;m.set(t,n),m.set(n,t);for(var f=w;++a<E;){c=r[a];var u=t[c],s=n[c];if(i)var d=w?i(s,u,c,n,t,m):i(u,s,c,t,n,m);if(!(d===void 0?u===s||p(u,s,o,i,m):d)){l=!1;break}f||(f=c=="constructor")}if(l&&!f){var g=t.constructor,_=n.constructor;g!=_&&"constructor"in t&&"constructor"in n&&!(typeof g=="function"&&g instanceof g&&typeof _=="function"&&_ instanceof _)&&(l=!1)}return m.delete(t),m.delete(n),l}var Dp=is(Jn,"DataView"),Fp=is(Jn,"Promise"),Np=is(Jn,"Set"),Bp=is(Jn,"WeakMap"),K0="[object Map]",g7="[object Object]",Z0="[object Promise]",Q0="[object Set]",J0="[object WeakMap]",e1="[object DataView]",v7=os(Dp),b7=os($l),_7=os(Fp),x7=os(Np),w7=os(Bp),Wo=ns;(Dp&&Wo(new Dp(new ArrayBuffer(1)))!=e1||$l&&Wo(new $l)!=K0||Fp&&Wo(Fp.resolve())!=Z0||Np&&Wo(new Np)!=Q0||Bp&&Wo(new Bp)!=J0)&&(Wo=function(t){var n=ns(t),o=n==g7?t.constructor:void 0,i=o?os(o):"";if(i)switch(i){case v7:return e1;case b7:return K0;case _7:return Z0;case x7:return Q0;case w7:return J0}return n});var j7=1,t1="[object Arguments]",r1="[object Array]",cc="[object Object]",S7=Object.prototype,n1=S7.hasOwnProperty;function T7(t,n,o,i,p,m){var w=Sn(t),r=Sn(n),E=w?r1:Wo(t),y=r?r1:Wo(n);E=E==t1?cc:E,y=y==t1?cc:y;var h=E==cc,a=y==cc,c=E==y;if(c&&pf(t)){if(!pf(n))return!1;w=!0,h=!1}if(c&&!h)return m||(m=new fo),w||xy(t)?Cw(t,n,o,i,p,m):i7(t,n,E,o,i,p,m);if(!(o&j7)){var x=h&&n1.call(t,"__wrapped__"),S=a&&n1.call(n,"__wrapped__");if(x||S){var l=x?t.value():t,f=S?n.value():n;return m||(m=new fo),p(l,f,o,i,m)}}return c?(m||(m=new fo),y7(t,n,o,i,p,m)):!1}function Ty(t,n,o,i,p){return t===n?!0:t==null||n==null||!hi(t)&&!hi(n)?t!==t&&n!==n:T7(t,n,o,i,Ty,p)}var E7=1,k7=2;function C7(t,n,o,i){var p=o.length,m=p;if(t==null)return!m;for(t=Object(t);p--;){var w=o[p];if(w[2]?w[1]!==t[w[0]]:!(w[0]in t))return!1}for(;++p<m;){w=o[p];var r=w[0],E=t[r],y=w[1];if(w[2]){if(E===void 0&&!(r in t))return!1}else{var h=new fo,a;if(!(a===void 0?Ty(y,E,E7|k7,i,h):a))return!1}}return!0}function Pw(t){return t===t&&!Fn(t)}function P7(t){for(var n=jy(t),o=n.length;o--;){var i=n[o],p=t[i];n[o]=[i,p,Pw(p)]}return n}function Ow(t,n){return function(o){return o==null?!1:o[t]===n&&(n!==void 0||t in Object(o))}}function O7(t){var n=P7(t);return n.length==1&&n[0][2]?Ow(n[0][0],n[0][1]):function(o){return o===t||C7(o,t,n)}}var A7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M7=/^\w*$/;function Ey(t,n){if(Sn(t))return!1;var o=typeof t;return o=="number"||o=="symbol"||o=="boolean"||t==null||nd(t)?!0:M7.test(t)||!A7.test(t)||n!=null&&t in Object(n)}var R7="Expected a function";function ky(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(R7);var o=function(){var i=arguments,p=n?n.apply(this,i):i[0],m=o.cache;if(m.has(p))return m.get(p);var w=t.apply(this,i);return o.cache=m.set(p,w)||m,w};return o.cache=new(ky.Cache||Lo),o}ky.Cache=Lo;var L7=500;function I7(t){var n=ky(t,function(i){return o.size===L7&&o.clear(),i}),o=n.cache;return n}var D7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,F7=/\\(\\)?/g,N7=I7(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(D7,function(o,i,p,m){n.push(p?m.replace(F7,"$1"):i||o)}),n}),B7=1/0,o1=di?di.prototype:void 0,i1=o1?o1.toString:void 0;function Aw(t){if(typeof t=="string")return t;if(Sn(t))return kw(t,Aw)+"";if(nd(t))return i1?i1.call(t):"";var n=t+"";return n=="0"&&1/t==-B7?"-0":n}function U7(t){return t==null?"":Aw(t)}function Mw(t,n){return Sn(t)?t:Ey(t,n)?[t]:N7(U7(t))}var G7=1/0;function sd(t){if(typeof t=="string"||nd(t))return t;var n=t+"";return n=="0"&&1/t==-G7?"-0":n}function Rw(t,n){n=Mw(n,t);for(var o=0,i=n.length;t!=null&&o<i;)t=t[sd(n[o++])];return o&&o==i?t:void 0}function V7(t,n,o){var i=t==null?void 0:Rw(t,n);return i===void 0?o:i}function z7(t,n){return t!=null&&n in Object(t)}function $7(t,n,o){n=Mw(n,t);for(var i=-1,p=n.length,m=!1;++i<p;){var w=sd(n[i]);if(!(m=t!=null&&o(t,w)))break;t=t[w]}return m||++i!=p?m:(p=t==null?0:t.length,!!p&&_y(p)&&wy(w,p)&&(Sn(t)||hf(t)))}function W7(t,n){return t!=null&&$7(t,n,z7)}var H7=1,q7=2;function X7(t,n){return Ey(t)&&Pw(n)?Ow(sd(t),n):function(o){var i=V7(o,t);return i===void 0&&i===n?W7(o,t):Ty(n,i,H7|q7)}}function Y7(t){return function(n){return n==null?void 0:n[t]}}function K7(t){return function(n){return Rw(n,t)}}function Z7(t){return Ey(t)?Y7(sd(t)):K7(t)}function Q7(t){return typeof t=="function"?t:t==null?rd:typeof t=="object"?Sn(t)?X7(t[0],t[1]):O7(t):Z7(t)}function J7(t,n){var o=-1,i=Sa(t)?Array(t.length):[];return jw(t,function(p,m,w){i[++o]=n(p,m,w)}),i}function as(t,n){var o=Sn(t)?kw:J7;return o(t,Q7(n))}var e9=function(n){var o=n.colors,i=n.onClick,p=n.onSwatchHover,m=Ct({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return xe.createElement("div",{style:m.swatches},as(o,function(w){return xe.createElement(ss,{key:w,color:w,style:m.swatch,onClick:i,onHover:p,focusStyle:{boxShadow:"0 0 4px "+w}})}),xe.createElement("div",{style:m.clear}))},Cy=function(n){var o=n.onChange,i=n.onSwatchHover,p=n.hex,m=n.colors,w=n.width,r=n.triangle,E=n.styles,y=E===void 0?{}:E,h=n.className,a=h===void 0?"":h,c=p==="transparent",x=function(f,u){vi(f)&&o({hex:f,source:"hex"},u)},S=Ct(fn({default:{card:{width:w,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:p,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Sy(p),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+p+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},y),{"hide-triangle":r==="hide"});return xe.createElement("div",{style:S.card,className:"block-picker "+a},xe.createElement("div",{style:S.triangle}),xe.createElement("div",{style:S.head},c&&xe.createElement(wa,{borderRadius:"6px 6px 0 0"}),xe.createElement("div",{style:S.label},p)),xe.createElement("div",{style:S.body},xe.createElement(e9,{colors:m,onClick:x,onSwatchHover:i}),xe.createElement(Nt,{style:{input:S.input},value:p,onChange:x})))};Cy.propTypes={width:ct.oneOfType([ct.string,ct.number]),colors:ct.arrayOf(ct.string),triangle:ct.oneOf(["top","hide"]),styles:ct.object};Cy.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};dn(Cy);var bs={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},_s={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},xs={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},ws={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},js={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Ss={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Ts={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Es={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},ks={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},tl={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Cs={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Ps={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Os={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},As={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Ms={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Rs={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Ls={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Is={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},Lw=function(n){var o=n.color,i=n.onClick,p=n.onSwatchHover,m=n.hover,w=n.active,r=n.circleSize,E=n.circleSpacing,y=Ct({default:{swatch:{width:r,height:r,marginRight:E,marginBottom:E,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(r/2+1)+"px "+o,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+o}}},{hover:m,active:w});return xe.createElement("div",{style:y.swatch},xe.createElement(ss,{style:y.Swatch,color:o,onClick:i,onHover:p,focusStyle:{boxShadow:y.Swatch.boxShadow+", 0 0 5px "+o}}))};Lw.defaultProps={circleSize:28,circleSpacing:14};const t9=my(Lw);var Py=function(n){var o=n.width,i=n.onChange,p=n.onSwatchHover,m=n.colors,w=n.hex,r=n.circleSize,E=n.styles,y=E===void 0?{}:E,h=n.circleSpacing,a=n.className,c=a===void 0?"":a,x=Ct(fn({default:{card:{width:o,display:"flex",flexWrap:"wrap",marginRight:-h,marginBottom:-h}}},y)),S=function(f,u){return i({hex:f,source:"hex"},u)};return xe.createElement("div",{style:x.card,className:"circle-picker "+c},as(m,function(l){return xe.createElement(t9,{key:l,color:l,onClick:S,onSwatchHover:p,active:w===l.toLowerCase(),circleSize:r,circleSpacing:h})}))};Py.propTypes={width:ct.oneOfType([ct.string,ct.number]),circleSize:ct.number,circleSpacing:ct.number,styles:ct.object};Py.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[bs[500],_s[500],xs[500],ws[500],js[500],Ss[500],Ts[500],Es[500],ks[500],tl[500],Cs[500],Ps[500],Os[500],As[500],Ms[500],Rs[500],Ls[500],Is[500]],styles:{}};dn(Py);function s1(t){return t===void 0}var Iw={};Object.defineProperty(Iw,"__esModule",{value:!0});var a1=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},r9=Le,l1=n9(r9);function n9(t){return t&&t.__esModule?t:{default:t}}function o9(t,n){var o={};for(var i in t)n.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o}var fc=24,i9=Iw.default=function(t){var n=t.fill,o=n===void 0?"currentColor":n,i=t.width,p=i===void 0?fc:i,m=t.height,w=m===void 0?fc:m,r=t.style,E=r===void 0?{}:r,y=o9(t,["fill","width","height","style"]);return l1.default.createElement("svg",a1({viewBox:"0 0 "+fc+" "+fc,style:a1({fill:o,width:p,height:w},E)},y),l1.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},s9=function(){function t(n,o){for(var i=0;i<o.length;i++){var p=o[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}();function a9(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function l9(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function u9(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var Dw=function(t){u9(n,t);function n(o){a9(this,n);var i=l9(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.toggleViews=function(){i.state.view==="hex"?i.setState({view:"rgb"}):i.state.view==="rgb"?i.setState({view:"hsl"}):i.state.view==="hsl"&&(i.props.hsl.a===1?i.setState({view:"hex"}):i.setState({view:"rgb"}))},i.handleChange=function(p,m){p.hex?vi(p.hex)&&i.props.onChange({hex:p.hex,source:"hex"},m):p.r||p.g||p.b?i.props.onChange({r:p.r||i.props.rgb.r,g:p.g||i.props.rgb.g,b:p.b||i.props.rgb.b,source:"rgb"},m):p.a?(p.a<0?p.a=0:p.a>1&&(p.a=1),i.props.onChange({h:i.props.hsl.h,s:i.props.hsl.s,l:i.props.hsl.l,a:Math.round(p.a*100)/100,source:"rgb"},m)):(p.h||p.s||p.l)&&(typeof p.s=="string"&&p.s.includes("%")&&(p.s=p.s.replace("%","")),typeof p.l=="string"&&p.l.includes("%")&&(p.l=p.l.replace("%","")),p.s==1?p.s=.01:p.l==1&&(p.l=.01),i.props.onChange({h:p.h||i.props.hsl.h,s:Number(s1(p.s)?i.props.hsl.s:p.s),l:Number(s1(p.l)?i.props.hsl.l:p.l),source:"hsl"},m))},i.showHighlight=function(p){p.currentTarget.style.background="#eee"},i.hideHighlight=function(p){p.currentTarget.style.background="transparent"},o.hsl.a!==1&&o.view==="hex"?i.state={view:"rgb"}:i.state={view:o.view},i}return s9(n,[{key:"render",value:function(){var i=this,p=Ct({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),m=void 0;return this.state.view==="hex"?m=xe.createElement("div",{style:p.fields,className:"flexbox-fix"},xe.createElement("div",{style:p.field},xe.createElement(Nt,{style:{input:p.input,label:p.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?m=xe.createElement("div",{style:p.fields,className:"flexbox-fix"},xe.createElement("div",{style:p.field},xe.createElement(Nt,{style:{input:p.input,label:p.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),xe.createElement("div",{style:p.field},xe.createElement(Nt,{style:{input:p.input,label:p.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),xe.createElement("div",{style:p.field},xe.createElement(Nt,{style:{input:p.input,label:p.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),xe.createElement("div",{style:p.alpha},xe.createElement(Nt,{style:{input:p.input,label:p.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(m=xe.createElement("div",{style:p.fields,className:"flexbox-fix"},xe.createElement("div",{style:p.field},xe.createElement(Nt,{style:{input:p.input,label:p.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),xe.createElement("div",{style:p.field},xe.createElement(Nt,{style:{input:p.input,label:p.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),xe.createElement("div",{style:p.field},xe.createElement(Nt,{style:{input:p.input,label:p.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),xe.createElement("div",{style:p.alpha},xe.createElement(Nt,{style:{input:p.input,label:p.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),xe.createElement("div",{style:p.wrap,className:"flexbox-fix"},m,xe.createElement("div",{style:p.toggle},xe.createElement("div",{style:p.icon,onClick:this.toggleViews,ref:function(r){return i.icon=r}},xe.createElement(i9,{style:p.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(i,p){return i.hsl.a!==1&&p.view==="hex"?{view:"rgb"}:null}}]),n}(xe.Component);Dw.defaultProps={view:"hex"};var u1=function(){var n=Ct({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return xe.createElement("div",{style:n.picker})},c9=function(){var n=Ct({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return xe.createElement("div",{style:n.picker})},Oy=function(n){var o=n.width,i=n.onChange,p=n.disableAlpha,m=n.rgb,w=n.hsl,r=n.hsv,E=n.hex,y=n.renderers,h=n.styles,a=h===void 0?{}:h,c=n.className,x=c===void 0?"":c,S=n.defaultView,l=Ct(fn({default:{picker:{width:o,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+m.r+", "+m.g+", "+m.b+", "+m.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},a),{disableAlpha:p});return xe.createElement("div",{style:l.picker,className:"chrome-picker "+x},xe.createElement("div",{style:l.saturation},xe.createElement(od,{style:l.Saturation,hsl:w,hsv:r,pointer:c9,onChange:i})),xe.createElement("div",{style:l.body},xe.createElement("div",{style:l.controls,className:"flexbox-fix"},xe.createElement("div",{style:l.color},xe.createElement("div",{style:l.swatch},xe.createElement("div",{style:l.active}),xe.createElement(wa,{renderers:y}))),xe.createElement("div",{style:l.toggles},xe.createElement("div",{style:l.hue},xe.createElement(ja,{style:l.Hue,hsl:w,pointer:u1,onChange:i})),xe.createElement("div",{style:l.alpha},xe.createElement(yy,{style:l.Alpha,rgb:m,hsl:w,pointer:u1,renderers:y,onChange:i})))),xe.createElement(Dw,{rgb:m,hsl:w,hex:E,view:S,onChange:i,disableAlpha:p})))};Oy.propTypes={width:ct.oneOfType([ct.string,ct.number]),disableAlpha:ct.bool,styles:ct.object,defaultView:ct.oneOf(["hex","rgb","hsl"])};Oy.defaultProps={width:225,disableAlpha:!1,styles:{}};const f9=dn(Oy);var d9=function(n){var o=n.color,i=n.onClick,p=i===void 0?function(){}:i,m=n.onSwatchHover,w=n.active,r=Ct({default:{color:{background:o,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Sy(o),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:w,"color-#FFFFFF":o==="#FFFFFF",transparent:o==="transparent"});return xe.createElement(ss,{style:r.color,color:o,onClick:p,onHover:m,focusStyle:{boxShadow:"0 0 4px "+o}},xe.createElement("div",{style:r.dot}))},h9=function(n){var o=n.hex,i=n.rgb,p=n.onChange,m=Ct({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:o},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),w=function(E,y){E.r||E.g||E.b?p({r:E.r||i.r,g:E.g||i.g,b:E.b||i.b,source:"rgb"},y):p({hex:E.hex,source:"hex"},y)};return xe.createElement("div",{style:m.fields,className:"flexbox-fix"},xe.createElement("div",{style:m.active}),xe.createElement(Nt,{style:{wrap:m.HEXwrap,input:m.HEXinput,label:m.HEXlabel},label:"hex",value:o,onChange:w}),xe.createElement(Nt,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"r",value:i.r,onChange:w}),xe.createElement(Nt,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"g",value:i.g,onChange:w}),xe.createElement(Nt,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"b",value:i.b,onChange:w}))},Ay=function(n){var o=n.onChange,i=n.onSwatchHover,p=n.colors,m=n.hex,w=n.rgb,r=n.styles,E=r===void 0?{}:r,y=n.className,h=y===void 0?"":y,a=Ct(fn({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},E)),c=function(S,l){S.hex?vi(S.hex)&&o({hex:S.hex,source:"hex"},l):o(S,l)};return xe.createElement(uu,{style:a.Compact,styles:E},xe.createElement("div",{style:a.compact,className:"compact-picker "+h},xe.createElement("div",null,as(p,function(x){return xe.createElement(d9,{key:x,color:x,active:x.toLowerCase()===m,onClick:c,onSwatchHover:i})}),xe.createElement("div",{style:a.clear})),xe.createElement(h9,{hex:m,rgb:w,onChange:c})))};Ay.propTypes={colors:ct.arrayOf(ct.string),styles:ct.object};Ay.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};dn(Ay);var p9=function(n){var o=n.hover,i=n.color,p=n.onClick,m=n.onSwatchHover,w={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},r=Ct({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:w}},{hover:o});return xe.createElement("div",{style:r.swatch},xe.createElement(ss,{color:i,onClick:p,onHover:m,focusStyle:w}))};const m9=my(p9);var My=function(n){var o=n.width,i=n.colors,p=n.onChange,m=n.onSwatchHover,w=n.triangle,r=n.styles,E=r===void 0?{}:r,y=n.className,h=y===void 0?"":y,a=Ct(fn({default:{card:{width:o,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},E),{"hide-triangle":w==="hide","top-left-triangle":w==="top-left","top-right-triangle":w==="top-right","bottom-left-triangle":w==="bottom-left","bottom-right-triangle":w==="bottom-right"}),c=function(S,l){return p({hex:S,source:"hex"},l)};return xe.createElement("div",{style:a.card,className:"github-picker "+h},xe.createElement("div",{style:a.triangleShadow}),xe.createElement("div",{style:a.triangle}),as(i,function(x){return xe.createElement(m9,{color:x,key:x,onClick:c,onSwatchHover:m})}))};My.propTypes={width:ct.oneOfType([ct.string,ct.number]),colors:ct.arrayOf(ct.string),triangle:ct.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:ct.object};My.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};dn(My);var y9=function(n){var o=n.direction,i=Ct({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:o==="vertical"});return xe.createElement("div",{style:i.picker})},g9=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},Ry=function(n){var o=n.width,i=n.height,p=n.onChange,m=n.hsl,w=n.direction,r=n.pointer,E=n.styles,y=E===void 0?{}:E,h=n.className,a=h===void 0?"":h,c=Ct(fn({default:{picker:{position:"relative",width:o,height:i},hue:{radius:"2px"}}},y)),x=function(l){return p({a:1,h:l.h,l:.5,s:1})};return xe.createElement("div",{style:c.picker,className:"hue-picker "+a},xe.createElement(ja,g9({},c.hue,{hsl:m,pointer:r,onChange:x,direction:w})))};Ry.propTypes={styles:ct.object};Ry.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:y9,styles:{}};dn(Ry);var v9=function(n){var o=n.onChange,i=n.hex,p=n.rgb,m=n.styles,w=m===void 0?{}:m,r=n.className,E=r===void 0?"":r,y=Ct(fn({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+i,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},w)),h=function(c,x){c.hex?vi(c.hex)&&o({hex:c.hex,source:"hex"},x):(c.r||c.g||c.b)&&o({r:c.r||p.r,g:c.g||p.g,b:c.b||p.b,source:"rgb"},x)};return xe.createElement(uu,{styles:w},xe.createElement("div",{style:y.material,className:"material-picker "+E},xe.createElement(Nt,{style:{wrap:y.HEXwrap,input:y.HEXinput,label:y.HEXlabel},label:"hex",value:i,onChange:h}),xe.createElement("div",{style:y.split,className:"flexbox-fix"},xe.createElement("div",{style:y.third},xe.createElement(Nt,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"r",value:p.r,onChange:h})),xe.createElement("div",{style:y.third},xe.createElement(Nt,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"g",value:p.g,onChange:h})),xe.createElement("div",{style:y.third},xe.createElement(Nt,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"b",value:p.b,onChange:h})))))};dn(v9);var b9=function(n){var o=n.onChange,i=n.rgb,p=n.hsv,m=n.hex,w=Ct({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),r=function(y,h){y["#"]?vi(y["#"])&&o({hex:y["#"],source:"hex"},h):y.r||y.g||y.b?o({r:y.r||i.r,g:y.g||i.g,b:y.b||i.b,source:"rgb"},h):(y.h||y.s||y.v)&&o({h:y.h||p.h,s:y.s||p.s,v:y.v||p.v,source:"hsv"},h)};return xe.createElement("div",{style:w.fields},xe.createElement(Nt,{style:{wrap:w.RGBwrap,input:w.RGBinput,label:w.RGBlabel},label:"h",value:Math.round(p.h),onChange:r}),xe.createElement(Nt,{style:{wrap:w.RGBwrap,input:w.RGBinput,label:w.RGBlabel},label:"s",value:Math.round(p.s*100),onChange:r}),xe.createElement(Nt,{style:{wrap:w.RGBwrap,input:w.RGBinput,label:w.RGBlabel},label:"v",value:Math.round(p.v*100),onChange:r}),xe.createElement("div",{style:w.divider}),xe.createElement(Nt,{style:{wrap:w.RGBwrap,input:w.RGBinput,label:w.RGBlabel},label:"r",value:i.r,onChange:r}),xe.createElement(Nt,{style:{wrap:w.RGBwrap,input:w.RGBinput,label:w.RGBlabel},label:"g",value:i.g,onChange:r}),xe.createElement(Nt,{style:{wrap:w.RGBwrap,input:w.RGBinput,label:w.RGBlabel},label:"b",value:i.b,onChange:r}),xe.createElement("div",{style:w.divider}),xe.createElement(Nt,{style:{wrap:w.HEXwrap,input:w.HEXinput,label:w.HEXlabel},label:"#",value:m.replace("#",""),onChange:r}),xe.createElement("div",{style:w.fieldSymbols},xe.createElement("div",{style:w.symbol},""),xe.createElement("div",{style:w.symbol},"%"),xe.createElement("div",{style:w.symbol},"%")))},_9=function(n){var o=n.hsl,i=Ct({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":o.l>.5});return xe.createElement("div",{style:i.picker})},x9=function(){var n=Ct({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return xe.createElement("div",{style:n.pointer},xe.createElement("div",{style:n.left},xe.createElement("div",{style:n.leftInside})),xe.createElement("div",{style:n.right},xe.createElement("div",{style:n.rightInside})))},c1=function(n){var o=n.onClick,i=n.label,p=n.children,m=n.active,w=Ct({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:m});return xe.createElement("div",{style:w.button,onClick:o},i||p)},w9=function(n){var o=n.rgb,i=n.currentColor,p=Ct({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+o.r+","+o.g+", "+o.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:i,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return xe.createElement("div",null,xe.createElement("div",{style:p.label},"new"),xe.createElement("div",{style:p.swatches},xe.createElement("div",{style:p.new}),xe.createElement("div",{style:p.current})),xe.createElement("div",{style:p.label},"current"))},j9=function(){function t(n,o){for(var i=0;i<o.length;i++){var p=o[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}return function(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}}();function S9(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function T9(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function E9(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var Ly=function(t){E9(n,t);function n(o){S9(this,n);var i=T9(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.state={currentColor:o.hex},i}return j9(n,[{key:"render",value:function(){var i=this.props,p=i.styles,m=p===void 0?{}:p,w=i.className,r=w===void 0?"":w,E=Ct(fn({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},m));return xe.createElement("div",{style:E.picker,className:"photoshop-picker "+r},xe.createElement("div",{style:E.head},this.props.header),xe.createElement("div",{style:E.body,className:"flexbox-fix"},xe.createElement("div",{style:E.saturation},xe.createElement(od,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:_9,onChange:this.props.onChange})),xe.createElement("div",{style:E.hue},xe.createElement(ja,{direction:"vertical",hsl:this.props.hsl,pointer:x9,onChange:this.props.onChange})),xe.createElement("div",{style:E.controls},xe.createElement("div",{style:E.top,className:"flexbox-fix"},xe.createElement("div",{style:E.previews},xe.createElement(w9,{rgb:this.props.rgb,currentColor:this.state.currentColor})),xe.createElement("div",{style:E.actions},xe.createElement(c1,{label:"OK",onClick:this.props.onAccept,active:!0}),xe.createElement(c1,{label:"Cancel",onClick:this.props.onCancel}),xe.createElement(b9,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),n}(xe.Component);Ly.propTypes={header:ct.string,styles:ct.object};Ly.defaultProps={header:"Color Picker",styles:{}};dn(Ly);var k9=function(n){var o=n.onChange,i=n.rgb,p=n.hsl,m=n.hex,w=n.disableAlpha,r=Ct({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:w}),E=function(h,a){h.hex?vi(h.hex)&&o({hex:h.hex,source:"hex"},a):h.r||h.g||h.b?o({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,a:i.a,source:"rgb"},a):h.a&&(h.a<0?h.a=0:h.a>100&&(h.a=100),h.a/=100,o({h:p.h,s:p.s,l:p.l,a:h.a,source:"rgb"},a))};return xe.createElement("div",{style:r.fields,className:"flexbox-fix"},xe.createElement("div",{style:r.double},xe.createElement(Nt,{style:{input:r.input,label:r.label},label:"hex",value:m.replace("#",""),onChange:E})),xe.createElement("div",{style:r.single},xe.createElement(Nt,{style:{input:r.input,label:r.label},label:"r",value:i.r,onChange:E,dragLabel:"true",dragMax:"255"})),xe.createElement("div",{style:r.single},xe.createElement(Nt,{style:{input:r.input,label:r.label},label:"g",value:i.g,onChange:E,dragLabel:"true",dragMax:"255"})),xe.createElement("div",{style:r.single},xe.createElement(Nt,{style:{input:r.input,label:r.label},label:"b",value:i.b,onChange:E,dragLabel:"true",dragMax:"255"})),xe.createElement("div",{style:r.alpha},xe.createElement(Nt,{style:{input:r.input,label:r.label},label:"a",value:Math.round(i.a*100),onChange:E,dragLabel:"true",dragMax:"100"})))},C9=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},Fw=function(n){var o=n.colors,i=n.onClick,p=i===void 0?function(){}:i,m=n.onSwatchHover,w=Ct({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!o||!o.length}),r=function(y,h){p({hex:y,source:"hex"},h)};return xe.createElement("div",{style:w.colors,className:"flexbox-fix"},o.map(function(E){var y=typeof E=="string"?{color:E}:E,h=""+y.color+(y.title||"");return xe.createElement("div",{key:h,style:w.swatchWrap},xe.createElement(ss,C9({},y,{style:w.swatch,onClick:r,onHover:m,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+y.color}})))}))};Fw.propTypes={colors:ct.arrayOf(ct.oneOfType([ct.string,ct.shape({color:ct.string,title:ct.string})])).isRequired};var P9=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},Iy=function(n){var o=n.width,i=n.rgb,p=n.hex,m=n.hsv,w=n.hsl,r=n.onChange,E=n.onSwatchHover,y=n.disableAlpha,h=n.presetColors,a=n.renderers,c=n.styles,x=c===void 0?{}:c,S=n.className,l=S===void 0?"":S,f=Ct(fn({default:P9({picker:{width:o,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+i.r+","+i.g+","+i.b+","+i.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},x),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},x),{disableAlpha:y});return xe.createElement("div",{style:f.picker,className:"sketch-picker "+l},xe.createElement("div",{style:f.saturation},xe.createElement(od,{style:f.Saturation,hsl:w,hsv:m,onChange:r})),xe.createElement("div",{style:f.controls,className:"flexbox-fix"},xe.createElement("div",{style:f.sliders},xe.createElement("div",{style:f.hue},xe.createElement(ja,{style:f.Hue,hsl:w,onChange:r})),xe.createElement("div",{style:f.alpha},xe.createElement(yy,{style:f.Alpha,rgb:i,hsl:w,renderers:a,onChange:r}))),xe.createElement("div",{style:f.color},xe.createElement(wa,null),xe.createElement("div",{style:f.activeColor}))),xe.createElement(k9,{rgb:i,hsl:w,hex:p,onChange:r,disableAlpha:y}),xe.createElement(Fw,{colors:h,onClick:r,onSwatchHover:E}))};Iy.propTypes={disableAlpha:ct.bool,width:ct.oneOfType([ct.string,ct.number]),styles:ct.object};Iy.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};dn(Iy);var Ha=function(n){var o=n.hsl,i=n.offset,p=n.onClick,m=p===void 0?function(){}:p,w=n.active,r=n.first,E=n.last,y=Ct({default:{swatch:{height:"12px",background:"hsl("+o.h+", 50%, "+i*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:w,first:r,last:E}),h=function(c){return m({h:o.h,s:.5,l:i,source:"hsl"},c)};return xe.createElement("div",{style:y.swatch,onClick:h})},O9=function(n){var o=n.onClick,i=n.hsl,p=Ct({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),m=.1;return xe.createElement("div",{style:p.swatches},xe.createElement("div",{style:p.swatch},xe.createElement(Ha,{hsl:i,offset:".80",active:Math.abs(i.l-.8)<m&&Math.abs(i.s-.5)<m,onClick:o,first:!0})),xe.createElement("div",{style:p.swatch},xe.createElement(Ha,{hsl:i,offset:".65",active:Math.abs(i.l-.65)<m&&Math.abs(i.s-.5)<m,onClick:o})),xe.createElement("div",{style:p.swatch},xe.createElement(Ha,{hsl:i,offset:".50",active:Math.abs(i.l-.5)<m&&Math.abs(i.s-.5)<m,onClick:o})),xe.createElement("div",{style:p.swatch},xe.createElement(Ha,{hsl:i,offset:".35",active:Math.abs(i.l-.35)<m&&Math.abs(i.s-.5)<m,onClick:o})),xe.createElement("div",{style:p.swatch},xe.createElement(Ha,{hsl:i,offset:".20",active:Math.abs(i.l-.2)<m&&Math.abs(i.s-.5)<m,onClick:o,last:!0})),xe.createElement("div",{style:p.clear}))},A9=function(){var n=Ct({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return xe.createElement("div",{style:n.picker})},Dy=function(n){var o=n.hsl,i=n.onChange,p=n.pointer,m=n.styles,w=m===void 0?{}:m,r=n.className,E=r===void 0?"":r,y=Ct(fn({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},w));return xe.createElement("div",{style:y.wrap||{},className:"slider-picker "+E},xe.createElement("div",{style:y.hue},xe.createElement(ja,{style:y.Hue,hsl:o,pointer:p,onChange:i})),xe.createElement("div",{style:y.swatches},xe.createElement(O9,{hsl:o,onClick:i})))};Dy.propTypes={styles:ct.object};Dy.defaultProps={pointer:A9,styles:{}};dn(Dy);var Nw={};Object.defineProperty(Nw,"__esModule",{value:!0});var f1=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},M9=Le,d1=R9(M9);function R9(t){return t&&t.__esModule?t:{default:t}}function L9(t,n){var o={};for(var i in t)n.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o}var dc=24,I9=Nw.default=function(t){var n=t.fill,o=n===void 0?"currentColor":n,i=t.width,p=i===void 0?dc:i,m=t.height,w=m===void 0?dc:m,r=t.style,E=r===void 0?{}:r,y=L9(t,["fill","width","height","style"]);return d1.default.createElement("svg",f1({viewBox:"0 0 "+dc+" "+dc,style:f1({fill:o,width:p,height:w},E)},y),d1.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},D9=function(n){var o=n.color,i=n.onClick,p=i===void 0?function(){}:i,m=n.onSwatchHover,w=n.first,r=n.last,E=n.active,y=Ct({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:o,marginBottom:"1px"},check:{color:Sy(o),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:w,last:r,active:E,"color-#FFFFFF":o==="#FFFFFF",transparent:o==="transparent"});return xe.createElement(ss,{color:o,style:y.color,onClick:p,onHover:m,focusStyle:{boxShadow:"0 0 4px "+o}},xe.createElement("div",{style:y.check},xe.createElement(I9,null)))},F9=function(n){var o=n.onClick,i=n.onSwatchHover,p=n.group,m=n.active,w=Ct({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return xe.createElement("div",{style:w.group},as(p,function(r,E){return xe.createElement(D9,{key:r,color:r,active:r.toLowerCase()===m,first:E===0,last:E===p.length-1,onClick:o,onSwatchHover:i})}))},Fy=function(n){var o=n.width,i=n.height,p=n.onChange,m=n.onSwatchHover,w=n.colors,r=n.hex,E=n.styles,y=E===void 0?{}:E,h=n.className,a=h===void 0?"":h,c=Ct(fn({default:{picker:{width:o,height:i},overflow:{height:i,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},y)),x=function(l,f){return p({hex:l,source:"hex"},f)};return xe.createElement("div",{style:c.picker,className:"swatches-picker "+a},xe.createElement(uu,null,xe.createElement("div",{style:c.overflow},xe.createElement("div",{style:c.body},as(w,function(S){return xe.createElement(F9,{key:S.toString(),group:S,active:r,onClick:x,onSwatchHover:m})}),xe.createElement("div",{style:c.clear})))))};Fy.propTypes={width:ct.oneOfType([ct.string,ct.number]),height:ct.oneOfType([ct.string,ct.number]),colors:ct.arrayOf(ct.arrayOf(ct.string)),styles:ct.object};Fy.defaultProps={width:320,height:240,colors:[[bs[900],bs[700],bs[500],bs[300],bs[100]],[_s[900],_s[700],_s[500],_s[300],_s[100]],[xs[900],xs[700],xs[500],xs[300],xs[100]],[ws[900],ws[700],ws[500],ws[300],ws[100]],[js[900],js[700],js[500],js[300],js[100]],[Ss[900],Ss[700],Ss[500],Ss[300],Ss[100]],[Ts[900],Ts[700],Ts[500],Ts[300],Ts[100]],[Es[900],Es[700],Es[500],Es[300],Es[100]],[ks[900],ks[700],ks[500],ks[300],ks[100]],["#194D33",tl[700],tl[500],tl[300],tl[100]],[Cs[900],Cs[700],Cs[500],Cs[300],Cs[100]],[Ps[900],Ps[700],Ps[500],Ps[300],Ps[100]],[Os[900],Os[700],Os[500],Os[300],Os[100]],[As[900],As[700],As[500],As[300],As[100]],[Ms[900],Ms[700],Ms[500],Ms[300],Ms[100]],[Rs[900],Rs[700],Rs[500],Rs[300],Rs[100]],[Ls[900],Ls[700],Ls[500],Ls[300],Ls[100]],[Is[900],Is[700],Is[500],Is[300],Is[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};dn(Fy);var Ny=function(n){var o=n.onChange,i=n.onSwatchHover,p=n.hex,m=n.colors,w=n.width,r=n.triangle,E=n.styles,y=E===void 0?{}:E,h=n.className,a=h===void 0?"":h,c=Ct(fn({default:{card:{width:w,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},y),{"hide-triangle":r==="hide","top-left-triangle":r==="top-left","top-right-triangle":r==="top-right"}),x=function(l,f){vi(l)&&o({hex:l,source:"hex"},f)};return xe.createElement("div",{style:c.card,className:"twitter-picker "+a},xe.createElement("div",{style:c.triangleShadow}),xe.createElement("div",{style:c.triangle}),xe.createElement("div",{style:c.body},as(m,function(S,l){return xe.createElement(ss,{key:l,color:S,hex:S,style:c.swatch,onClick:x,onHover:i,focusStyle:{boxShadow:"0 0 4px "+S}})}),xe.createElement("div",{style:c.hash},"#"),xe.createElement(Nt,{label:null,style:{input:c.input},value:p.replace("#",""),onChange:x}),xe.createElement("div",{style:c.clear})))};Ny.propTypes={width:ct.oneOfType([ct.string,ct.number]),triangle:ct.oneOf(["hide","top-left","top-right"]),colors:ct.arrayOf(ct.string),styles:ct.object};Ny.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};dn(Ny);var By=function(n){var o=Ct({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(n.hsl.h)+", "+Math.round(n.hsl.s*100)+"%, "+Math.round(n.hsl.l*100)+"%)"}}});return xe.createElement("div",{style:o.picker})};By.propTypes={hsl:ct.shape({h:ct.number,s:ct.number,l:ct.number,a:ct.number})};By.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Uy=function(n){var o=Ct({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(n.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return xe.createElement("div",{style:o.picker})};Uy.propTypes={hsl:ct.shape({h:ct.number,s:ct.number,l:ct.number,a:ct.number})};Uy.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var N9=function(n){var o=n.onChange,i=n.rgb,p=n.hsl,m=n.hex,w=n.hsv,r=function(x,S){if(x.hex)vi(x.hex)&&o({hex:x.hex,source:"hex"},S);else if(x.rgb){var l=x.rgb.split(",");bh(x.rgb,"rgb")&&o({r:l[0],g:l[1],b:l[2],a:1,source:"rgb"},S)}else if(x.hsv){var f=x.hsv.split(",");bh(x.hsv,"hsv")&&(f[2]=f[2].replace("%",""),f[1]=f[1].replace("%",""),f[0]=f[0].replace("",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),o({h:Number(f[0]),s:Number(f[1]),v:Number(f[2]),source:"hsv"},S))}else if(x.hsl){var u=x.hsl.split(",");bh(x.hsl,"hsl")&&(u[2]=u[2].replace("%",""),u[1]=u[1].replace("%",""),u[0]=u[0].replace("",""),a[1]==1?a[1]=.01:a[2]==1&&(a[2]=.01),o({h:Number(u[0]),s:Number(u[1]),v:Number(u[2]),source:"hsl"},S))}},E=Ct({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),y=i.r+", "+i.g+", "+i.b,h=Math.round(p.h)+", "+Math.round(p.s*100)+"%, "+Math.round(p.l*100)+"%",a=Math.round(w.h)+", "+Math.round(w.s*100)+"%, "+Math.round(w.v*100)+"%";return xe.createElement("div",{style:E.wrap,className:"flexbox-fix"},xe.createElement("div",{style:E.fields},xe.createElement("div",{style:E.double},xe.createElement(Nt,{style:{input:E.input,label:E.label},label:"hex",value:m,onChange:r})),xe.createElement("div",{style:E.column},xe.createElement("div",{style:E.single},xe.createElement(Nt,{style:{input:E.input2,label:E.label2},label:"rgb",value:y,onChange:r})),xe.createElement("div",{style:E.single},xe.createElement(Nt,{style:{input:E.input2,label:E.label2},label:"hsv",value:a,onChange:r})),xe.createElement("div",{style:E.single},xe.createElement(Nt,{style:{input:E.input2,label:E.label2},label:"hsl",value:h,onChange:r})))))},Gy=function(n){var o=n.width,i=n.onChange,p=n.rgb,m=n.hsl,w=n.hsv,r=n.hex,E=n.header,y=n.styles,h=y===void 0?{}:y,a=n.className,c=a===void 0?"":a,x=Ct(fn({default:{picker:{width:o,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+p.r+", "+p.g+", "+p.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},h));return xe.createElement("div",{style:x.picker,className:"google-picker "+c},xe.createElement("div",{style:x.head},E),xe.createElement("div",{style:x.swatch}),xe.createElement("div",{style:x.saturation},xe.createElement(od,{hsl:m,hsv:w,pointer:By,onChange:i})),xe.createElement("div",{style:x.body},xe.createElement("div",{style:x.controls,className:"flexbox-fix"},xe.createElement("div",{style:x.hue},xe.createElement(ja,{style:x.Hue,hsl:m,radius:"4px",pointer:Uy,onChange:i}))),xe.createElement(N9,{rgb:p,hsl:m,hex:r,hsv:w,onChange:i})))};Gy.propTypes={width:ct.oneOfType([ct.string,ct.number]),styles:ct.object,header:ct.string};Gy.defaultProps={width:652,styles:{},header:"Color picker"};dn(Gy);const B9=()=>{const[t,n]=Le.useState({r:145,g:160,b:220}),[o,i]=Le.useState(!1),[p,m]=Le.useState(null),[w,r]=Le.useState(!1),[E,y]=Le.useState(!0),h=Le.useRef(null),a=[],c=g=>{n(g.rgb)},x=()=>{i(g=>!g)},S=()=>{i(!1)},l=g=>{if(g.key==="u"||g.key==="U"){y(!1);const _=document.createElement("input");_.type="file",_.accept="image/*",_.onchange=v=>{const j=v.target.files[0],T=new FileReader;T.onload=C=>{m(C.target.result),r(!0)},T.readAsDataURL(j)},_.click()}},f=g=>{if(w&&p&&h.current&&h.current.user){const _=g.mouseX,v=g.mouseY,j=100;g.image(h.current.user,_-j/2,v-j/2,j,j),a.push({x:_,y:v,radius:0,growing:!0})}},u=()=>{a.forEach(g=>{g.growing=!1})},s=(g,_)=>{let v=Math.min(window.innerWidth*.8,1024),j=v*(1.9/3);window.innerWidth<780&&(v=window.innerWidth*.65,j=window.innerHeight*.9);const T=g.createCanvas(v,j);T.parent(_),T.style("display","block"),T.style("margin","auto"),T.style("user-select","none"),T.style("touch-action","none"),T.style("border","2px solid black"),T.style("border-radius","10px"),g.textFont("Array"),p?g.background(255,5,50):g.background(255,55,50),g.frameRate(60)},d=g=>{if(p||g.background(255),E&&g.frameCount%60<30)if(g.textAlign(g.CENTER),g.textSize(30),g.textFont("Array"),g.fill(0),g.frameCount<230)g.frameCount%60<15&&g.text("DONT BE SHY!!",g.width/2,g.height/2-50);else{const _="PRESS U TO UPLOAD YOUR PHOTOS",v="CLICK INSIDE THE CANVAS TO DRAW YOUR IMAGE WITH THE CHOSEN COLOR";g.text(_,g.width/2,g.height/2-50),g.text(v,g.width/2,g.height/2+-20)}p&&!h.current&&(h.current={user:g.loadImage(p,()=>{console.log("User image loaded successfully.")})});for(let _=a.length-1;_>=0;_--)g.noFill(),g.stroke(t.r,t.g,t.b),g.ellipse(a[_].x,a[_].y,a[_].radius,a[_].radius),a[_].growing&&(a[_].radius-=5),a[_].radius>=340&&a.splice(_,1)};return Oe.jsx("div",{className:"sketch-container",children:Oe.jsxs("div",{className:"image-circle-container",children:[Oe.jsxs("div",{className:"color-button-container",children:[Oe.jsx("button",{className:"color-buttons",onClick:x,children:"PICK COLOR"}),o&&Oe.jsx("div",{className:"picker",children:Oe.jsx(f9,{color:t,onChange:c,onClose:S})})]}),Oe.jsx("div",{children:Oe.jsx(gi,{className:"fluid",setup:s,draw:d,keyPressed:l,mousePressed:f,mouseReleased:u})})]})})},U9=()=>Oe.jsxs(WT,{children:[Oe.jsx(nn,{path:"/",element:Oe.jsx(EE,{})}),Oe.jsx(nn,{path:"/magazine",element:Oe.jsx(dC,{})}),Oe.jsx(nn,{path:"/interactives-list",element:Oe.jsx(LE,{})}),Oe.jsx(nn,{path:"/draw-shape",element:Oe.jsx(yC,{})}),Oe.jsx(nn,{path:"/print-images",element:Oe.jsx(wE,{})}),Oe.jsx(nn,{path:"/particle-component",element:Oe.jsx(SE,{})}),Oe.jsx(nn,{path:"/fluid-component",element:Oe.jsx(TE,{})}),Oe.jsx(nn,{path:"/fan-sketch",element:Oe.jsx(gC,{})}),Oe.jsx(nn,{path:"/image-particle",element:Oe.jsx(vC,{})}),Oe.jsx(nn,{path:"/audio-visualizer",element:Oe.jsx(xC,{})}),Oe.jsx(nn,{path:"/login",element:Oe.jsx(pC,{})}),Oe.jsx(nn,{path:"/profile",element:Oe.jsx(mC,{})}),Oe.jsx(nn,{path:"/image-circle",element:Oe.jsx(B9,{})})]});function G9(){const[t,n]=Le.useState(!1);return Le.useEffect(()=>{localStorage.getItem("token")&&(n(!0),console.log("isLoggedIn set to true"))},[]),Oe.jsx(oE,{children:Oe.jsx(QT,{basename:"/bati-portfolio",children:Oe.jsxs("div",{children:[Oe.jsx(iE,{isLoggedIn:t}),Oe.jsx("div",{className:"content",children:Oe.jsx(U9,{isLoggedIn:t})})]})})})}xh.createRoot(document.getElementById("root")).render(Oe.jsx(xe.StrictMode,{children:Oe.jsx(G9,{})}))});export default V9();
